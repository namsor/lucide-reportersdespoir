webpackJsonp([5],{100:function(e,t){var r=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=r)},101:function(e,t,r){var n=r(240);var a=r(106);e.exports=function(e){return n(a(e))}},105:function(e,t){var r=Math.ceil;var n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},106:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},107:function(e,t,r){var n=r(86);e.exports=function(e,t,r){n(e);if(void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,a){return e.call(t,r,n,a)}}return function(){return e.apply(t,arguments)}}},108:function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},109:function(e,t,r){var n=r(81);var a=r(76);var i=r(241)("IE_PROTO");var o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){e=a(e);if(n(e,i))return e[i];if("function"==typeof e.constructor&&e instanceof e.constructor)return e.constructor.prototype;return e instanceof Object?o:null}},1105:function(e,t,r){t.f=r(53)},1106:function(e,t,r){var n=r(101);var a=r(247).f;var i={}.toString;var o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var s=function(e){try{return a(e)}catch(e){return o.slice()}};e.exports.f=function e(t){return o&&"[object Window]"==i.call(t)?s(t):a(n(t))}},1107:function(e,t,r){"use strict";var n=r(159);var a=r(416);var i=r(362);var o=r(76);var s=r(240);var c=Object.assign;e.exports=!c||r(51)(function(){var e={};var t={};var r=Symbol();var n="abcdefghijklmnopqrst";e[r]=7;n.split("").forEach(function(e){t[e]=e});return 7!=c({},e)[r]||Object.keys(c({},t)).join("")!=n})?function e(t,r){var c=o(t);var l=arguments.length;var u=1;var p=a.f;var f=i.f;while(l>u){var d=s(arguments[u++]);var v=p?n(d).concat(p(d)):n(d);var h=v.length;var m=0;var b;while(h>m)f.call(d,b=v[m++])&&(c[b]=d[b])}return c}:c},1108:function(e,t,r){"use strict";var n=r(86);var a=r(52);var i=r(1109);var o=[].slice;var s={};var c=function(e,t,r){if(!(t in s)){for(var n=[],a=0;a<t;a++)n[a]="a["+a+"]";s[t]=Function("F,a","return new F("+n.join(",")+")")}return s[t](e,r)};e.exports=Function.bind||function e(t){var r=n(this);var s=o.call(arguments,1);var l=function(){var e=s.concat(o.call(arguments));return this instanceof l?c(r,e.length,e):i(r,e,t)};a(r.prototype)&&(l.prototype=r.prototype);return l}},1109:function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},1113:function(e,t,r){var n=r(52);var a=Math.floor;e.exports=function e(t){return!n(t)&&isFinite(t)&&a(t)===t}},1114:function(e,t){e.exports=Math.log1p||function e(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},1115:function(e,t,r){var n=r(762);var a=Math.pow;var i=a(2,-52);var o=a(2,-23);var s=a(2,127)*(2-o);var c=a(2,-126);var l=function(e){return e+1/i-1/i};e.exports=Math.fround||function e(t){var r=Math.abs(t);var a=n(t);var u,p;if(r<c)return a*l(r/c/o)*c*o;u=(1+o/i)*r;p=u-(u-r);if(p>s||p!=p)return Infinity*a;return a*p}},1117:function(e,t,r){"use strict";var n=r(76);var a=r(160);var i=r(67);e.exports=[].copyWithin||function e(t,r){var o=n(this);var s=i(o.length);var c=a(t,s);var l=a(r,s);var u=arguments.length>2?arguments[2]:void 0;var p=Math.min((void 0===u?s:a(u,s))-l,s-c);var f=1;if(l<c&&c<l+p){f=-1;l+=p-1;c+=p-1}while(p-- >0){l in o?o[c]=o[l]:delete o[c];c+=f;l+=f}return o}},1118:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},1119:function(e,t,r){r(62)&&"g"!=/./g.flags&&r(61).f(RegExp.prototype,"flags",{configurable:true,get:r(419)})},1122:function(e,t,r){"use strict";var n=r(1123);var a=r(281);var i="Map";e.exports=r(422)(i,function(e){return function t(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function e(t){var r=n.getEntry(a(this,i),t);return r&&r.v},set:function e(t,r){return n.def(a(this,i),0===t?0:t,r)}},n,true)},1123:function(e,t,r){"use strict";var n=r(61).f;var a=r(158);var i=r(251);var o=r(107);var s=r(249);var c=r(250);var l=r(348);var u=r(1118);var p=r(248);var f=r(62);var d=r(197).fastKey;var v=r(281);var h=f?"_s":"size";var m=function(e,t){var r=d(t);var n;if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,r,l){var u=e(function(e,n){s(e,u,t,"_i");e._t=t;e._i=a(null);e._f=void 0;e._l=void 0;e[h]=0;void 0!=n&&c(n,r,e[l],e)});i(u.prototype,{clear:function e(){for(var r=v(this,t),n=r._i,a=r._f;a;a=a.n){a.r=true;a.p&&(a.p=a.p.n=void 0);delete n[a.i]}r._f=r._l=void 0;r[h]=0},delete:function(e){var r=v(this,t);var n=m(r,e);if(n){var a=n.n;var i=n.p;delete r._i[n.i];n.r=true;i&&(i.n=a);a&&(a.p=i);r._f==n&&(r._f=a);r._l==n&&(r._l=i);r[h]--}return!!n},forEach:function e(r){v(this,t);var n=o(r,arguments.length>1?arguments[1]:void 0,3);var a;while(a=a?a.n:this._f){n(a.v,a.k,this);while(a&&a.r)a=a.p}},has:function e(r){return!!m(v(this,t),r)}});f&&n(u.prototype,"size",{get:function(){return v(this,t)[h]}});return u},def:function(e,t,r){var n=m(e,t);var a,i;if(n)n.v=r;else{e._l=n={i:i=d(t,true),k:t,v:r,p:a=e._l,n:void 0,r:false};e._f||(e._f=n);a&&(a.n=n);e[h]++;"F"!==i&&(e._i[i]=n)}return e},getEntry:m,setStrong:function(e,t,r){l(e,t,function(e,r){this._t=v(e,t);this._k=r;this._l=void 0},function(){var e=this;var t=e._k;var r=e._l;while(r&&r.r)r=r.p;if(!e._t||!(e._l=r=r?r.n:e._t._f)){e._t=void 0;return u(1)}if("keys"==t)return u(0,r.k);if("values"==t)return u(0,r.v);return u(0,[r.k,r.v])},r?"entries":"values",!r,true);p(t)}}},1124:function(e,t,r){"use strict";var n=r(1123);var a=r(281);var i="Set";e.exports=r(422)(i,function(e){return function t(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function e(t){return n.def(a(this,i),t=0===t?0:t,t)}},n)},1125:function(e,t,r){"use strict";var n=r(143)(0);var a=r(92);var i=r(197);var o=r(1107);var s=r(1126);var c=r(52);var l=r(51);var u=r(281);var p="WeakMap";var f=i.getWeak;var d=Object.isExtensible;var v=s.ufstore;var h={};var m;var b=function(e){return function t(){return e(this,arguments.length>0?arguments[0]:void 0)}};var _={get:function e(t){if(c(t)){var r=f(t);if(true===r)return v(u(this,p)).get(t);return r?r[this._i]:void 0}},set:function e(t,r){return s.def(u(this,p),t,r)}};var g=e.exports=r(422)(p,b,_,s,true,true);if(l(function(){return 7!=(new g).set((Object.freeze||Object)(h),7).get(h)})){m=s.getConstructor(b,p);o(m.prototype,_);i.NEED=true;n(["delete","has","get","set"],function(e){var t=g.prototype;var r=t[e];a(t,e,function(t,n){if(c(t)&&!d(t)){this._f||(this._f=new m);var a=this._f[e](t,n);return"set"==e?this:a}return r.call(this,t,n)})})}},1126:function(e,t,r){"use strict";var n=r(251);var a=r(197).getWeak;var i=r(47);var o=r(52);var s=r(249);var c=r(250);var l=r(143);var u=r(81);var p=r(281);var f=l(5);var d=l(6);var v=0;var h=function(e){return e._l||(e._l=new m)};var m=function(){this.a=[]};var b=function(e,t){return f(e.a,function(e){return e[0]===t})};m.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var r=b(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=d(this.a,function(t){return t[0]===e});~t&&this.a.splice(t,1);return!!~t}};e.exports={getConstructor:function(e,t,r,i){var l=e(function(e,n){s(e,l,t,"_i");e._t=t;e._i=v++;e._l=void 0;void 0!=n&&c(n,r,e[i],e)});n(l.prototype,{delete:function(e){if(!o(e))return false;var r=a(e);if(true===r)return h(p(this,t))["delete"](e);return r&&u(r,this._i)&&delete r[this._i]},has:function e(r){if(!o(r))return false;var n=a(r);if(true===n)return h(p(this,t)).has(r);return n&&u(n,this._i)}});return l},def:function(e,t,r){var n=a(i(t),true);true===n?h(e).set(t,r):n[e._i]=r;return e},ufstore:h}},1127:function(e,t,r){var n=r(105);var a=r(67);e.exports=function(e){if(void 0===e)return 0;var t=n(e);var r=a(t);if(t!==r)throw RangeError("Wrong length!");return r}},1128:function(e,t,r){var n=r(247);var a=r(416);var i=r(47);var o=r(48).Reflect;e.exports=o&&o.ownKeys||function e(t){var r=n.f(i(t));var o=a.f;return o?r.concat(o(t)):r}},1130:function(e,t,r){var n=r(67);var a=r(761);var i=r(106);e.exports=function(e,t,r,o){var s=String(i(e));var c=s.length;var l=void 0===r?" ":String(r);var u=n(t);if(u<=c||""==l)return s;var p=u-c;var f=a.call(l,Math.ceil(p/l.length));f.length>p&&(f=f.slice(0,p));return o?f+s:s+f}},1131:function(e,t,r){var n=r(159);var a=r(101);var i=r(362).f;e.exports=function(e){return function(t){var r=a(t);var o=n(r);var s=o.length;var c=0;var l=[];var u;while(s>c)i.call(r,u=o[c++])&&l.push(e?[u,r[u]]:r[u]);return l}}},1138:function(e,t,r){"use strict";t["a"]=a;var n=r(363);function a(e){var t=e.storage;var r=""+(void 0!==e.keyPrefix?e.keyPrefix:n["c"])+e.key;return t.removeItem(r,i)}function i(e){e&&false}},1139:function(e,t,r){"use strict";t["a"]=a;var n=r(363);function a(e){var t=e.transforms||[];var r=""+(void 0!==e.keyPrefix?e.keyPrefix:n["c"])+e.key;var a=e.storage;var o=e.debug;var s=false===e.serialize?function(e){return e}:i;return a.getItem(r).then(function(e){if(!e)return;try{var r={};var n=s(e);Object.keys(n).forEach(function(e){r[e]=t.reduceRight(function(t,r){return r.out(t,e,n)},s(n[e]))});return r}catch(e){false;throw e}})}function i(e){return JSON.parse(e)}},122:function(e,t,r){var n=r(52);e.exports=function(e,t){if(!n(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!n(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},123:function(e,t,r){var n=r(362);var a=r(135);var i=r(101);var o=r(122);var s=r(81);var c=r(406);var l=Object.getOwnPropertyDescriptor;t.f=r(62)?l:function e(t,r){t=i(t);r=o(r,true);if(c)try{return l(t,r)}catch(e){}if(s(t,r))return a(!n.f.call(t,r),t[r])}},13041:function(e,t,r){var n={"./accessibility-store.js":17957,"./all-unreads-store.js":17409,"./boot-data-store.js":16913,"./channel-sidebar-folders-store.js":17728,"./channel-sidebar-store.js":17039,"./custom-emoji-store.js":17334,"./deleted-messages-store.js":17282,"./desktop-store.ts":15861,"./dnd-store.js":17153,"./downloads-store.js":17946,"./expandables-store.js":17016,"./explore-store.js":17411,"./file-refresh-store.js":17151,"./file-update-store.js":17205,"./file-upload-store.js":17970,"./files-flexpane-store.js":17289,"./flexpane-store.js":17410,"./global-nav-store.ts":20529,"./i18n-store.js":17953,"./incremental-boot-store.js":17722,"./inline-file-previews-store.js":17679,"./message-edit-store.js":17120,"./message-pane-banner-store.js":17737,"./message-pane-store.js":16967,"./modal-store.js":16949,"./navigation-history-store.ts":15852,"./noop-store.js":18141,"./pending-open-channel-store.js":17934,"./pins-store.js":17104,"./prefs-store.js":16922,"./presence-store.js":17069,"./search-autocomplete-store.js":17730,"./search-input-box-store.js":17328,"./search-results-store.js":17121,"./search-ui-store.js":17122,"./slash-command-store.js":17976,"./socket-store.js":16979,"./thread-sub-store.js":17733,"./threads-flexpane-store.js":17971,"./toast-store.js":17049,"./typing-store.js":17403,"./users-counts-store.js":17935};function a(e){return r(i(e))}function i(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}a.keys=function e(){return Object.keys(n)};a.resolve=i;e.exports=a;a.id=13041},13042:function(e,t,r){var n={"./admin-members-store.js":19780,"./app-actions-store.js":17123,"./app-permissions-store.js":17056,"./app-profiles-store.js":17048,"./apps-store.js":17164,"./bots-store.js":16974,"./calls-store.js":17672,"./canvases-store.js":17156,"./developer-actions-store.js":17682,"./developer-apps-store.js":17683,"./emoji-store.js":17947,"./enterprise-store.js":16980,"./environment-store.js":17726,"./idp-groups-store.js":17330,"./last-network-send-store.js":17331,"./member-counts-store.js":17046,"./membership-store.js":17119,"./messages-meta-store.js":17059,"./notifications-store.ts":15354,"./reactions-store.ts":15312,"./sli-realtime-priority-store.js":17729,"./team-id-store.js":16925,"./teams-store.js":16939,"./user-groups-store.js":17290,"./window-store.js":17055};function a(e){return r(i(e))}function i(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}a.keys=function e(){return Object.keys(n)};a.resolve=i;e.exports=a;a.id=13042},135:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},136:function(e,t){var r=0;var n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},13671:function(e,t,r){"use strict";t["a"]=p;var n=r(363);var a=r(13673);var i=r(13672);var o=r(1139);var s=r(1138);var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function l(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}var u=5e3;function p(e,t){false;var r=void 0!==e.version?e.version:n["a"];var p=e.debug||false;var f=void 0===e.stateReconciler?a["a"]:e.stateReconciler;var d=e.getStoredState||o["a"];var v=void 0!==e.timeout?e.timeout:u;var h=null;var m=false;var b=true;var _=function e(t){t._persist.rehydrated&&h&&!b&&h.update(t);return t};return function(a,o){var u=a||{},p=u._persist,g=l(u,["_persist"]);var y=g;if(o.type===n["e"]){var O=false;var E=function t(r,n){false;if(!O){o.rehydrate(e.key,r,n);O=true}};v&&setTimeout(function(){!O&&E(void 0,new Error('redux-persist: persist timed out for persist key "'+e.key+'"'))},v);b=false;h||(h=Object(i["a"])(e));if(p)return a;if("function"!==typeof o.rehydrate||"function"!==typeof o.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");o.register(e.key);d(e).then(function(t){var n=e.migrate||function(e,t){return Promise.resolve(e)};n(t,r).then(function(e){E(e)},function(e){false;E(void 0,e)})},function(e){E(void 0,e)});return c({},t(y,o),{_persist:{version:r,rehydrated:false}})}if(o.type===n["f"]){m=true;o.result(Object(s["a"])(e));return c({},t(y,o),{_persist:p})}if(o.type===n["b"]){o.result(h&&h.flush());return c({},t(y,o),{_persist:p})}if(o.type===n["d"])b=true;else if(o.type===n["h"]){if(m)return c({},y,{_persist:c({},p,{rehydrated:true})});if(o.key===e.key){var j=t(y,o);var k=o.payload;var w=false!==f&&void 0!==k?f(k,a,j,e):j;var C=c({},w,{_persist:c({},p,{rehydrated:true})});return _(C)}}if(!p)return t(a,o);var S=t(y,o);if(S===y)return a;S._persist=p;return _(S)}}},13672:function(e,t,r){"use strict";t["a"]=a;var n=r(363);function a(e){var t=e.blacklist||null;var r=e.whitelist||null;var a=e.transforms||[];var o=e.throttle||0;var s=""+(void 0!==e.keyPrefix?e.keyPrefix:n["c"])+e.key;var c=e.storage;var l=false===e.serialize?function(e){return e}:i;var u={};var p={};var f=[];var d=null;var v=null;var h=function e(t){Object.keys(t).forEach(function(e){var r=t[e];if(!_(e))return;if(u[e]===t[e])return;if(-1!==f.indexOf(e))return;f.push(e)});null===d&&(d=setInterval(m,o));u=t};function m(){if(0===f.length){d&&clearInterval(d);d=null;return}var e=f.shift();var t=a.reduce(function(t,r){return r.in(t,e,u)},u[e]);"undefined"!==typeof t&&b(e,t)}function b(e,t){try{p[e]=l(t)}catch(e){console.error("redux-persist/createPersistoid: error serializing state",e)}if(0===f.length){Object.keys(p).forEach(function(e){void 0===u[e]&&delete p[e]});v=c.setItem(s,l(p)).catch(g)}}function _(e){if(r&&-1===r.indexOf(e)&&"_persist"!==e)return false;if(t&&-1!==t.indexOf(e))return false;return true}function g(e){e&&false}var y=function e(){while(0!==f.length)m();return v||Promise.resolve()};return{update:h,flush:y}}function i(e){return JSON.stringify(e)}},13673:function(e,t,r){"use strict";t["a"]=i;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function i(e,t,r,i){var o=i.debug;var s=a({},r);e&&"object"===("undefined"===typeof e?"undefined":n(e))&&Object.keys(e).forEach(function(n){if("_persist"===n)return;if(t[n]!==r[n]){false;return}s[n]=e[n]});false;return s}},13674:function(e,t,r){"use strict";t["a"]=o;var n=r(295);var a=r(13671);var i=r(13675);function o(e,t){e.stateReconciler=void 0===e.stateReconciler?i["a"]:e.stateReconciler;return Object(a["a"])(e,Object(n["combineReducers"])(t))}},13675:function(e,t,r){"use strict";t["a"]=i;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function i(e,t,r,i){var s=i.debug;var c=a({},r);e&&"object"===("undefined"===typeof e?"undefined":n(e))&&Object.keys(e).forEach(function(n){if("_persist"===n)return;if(t[n]!==r[n]){false;return}if(o(r[n])){c[n]=a({},c[n],e[n]);return}c[n]=e[n]});false;return c}function o(e){return null!==e&&!Array.isArray(e)&&"object"===("undefined"===typeof e?"undefined":n(e))}},13676:function(e,t,r){"use strict";t["a"]=a;var n=r(363);function a(e,t){var r=t||{},a=r.debug;return function(t,r){if(!t){false;return Promise.resolve(void 0)}var a=t._persist&&void 0!==t._persist.version?t._persist.version:n["a"];if(a===r){false;return Promise.resolve(t)}if(a>r){false;return Promise.resolve(t)}var i=Object.keys(e).map(function(e){return parseInt(e)}).filter(function(e){return r>=e&&e>a}).sort(function(e,t){return e-t});false;try{var o=i.reduce(function(t,r){false;return e[r](t)},t);return Promise.resolve(o)}catch(e){return Promise.reject(e)}}}},13677:function(e,t,r){"use strict";t.__esModule=true;var n=r(13678);var a=i(n);function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.default)("local")},13678:function(e,t,r){"use strict";t.__esModule=true;t.default=o;var n=r(13679);var a=i(n);function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=(0,a.default)(e);return{getItem:function e(r){return new Promise(function(e,n){e(t.getItem(r))})},setItem:function e(r,n){return new Promise(function(e,a){e(t.setItem(r,n))})},removeItem:function e(r){return new Promise(function(e,n){e(t.removeItem(r))})}}}},13679:function(e,t,r){"use strict";t.__esModule=true;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=s;function a(){}var i={getItem:a,setItem:a,removeItem:a};function o(e){if("object"!==("undefined"===typeof self?"undefined":n(self))||!(e in self))return false;try{var t=self[e];var r="redux-persist "+e+" test";t.setItem(r,"test");t.getItem(r);t.removeItem(r)}catch(e){false;return false}return true}function s(e){var t=e+"Storage";if(o(t))return self[t];false;return i}},141:function(e,t){e.exports={}},142:function(e,t,r){var n=r(6);var a=r(100);var i=r(51);e.exports=function(e,t){var r=(a.Object||{})[e]||Object[e];var o={};o[e]=t(r);n(n.S+n.F*i(function(){r(1)}),"Object",o)}},143:function(e,t,r){var n=r(107);var a=r(240);var i=r(76);var o=r(67);var s=r(766);e.exports=function(e,t){var r=1==e;var c=2==e;var l=3==e;var u=4==e;var p=6==e;var f=5==e||p;var d=t||s;return function(t,s,v){var h=i(t);var m=a(h);var b=n(s,v,3);var _=o(m.length);var g=0;var y=r?d(t,_):c?d(t,0):void 0;var O,E;for(;_>g;g++)if(f||g in m){O=m[g];E=b(O,g,h);if(e)if(r)y[g]=E;else if(E)switch(e){case 3:return true;case 5:return O;case 6:return g;case 2:y.push(O)}else if(u)return false}return p?-1:l||u?u:y}}},14989:function(e,t,r){(function(t){e.exports=t["EXIF"]=r(14990)}).call(t,r(7))},14990:function(e,t,r){var a,i;(function(){var r=false;var o=this;var s=function(e){if(e instanceof s)return e;if(!(this instanceof s))return new s(e);this.EXIFwrapped=e};true;"undefined"!==typeof e&&e.exports&&(t=e.exports=s);t.EXIF=s;var c=s.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"};var l=s.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"};var u=s.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"};var p=s.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"};var f=s.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function d(e,t,r){e.addEventListener?e.addEventListener(t,r,false):e.attachEvent&&e.attachEvent("on"+t,r)}function v(e){return!!e.exifdata}function h(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"";e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");var r=atob(e);var n=r.length;var a=new ArrayBuffer(n);var i=new Uint8Array(a);for(var o=0;o<n;o++)i[o]=r.charCodeAt(o);return a}function m(e,t){var r=new XMLHttpRequest;r.open("GET",e,true);r.responseType="blob";r.onload=function(e){200!=this.status&&0!==this.status||t(this.response)};r.send()}function b(e,t){function n(r){var n=_(r);e.exifdata=n||{};var a=g(r);e.iptcdata=a||{};if(s.isXmpEnabled){var i=T(r);e.xmpdata=i||{}}t&&t.call(e)}if(e.src)if(/^data\:/i.test(e.src)){var a=h(e.src);n(a)}else if(/^blob\:/i.test(e.src)){var i=new FileReader;i.onload=function(e){n(e.target.result)};m(e.src,function(e){i.readAsArrayBuffer(e)})}else{var o=new XMLHttpRequest;o.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(o.response);o=null};o.open("GET",e.src,true);o.responseType="arraybuffer";o.send(null)}else if(self.FileReader&&(e instanceof self.Blob||e instanceof self.File)){var i=new FileReader;i.onload=function(e){r&&console.log("Got file of length "+e.target.result.byteLength);n(e.target.result)};i.readAsArrayBuffer(e)}}function _(e){var t=new DataView(e);r&&console.log("Got file of length "+e.byteLength);if(255!=t.getUint8(0)||216!=t.getUint8(1)){r&&console.log("Not a valid JPEG");return false}var n=2,a=e.byteLength,i;while(n<a){if(255!=t.getUint8(n)){r&&console.log("Not a valid marker at offset "+n+", found: "+t.getUint8(n));return false}i=t.getUint8(n+1);r&&console.log(i);if(225==i){r&&console.log("Found 0xFFE1 marker");return S(t,n+4,t.getUint16(n+2)-2)}n+=2+t.getUint16(n+2)}}function g(e){var t=new DataView(e);r&&console.log("Got file of length "+e.byteLength);if(255!=t.getUint8(0)||216!=t.getUint8(1)){r&&console.log("Not a valid JPEG");return false}var n=2,a=e.byteLength;var i=function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)};while(n<a){if(i(t,n)){var o=t.getUint8(n+7);o%2!==0&&(o+=1);0===o&&(o=4);var s=n+8+o;var c=t.getUint16(n+6+o);return O(e,s,c)}n++}}var y={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function O(e,t,r){var n=new DataView(e);var a={};var i,o,s,c,l;var u=t;while(u<t+r){if(28===n.getUint8(u)&&2===n.getUint8(u+1)){c=n.getUint8(u+2);if(c in y){s=n.getInt16(u+3);l=s+5;o=y[c];i=C(n,u+5,s);a.hasOwnProperty(o)?a[o]instanceof Array?a[o].push(i):a[o]=[a[o],i]:a[o]=i}}u++}return a}function E(e,t,n,a,i){var o=e.getUint16(n,!i),s={},c,l,u;for(u=0;u<o;u++){c=n+12*u+2;l=a[e.getUint16(c,!i)];!l&&r&&console.log("Unknown tag: "+e.getUint16(c,!i));s[l]=j(e,c,t,n,i)}return s}function j(e,t,r,n,a){var i=e.getUint16(t+2,!a),o=e.getUint32(t+4,!a),s=e.getUint32(t+8,!a)+r,c,l,u,p,f,d;switch(i){case 1:case 7:if(1==o)return e.getUint8(t+8,!a);c=o>4?s:t+8;l=[];for(p=0;p<o;p++)l[p]=e.getUint8(c+p);return l;case 2:c=o>4?s:t+8;return C(e,c,o-1);case 3:if(1==o)return e.getUint16(t+8,!a);c=o>2?s:t+8;l=[];for(p=0;p<o;p++)l[p]=e.getUint16(c+2*p,!a);return l;case 4:if(1==o)return e.getUint32(t+8,!a);l=[];for(p=0;p<o;p++)l[p]=e.getUint32(s+4*p,!a);return l;case 5:if(1==o){f=e.getUint32(s,!a);d=e.getUint32(s+4,!a);u=new Number(f/d);u.numerator=f;u.denominator=d;return u}l=[];for(p=0;p<o;p++){f=e.getUint32(s+8*p,!a);d=e.getUint32(s+4+8*p,!a);l[p]=new Number(f/d);l[p].numerator=f;l[p].denominator=d}return l;case 9:if(1==o)return e.getInt32(t+8,!a);l=[];for(p=0;p<o;p++)l[p]=e.getInt32(s+4*p,!a);return l;case 10:if(1==o)return e.getInt32(s,!a)/e.getInt32(s+4,!a);l=[];for(p=0;p<o;p++)l[p]=e.getInt32(s+8*p,!a)/e.getInt32(s+4+8*p,!a);return l}}function k(e,t,r){var n=e.getUint16(t,!r);return e.getUint32(t+2+12*n,!r)}function w(e,t,r,n){var a=k(e,t+r,n);if(!a)return{};if(a>e.byteLength)return{};var i=E(e,t,t+a,p,n);if(i["Compression"])switch(i["Compression"]){case 6:if(i.JpegIFOffset&&i.JpegIFByteCount){var o=t+i.JpegIFOffset;var s=i.JpegIFByteCount;i["blob"]=new Blob([new Uint8Array(e.buffer,o,s)],{type:"image/jpeg"})}break;case 1:console.log("Thumbnail image format is TIFF, which is not implemented.");break;default:console.log("Unknown thumbnail image format '%s'",i["Compression"])}else 2==i["PhotometricInterpretation"]&&console.log("Thumbnail image format is RGB, which is not implemented.");return i}function C(e,t,r){var a="";for(n=t;n<t+r;n++)a+=String.fromCharCode(e.getUint8(n));return a}function S(e,t){if("Exif"!=C(e,t,4)){r&&console.log("Not valid EXIF data! "+C(e,t,4));return false}var n,a,i,o,s,p=t+6;if(18761==e.getUint16(p))n=false;else{if(19789!=e.getUint16(p)){r&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)");return false}n=true}if(42!=e.getUint16(p+2,!n)){r&&console.log("Not valid TIFF data! (no 0x002A)");return false}var d=e.getUint32(p+4,!n);if(d<8){r&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(p+4,!n));return false}a=E(e,p,p+d,l,n);if(a.ExifIFDPointer){o=E(e,p,p+a.ExifIFDPointer,c,n);for(i in o){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":o[i]=f[i][o[i]];break;case"ExifVersion":case"FlashpixVersion":o[i]=String.fromCharCode(o[i][0],o[i][1],o[i][2],o[i][3]);break;case"ComponentsConfiguration":o[i]=f.Components[o[i][0]]+f.Components[o[i][1]]+f.Components[o[i][2]]+f.Components[o[i][3]];break}a[i]=o[i]}}if(a.GPSInfoIFDPointer){s=E(e,p,p+a.GPSInfoIFDPointer,u,n);for(i in s){switch(i){case"GPSVersionID":s[i]=s[i][0]+"."+s[i][1]+"."+s[i][2]+"."+s[i][3];break}a[i]=s[i]}}a["thumbnail"]=w(e,p,d,n);return a}function T(e){if(!("DOMParser"in self))return;var t=new DataView(e);r&&console.log("Got file of length "+e.byteLength);if(255!=t.getUint8(0)||216!=t.getUint8(1)){r&&console.log("Not a valid JPEG");return false}var n=2,a=e.byteLength,i=new DOMParser;while(n<a-4){if("http"==C(t,n,4)){var o=n-1;var s=t.getUint16(n-2)-1;var c=C(t,o,s);var l=c.indexOf("xmpmeta>")+8;c=c.substring(c.indexOf("<x:xmpmeta"),l);var u=c.indexOf("x:xmpmeta")+10;c=c.slice(0,u)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+c.slice(u);var p=i.parseFromString(c,"text/xml");return N(p)}n++}}function I(e){var t={};if(1==e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var r=0;r<e.attributes.length;r++){var n=e.attributes.item(r);t["@attributes"][n.nodeName]=n.nodeValue}}}else if(3==e.nodeType)return e.nodeValue;if(e.hasChildNodes())for(var a=0;a<e.childNodes.length;a++){var i=e.childNodes.item(a);var o=i.nodeName;if(null==t[o])t[o]=I(i);else{if(null==t[o].push){var s=t[o];t[o]=[];t[o].push(s)}t[o].push(I(i))}}return t}function N(e){try{var t={};if(e.children.length>0)for(var r=0;r<e.children.length;r++){var n=e.children.item(r);var a=n.attributes;for(var i in a){var o=a[i];var s=o.nodeName;var c=o.nodeValue;void 0!==s&&(t[s]=c)}var l=n.nodeName;if("undefined"==typeof t[l])t[l]=I(n);else{if("undefined"==typeof t[l].push){var u=t[l];t[l]=[];t[l].push(u)}t[l].push(I(n))}}else t=e.textContent;return t}catch(e){console.log(e.message)}}s.enableXmp=function(){s.isXmpEnabled=true};s.disableXmp=function(){s.isXmpEnabled=false};s.getData=function(e,t){if((self.Image&&e instanceof self.Image||self.HTMLImageElement&&e instanceof self.HTMLImageElement)&&!e.complete)return false;v(e)?t&&t.call(e):b(e,t);return true};s.getTag=function(e,t){if(!v(e))return;return e.exifdata[t]};s.getIptcTag=function(e,t){if(!v(e))return;return e.iptcdata[t]};s.getAllTags=function(e){if(!v(e))return{};var t,r=e.exifdata,n={};for(t in r)r.hasOwnProperty(t)&&(n[t]=r[t]);return n};s.getAllIptcTags=function(e){if(!v(e))return{};var t,r=e.iptcdata,n={};for(t in r)r.hasOwnProperty(t)&&(n[t]=r[t]);return n};s.pretty=function(e){if(!v(e))return"";var t,r=e.exifdata,n="";for(t in r)r.hasOwnProperty(t)&&("object"==typeof r[t]?r[t]instanceof Number?n+=t+" : "+r[t]+" ["+r[t].numerator+"/"+r[t].denominator+"]\r\n":n+=t+" : ["+r[t].length+" values]\r\n":n+=t+" : "+r[t]+"\r\n");return n};s.readFromBinaryFile=function(e){return _(e)};true;!(a=[],i=function(){return s}.apply(t,a),void 0!==i&&(e.exports=i))}).call(this)},15354:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"getMaxTimestamp",function(){return p});var n=r(1);var a=r.n(n);var i=r(16915);var o=r(16930);var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function c(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var l={maxTs:"0"};var u=Object(i["c"])(c({},o["addMessages"].getType(),function(e,t){if(!t||!t.length||!a.a.isArray(t))return e;var r=a.a.maxBy(t,"ts");if(!r)return e;var n=r.ts>e.maxTs?r.ts:e.maxTs;return s({},e,{maxTs:n})}),l);t["default"]=u;var p=Object(i["d"])(function(e){return e&&e.notifications&&e.notifications.maxTs})},157:function(e,t){e.exports=false},15762:function(e,t,r){"use strict";r.d(t,"a",function(){return n});t["b"]=a;var n;(function(e){e[e["NONE"]=0]="NONE";e[e["NO_MENTIONS"]=1]="NO_MENTIONS";e[e["BAD_ARGUMENTS"]=2]="BAD_ARGUMENTS";e[e["NO_DISPLAY_OVERRIDE"]=3]="NO_DISPLAY_OVERRIDE";e[e["NO_NOTIFICATIONS_OVERRIDE"]=4]="NO_NOTIFICATIONS_OVERRIDE";e[e["REPLY_MESSAGE"]=5]="REPLY_MESSAGE";e[e["NOT_REPLY_MESSAGE"]=6]="NOT_REPLY_MESSAGE";e[e["JOIN_LEAVE_MESSAGE"]=7]="JOIN_LEAVE_MESSAGE";e[e["BOT_MESSAGE"]=8]="BOT_MESSAGE";e[e["APP_MESSAGE"]=9]="APP_MESSAGE";e[e["FROM_CURRENT_USER"]=10]="FROM_CURRENT_USER";e[e["MUTED_CHANNEL"]=11]="MUTED_CHANNEL";e[e["USER_IN_DND"]=12]="USER_IN_DND";e[e["SILENT_PREFERENCE"]=13]="SILENT_PREFERENCE";e[e["PERMISSION_DENIED"]=14]="PERMISSION_DENIED";e[e["RESTRICTED_CHANNEL_ONLY_CHANNEL_MENTIONS"]=15]="RESTRICTED_CHANNEL_ONLY_CHANNEL_MENTIONS";e[e["ACTIVE_VIEW_VISIBLE"]=16]="ACTIVE_VIEW_VISIBLE";e[e["LESS_RELEVANT_ORG_TEAM"]=17]="LESS_RELEVANT_ORG_TEAM";e[e["OVERSIZED_MENTION"]=18]="OVERSIZED_MENTION";e[e["REDUNDANT_SOCKET_EVENT"]=19]="REDUNDANT_SOCKET_EVENT";e[e["ALREADY_SEEN_REPLY"]=20]="ALREADY_SEEN_REPLY";e[e["ALREADY_SHOWN"]=21]="ALREADY_SHOWN"})(n||(n={}));function a(e,t,r){var a=t||"missing model";switch(e){case n.BAD_ARGUMENTS:return"Missing message or model object";case n.NO_DISPLAY_OVERRIDE:return"'no_display' was set on the notification";case n.NO_NOTIFICATIONS_OVERRIDE:return"'no_notifications' was set on the notification";case n.JOIN_LEAVE_MESSAGE:return"The message was a join or leave message";case n.BOT_MESSAGE:return"The message was a bot message without a mention";case n.APP_MESSAGE:return"The message was an app message without a mention";case n.FROM_CURRENT_USER:return"The message is from the current user";case n.MUTED_CHANNEL:return"Channel ("+a+") is muted";case n.USER_IN_DND:return"The user is in Do Not Disturb";case n.SILENT_PREFERENCE:return"The user has their notification preference set to 'nothing'";case n.PERMISSION_DENIED:return"The user did not grant permission to show notifications";case n.RESTRICTED_CHANNEL_ONLY_CHANNEL_MENTIONS:return"Channel ("+a+") is restricted from @channel mentions";case n.ACTIVE_VIEW_VISIBLE:return"The window is focused and the notifying channel ("+a+") is visible";case n.LESS_RELEVANT_ORG_TEAM:return"Shared channel ("+a+") is in a less recently selected org team";case n.OVERSIZED_MENTION:return"Over-sized channel mention in channel ("+a+")";case n.REDUNDANT_SOCKET_EVENT:return"Message ("+r+") is greater than latest in store, treating as duplicate";case n.ALREADY_SEEN_REPLY:return"Message ("+r+") is less than or equal to the 'last_read' in the thread";case n.ALREADY_SHOWN:return"Message ("+r+") has already shown a notification";default:return null}}},158:function(e,t,r){var n=r(47);var a=r(407);var i=r(275);var o=r(241)("IE_PROTO");var s=function(){};var c="prototype";var l=function(){var e=r(273)("iframe");var t=i.length;var n="<";var a=">";var o;e.style.display="none";r(350).appendChild(e);e.src="javascript:";o=e.contentWindow.document;o.open();o.write(n+"script"+a+"document.F=Object"+n+"/script"+a);o.close();l=o.F;while(t--)delete l[c][i[t]];return l()};e.exports=Object.create||function e(t,r){var i;if(null!==t){s[c]=n(t);i=new s;s[c]=null;i[o]=t}else i=l();return void 0===r?i:a(i,r)}},159:function(e,t,r){var n=r(408);var a=r(275);e.exports=Object.keys||function e(t){return n(t,a)}},1594:function(e,t,r){"use strict";t.__esModule=true;function n(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(a){if("function"===typeof a)return a(r,n,e);return t(a)}}}}var a=n();a.withExtraArgument=n;t["default"]=a},160:function(e,t,r){var n=r(105);var a=Math.max;var i=Math.min;e.exports=function(e,t){e=n(e);return e<0?a(e+t,0):i(e,t)}},161:function(e,t,r){var n=r(61).f;var a=r(81);var i=r(53)("toStringTag");e.exports=function(e,t,r){e&&!a(e=r?e:e.prototype,i)&&n(e,i,{configurable:true,value:t})}},16928:function(e,t,r){"use strict";t["b"]=o;var n=r(1);var a=r.n(n);window.TSM={interop:{}};function i(e,t){if(a.a.has(window.TSM,e))throw new Error("exportToLegacy: there is already something at "+e+"; we cannot overwrite it");if(!e||0!==e.indexOf("interop"))throw new Error("exportToLegacy: Name "+e+' must start with "interop".');a.a.set(window.TSM,e,t)}t["a"]=i;function o(e){return function(t){return TS.redux.dispatch(e(t)).then(function(e){return{ok:true,request_id:e.request_id,args:e.args,method:t.method,data:e}}).catch(function(e){throw e})}}},16947:function(e,t,r){"use strict";var n=r(17773);var a=r(17261);var i=r(17774);var o=r(17776);var s=r(17777);var c=r(17013);t["a"]={AppAction:n["a"],AppActionsConfig:a["a"],File:i["a"],MessageAction:o["a"],Rollup:s["a"],ScopeInfo:c["a"]}},16991:function(e,t,r){"use strict";t["a"]=m;t["b"]=b;t["c"]=_;t["d"]=g;t["e"]=E;var n=r(16971);var a=r(16925);var i=r(16979);var o=r(18108);var s=r(16913);var c=r(17404);var l=r(16934);var u=r(18109);var p=this;var f=function(){var e=d(regeneratorRuntime.mark(function e(t,r,a){var o,s,c,l,p,f;return regeneratorRuntime.wrap(function e(d){while(1)switch(d.prev=d.next){case 0:o={};s=3e4;c=Object(i["promiseToHaveOpenWebSocket"])(a());l=c.then(function(){return Promise.delay(s,o)});p=c.then(function(){return Object(u["a"])(t,a)});d.next=7;return Promise.race([p,l]);case 7:f=d.sent;if(!(f===o)){d.next=11;break}r(Object(n["warn"])("Preprocessing message of type "+t.type+" took too long; continue to process queue"));return d.abrupt("return",true);case 11:return d.abrupt("return",f);case 12:case"end":return d.stop()}},e,this)}));return function t(r,n,a){return e.apply(this,arguments)}}();function d(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,i){try{var o=t[a](i);var s=o.value}catch(e){r(e);return}if(!o.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}var v={};var h={};function m(e,t){v[e]=v[e]||[];v[e].push(t)}function b(e,t){if(!h[t])return;h[t].forEach(function(t){return e(t)})}function _(){return v}function g(){return h}var y=function e(t,r,n){if(j(n))return;var i=!Object(l["a"])()&&!Object(s["isFeatureEnabled"])(n(),"feature_no_message_subtype_rtm");var c=t.subtype&&i?t.type+"."+t.subtype:t.type;if(v[c])try{v[c].forEach(function(e){return e(t,r,n)})}catch(e){if(Object(l["a"])()){var u=n();var p=Object(a["getTeamId"])(u);window.slackDebug.setLastError&&window.slackDebug.setLastError(p,new Error("Error processing "+c+": "+e.message))}throw e}var f=Object(o["a"])();f[t.type]&&f[t.type](t)};var O=function(){var e=d(regeneratorRuntime.mark(function e(t,r,a){var i,o;return regeneratorRuntime.wrap(function e(s){while(1)switch(s.prev=s.next){case 0:if(!(!t||!t.length)){s.next=2;break}return s.abrupt("return",Promise.resolve());case 2:i=t[0];s.prev=3;s.next=6;return f(i,r,a);case 6:o=s.sent;o&&y(i,r,a);s.next=13;break;case 10:s.prev=10;s.t0=s["catch"](3);r(Object(n["error"])("Error while processing "+i.type+" event",s.t0));case 13:s.prev=13;t.shift();return s.finish(13);case 16:return s.abrupt("return",t.length?O(t,r,a):Promise.resolve());case 17:case"end":return s.stop()}},e,p,[[3,10,13,16]])}));return function t(r,n,a){return e.apply(this,arguments)}}();function E(e,t,r){var n=r();var i=Object(a["getTeamId"])(n);h[i]=h[i]||[];h[i].push(e);1===h[i].length&&O(h[i],t,r)}function j(e){var t=e();return Object(s["isWebApp"])(t)&&!Object(s["processRtmStream"])(t)&&!Object(c["b"])()}var k={shouldIgnoreRtmStream:j};Object.defineProperty(k,"dispatchMessageToHandlers",{get:function e(){return y},set:function e(t){y=t}});Object.defineProperty(k,"handleNextMessageFromQueue",{get:function e(){return O},set:function e(t){O=t}});Object.defineProperty(k,"handlers",{get:function e(){return v},set:function e(t){v=t}});Object.defineProperty(k,"pendingMessages",{get:function e(){return h},set:function e(t){h=t}})},17000:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(16994);var f=r(17071);var d=r(17017);var v=r(17157);var h=r(17103);var m=r(17058);var b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function g(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function y(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k={className:a.a.string,errorId:a.a.string,errorLevel:a.a.oneOf(Object(l["values"])(p["b"])),errorText:a.a.string,errorType:a.a.oneOf(Object(l["values"])(p["c"])),hintId:a.a.string,hintText:a.a.node,id:a.a.string.isRequired,isDisabled:a.a.bool,isRequired:a.a.bool,labelId:a.a.string,maxCharacterLimit:a.a.number,counterMinimumCharacters:a.a.number,name:a.a.string.isRequired,onBlur:a.a.func,onChange:a.a.func,onFocus:a.a.func,placeholder:a.a.string,size:a.a.oneOf(Object(l["values"])(d["a"])),suffix:a.a.string,value:a.a.string};var w={className:null,errorId:null,errorLevel:p["b"].error,errorText:null,errorType:p["c"].nestedBox,hintId:null,hintText:null,isDisabled:false,isRequired:false,labelId:null,maxCharacterLimit:null,counterMinimumCharacters:0,onBlur:l["noop"],onChange:l["noop"],onFocus:l["noop"],placeholder:null,size:d["a"].medium,suffix:null,value:""};var C=function(e){j(t,e);function t(e){O(this,t);var r=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));var n=r.props.id;r.state={errorId:Object(l["get"])(r.props,"errorId",Object(m["a"])(n,"error")),hintId:Object(l["get"])(r.props,"hintId",Object(m["a"])(n,"hint")),inputLengthIsInvalid:false,isFocused:false,textStyle:{}};r.onFocus=r.onFocus.bind(r);r.onBlur=r.onBlur.bind(r);return r}_(t,[{key:"componentWillReceiveProps",value:function e(t){t.maxCharacterLimit&&t.value!==this.props.value&&this.setInputLengthValidity(t.value.length>t.maxCharacterLimit)}},{key:"componentDidUpdate",value:function e(t,r){this.props.value===t.value&&this.state.isFocused===r.isFocused||this.getTextStyle()}},{key:"onFocus",value:function e(){this.setFocus(true);this.props.onFocus()}},{key:"onBlur",value:function e(){this.setFocus(false);this.props.onBlur()}},{key:"setInputLengthValidity",value:function e(t){this.setState(function(){return{inputLengthIsInvalid:t}})}},{key:"setFocus",value:function e(t){this.setState(function(){return{isFocused:t}})}},{key:"setTextStyle",value:function e(t){this.setState(function(){return{textStyle:t}})}},{key:"getTextStyle",value:function e(){var t=this.props.maxCharacterLimit;var r=t&&this.state.isFocused;if(!r){this.setTextStyle({});return}var n=this.characterCount.getCharacterCountWidth();var a={paddingRight:n};this.setTextStyle(a)}},{key:"focus",value:function e(){this.input.focus()}},{key:"renderErrorMaybe",value:function e(){var t=this.props,r=t.errorLevel,n=t.errorText,a=t.errorType,i=t.maxCharacterLimit;if(n)return o.a.createElement(p["d"],{id:this.state.errorId,level:r,type:a},n);if(this.state.inputLengthIsInvalid&&i)return o.a.createElement(p["d"],{id:this.state.errorId,level:p["b"].error,type:a},Object(m["b"])(i));return null}},{key:"renderHintMaybe",value:function e(){var t=this.props.hintText;if(t)return o.a.createElement(f["a"],{id:this.state.hintId},t);return null}},{key:"renderTextInput",value:function e(){var t,r=this;var n=this.props,a=n.className,i=n.errorId,s=n.errorLevel,l=n.errorText,u=n.errorType,p=n.hintId,f=n.hintText,v=n.id,h=n.isDisabled,m=n.isRequired,_=n.labelId,O=n.name,E=n.onBlur,j=n.onChange,k=n.onFocus,w=n.size,C=n.suffix,S=n.maxCharacterLimit,T=n.counterMinimumCharacters,I=y(n,["className","errorId","errorLevel","errorText","errorType","hintId","hintText","id","isDisabled","isRequired","labelId","name","onBlur","onChange","onFocus","size","suffix","maxCharacterLimit","counterMinimumCharacters"]);var N=this.state.inputLengthIsInvalid;var A=!!l||N&&!!S;var P=c()((t={},g(t,"c-input_text--with_"+s,A),g(t,"c-input_text--with_hint",f),t),a);var R=void 0;R=A?_+" "+this.state.errorId:_;return o.a.createElement(d["b"],b({},I,{style:this.state.textStyle,onFocus:this.onFocus,onBlur:this.onBlur,ariaDescribedby:this.state.hintId,ariaInvalid:A,ariaLabelledby:R,ariaRequired:m,className:P,id:v,name:O,onChange:j,ref:function e(t){r.input=t},size:w,type:"text"}))}},{key:"renderWrappedTextMaybe",value:function e(){var t=this;var r=this.props,n=r.suffix,a=r.value,i=r.placeholder,s=r.maxCharacterLimit,c=r.counterMinimumCharacters,l=r.size;var u=this.renderTextInput();s&&(u=o.a.createElement(h["a"],{currentCount:a.length,isFocused:this.state.isFocused,maxCharacterLimit:s,counterMinimumCharacters:c,size:l,ref:function e(r){t.characterCount=r}},u));n&&(u=o.a.createElement(v["a"],{placeholder:i,size:l,suffix:n,value:a},u));return u}},{key:"render",value:function e(){return o.a.createElement("div",{"data-qa-formtext":true},this.renderWrappedTextMaybe(),this.renderErrorMaybe(),this.renderHintMaybe())}}]);return t}(o.a.Component);C.displayName="FormText";C.propTypes=k;C.defaultProps=w;t["a"]=C},17020:function(e,t,r){"use strict";r.d(t,"a",function(){return s});r.d(t,"f",function(){return l});r.d(t,"d",function(){return f});r.d(t,"e",function(){return d});r.d(t,"c",function(){return h});r.d(t,"b",function(){return m});var n=r(17083);var a=r(17731);function i(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var o="frecencyId";var s="MA";function c(e){return e&&e.props&&e.props[o]||null}var l=function e(t){return""+s+t};var u=function e(t){return i({},o,l(t))};var p=function e(t){return t.id};var f=function e(t){return l(p(t))};var d=function e(t){return u(p(t))};var v=function e(t){return t[o]};var h=function e(t,r){return Object(a["a"])(t,r,{getId:v,prefix:s})};var m=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";var a=v(t);a&&Object(n["c"])({id:a},r)}},17027:function(e,t,r){"use strict";var n=r(17116);t["a"]=n["a"]},17028:function(e,t,r){"use strict";r.d(t,"c",function(){return C});r.d(t,"d",function(){return S});r.d(t,"a",function(){return T});r.d(t,"b",function(){return I});t["f"]=A;t["h"]=R;t["g"]=M;r.d(t,"i",function(){return L});r.d(t,"l",function(){return D});r.d(t,"j",function(){return F});r.d(t,"k",function(){return B});t["p"]=U;t["q"]=H;r.d(t,"e",function(){return q});r.d(t,"m",function(){return G});t["n"]=Q;t["o"]=Y;var n=r(12159);var a=r.n(n);var i=r(1);var o=r.n(i);var s=r(16912);var c=r(16976);var l=r(16941);var u=r(17003);var p=r(16913);var f=r(16924);var d=r(17207);var v=r(17134);var h=r(16962);var m=r(16925);var b=r(16916);var _=r(17400);var g=r(16917);var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var O=new s["b"]("workspace_directory");var E=480;var j=1024;var k="ENTERPRISE_DISCOVER_WORKSPACES";var w="WORKSPACE_DIR";var C=function e(){return window.innerWidth<=E};var S=function e(){return window.innerWidth<=j};var T={dialog:"dialog",largeCard:"largeCard",smallCard:"smallCard"};var I="SHOW_ALL";function N(e){if(!e)return{};var t=O.t("Requires an invite to join");return{requestCardLarge:O.t("Awaiting admin approval to join"),requestDialog:function e(t){return O.t("Requested access on {requestDate}",{requestDate:Object(c["a"])(t)})},inviteOnlyWithLockIcon:a.a.createElement("span",null,a.a.createElement(g["a"],{type:"lock",key:"private-icon",className:"nudge_bottom_2"}),t),inviteOnly:t}}function A(e,t){var r=t.context,n=void 0===r?T.smallCard:r,a=t.featureZeroWorkspaceOnboarding,i=void 0===a||a;if(!i)return null;var o=N(i);var s=e.date_requested_join,c=e.discoverable,l=e.is_member;if(l)return null;if("closed"===c&&s){if(n===T.largeCard)return o.requestCardLarge;return o.requestDialog(s)}if("invite_only"===c){if(n===T.largeCard)return o.inviteOnlyWithLockIcon;return o.inviteOnly}return null}function P(e,t){var r=document.createElement("a");r.href=t;var n=r.protocol+"//"+e.domain+"."+r.host+"/";r=null;return n}function R(e){return Object(i["has"])(e,"profile")||Object(i["has"])(e,"enterprise_user")}function M(e){var t=e.type,r=e.teamName,n=e.errorType;if("success"===t)return O.rt("Request to create <strong>{teamName}</strong> sent! You\u2019ll be notified once it\u2019s reviewed.",{teamName:Object(s["l"])(r)});var a={name_taken:O.rt("Request failed: The name <strong>{teamName}</strong> is already taken by another workspace.",{teamName:Object(s["l"])(r)}),name_is_empty:O.t("Request failed: A name is required."),name_too_long:O.t("Request failed: The name you provided is too long."),reason_too_long:O.t("Request failed: The reason you provided is too long."),unknown:O.rt("Request failed: The response error was <strong>{error}</strong>.",{error:n||"unknown"})};return a[n]||a.unknown}function x(e){if(!e)return;if(Object(f["isSSBAndAtLeastVersion"])("2.8")){Object(b["info"])(w,"switchToTeamById - Calling displayTeamById('"+e+"') in the SSB.");Object(h["displayTeamById"])(e)}else{Object(b["info"])(w,"switchToTeamById - SSB < 2.8, fallback to using an iframe to open "+e);var t=document.createElement("iframe");var r="slack://open?team="+e;t.src=r;document.body.appendChild(t);setTimeout(function(){return t.remove()},1e3)}}var L=function e(t,r){var n=r.team,i=r.onActionResolve,o=r.onActionReject,s=r.onDone,c=r.anchorPage,l=r.doUpsertJoin;var p={team:n,onResolve:function e(t){var r={};l&&(r.workspace=t);i(r)},onReject:function e(t){o({node:a.a.createElement("span",null,O.rt("Workspace couldn\u2019t be joined. Please reload and try again.")),err:t})},onDone:s};W({teamId:n.id,anchorPage:c});return Object(u["b"])(t,p)};var D=function e(t,r){var n=r.team,i=r.onActionResolve,o=r.onActionReject,s=r.onDone,c=r.anchorPage;var l={team:n,onResolve:function e(t){i({node:a.a.createElement("div",{className:"display_flex"},a.a.createElement(g["a"],{align:"top",type:"check-circle-o",className:"margin_right_50 sk_seafoam_green"}),a.a.createElement("span",null,O.rt("<strong>Request sent!</strong> You\u2019ll be notified by email when a Workspace Admin grants access."))),workspace:t})},onReject:function e(t){o({node:a.a.createElement("span",null,O.rt("Your request couldn\u2019t be sent. Please reload and try again.")),err:t})},onDone:s};V({teamId:n.id,anchorPage:c});return Object(u["d"])(t,l)};var F=function e(t,r){var n=r.user,a=void 0===n?{}:n,o=r.team,s=void 0===o?{}:o,c=r.anchorPage,l=r.doLaunchInNewTab,u=void 0!==l&&l,g=r.onActionResolve,y=void 0===g?i["noop"]:g,O=r.channelRedirect,E=void 0===O?null:O,j=r.postLaunchAction,k=void 0===j?null:j,C=r.userIdFromURL,S=void 0===C?null:C,T=r.windowOpener;var I=Object(p["getFromBootData"])(t,"signin_url");var N=P(s,I,E)+"messages";K({teamId:s.id,anchorPage:c});E&&(N=N+"/"+E);k&&"open_profile"===k&&S&&(N=N+"/team/"+S);if(Object(p["isClientApp"])(t)&&Object(m["getTeamId"])(t)===s.id){Object(b["info"])(w,"onWorkspaceLaunch - User has team "+s.id+" to launch currently open. Do nothing and resolve the action (which closes the modal).");return y({workspace:s})}if(Object(v["a"])()){Object(b["info"])(w,"onWorkspaceLaunch - Detected that user is logged in via the SSB.");var A=Object(h["getSignedInTeamIds"])();Object(b["info"])(w,"onWorkspaceLaunch - Successfully called getSignedInTeamIds and returned "+A);var R={name:a.name,id:a.id,team_id:s.id,team_name:Object(_["getTeamDisplayName"])(s),team_url:N};if(Object(i["includes"])(A,s.id)){Object(b["info"])(w,"onWorkspaceLaunch - User already signed into workspace '"+s.id+"'");if(Object(i["includes"])(A,s.id)){var M=void 0;if(Object(f["isSSBAndAtLeastVersion"])("3.0")){Object(b["info"])(w,"onWorkspaceLaunch - SSB >= 3.0, attempting to determine if team "+s.id+" has a valid session.");x(s.id);M=window.desktop.teams.getCurrentTeam();if(M)if(M.hasValidSession)Object(b["info"])(w,"onWorkspaceLaunch - currentTeam.hasValidSession for "+s.id+". Work done.");else{Object(b["info"])(w,"onWorkspaceLaunch - current session NOT valid. Signing into "+s.id+".");Object(h["didSignIn"])(R)}else{Object(b["info"])(w,"onWorkspaceLaunch - currentTeam not found. Calling didSignIn() for "+s.id+".");Object(h["didSignIn"])(R)}}else{Object(b["info"])(w,"onWorkspaceLaunch - SSB < 3.0, cannot determine session state. Calling didSignIn() for "+s.id+".");Object(h["didSignIn"])(R)}}}else{Object(b["info"])(w,"onWorkspaceLaunch - calling didSignIn on "+JSON.stringify(R));Object(h["didSignIn"])(R);A=Object(h["getSignedInTeamIds"])()}y({workspace:s});Object(b["info"])(w,"onWorkspaceLaunch - Removing team from enterprise excluded team pref "+s.id);Object(d["c"])(s.id)}else if(u){if(T){var L=T;L.location.href=N}else window.open(N,"_blank");y({workspace:s})}else window.location=N;return null};var B=function e(t,r){var n=r.team,o=r.onLeaveResolve,s=void 0===o?i["noop"]:o,c=r.onLeaveReject,l=void 0===c?i["noop"]:c,p=r.onDone,f=void 0===p?i["noop"]:p;z({teamId:n.id,anchorPage:"workspace_directory"});var d={team:n,onResolve:function e(t){s({workspace:t})},onReject:function e(t){l({node:a.a.createElement("span",null,O.rt("Workspace couldn\u2019t be left. Please reload and try again.")),err:t})},onDone:f};return Object(u["c"])(t,d)};function U(e){var t=e.trackingCode,r=void 0===t?"":t;var n={anchor_page:"workspace_directory",tracking_code:r};var a={action:"impression"};Object(l["b"])(k,y({},n,{contexts:{ui_context:a}}))}function H(e){var t=e.teamId,r=e.trackingCode;var n={entity_key:"workspace_detail",anchor_page:"workspace_directory",target_team_id:t,tracking_code:r};var a={action:"impression",action_status:1};Object(l["b"])(k,y({},n,{contexts:{ui_context:a}}))}var q=function e(t){var r=t.anchorPage,n=t.numSearchResults;var a={};var i={};a.action="impression";a.action_status=n?1:2;a.ui_element="SEARCH_BAR";i.entity_key="search_workspaces";i.anchor_page=r;i.num_search_results=n;Object(l["b"])(k,y({},i,{contexts:{ui_context:a}}))};var G=function e(t){var r=t.searchType,n=void 0===r?"workspace":r;var a={anchor_page:"workspace_directory",entity_key:"search_workspaces"};var i={action:"impression",ui_element:"workspace"===n?"DIRECTORY_SEARCH_FREE":"DIRECTORY_SEARCH_BY_COLLEAGUE"};Object(l["b"])(k,y({},a,{contexts:{ui_context:i}}))};function W(e){var t=e.teamId,r=e.anchorPage,n=e.fromWhere,a=void 0===n?"":n;var i={anchor_page:r,entity_key:"join_workspace",target_team_id:t,tracking_code:a};var o={action:"click",action_status:1};Object(l["b"])(k,y({},i,{contexts:{ui_context:o}}))}function V(e){var t=e.teamId,r=e.anchorPage,n=e.fromWhere,a=void 0===n?"":n;var i={anchor_page:r,entity_key:"request_to_join_workspace",target_team_id:t,tracking_code:a};var o={action:"click",action_status:1};Object(l["b"])(k,y({},i,{contexts:{ui_context:o}}))}function K(e){var t=e.teamId,r=e.anchorPage,n=e.fromWhere,a=void 0===n?"":n;var i={anchor_page:r,entity_key:"launch_workspace",target_team_id:t,tracking_code:a};var o={action:"click",action_status:1};Object(l["b"])(k,y({},i,{contexts:{ui_context:o}}))}function z(e){var t=e.teamId,r=e.anchorPage;var n={anchor_page:r,entity_key:"leave_workspace",target_team_id:t,tracking_code:""};var a={action:"click",action_status:1};Object(l["b"])(k,y({},n,{contexts:{ui_context:a}}))}function Q(e){var t=e.step;var r={anchor_page:"grid_onboarding",target_team_id:0};var n={action:"impression",step:t};Object(l["b"])(k,y({},r,{contexts:{ui_context:n}}))}function Y(e){var t=e.step;var r={anchor_page:"grid_onboarding",target_team_id:0};var n={action:"click",ui_element:"exit",step:t};Object(l["b"])(k,y({},r,{contexts:{ui_context:n}}))}},17039:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"toggleSectionFilter",function(){return f});r.d(t,"setSectionFilter",function(){return d});r.d(t,"setFilterState",function(){return v});r.d(t,"setJumperCoachmarkState",function(){return h});r.d(t,"setSectionFilterDataFromLS",function(){return m});r.d(t,"getSectionFilter",function(){return y});r.d(t,"getSections",function(){return O});r.d(t,"getJumperCoachmarkState",function(){return E});var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16915);var c=r(17149);var l;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function p(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var f=Object(s["a"])("Toggle between sidebar filters");f.propTypes={sectionId:o.a.string.isRequired};var d=Object(s["a"])("Set the sidebar filter to a specific state");d.propTypes={sectionId:o.a.string.isRequired,filter:o.a.string.isRequired};var v=Object(s["a"])("Set the entire filter state (e.g. from localStorage)");v.propTypes={sections:o.a.object.isRequired};var h=Object(s["a"])("Set the jumper button coachmark state");h.propTypes=o.a.oneOf(["SHOW_BUTTON","HIDE_BUTTON","HIDE_BUTTON_PENDING"]);var m=Object(s["e"])("Set Section Filter Data From LocalStorage",function(e,t,r){var n=void 0;n=Object(c["c"])();n&&!a.a.isEmpty(n)||("hide_read_channels"===r?n={starred:"unreads",sharedChannels:"unreads",orgWideChannels:"unreads",channels:"unreads",ims:"unreads",apps:"unreads"}:"hide_read_channels_unless_starred"===r&&(n={starred:"all",sharedChannels:"unreads",orgWideChannels:"unreads",channels:"unreads",ims:"unreads",apps:"unreads"}));e(v({sections:n}))});m.propTypes=o.a.string.isRequired;var b={selectedItemId:void 0,sections:{}};var _=function e(t,r){if(!t||"all"===t)return"unreads";if("unreads"===t&&"ims"!==r&&"apps"!==r)return"real_time_sort";return"all"};var g=Object(s["c"])((l={},p(l,f,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.sectionId;return u({},e,{sections:u({},e.sections,p({},r,_(e.sections[r],r)))})}),p(l,d,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.sectionId,n=t.filter;return u({},e,{sections:u({},e.sections,p({},r,n))})}),p(l,v,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.sections;return u({},e,{sections:r})}),p(l,h,function(e,t){return u({},e,{jumperCoachmark:t})}),l),b);t["default"]=g;var y=Object(s["d"])(function(e,t){return e&&e.channelSidebar&&e.channelSidebar.sections&&e.channelSidebar.sections[t]});var O=Object(s["d"])(function(e){return e&&e.channelSidebar&&e.channelSidebar.sections});var E=Object(s["d"])(function(e){return e&&e.channelSidebar&&e.channelSidebar.jumperCoachmark})},17080:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"detectImplementation",function(){return m});r.d(t,"canWriteText",function(){return g});r.d(t,"writeText",function(){return y});r.d(t,"canWriteHTML",function(){return O});r.d(t,"writeHTML",function(){return E});r.d(t,"writeTextFromEvent",function(){return j});var n=r(194);var a=r.n(n);var i=r(16916);var o=r(16996);var s=r(17599);var c=r(17601);var l=r(16941);var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=void 0;var d=void 0;var v="clipboardTextarea";var h=function e(){f=false;a.a.chrome&&a.a.version>=42&&(f=true);a.a.firefox&&a.a.version>=41&&(f=true);a.a.msie&&a.a.version>=9&&(f=true);a.a.opera&&a.a.version>=29&&(f=true);Object(o["b"])(window,"click",function(){f=document.queryCommandSupported("copy")})};var m=function e(){var t=new _;var r=new b;if(t.canWriteText()){d=t;return t}h();d=r;return r};var b=function(){function e(){p(this,e);this.currentRanges=[];this.selection=null}u(e,[{key:"canWriteText",value:function e(){return f}},{key:"writeText",value:function e(t){if(!this.canWriteText()){Object(i["warn"])("Cannot write string to clipboard");return false}var r=document.createElement("textarea");r.id=v;r.appendChild(document.createTextNode(t));document.body.appendChild(r);var n=this.writeNode(r);document.body.removeChild(r);return n}},{key:"canWriteHTML",value:function e(){return f}},{key:"writeHTML",value:function e(t){if(!this.canWriteHTML()){Object(i["warn"])("Cannot write html to clipboard");return false}var r=document.createElement("p");r.innerHTML=t;var n=document.createElement("textarea");n.id=v;n.innerHTML=r.innerHTML;document.body.appendChild(n);var a=this.writeNode(n);document.body.removeChild(n);return a}},{key:"writeNode",value:function e(t){var r=false;if("input"!==t.type&&"textarea"!==t.type){Object(i["warn"])("Can only write input and textarea node's to clipboard");return false}var n=document.activeElement;try{this.saveSelection();var a=window.getSelection();a.removeAllRanges();t.select();document.execCommand("copy")}catch(e){r=true;Object(i["warn"])("Something bad happened when we tried to copy: "+e)}finally{this.restoreSelection();n&&n.focus&&n.focus()}return!r}},{key:"saveSelection",value:function e(){this.currentRanges=[];this.selection=window.getSelection();for(var t=0,r=this.selection.rangeCount;t<r;t++)this.currentRanges.push(this.selection.getRangeAt(t))}},{key:"restoreSelection",value:function e(){this.selection.removeAllRanges();for(var t=0,r=this.currentRanges.length;t<r;t++)this.selection.addRange(this.currentRanges[t])}}]);return e}();var _=function(){function e(){p(this,e)}u(e,[{key:"canWriteText",value:function e(){return window.TSSSB&&window.TSSSB.call("canClipboardWriteString")}},{key:"writeText",value:function e(t){if(!this.canWriteText()){Object(i["warn"])("Cannot write string to clipboard");return false}window.TSSSB.call("clipboardWriteString",t);return true}},{key:"canWriteHTML",value:function e(){return false}},{key:"writeHTML",value:function e(){Object(i["warn"])("We cannot write HTML in SSB");return false}}]);return e}();m();var g=function e(){return d.canWriteText()};var y=function e(t){return d.writeText(t)};var O=function e(){return d.canWriteHTML()};var E=function e(t){return d.writeHTML(t)};var j=function e(t,r){var n=Object.keys(r);if(0===n.length)return;var a=[];var o=null;try{var u=t.originalEvent||t;var p=u.clipboardData||window.clipboardData;n.forEach(function(e){try{p.setData(e,r[e]);var t=p.getData(e);r[e]===t&&a.push(e)}catch(t){Object(i["warn"])('TS.clipboard.writeTextFromEvent: error copying to "'+e+'" ('+t+")")}})}catch(e){o=e}o||0!==a.length||(o="failed to write to clipboard");if(o){Object(i["error"])("clipboard.writeTextFromEvent: "+o);return}t.preventDefault();"cut"===t.type&&Object(s["a"])()&&Object(c["a"])(document.activeElement);Object(l["b"])("CLIPBOARD_WRITE",{action:t.type,err:o,types:a.join(",")})}},17082:function(e,t,r){"use strict";r.d(t,"a",function(){return h});var n=r(17123);var a=r(16923);var i=r(17104);var o=r(17733);var s=r(16916);var c=r(18586);var l=r(18587);var u=r(18588);var p=r(18589);var f=r(18626);var d=r(18627);var v=r(17307);var h={addReaction:"add_reaction",comment:"comment",copyLink:"copy_link",deleteMessage:"delete_message",editMessage:"edit_message",markUnread:"mark_unread",pin:"pin",remind:"remind",removeBroadcast:"remove_broadcast",shareMessage:"share_message",star:"star",subscribe:"subscribe"};var m=function e(t,r,m,b){var _=m.ts,g=m.channelId;if(r.appId)return b(Object(n["runMessageAction"])({actionId:r.id,appId:r.appId,messageTs:_,channelId:g}));switch(r.id){case h.addReaction:return Object(c["a"])(t,m,b);case h.comment:return b(Object(l["a"])({ts:_,channelId:g}));case h.copyLink:return b(Object(u["a"])({ts:_,channelId:g}));case h.deleteMessage:return b(Object(p["a"])({ts:_,channelId:g}));case h.editMessage:Object(s["warn"])("Edit message is an unhandled case");return null;case h.markUnread:return b(Object(a["setUnreadPoint"])({channelId:g,unreadTs:_}));case h.pin:return b(Object(i["togglePin"])({ts:_,channelId:g}));case h.remind:Object(s["warn"])("Remind is an unhandled case");return null;case h.removeBroadcast:return b(Object(f["a"])({ts:_,channelId:g}));case h.shareMessage:return b(Object(d["a"])({ts:_,channelId:g}));case h.star:return b(Object(v["b"])({ts:_,channelId:g}));case h.subscribe:return b(Object(o["toggleThreadSubscription"])({ts:_,channelId:g}));default:Object(s["warn"])("Unknown action type "+r.id);return null}};t["b"]=m},17097:function(e,t,r){"use strict";r.d(t,"b",function(){return a});r.d(t,"a",function(){return i});var n=r(16914);var a=Object(n["c"])("TS.enterprise.actions.dispatch",function(){return null});var i=Object(n["c"])("TS.enterprise.actions.actions",function(){return null})},17116:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(16959);var f=r(16985);var d=r(16993);var v=r(17045);var h=r(17112);var m=r(20125);var b=r.n(m);var _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var g=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j={entityType:o.a.oneOf(["member","org","workspace","app"]).isRequired,dimension:o.a.number.isRequired,entityData:o.a.object.isRequired,onClick:o.a.func,customClasses:o.a.string,featureReactMessages:o.a.bool.isRequired,featureReactMemberProfileCard:o.a.bool.isRequired};var k={entityType:"member",onClick:l["noop"],customClasses:null};var w=function(e){E(t,e);function t(){y(this,t);return O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}g(t,[{key:"getImageKeyFromDimension",value:function e(t,r){var n={member:[512,192,72,48,32,24],app:[1024,512,192,128,96,72,64,48,36,32],workspace:[230,132,102,88,68,44,34],org:[230,132,102,88,68,44,34]};var a=Object(v["a"])(t,n[r]);return"image_"+a}},{key:"mapRawMemberDataToProps",value:function e(t){var r=t.rawMemberData,n=t.iconDimension,a=t.customClasses,i=t.clickHandler;var o=Object(h["a"])({size:n,teamId:Object(l["get"])(r,"enterprise_id"),memberId:Object(l["get"])(r,"id"),avatarHash:Object(l["get"])(r,"profile.avatar_hash")});return{imageUrl:o.imageUrl,imageUrl2x:o.imageUrl2x,isExternal:r.is_external,isRestricted:r.is_restricted,isUltraRestricted:r.is_ultra_restricted,size:n,className:a,onClick:i}}},{key:"mapRawWorkspaceOrOrgDataToProps",value:function e(t){var r=t.rawWorkspaceOrOrgData,n=t.iconDimension,a=t.customClasses;return{size:n,icon:r.icon,showToolTip:false,teamName:r.name,className:a}}},{key:"render",value:function e(){var t=this.props,r=t.entityType,n=t.entityData,i=t.customClasses,o=t.dimension,s=t.onClick,l=t.featureReactMessages,u=t.featureReactMemberProfileCard;var p=c()(i,"p-ent_entity_icon");switch(r){case"member":var v={rawMemberData:n,iconDimension:o,customClasses:p,clickHandler:s};var h=this.mapRawMemberDataToProps(v);return a.a.createElement(f["a"],_({},h,{featureReactMessages:l,featureReactMemberProfileCard:u}));case"org":case"workspace":var m={rawWorkspaceOrOrgData:n,iconDimension:o,customClasses:p};var b=this.mapRawWorkspaceOrOrgDataToProps(m);return a.a.createElement(d["a"],b);default:var g="?";return a.a.createElement(d["a"],{teamName:g,size:o})}}}]);return t}(n["PureComponent"]);w.displayName="EntityIcon";w.propTypes=j;w.defaultProps=k;t["a"]=Object(p["a"])("feature_react_messages","feature_react_member_profile_card")(w)},17117:function(e,t,r){"use strict";r.d(t,"c",function(){return a});r.d(t,"b",function(){return i});r.d(t,"a",function(){return o});r.d(t,"d",function(){return s});r.d(t,"e",function(){return l});var n=600;var a=360;var i=360;var o=16;var s=2*o;var c=80;var l=2*c},17121:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"requestPropType",function(){return E});r.d(t,"responsePropType",function(){return w});r.d(t,"setEditableRequestQueryFilterOnly",function(){return S});r.d(t,"getEditableRequestQuery",function(){return T});r.d(t,"getRequestQuery",function(){return I});r.d(t,"clearResponse",function(){return N});r.d(t,"setRequestFromEditableRequest",function(){return P});r.d(t,"getEditableRequestQueryFilter",function(){return R});r.d(t,"setEditableRequestChannelObjects",function(){return M});r.d(t,"resetEditableRequest",function(){return x});r.d(t,"setResponse",function(){return L});r.d(t,"appendResponse",function(){return D});r.d(t,"setFilterSuggestions",function(){return F});r.d(t,"clearFilterSuggestions",function(){return B});r.d(t,"setLastFetchAllRequestId",function(){return U});r.d(t,"setEditableRequestQueryThenRequest",function(){return q});r.d(t,"toggleEditableRequestQueryFilterFromItem",function(){return G});r.d(t,"toggleEditableRequestQueryFilterInItem",function(){return W});r.d(t,"setEditableRequestQueryFilterBefore",function(){return V});r.d(t,"setEditableRequestQueryFilterAfter",function(){return K});r.d(t,"setEditableRequestQueryFilterFileType",function(){return z});r.d(t,"getEditableRequest",function(){return X});r.d(t,"getEditableRequestQueryFilterHistory",function(){return Z});r.d(t,"getEditableRequestQueryFilterFrom",function(){return $});r.d(t,"getEditableRequestQueryFilterIn",function(){return ee});r.d(t,"getEditableRequestQueryFilterAfter",function(){return te});r.d(t,"getEditableRequestQueryFilterBefore",function(){return re});r.d(t,"getEditableRequestChannelObjects",function(){return ne});r.d(t,"getEditableRequestQueryFilterFileType",function(){return ae});r.d(t,"getRequest",function(){return ie});r.d(t,"getPreviousRequest",function(){return oe});r.d(t,"getPreviousRequestQuery",function(){return se});r.d(t,"getResponse",function(){return ce});r.d(t,"getResponseModule",function(){return le});r.d(t,"getResponseQuery",function(){return ue});r.d(t,"getLastFetchAllRequestId",function(){return pe});r.d(t,"getFilterSuggestions",function(){return fe});r.d(t,"getRequestIdForModule",function(){return de});var n=r(3);var a=r.n(n);var i=r(1);var o=r.n(i);var s=r(16915);var c=r(17328);var l=r(17122);var u=r(19779);var p=r(17208);var f=r(20482);var d=r(20427);var v=r(17325);var h=r(20567);var m;var b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function _(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function g(e,t){var r=Object(s["a"])(e);r.propTypes=t;return r}var y=a.a.shape({from:a.a.arrayOf(a.a.string).isRequired,in:a.a.arrayOf(a.a.string).isRequired,after:a.a.string,before:a.a.string});var O={query:a.a.string.isRequired,queryFilter:y.isRequired,channelObjects:a.a.object,requestInstanceId:a.a.string};var E=a.a.shape(O);var j=a.a.shape({pagination:a.a.shape({page:a.a.number.isRequired,first:a.a.number,last:a.a.number,page_count:a.a.number,per_page:a.a.number,total_count:a.a.number}).isRequired,items:a.a.arrayOf(a.a.shape({channel:a.a.shape({id:a.a.string}),iid:a.a.string,messages:a.a.arrayOf(a.a.shape({ts:a.a.string,text:a.a.string,permalink:a.a.string,user:a.a.string}))})).isRequired,filters:a.a.oneOfType([a.a.shape({from:a.a.arrayOf(a.a.string),in:a.a.arrayOf(a.a.string),after:a.a.string,before:a.a.string}),a.a.array]),query:a.a.string,request_id:a.a.string});var k={query:a.a.string.isRequired,module:a.a.string.isRequired,result:j.isRequired};var w=a.a.shape(k);var C=g("Set the query string for the editable request query",{query:a.a.string.isRequired});var S=g("Set the query filter object on the editable request",{queryFilter:y.isRequired});var T=Object(s["d"])(function(e){return e&&e.searchResults&&e.searchResults.editableRequest&&e.searchResults.editableRequest.query});var I=Object(s["d"])(function(e){return e&&e.searchResults&&e.searchResults.request&&e.searchResults.request.query});var N=g("Remove results modules for the search",{});var A=g("Promote the editable request to become the request",{});var P=Object(s["e"])("Set a request from the editable request",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.fetchSuggestions,a=void 0===n||n;e(A());var i=I(t());e(N());e(Object(v["a"])({query:i,fetchSuggestions:a}));i&&Object(v["j"])(i)});P.propTypes={fetchSuggestions:a.a.bool};var R=Object(s["d"])(function(e){return e&&e.searchResults&&e.searchResults.editableRequest&&e.searchResults.editableRequest.queryFilter});var M=g("Set the map of channel objects we need in order to render the channel filter.",{channels:a.a.object.isRequired});var x=g("Reset the editable request",{});var L=g("Set the search results",k);var D=g("Adds to the search results",{module:a.a.string.isRequired,result:j.isRequired});var F=Object(s["a"])("Set the suggestions for the current search query");F.propTypes={suggestions:a.a.shape({from:a.a.arrayOf(a.a.string),in:a.a.arrayOf(a.a.string)})};var B=Object(s["a"])("Clear the suggestions for the current search query");B.propTypes=null;var U=Object(s["a"])("Set the request ID for the current fetchAllSearchResults call");U.propTypes={id:a.a.string.isRequired};var H=Object(s["e"])("Set the query filter object on the editable request and update the query",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.queryFilter;var a=t();var i=Object(u["c"])(a,T(a),n);Object(f["a"])(a,i).then(function(t){e(C({query:t}));e(Object(c["setSearchInputBoxDisplayQuery"])({displayQuery:i}));e(S({queryFilter:n}));e(P({fetchSuggestions:false}))});e(Object(l["setQuerySessionId"])({querySessionId:Object(p["a"])()}));e(Object(d["a"])())});H.propTypes={queryFilter:y};var q=Object(s["e"])("Set the query in the request which is being edited",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.query;var a=t();e(N());e(Object(l["resetScrollPosition"])());e(Object(l["setLoadingModule"])({moduleType:h["a"].relevantMessages,loading:true}));e(Object(l["setLoadingModule"])({moduleType:h["a"].recentMessages,loading:true}));e(Object(l["setLoadingModule"])({moduleType:"files",loading:true}));var i=Object(u["b"])(a,n);e(S({queryFilter:i}));Object(f["a"])(a,n).then(function(t){e(C({query:t}));e(P({fetchSuggestions:true}))})});q.propTypes={query:a.a.string.isRequired};var G=Object(s["e"])("Update a `from` filters for the search",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.memberId;var a=t();var o=R(a);var s=o&&o.from||[];Object(i["includes"])(s,n)?s=s.filter(function(e){return e!==n}):s.push(n);e(H({queryFilter:b({},o,{from:s})}))});G.propTypes={memberId:a.a.string.isRequired};var W=Object(s["e"])("Update a `in` filters for the search",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.channelId;var a=t();var o=R(a);var s=o&&o.in||[];Object(i["includes"])(s,n)?s=s.filter(function(e){return e!==n}):s.push(n);e(H({queryFilter:b({},o,{in:s})}))});W.propTypes={channelId:a.a.string.isRequired};var V=Object(s["e"])("Set the (possibly undefined) before filter date string on the editable request",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.dateString;e(H({queryFilter:b({},R(t()),{before:n})}))});V.propTypes={dateString:a.a.string};var K=Object(s["e"])("Set the (possibly undefined) before filter date string on the editable request",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.dateString;e(H({queryFilter:b({},R(t()),{after:n})}))});K.propTypes={dateString:a.a.string};var z=Object(s["e"])("Update the file type for the search",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.fileType;e(H({queryFilter:b({},R(t()),{fileType:n})}))});z.propTypes={fileType:a.a.string.isRequired};var Q={previousRequest:void 0,request:void 0,editableRequest:{query:"",queryFilter:{from:[],in:[],after:void 0,before:void 0},queryFilterHistory:{from:[],in:[],fileType:void 0},channelObjects:{}},suggestions:{from:[],in:[]},response:void 0,lastFetchAllRequestId:""};var Y=Object(s["c"])((m={},_(m,C,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.query;return b({},e,{editableRequest:b({},e.editableRequest,{query:r})})}),_(m,S,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.queryFilter;return b({},e,{editableRequest:b({},e.editableRequest,{queryFilter:r,queryFilterHistory:b({},e.editableRequest.queryFilterHistory,{from:Object(i["uniq"])(Object(i["concat"])(e.editableRequest.queryFilterHistory.from||[],r.from||[])),in:Object(i["uniq"])(Object(i["concat"])(e.editableRequest.queryFilterHistory.in||[],r.in||[]))})}),suggestions:b({},e.suggestions,{from:Object(i["uniq"])(Object(i["concat"])(e.suggestions&&e.suggestions.from||[],r.from||[])),in:Object(i["uniq"])(Object(i["concat"])(e.suggestions&&e.suggestions.in||[],r.in||[]))})})}),_(m,M,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.channels;return b({},e,{editableRequest:b({},e.editableRequest,{channelObjects:r})})}),_(m,x,function(e){return b({},e,{editableRequest:b({},Q.editableRequest,{queryFilter:{from:[],in:[],before:void 0,after:void 0,fileType:void 0},queryFilterHistory:{from:[],in:[]}}),suggestions:{from:[],in:[]}})}),_(m,A,function(e){return b({},e,{previousRequest:e&&e.request,request:b({},e.editableRequest,{requestInstanceId:Object(p["a"])()})})}),_(m,L,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.query,n=t.module,a=t.result;return b({},e,{response:b({},e.response||{},{query:r,results:b({},e.response&&e.response.results||{},_({},n,b({},a,{items:_({},a.pagination.page,a.items),requestIds:{1:a.request_id}}))),filters:a.filters?a.filters:{}})})}),_(m,D,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.module,n=t.result,a=t.page;return b({},e,{response:b({},e.response||{},{results:b({},e.response&&e.response.results||{},_({},r,b({},e.response&&e.response.results&&e.response.results[r]||{},{items:b({},e.response.results[r].items,_({},n.pagination.page,n.items)),pagination:J(e.response.results[r].pagination,n.pagination),requestIds:b({},e.response.results[r].requestIds,_({},a,n.request_id))})))})})}),_(m,N,function(e){return b({},e,{response:Q.response})}),_(m,F,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.suggestions;return b({},e,{suggestions:r})}),_(m,B,function(e){return b({},e,{suggestions:Q.suggestions})}),_(m,U,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.id;return b({},e,{lastFetchAllRequestId:r})}),m),Q);t["default"]=Y;function J(e,t){return b({},e,{last:t.last,total_count:t.total_count})}var X=Object(s["d"])(function(e){return e&&e.searchResults&&e.searchResults.editableRequest});var Z=Object(s["d"])(function(e){return e&&e.searchResults&&e.searchResults.editableRequest&&e.searchResults.editableRequest.queryFilterHistory});var $=Object(s["d"])(function(e){return e&&e.searchResults&&e.searchResults.editableRequest&&e.searchResults.editableRequest.queryFilter&&e.searchResults.editableRequest.queryFilter.from});var ee=Object(s["d"])(function(e){return e&&e.searchResults&&e.searchResults.editableRequest&&e.searchResults.editableRequest.queryFilter&&e.searchResults.editableRequest.queryFilter.in});var te=Object(s["d"])(function(e){return e&&e.searchResults&&e.searchResults.editableRequest&&e.searchResults.editableRequest.queryFilter&&e.searchResults.editableRequest.queryFilter.after});var re=Object(s["d"])(function(e){return e&&e.searchResults&&e.searchResults.editableRequest&&e.searchResults.editableRequest.queryFilter&&e.searchResults.editableRequest.queryFilter.before});var ne=Object(s["d"])(function(e){return e&&e.searchResults&&e.searchResults.editableRequest&&e.searchResults.editableRequest.channelObjects});var ae=Object(s["d"])(function(e){return e&&e.searchResults&&e.searchResults.editableRequest&&e.searchResults.editableRequest.queryFilter&&e.searchResults.editableRequest.queryFilter.fileType});var ie=Object(s["d"])(function(e){return e&&e.searchResults&&e.searchResults.request});var oe=Object(s["d"])(function(e){return e&&e.searchResults&&e.searchResults.previousRequest});var se=Object(s["d"])(function(e){return e&&e.searchResults&&e.searchResults.previousRequest&&e.searchResults.previousRequest.query});var ce=Object(s["d"])(function(e){return e&&e.searchResults&&e.searchResults.response});var le=Object(s["d"])(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.module;return e&&e.searchResults&&e.searchResults.response&&e.searchResults.response.results&&e.searchResults.response.results[r]});var ue=Object(s["d"])(function(e){return e&&e.searchResults&&e.searchResults.response&&e.searchResults.response.query});var pe=Object(s["d"])(function(e){return e&&e.searchResults&&e.searchResults.lastFetchAllRequestId});var fe=Object(s["d"])(function(e){return e&&e.searchResults&&e.searchResults.suggestions});var de=Object(s["d"])(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.module,n=t.page,a=void 0===n?1:n;return e&&e.searchResults&&e.searchResults.response&&e.searchResults.response.results&&e.searchResults.response.results[r]&&e.searchResults.response.results[r].requestIds&&e.searchResults.response.results[r].requestIds[a]})},17122:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"SEARCH_SESSION_TIMEOUT_MS",function(){return d});r.d(t,"interfaceModes",function(){return h});r.d(t,"setTabOnly",function(){return m});r.d(t,"setInterfaceIsVisibleOnly",function(){return b});r.d(t,"setLoadingModule",function(){return _});r.d(t,"setPageForModule",function(){return g});r.d(t,"MODULE_ERROR_STATE",function(){return y});r.d(t,"setErrorForModule",function(){return E});r.d(t,"setStateForModule",function(){return j});r.d(t,"setScrollPosition",function(){return k});r.d(t,"setDefaultTab",function(){return w});r.d(t,"resetScrollPosition",function(){return C});r.d(t,"setQuerySessionId",function(){return S});r.d(t,"setSearchSessionId",function(){return T});r.d(t,"setSessionTimeoutId",function(){return I});r.d(t,"setLastOpenMethod",function(){return N});r.d(t,"setInterfaceMode",function(){return A});r.d(t,"getInterfaceMode",function(){return M});r.d(t,"getTab",function(){return x});r.d(t,"getVisible",function(){return L});r.d(t,"getModuleState",function(){return D});r.d(t,"getScrollPosition",function(){return F});r.d(t,"getQuerySessionId",function(){return B});r.d(t,"getSearchSessionId",function(){return U});r.d(t,"getSessionTimeoutId",function(){return H});r.d(t,"getLastOpenMethod",function(){return q});var n=r(3);var a=r.n(n);var i=r(16915);var o=r(17208);var s=r(1);var c=r.n(s);var l=r(20427);var u;var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function f(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var d=3e5;var v=Object(i["a"])("Set the interfaceMode field (see setInterfaceMode thunk for general usage)");v.propTypes={interfaceMode:a.a.oneOf(["EDIT","SEARCH_RESULTS"]).isRequired};var h={EDIT:"EDIT",SEARCH_RESULTS:"SEARCH_RESULTS"};var m=Object(i["a"])("Set the currently active tab field in Search (use setTab instead for components)");m.propTypes={tab:a.a.string.isRequired};var b=Object(i["a"])("Set the field representing whether or not Search is visible");b.propTypes={visible:a.a.bool.isRequired};var _=Object(i["a"])("Set the loading state of a specific module");_.propTypes={moduleType:a.a.string.isRequired,loading:a.a.bool.isRequired};var g=Object(i["a"])("Set the pagination state for a specific module");g.propTypes={moduleType:a.a.string.isRequired,page:a.a.number.isRequired};var y={None:"none",Timeout:"timeout",Unknown:"unknown"};var O=a.a.oneOf(Object(s["values"])(y));var E=Object(i["a"])("Set the error state for a specific module");E.propTypes={moduleType:a.a.string.isRequired,error:O.isRequired,loading:a.a.bool.isRequired};var j=Object(i["a"])("Set the entire UI state for a specific module");j.propTypes={moduleType:a.a.string.isRequired,moduleState:a.a.shape({error:O.isRequired,loading:a.a.bool.isRequired,page:a.a.number.isRequired}).isRequired};var k=Object(i["a"])("Set the last scroll position for all of the search tabs");k.propTypes=a.a.shape({all:a.a.number,messages:a.a.number,files:a.a.number});var w=Object(i["a"])("Set the currently active tab field in Search to the default tab (use setTab instead for components)",{});w.propTypes=null;var C=Object(i["a"])("Reset the scroll position for all of the search tabs to zero");C.propTypes=null;var S=Object(i["a"])("Sets the ID for the query session");S.propTypes={querySessionId:a.a.string.isRequired};var T=Object(i["a"])("Sets the ID for the search session");T.propTypes={searchSessionId:a.a.string.isRequired};var I=Object(i["a"])("Sets the ID associated with the search session clear timer");I.propTypes={sessionTimeoutId:a.a.number};var N=Object(i["a"])("Sets the lastOpenMethod field, which tracks how the search interface was opened");N.propTypes={lastOpenMethod:a.a.string};var A=Object(i["e"])("Set the interface mode",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.interfaceMode;var a=t();var i=a&&a.searchUi&&a.searchUi.interfaceMode===n;var s=a&&a.searchUi&&a.searchUi.visible;if(i)return;e(v({interfaceMode:n}));if(s&&n===h.EDIT){e(S({querySessionId:Object(o["a"])()}));e(Object(l["a"])())}});A.propTypes={interfaceMode:a.a.oneOf(["EDIT","SEARCH_RESULTS"]).isRequired};var P={interfaceMode:"EDIT",tab:"messages",visible:false,requestQuery:null,modules:{},scrollPosition:{all:0,messages:0,files:0},querySessionId:"",searchSessionId:"",sessionTimeoutId:null,lastOpenMethod:null};var R=Object(i["c"])((u={},f(u,v,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.interfaceMode;return p({},e,{interfaceMode:r})}),f(u,m,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.tab;return p({},e,{tab:r})}),f(u,b,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.visible;return p({},e,{visible:r})}),f(u,_,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.moduleType,n=t.loading;return p({},e,{modules:p({},e.modules,f({},r,p({},e.modules[r],{loading:n})))})}),f(u,g,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.moduleType,n=t.page;return p({},e,{modules:p({},e.modules,f({},r,p({},e.modules[r],{page:n})))})}),f(u,E,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.moduleType,n=t.error,a=t.loading;return p({},e,{modules:p({},e.modules,f({},r,p({},e.modules[r],{error:n,loading:a})))})}),f(u,j,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.moduleType,n=t.moduleState;return p({},e,{modules:p({},e.modules,f({},r,p({},e.modules[r],n)))})}),f(u,w,function(e){return p({},e,{tab:P.tab})}),f(u,k,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.scrollPosition;return p({},e,{scrollPosition:r})}),f(u,C,function(e){return p({},e,{scrollPosition:P.scrollPosition})}),f(u,S,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.querySessionId;return p({},e,{querySessionId:r})}),f(u,T,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.searchSessionId;return p({},e,{searchSessionId:r})}),f(u,I,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.sessionTimeoutId;return p({},e,{sessionTimeoutId:r})}),f(u,N,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.lastOpenMethod;return p({},e,{lastOpenMethod:r})}),u),P);t["default"]=R;var M=Object(i["d"])(function(e){return e&&e.searchUi&&e.searchUi.interfaceMode});var x=Object(i["d"])(function(e){return e&&e.searchUi&&e.searchUi.tab});var L=Object(i["d"])(function(e){return e&&e.searchUi&&e.searchUi.visible});var D=Object(i["d"])(function(e,t){return e&&e.searchUi&&e.searchUi.modules&&e.searchUi.modules[t]});var F=Object(i["d"])(function(e){return e&&e.searchUi&&e.searchUi.scrollPosition});var B=Object(i["d"])(function(e){return e&&e.searchUi&&e.searchUi.querySessionId});var U=Object(i["d"])(function(e){return e&&e.searchUi&&e.searchUi.searchSessionId});var H=Object(i["d"])(function(e){return e&&e.searchUi&&e.searchUi.sessionTimeoutId});var q=Object(i["d"])(function(e){return e&&e.searchUi&&e.searchUi.lastOpenMethod})},17123:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"ACTION_TYPES",function(){return j});r.d(t,"markAsFetching",function(){return N});r.d(t,"storeFetchResults",function(){return A});r.d(t,"storeFetchError",function(){return P});r.d(t,"markAsStale",function(){return R});r.d(t,"uninstallAppActions",function(){return M});r.d(t,"markMessageActionAsRunning",function(){return x});r.d(t,"storeMessageActionSuccess",function(){return L});r.d(t,"storeMessageActionError",function(){return D});r.d(t,"ensureFresh",function(){return X});r.d(t,"runMessageAction",function(){return $});r.d(t,"selectAppActions",function(){return ee});r.d(t,"selectMessageActions",function(){return re});r.d(t,"selectGlobalActions",function(){return ne});r.d(t,"selectGlobalActionsCache",function(){return ae});r.d(t,"selectIsMessageActionRunning",function(){return ie});r.d(t,"test",function(){return oe});var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(263);var u=r.n(l);var p=r(17083);var f=r(16915);var d=r(16971);var v=r(17732);var h=r(17675);var m=r(17020);var b=r(16913);var _=r(17049);var g;var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function O(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function E(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}var j={messageAction:"message_action",globalAction:"global_action"};var k=d["error"];var w=h["a"];var C=h["b"];var S=p["a"];var T={actionId:o.a.string.isRequired,appId:o.a.string.isRequired,channelId:o.a.string.isRequired,messageTs:o.a.string.isRequired};var I={action_id:o.a.string.isRequired,type:o.a.oneOf(Object(s["values"])(j)),name:o.a.string.isRequired,description:o.a.string};var N=Object(f["a"])("Mark app actions fetch as in flight");N.propTypes=null;var A=Object(f["a"])("App action fetch success");A.propTypes=o.a.arrayOf(o.a.shape({app_id:o.a.string.isRequired,app_name:o.a.any,icons:o.a.any,actions:o.a.arrayOf(o.a.shape(I))}));var P=Object(f["a"])("App action fetch failed");P.propTypes=null;var R=Object(f["a"])("Mark app actions as stale");R.propTypes=null;var M=Object(f["a"])("Uninstalls actions for an app");M.propTypes=o.a.arrayOf(o.a.string).isRequired;var x=Object(f["a"])("Mark message action as running");x.propTypes=T;var L=Object(f["a"])("Message action success");L.propTypes=T;var D=Object(f["a"])("Message action failed");D.propTypes=T;var F=function e(t){return y({},t,{fetchInFlight:true,fetchError:false,fresh:true})};var B=function e(t,r){var n={};var a={};Object(s["forEach"])(r,function(e){var t=e.app_id,r=e.app_name,i=e.icons,o=e.actions;a[t]=o.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=e.action_id,r=E(e,["action_id"]);return y({id:t},r)});n[t]={id:t,name:r,icons:i}});return y({},t,{infoByAppId:n,actionsByAppId:a,fetchInFlight:false,fetchError:false})};var U=function e(t){return y({},t,{fresh:false,fetchInFlight:false,fetchError:true})};var H=function e(t){return t.fresh?y({},t,{fresh:false}):t};var q=function e(t,r){var n=t.infoByAppId,a=t.actionsByAppId;return y({},t,{infoByAppId:Object(s["omit"])(n,r),actionsByAppId:Object(s["omit"])(a,r)})};function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channelId,r=e.messageTs;return[t,r].join(".")}var W=function e(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.params;return r.actionId===t.actionId&&r.appId===t.appId}};function V(e,t,r){var n=t.appId,a=t.actionId;var i=G(t);var o=Object(s["clone"])(e[i])||[];var c=o.findIndex(W({actionId:a,appId:n}));var l=r&&r(c>=0?o[c]:null);c>=0?l?o.splice(c,1,l):o.splice(c,1):l&&o.push(l);if(o.length)return y({},e,O({},i,o));return Object(s["omit"])(e,[i])}var K=function e(t,r){var n=t.infoByAppId,a=t.actionsByAppId,i=t.messageActionCalls;var o=r.actionId,s=r.appId;var c=n[s];if(!c)throw new Error("No info for app "+s);var l=a[s]||[];var u=l.find(function(e){return e.id===o});if(!u)throw new Error("No action with id "+o);return y({},t,{messageActionCalls:V(i,r,function(){return{app:c,action:u,params:r}})})};var z=function e(t,r){return y({},t,{messageActionCalls:V(t.messageActionCalls,r)})};var Q=z;var Y={infoByAppId:{},actionsByAppId:{},messageActionCalls:{}};var J=Object(f["c"])((g={},O(g,N,F),O(g,A,B),O(g,P,U),O(g,R,H),O(g,M,q),O(g,x,K),O(g,L,z),O(g,D,Q),g),Y);t["default"]=J;var X=Object(f["e"])("Ensures the most up to date actions are available",function(e,t){var r=t();if(!Object(b["isFeatureEnabled"])(r,"feature_app_actions_fe"))return Promise.resolve();var n=ee(r),a=n.fresh;if(!a){e(N());return e(w()).then(function(t){return e(A(t))}).catch(function(t){e(P());e(k(t))})}return Promise.resolve()});function Z(e,t){if(!e||!t)return false;var r=G(t);var n=e.messageActionCalls[r];if(!n||!n.length)return false;var a=t.actionId,i=t.appId;if(a&&i)return!!n.find(W({actionId:a,appId:i}));return true}var $=Object(f["e"])("Runs a message action",function(e,t,r){var n=t();var i=ee(n);if(Z(i,r))return Promise.resolve();e(x(r));return e(C(y({},r,{type:"message_action"}))).then(function(){return e(L(r))}).catch(function(){e(D(r));var t=function t(){return e($(r))};var n=a.a.createElement(v["a"],{onRetry:t});e(Object(_["enqueueToast"])({element:n}))})});$.propTypes={actionId:o.a.string,appId:o.a.string,channelId:o.a.string,messageTs:o.a.string};var ee=Object(f["d"])(function(e){return e&&e.appActions||Y});var te=Object(l["createSelector"])([function(e){return ee(e).infoByAppId},function(e){return ee(e).actionsByAppId},function(e){return ee(e).messageActionCalls}],function(e,t,r){var n={};Object(s["forEach"])(t,function(t,r){Object(s["forEach"])(t,function(t){if(t.type!==j.messageAction)return;var a=y({app:e[r]},t);var i=Object(m["d"])(t);n[i]=a})});if(!Object(s["size"])(n))return[];var a=S(m["a"]);var i=[];Object(s["forEach"])(a,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id;var r=n[t];r&&i.push(r);delete n[t]});Object(s["forEach"])(n,function(e){return i.push(e)});return i});var re=Object(f["d"])(function(e){var t=ee(e),r=t.fetchInFlight,n=t.fetchError;var a=te(e);return{actions:a,loading:!!r,error:!!n}});var ne=Object(f["d"])(Object(l["createSelector"])([ee],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.infoByAppId,r=e.actionsByAppId,n=e.fetchError,a=e.fetchInFlight;var i=[];Object(s["forEach"])(r,function(e,r){Object(s["forEach"])(e,function(e){if(e.type!==j.globalAction)return;var n=y({app:t[r]},e);i.push(n)})});return{actions:i,loading:!!a,error:!!n}}));var ae=Object(f["d"])(Object(l["createSelector"])([ne],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.actions;return se(t)}));var ie=Object(f["d"])(function(e,t){var r=ee(e);return Z(r,t)});var oe={};Object.defineProperty(oe,"getMostCommonWithPrefix",{get:function e(){return S},set:function e(t){S=t}});Object.defineProperty(oe,"fetchAppActions",{get:function e(){return w},set:function e(t){w=t}});Object.defineProperty(oe,"runAppAction",{get:function e(){return C},set:function e(t){C=t}});Object.defineProperty(oe,"error",{get:function e(){return k},set:function e(t){k=t}});function se(e){var t={};Object(s["forEach"])(e,function(e){t[e.id]=e});return t}},17130:function(e,t,r){"use strict";t["a"]=s;t["b"]=l;var n=r(1);var a=r.n(n);var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function o(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["reduce"])(e,function(e,t,r){return i({},e,o({},Object(n["snakeCase"])(r),t))},{})}var c=5;function l(e){return u(e,0)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!Object(n["isObject"])(e)&&!Object(n["isArray"])(e)||t>c)return e;var r=t+1;var a=void 0;Object(n["isArray"])(e)?Object(n["isArray"])(e)&&(a=Object(n["map"])(e,function(e){return l(e,r)})):a=Object(n["reduce"])(e,function(e,t,a){return i({},e,o({},Object(n["snakeCase"])(a),l(t,r)))},{});return a}},17146:function(e,t,r){"use strict";var n=r(17772);var a=r(17262);var i=r(17264);var o=r(17823);var s=r(17703);r.d(t,"b",function(){return a["a"]});r.d(t,"c",function(){return i["a"]});r.d(t,"a",function(){return o["a"]});r.d(t,"e",function(){return s["a"]});t["d"]=n["a"]},17148:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(3);var u=r.n(l);var p=r(16938);var f=r(17081);var d=r(17117);var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _={clogLinkClick:u.a.func,icon:u.a.string,isDistinct:u.a.bool,name:u.a.string,link:u.a.string,subname:u.a.string,subnameLink:u.a.string};var g={clogLinkClick:n["noop"],icon:null,isDistinct:false,name:null,link:null,subname:null,subnameLink:null};var y=function(e){b(t,e);function t(){h(this,t);return m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}v(t,[{key:"renderInLinkMaybe",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.link;if(!r)return t;var n=c()("c-message_attachment__part","c-message_attachment__author_link");return o.a.createElement("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:n},t)}},{key:"renderIconMaybe",value:function e(){var t=this.props,r=t.icon,n=t.name;if(!r)return null;return o.a.createElement("img",{className:"c-message_attachment__author_icon",alt:n,src:Object(f["a"])({url:r,width:d["d"],height:d["d"]}),width:d["a"],height:d["a"]})}},{key:"renderNameMaybe",value:function e(){var t=this.props,r=t.clogLinkClick,n=t.name;if(!n)return null;return o.a.createElement(p["a"],{className:"c-message_attachment__author_name",clogLinkClick:r,noHighlights:true,noSpecials:true,text:n})}},{key:"renderIconAndNameMaybe",value:function e(){var t=this.props,r=t.icon,n=t.name;if(!r&&!n)return null;return this.renderInLinkMaybe(o.a.createElement("span",{className:"c-message_attachment__part"},this.renderIconMaybe(),this.renderNameMaybe()))}},{key:"renderSubnameMaybe",value:function e(){var t=this.props,r=t.clogLinkClick,n=t.name,a=t.subname,i=t.subnameLink;if(!a||a===n)return null;return this.renderInLinkMaybe(o.a.createElement(p["a"],{className:"c-message_attachment__author_subname c-message_attachment__part",clogLinkClick:r,noHighlights:true,noSpecials:true,text:a}),i)}},{key:"render",value:function e(){var t=this.props,r=t.isDistinct,n=t.subname;var a=c()("c-message_attachment__author",{"c-message_attachment__author--distinct":r,"c-message_attachment__author--has_subname":n});return o.a.createElement("span",{className:a},this.renderIconAndNameMaybe(),this.renderSubnameMaybe())}}]);return t}(i["PureComponent"]);y.displayName="AttachmentAuthor";y.propTypes=_;y.defaultProps=g;t["a"]=y},17151:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"refreshStart",function(){return u});r.d(t,"refreshError",function(){return p});r.d(t,"refreshDone",function(){return f});r.d(t,"refreshReset",function(){return d});r.d(t,"STATE",function(){return v});r.d(t,"getFileRefreshState",function(){return _});r.d(t,"getFileRefreshTimeout",function(){return g});var n=r(3);var a=r.n(n);var i=r(16915);var o=r(16916);var s;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function l(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var u=Object(i["a"])("Started refreshing a file");u.propTypes={fileId:a.a.string.isRequired};var p=Object(i["a"])("Refreshing a file errored");p.propTypes={fileId:a.a.string.isRequired,timeout:a.a.number.isRequired};var f=Object(i["a"])("Finished refreshing a file");f.propTypes={fileId:a.a.string.isRequired,timeout:a.a.number.isRequired};var d=Object(i["a"])("File is ready to be refreshed again");d.propTypes={fileId:a.a.string.isRequired};var v={READY:0,REFRESHING:1,ERROR:2,DONE:3};var h={};var m="File refresh store";var b=Object(i["c"])((s={},l(s,u,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.fileId;return Object(o["info"])(m,"refreshStart")||c({},e,l({},r,{state:v.REFRESHING}))}),l(s,p,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.fileId,n=t.timeout;return Object(o["info"])(m,"refreshError")||c({},e,l({},r,{state:v.ERROR,timeout:n}))}),l(s,f,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.fileId,n=t.timeout;return Object(o["info"])(m,"refreshDone")||c({},e,l({},r,{state:v.DONE,timeout:n}))}),l(s,d,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.fileId;return Object(o["info"])(m,"refreshReset")||c({},e,l({},r,{state:v.READY}))}),s),h);t["default"]=b;var _=Object(i["d"])(function(e,t){return e&&e.fileRefresh&&e.fileRefresh[t]&&e.fileRefresh[t].state});var g=Object(i["d"])(function(e,t){return e&&e.fileRefresh&&e.fileRefresh[t]&&e.fileRefresh[t].timeout})},17157:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(17017);var f=r(20122);var d=r.n(f);var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _={size:a.a.oneOf(Object(l["values"])(p["a"])),suffix:a.a.string.isRequired,placeholder:a.a.string,value:a.a.string,children:a.a.node.isRequired};var g={placeholder:null,size:p["a"].medium,value:""};var y=function(e){b(t,e);function t(){h(this,t);return m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}v(t,[{key:"getOverlayText",value:function e(){return this.props.value||this.props.placeholder}},{key:"renderOverlay",value:function e(){var t=this.props,r=t.size,n=t.suffix;var a=c()("c-input_text_overlay",{"c-input_text_overlay--large":r===p["a"].large});return o.a.createElement("div",{className:a,"data-overlay-suffix":n,"aria-hidden":"true","data-qa":"text_overlay_suffix"},this.getOverlayText())}},{key:"render",value:function e(){var t=this.props,r=t.children,n=t.suffix;return o.a.createElement("div",{className:"position_relative","aria-describedby":"Text input with "+n+" appended to the text value."},this.renderOverlay(),r)}}]);return t}(i["PureComponent"]);y.displayName="TextOverlay";y.propTypes=_;y.defaultProps=g;t["a"]=y},17184:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(20154);var u=r.n(l);var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m={className:a.a.string};var b={className:null};var _=function(e){h(t,e);function t(){d(this,t);return v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}f(t,[{key:"render",value:function e(){var t=this.props.className;var r=c()("c-input_radio",t);return o.a.createElement("input",p({},this.props,{className:r,type:"radio"}))}}]);return t}(i["PureComponent"]);_.displayName="Radio";_.propTypes=m;_.defaultProps=b;t["a"]=_},17188:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(16947);var f=r(16948);var d=r(17262);var v=r(20165);var h=r.n(v);var m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y={file:p["a"].File().isRequired,onClick:o.a.func,clogLinkClick:o.a.func,className:o.a.string,fullWidth:o.a.bool,children:o.a.node,showActions:o.a.bool};var O={onClick:null,clogLinkClick:l["noop"],className:void 0,fullWidth:false,children:void 0,showActions:true};var E=function(e){g(t,e);function t(){b(this,t);return _(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}m(t,[{key:"renderInnerContents",value:function e(){var t=this.props,r=t.file,n=t.onClick,i=t.fullWidth,o=t.children;var s=r.permalink;var l=c()("c-pillow_file",{"c-pillow_file--full_width":i});if(n&&!Object(f["isTombstone"])(r))return a.a.createElement("a",{className:l,href:s,target:s,onClick:n},o);return a.a.createElement("div",{className:l},o)}},{key:"render",value:function e(){var t=this.props,r=t.file,n=t.clogLinkClick,i=t.fullWidth,o=t.showActions;var s=c()("c-pillow_file_container",this.props.className,{"c-pillow_file_container--full_width":i});var l=o&&!Object(f["isTombstone"])(r)?a.a.createElement(d["a"],{file:r,clogLinkClick:n}):null;return a.a.createElement("div",{className:s},this.renderInnerContents(),l)}}]);return t}(n["PureComponent"]);E.displayName="PillowFile";t["a"]=E;E.propTypes=y;E.defaultProps=O},17189:function(e,t,r){"use strict";var n=function e(t,r,n){if(!t||!r||!n)return false;switch(t){case"file":return"inline_file_msg_"+r.replace(".","_")+n.id;case"call":return"call_msg_"+n.id+r;case"attachment":if(n.imageUrl)return"img_msg_"+r+(n.id||n.imageUrl);if(n.audioHtml)return"aud_msg_"+r+(n.id||n.audioHtml);if(n.videoHtml)return"vid_msg_"+r+(n.id||n.thumbUrl);return null;case"attachmentText":return"attach_text_"+n.id+r;case"attachmentTextMore":return"attach_text_more_"+n.id+r;case"attachmentsOverLimit":return"attach_over_"+n.limit+"_"+r;default:return false}};t["a"]=n},17190:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(45);var c=r(8);var l=r.n(c);var u={color:o.a.string,className:o.a.string};var p={color:null,className:null};var f=function e(t){return"#"!==t.charAt(0)?"#"+t:t};var d=function e(t){var r=t.color,n=t.className;var i=l()("c-message_attachment__border",n);return a.a.createElement("div",{className:i,style:r&&{backgroundColor:f(r)}})};d.displayName="AttachmentBorder";d.propTypes=u;d.defaultProps=p;t["a"]=Object(s["pure"])(d)},17191:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(17016);var p=r(17189);var f=r(16938);var d=r(16912);var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=new d["b"]("attachments");var g=700;var y=5;var O={isExpanded:o.a.bool,text:o.a.string,expandKey:o.a.string,setExpanded:o.a.func,clogLinkClick:o.a.func,mrkdwnDoSpecials:o.a.bool};var E={isExpanded:false,text:null,expandKey:null,setExpanded:c["noop"],clogLinkClick:c["noop"],mrkdwnDoSpecials:false};var j=function(e){b(t,e);function t(e){h(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onClick=r.onClick.bind(r);r.onMrkdwnRender=r.onMrkdwnRender.bind(r);r.state={isExpandableStateKnown:false};return r}v(t,[{key:"componentWillReceiveProps",value:function e(t){var r=this.props.text;r!==t.text&&this.setState(function(){return{isExpandableStateKnown:false}})}},{key:"onClick",value:function e(t){var r=this.props,n=r.isExpanded,a=r.expandKey;t.preventDefault();t.target.blur();this.props.setExpanded({isExpanded:!n,key:a})}},{key:"onMrkdwnRender",value:function e(t){var r=t.isTruncated;var n=this.state.isExpandableStateKnown;if(n)return;this.setState(function(){return{isExpandableStateKnown:true,isExpandable:r}})}},{key:"renderButtonMaybe",value:function e(){var t=this.props.isExpanded;var r=this.state.isExpandable;if(!r)return null;var n=void 0;var i=void 0;var o=void 0;if(t){n=_.rt("Show less",{fallbackHash:"8ab66cf0eaeb7d2c2ab6e9650f2d73947d61510c"});i="div"}else{n=_.rt("Show more",{fallbackHash:"1e499ecc2930ea232e078d52f5ed2bc3820cd795"});i="span";o=" "}return a.a.createElement(i,null,o,a.a.createElement("button",{className:"c-message_attachment__text_expander",onClick:this.onClick},n))}},{key:"render",value:function e(){var t=this.props,r=t.text,n=t.clogLinkClick,i=t.mrkdwnDoSpecials,o=t.isExpanded;var s=this.state.isExpandableStateKnown;var c=void 0;var l=void 0;if(!s||!o){c=g;l=y}return a.a.createElement("span",{className:"c-message_attachment__text"},a.a.createElement(f["a"],{text:r,clogLinkClick:n,doSpecials:i,maxCharacters:c,maxNewlines:l,onRender:this.onMrkdwnRender}),this.renderButtonMaybe())}}]);return t}(n["PureComponent"]);j.displayName="AttachmentText";j.propTypes=O;j.defaultProps=E;var k=function e(t,r){var n=r.messageTs,a=r.id;var i=Object(p["a"])("attachmentText",n,{id:a});var o=Object(u["isExpanded"])(t,i);return{isExpanded:o,expandKey:i}};var w={setExpanded:u["setExpanded"]};t["a"]=Object(s["connect"])(k,w)(j)},17193:function(e,t,r){"use strict";r.d(t,"c",function(){return i});r.d(t,"j",function(){return o});r.d(t,"i",function(){return s});r.d(t,"h",function(){return c});r.d(t,"e",function(){return l});r.d(t,"f",function(){return u});r.d(t,"g",function(){return f});r.d(t,"b",function(){return d});r.d(t,"d",function(){return v});r.d(t,"k",function(){return h});r.d(t,"a",function(){return b});var n=r(1);var a=r.n(n);var i=function e(t){return!!(t.serviceIcon||t.authorIcon||t.serviceName||t.authorName||t.serviceUrl||t.authorLink||t.authorSubname)};var o=function e(t){return!!t.title};var s=function e(t){return!!t.text};var c=function e(t){return!!(t.more&&t.moreShowtext&&t.moreHidetext)};var l=function e(t){return!!(t.fields&&t.fields.length>0)};var u=function e(t){return!!(t.footer||t.footerIcon||t.ts||t.isAppUnfurl&&t.botId)};var p=function e(t){return!!t.imageUrl};var f=function e(t){return!!t.expandableKey};var d=function e(t){return!!(t.actions&&t.actions.length>0)};var v=function e(t){return i(t)||o(t)||s(t)||c(t)||l(t)||u(t)||f(t)||d(t)};var h=function e(t){return p(t)&&!i(t)&&!o(t)&&!c(t)&&!s(t)&&!l(t)&&!u(t)&&!d(t)};var m={sharedchannelsinvite:{type:"sharedChannelsInvite",attachmentId:"2"},sharedchannelsfindanadmin:{type:"sharedChannelsFindAnAdmin",attachmentId:"1"},sharedchannelsbetaoptin:{type:"sharedChannelsBetaOptIn",attachmentId:"1"}};var b=function e(t,r){var a=t&&Object(n["trimEnd"])(t,"_1234567890");var i=m[a];if(!i||i.attachmentId!==r)return null;return i.type}},17194:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(16947);var u=r(16948);var p=r(16912);var f=r(16959);var d=r(17805);var v=r(17264);var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=new p["b"]("files");var y={file:l["a"].File().isRequired,action:o.a.oneOf(["slide","window","external","view","detail","download"]),className:o.a.string,children:o.a.node,showThumbnail:o.a.bool,hasHighlightMarkers:o.a.bool,featureFileThreadsDarkLaunch:o.a.bool};var O={action:void 0,className:void 0,children:void 0,showThumbnail:true,hasHighlightMarkers:false,featureFileThreadsDarkLaunch:true};var E=function(e){_(t,e);function t(){m(this,t);return b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}h(t,[{key:"render",value:function e(){var t=this.props,r=t.file,n=t.action,i=t.showThumbnail,o=t.featureFileThreadsDarkLaunch,s=t.hasHighlightMarkers;var l=c()("c-pillow_file__header",this.props.className,{"c-pillow_file__header--tombstone":Object(u["isTombstone"])(r)});if(Object(u["isTombstone"])(r)){if(!o)return null;return a.a.createElement("div",{className:l},a.a.createElement(d["a"],{file:r}),a.a.createElement("span",null,g.t("This file was deleted.")))}return a.a.createElement("div",{className:l},a.a.createElement(d["a"],{file:r,action:n,showThumbnail:i}),a.a.createElement("div",{className:"c-pillow_file__description"},a.a.createElement(v["a"],{file:r,className:"c-pillow_file__title",hasHighlightMarkers:s}),a.a.createElement("div",{className:"c-pillow_file__meta"},this.props.children)))}}]);return t}(n["PureComponent"]);E.displayName="FileHeader";E.propTypes=y;E.defaultProps=O;t["a"]=Object(f["a"])("feature_file_threads_dark_launch")(E)},17206:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=10;var o="web-";var s=new RegExp("^"+o);var c=[];var l={generateAndEnqueue:function e(){var t=""+o+Date.now();c.unshift(t);c=c.slice(0,i);return t},check:function e(t){return-1!==c.indexOf(t)},getTimeDelta:function e(t){var r=Date.now();var a=parseInt(t.replace(s,""),10);if(Object(n["isNaN"])(a))throw new Error("Invalid token");return{delta:r-a,nowTs:r,tokenTs:a}},list:function e(){return c.slice()}};t["a"]=l},17207:function(e,t,r){"use strict";r.d(t,"d",function(){return o});r.d(t,"e",function(){return s});r.d(t,"b",function(){return c});r.d(t,"a",function(){return l});r.d(t,"c",function(){return u});var n=r(1);var a=r.n(n);var i=r(16914);var o=Object(i["c"])("TS.prefs.setMultiPrefsByAPI",n["noop"]);var s=Object(i["c"])("TS.prefs.setPrefByAPI",n["noop"]);var c=Object(i["c"])("TS.prefs.onPrefChanged",n["noop"]);var l=Object(i["c"])("TS.prefs.sidebar_theme_changed_sig.dispatch",n["noop"]);var u=Object(i["c"])("TS.prefs.removeTeamFromEnterpriseExcludeTeamPref",n["noop"])},17261:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);t["a"]=a.a.shape({id:a.a.string,type:a.a.string.isRequired,name:a.a.string.isRequired,description:a.a.string.isRequired,callbackId:a.a.string.isRequired})},17262:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(8);var p=r.n(u);var f=r(16923);var d=r(16946);var v=r(16913);var h=r(17104);var m=r(17678);var b=r(17151);var _=r(17307);var g=r(17004);var y=r(17697);var O=r(17395);var E=r(16948);var j=r(16920);var k=r(16947);var w=r(16918);var C=r(16917);var S=r(16932);var T=r(16950);var I=r(16912);var N=r(16941);var A=r(17598);var P=r(17816);var R=r(17817);var M=r(17818);var x=r(17819);var L=r(20145);var D=r.n(L);var F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var B=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function q(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var G=new I["b"]("file");var W={file:k["a"].File().isRequired,fileActions:o.a.objectOf(o.a.bool),channelId:o.a.string,channelName:o.a.string,channelType:o.a.string,imageWidth:o.a.number,imageHeight:o.a.number,isImage:o.a.bool,isSnippet:o.a.bool,isEmail:o.a.bool,isExpanded:o.a.bool,isFileAuthorExternal:o.a.bool,fileRefreshState:o.a.number,pinFile:o.a.func,unpinFile:o.a.func,updateStar:o.a.func,collapse:o.a.func,refreshFile:o.a.func,clogLinkClick:o.a.func,openRenameFileDialog:o.a.func,previewFile:o.a.func,openShareDialog:o.a.func,featureReactMessages:o.a.bool,featureFileThreads:o.a.bool};var V={fileActions:null,channelId:null,channelName:null,channelType:null,isImage:false,imageHeight:null,imageWidth:null,isSnippet:false,isEmail:false,isExpanded:false,isFileAuthorExternal:false,fileRefreshState:b["STATE"].READY,pinFile:l.a.noop,unpinFile:l.a.noop,updateStar:l.a.noop,collapse:l.a.noop,refreshFile:l.a.noop,clogLinkClick:l.a.noop,openRenameFileDialog:l.a.noop,previewFile:l.a.noop,openShareDialog:l.a.noop,featureReactMessages:false,featureFileThreads:false};var K=function e(t){var r=t.icon,n=t.tooltip,i=t.href,o=t.dark,s=t.onClick,c=t.ariaLabel;var l=a.a.createElement(w["c"],{className:p()("c-file__action_button","c-file__action_button--icon",{"c-file__action_button--dark":o}),href:i,onClick:s,ariaLabel:c||n},a.a.createElement(C["a"],{type:r}));return n?a.a.createElement(S["c"],{tip:n,delay:S["a"]},l):l};var z=function e(t){return t.stopPropagation()};var Q=function(e){q(t,e);function t(e){U(this,t);var r=H(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onDownload=r.onDownload.bind(r);r.onComment=r.onComment.bind(r);r.onEdit=r.onEdit.bind(r);r.onShare=r.onShare.bind(r);r.renderMenu=r.renderMenu.bind(r);r.onPin=r.onPin.bind(r);r.openWindow=r.openWindow.bind(r);r.renameFile=r.renameFile.bind(r);return r}B(t,[{key:"onDownload",value:function e(t){t.stopPropagation();this.props.clogLinkClick({link_action:"file_ssb_download_link"});Object(N["b"])("FILE_DOWNLOAD",{is_successful:true,app_id:null,bot_id:this.props.file&&this.props.file.bot_id});Object(A["a"])(this.props.file,true)&&t.preventDefault()}},{key:"onComment",value:function e(t){t.stopPropagation();this.props.clogLinkClick({link_action:"file_comment_link"});this.props.previewFile({fileId:this.props.file.id})}},{key:"onEdit",value:function e(t){var r=this.props.file;t.stopPropagation();Object(R["b"])(r.id)}},{key:"onPin",value:function e(t){var r=this.props,n=r.file,a=r.channelId,i=r.pinFile,o=r.unpinFile;return t?o({fileId:n.id,channelId:a}):i({fileId:n.id,channelId:a})}},{key:"onShare",value:function e(){var t=this.props.file;this.props.openShareDialog({fileId:t.id})}},{key:"getTitleForAriaLabel",value:function e(){return Object(I["l"])(l.a.unescape(this.props.file.title))}},{key:"renameFile",value:function e(){var t=this.props.file;this.props.openRenameFileDialog({file:t})}},{key:"openWindow",value:function e(t){t.stopPropagation();Object(P["a"])(this.props.file.id)&&t.preventDefault()}},{key:"renderMenu",value:function e(t){var r=this.props,n=r.file,i=r.fileActions,o=r.channelName,s=r.channelType,c=r.isSnippet,l=r.fileRefreshState,u=r.clogLinkClick,p=r.featureFileThreads;var f={file:n,channelName:o,channelType:s,isSnippet:c,fileRefreshState:l,clogLinkClick:u,featureFileThreads:p,refreshFile:this.props.refreshFile,updateStar:this.props.updateStar,renameFile:this.renameFile,onPin:this.onPin,actions:i,previewFile:this.props.previewFile};var d=Object(x["a"])(f);return a.a.createElement(T["a"],F({},t,{width:220,template:d,stripTerminalSeparators:true,onMenuItemSelected:function e(r,n){return!n.isDefaultPrevented()&&t.onMenuItemSelected(r,n)}}))}},{key:"renderCollapse",value:function e(){if(!this.props.isExpanded)return null;var t=void 0;this.props.featureFileThreads&&(t=G.t("Collapse {fileTitle}",{fileTitle:this.getTitleForAriaLabel()}));return K({icon:"collapse-vertical",tooltip:G.t("Collapse"),onClick:this.props.collapse,dark:true,ariaLabel:t})}},{key:"renderDownload",value:function e(){var t=this.props,r=t.file,n=t.fileActions,a=t.featureFileThreads;if(r.is_external||Object(E["fileIsPost"])(r))return null;if(!n.download)return null;var i={icon:"cloud-download",tooltip:G.t("Download"),href:r.url_private_download,onClick:this.onDownload};a&&(i.ariaLabel=G.t("Download {fileTitle}",{fileTitle:this.getTitleForAriaLabel()}));return K(i)}},{key:"renderExternal",value:function e(t){var r=this.props,n=r.file,a=r.isSnippet,i=r.isEmail;if(!(n.is_external||i||a&&!t.edit||Object(E["fileIsPost"])(n)&&!t.edit))return null;var o=n.is_external?n.url_private:n.permalink;var s=function(){if(!n.is_external)return G.t("Open in new window");switch(n.external_type){case"gdrive":return G.t("Open file on Google Drive");case"dropbox":return G.t("Open file on Dropbox");case"box":return G.t("Open file on Box");case"onedrive":return G.t("Open file on OneDrive");default:return G.t("Open file on a web page")}}();var c=n.is_external?null:this.openWindow;return K({icon:"external-link",tooltip:s,href:o,onClick:c})}},{key:"renderEdit",value:function e(t){var r=this.props,n=r.file,a=r.isSnippet,i=r.featureFileThreads;if(!t.edit)return null;if(a){var o=void 0;i&&(o=G.t("Edit {fileTitle}",{fileTitle:this.getTitleForAriaLabel()}));if(Object(E["isFileMaybeTruncated"])(n))return K({icon:"pencil",tooltip:G.t("Edit"),href:n.edit_link,onClick:z,ariaLabel:o});return K({icon:"pencil",tooltip:G.t("Edit"),onClick:this.onEdit,ariaLabel:o})}var s=void 0;i&&(s=G.t("Edit {fileTitle} in new window",{fileTitle:this.getTitleForAriaLabel()}));return K({icon:"external-link",tooltip:G.t("Edit in new window"),href:n.permalink,onClick:this.openWindow,ariaLabel:s})}},{key:"renderComment",value:function e(){var t=this.props,r=t.file,n=t.featureFileThreads;if(this.props.isFileAuthorExternal)return null;if(n)return null;if(!Object.prototype.hasOwnProperty.call(r,"comments_count"))return null;var i=G.t("{comments_count, plural, =0 {Add Comment} =1 {# Comment} other {# Comments}}",{comments_count:r.comments_count});return a.a.createElement(w["c"],{className:"c-file__action_button",onClick:this.onComment},i)}},{key:"renderShare",value:function e(){var t=this.props,r=t.fileActions,n=t.featureFileThreads;if(!n)return null;if(!r.share&&!r.share_private_file)return null;var a=G.t("Share {fileTitle}",{fileTitle:this.getTitleForAriaLabel()});return K({icon:"share-action",tooltip:G.t("Share file \u2026"),onClick:this.onShare,ariaLabel:a})}},{key:"render",value:function e(){var t=this.props,r=t.fileActions,n=t.imageWidth,i=t.imageHeight,o=t.isImage,s=t.isSnippet,c=t.isEmail,l=t.featureFileThreads;var u=G.t("More actions");l&&(u=G.t("{fileTitle}: More actions",{fileTitle:this.getTitleForAriaLabel()}));return a.a.createElement("div",{className:p()("c-file__actions",{"c-file__actions--image":o,"c-file__actions--overflow":o&&n<200,"c-file__actions--short":o&&i<50,"c-file__actions--snippet":s,"c-file__actions--email":c})},this.renderCollapse(),this.renderDownload(),this.renderEdit(r),this.renderExternal(r),this.renderShare(),a.a.createElement(T["d"],{renderMenu:this.renderMenu,position:"left-bottom",offsetX:-4},a.a.createElement("span",null,a.a.createElement(S["c"],{tip:G.t("More actions"),delay:S["a"],position:l?"top-right":"top"},a.a.createElement(w["c"],{className:"c-file__action_button c-file__action_button--icon",ariaLabel:u},a.a.createElement(C["a"],{type:"ellipsis"}))))),this.renderComment())}}]);return t}(a.a.PureComponent);Q.displayName="FileActions";Q.propTypes=W;Q.defaultProps=V;var Y=function e(t,r){var n=Object(f["getChannelById"])(t,r.channelId);return{fileActions:Object(M["a"])(t,r.file),channelId:n&&n.id,channelName:Object(j["getDisplayName"])(n),channelType:Object(j["getChannelType"])(n),isFileAuthorExternal:Object(d["isFileAuthorExternal"])(t,r.file.id),fileRefreshState:Object(b["getFileRefreshState"])(t,r.file.id),featureReactMessages:Object(v["isFeatureEnabled"])(t,"feature_react_messages"),featureFileThreads:Object(v["isFeatureEnabled"])(t,"feature_file_threads")}};var J={pinFile:h["pinFile"],unpinFile:h["unpinFile"],refreshFile:m["b"],updateStar:_["a"],openRenameFileDialog:y["a"],previewFile:g["b"],openShareDialog:O["a"]};t["a"]=Object(s["connect"])(Y,J)(Q)},17263:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(3);var s=r.n(o);var c=r(1);var l=r.n(c);var u=r(16912);var p=r(16913);var f=r(16974);var d=r(16942);var v=r(16938);var h=r(17052);var m=r(17081);var b=r(17117);var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=new u["b"]("attachments");var j={bot:s.a.oneOfType([s.a.bool,s.a.object]),botId:s.a.string,icon:s.a.string,isAppUnfurl:s.a.bool,text:s.a.node,ts:s.a.oneOfType([s.a.string,s.a.number]),tsLink:s.a.string,permalinkText:s.a.string,clogLinkClick:s.a.func,featureHideUnfurlUrls:s.a.bool.isRequired};var k={bot:null,botId:null,icon:null,isAppUnfurl:false,text:null,ts:null,tsLink:null,permalinkText:null,clogLinkClick:c["noop"]};var w=function(e){O(t,e);function t(){g(this,t);return y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}_(t,[{key:"renderIconMaybe",value:function e(){var t=this.props,r=t.icon,n=t.text;if(!r)return null;return a.a.createElement("img",{className:"c-message_attachment__footer_icon",alt:n,src:Object(m["a"])({url:r,width:b["d"],height:b["d"]}),width:b["a"],height:b["a"]})}},{key:"renderTextMaybe",value:function e(){var t=this.props,r=t.text,n=t.clogLinkClick;if(!r)return null;return a.a.createElement("span",{className:"c-message_attachment__footer_text c-message_attachment__part"},"string"===typeof r?a.a.createElement(v["a"],{text:r,clogLinkClick:n}):r)}},{key:"renderTsMaybe",value:function e(){var t=this.props,r=t.ts,n=t.tsLink,i=t.clogLinkClick;if(!r)return null;var o=Object(h["h"])(r,{uncapitalized:false});var s=n?a.a.createElement(d["a"],{href:n,target:"_blank",rel:"noopener noreferrer",clogLinkClick:i},o):o;return a.a.createElement("span",{className:"c-message_attachment__footer_ts c-message_attachment__part"},s)}},{key:"renderAttributionMaybe",value:function e(){var t=this.props,r=t.bot,n=t.botId,i=t.isAppUnfurl;if(!i&&!r)return null;var o=void 0;var s=E.t("a bot");var c=r?r.name:s;var l="/services/"+n;o=r.isNonExistent||r.isUnknown?s:a.a.createElement(d["a"],{href:l,target:"_blank",title:c,"data-attribution-bot-id":n},c);return a.a.createElement("span",{className:"c-message_attachment__footer_attribution c-message_attachment__part","data-qa-attachment-attribution":true},E.t("Added by "),o)}},{key:"renderPermalinkMaybe",value:function e(){var t=this.props,r=t.permalinkText,n=t.tsLink,i=t.featureHideUnfurlUrls;if(!i||!r||!n)return null;return a.a.createElement("span",{className:"c-message_attachment__part sk_link_blue"},a.a.createElement(d["a"],{href:n},r))}},{key:"render",value:function e(){return a.a.createElement("span",{className:"c-message_attachment__footer"},this.renderIconMaybe(),this.renderTextMaybe(),this.renderTsMaybe(),this.renderAttributionMaybe(),this.renderPermalinkMaybe())}}]);return t}(n["PureComponent"]);w.displayName="AttachmentFooter";w.propTypes=j;w.defaultProps=k;var C=function e(t,r){var n=r.botId;return{bot:Object(f["getBotById"])(t,n),featureHideUnfurlUrls:Object(p["isFeatureEnabled"])(t,"feature_hide_unfurl_urls")}};t["a"]=Object(i["connect"])(C)(w)},17264:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16947);var u=r(16938);var p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h={file:l["a"].File(["name"]).isRequired,className:o.a.string,hasHighlightMarkers:o.a.bool};var m={className:null,hasHighlightMarkers:false};var b=function(e){v(t,e);function t(){f(this,t);return d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}p(t,[{key:"render",value:function e(){var t=this.props,r=t.file,n=t.className,i=t.hasHighlightMarkers;return r.title?a.a.createElement(u["a"],{text:c.a.escape(c.a.unescape(r.title)),noSpecials:true,noJumbomoji:true,convertHighlightCharacters:i,className:n}):a.a.createElement("span",{className:n},r.name)}}]);return t}(n["PureComponent"]);b.displayName="Name";b.propTypes=h;b.defaultProps=m;t["a"]=b},17275:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(3);var c=r.n(s);var l=r(9);var u=r(16971);var p=r(16949);var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m={elements:c.a.arrayOf(c.a.element),logError:c.a.func};var b={elements:null,logError:n["noop"]};var _=function(e){h(t,e);function t(){d(this,t);return v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}f(t,[{key:"componentDidCatch",value:function e(t){var r=t?t.message:"";this.props.logError("MODAL-CONTAINER","componentDidCatch: "+r)}},{key:"render",value:function e(){var t=this.props.elements;return o.a.createElement(i["Fragment"],null,t)}}]);return t}(i["Component"]);_.displayName="BaseModalContainer";_.propTypes=m;_.defaultProps=b;var g=function e(t){return{elements:Object(p["getCurrentModals"])(t)}};var y={logError:u["error"]};t["a"]=Object(l["connect"])(g,y)(_)},17279:function(e,t,r){"use strict";r.d(t,"b",function(){return a});r.d(t,"a",function(){return i});var n=r(17207);var a=n["e"];var i=n["d"]},17302:function(e,t,r){"use strict";var n=r(17581);t["a"]=n["a"]},17304:function(e,t,r){"use strict";t["c"]=i;t["d"]=o;r.d(t,"b",function(){return s});r.d(t,"a",function(){return c});var n=r(16913);var a=r(16935);function i(e,t){var r=Object(a["getHostName"])(Object(n["getFromBootData"])(e,"abs_root_url"));return t+".enterprise."+r}function o(e,t){var r=t||"my";var i=Object(a["getHostName"])(Object(n["getFromBootData"])(e,"abs_root_url"));return r+"."+i}var s=function e(t,r){return"https://"+o(t,r)};var c=function e(t,r){return"https://"+i(t,r)};var l={};Object.defineProperty(l,"getEnterpriseOrgUrlHost",{get:function e(){return i},set:function e(t){i=t}});Object.defineProperty(l,"getWorkspaceUrlHost",{get:function e(){return o},set:function e(t){o=t}})},17306:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(8);var p=r.n(u);var f=r(16922);var d=r(16913);var v=r(17039);var h=r(17279);var m=r(16916);var b=r(17015);var _=r(16912);var g=r(17768);var y=r(18009);var O=r(16918);var E=r(17755);var j=r(16950);var k=r(16932);var w=r(16917);var C=r(17770);var S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var T=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function A(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P=new _["b"]("channel_browser_coachmark");var R={label:a.a.string.isRequired,qaLabel:a.a.string,iconClass:a.a.string,tooltip:a.a.string,tooltipClassName:a.a.string,tooltipArrowOffset:a.a.number,onLabelClick:a.a.func,showPlus:a.a.bool,plusTooltip:a.a.string,onPlusClick:a.a.func,seenChannelBrowserCoachmark:a.a.bool,hasRecentlySharedAChannel:a.a.bool,sidebarFiltersIsEnabled:a.a.bool.isRequired,supportsHighlightsMode:a.a.bool,setSectionFilter:a.a.func,id:a.a.string.isRequired,isCurrentlyHovered:a.a.bool,currentFilter:a.a.string};var M={label:"",qaLabel:"",iconClass:null,tooltip:"",tooltipClassName:null,tooltipArrowOffset:void 0,onLabelClick:l.a.noop,showPlus:false,plusTooltip:"",onPlusClick:l.a.noop,seenChannelBrowserCoachmark:false,hasRecentlySharedAChannel:false,setSectionFilter:l.a.noop,currentFilter:"",isCurrentlyHovered:false,supportsHighlightsMode:false};var x=function(e){A(t,e);function t(e){I(this,t);var r=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onLabelClick=r.onLabelClick.bind(r);r.onPlusClick=r.onPlusClick.bind(r);r.setTooltipRef=r.setTooltipRef.bind(r);r.setPlusTooltipRef=r.setPlusTooltipRef.bind(r);r.renderFilterToggleMenu=r.renderFilterToggleMenu.bind(r);return r}T(t,[{key:"onLabelClick",value:function e(t){t.preventDefault();Object(m["action"])(C["a"],"Selected heading "+this.props.qaLabel);this.props.onLabelClick();this.tooltip&&this.tooltip.hideTip()}},{key:"onPlusClick",value:function e(t){t.preventDefault();Object(m["action"])(C["a"],"Clicked plus button for "+this.props.qaLabel);this.props.onPlusClick();this.plusTooltip&&this.plusTooltip.hideTip()}},{key:"setFilter",value:function e(t){this.props.setSectionFilter({sectionId:this.props.id,filter:t})}},{key:"setTooltipRef",value:function e(t){this.tooltip=t}},{key:"setPlusTooltipRef",value:function e(t){this.plusTooltip=t}},{key:"renderIconMaybe",value:function e(){var t=this.props.iconClass;if(!t)return null;return o.a.createElement(w["a"],{type:t})}},{key:"renderFilterButtonMaybe",value:function e(){if(!this.props.sidebarFiltersIsEnabled)return null;var t=this.props,r=t.currentFilter,n=t.qaLabel;var a=void 0;var i=void 0;a="shared_channels"===n?"p-channel_sidebar__section_filter_icon_shared_channels ":"";if(r&&"all"!==r){if("unreads"===r){a+="p-channel_sidebar__section_filter_icon p-channel_sidebar__section_filter_icon_unreads";i=o.a.createElement("span",{className:"p-channel_sidebar__section_filter_tip"},"Showing just unreads",o.a.createElement("div",{className:"p-channel_sidebar__section_filter_tip_subtitle"},"Click to change"))}else if("real_time_sort"===r){a+="p-channel_sidebar__section_filter_icon p-channel_sidebar__section_filter_icon_highlights";i=o.a.createElement("span",{className:"p-channel_sidebar__section_filter_tip"},"Showing mentions and highlights",o.a.createElement("div",{className:"p-channel_sidebar__section_filter_tip_subtitle"},"Click to change"))}}else{a+="p-channel_sidebar__section_filter_icon p-channel_sidebar__section_filter_icon_all";i=o.a.createElement("span",{className:"p-channel_sidebar__section_filter_tip"},"Showing all channels",o.a.createElement("div",{className:"p-channel_sidebar__section_filter_tip_subtitle"},"Click to change"))}return o.a.createElement(k["c"],{tip:i,position:"top",delay:k["a"]},o.a.createElement("span",{className:"p-channel_sidebar__section_filter_wrapper"},o.a.createElement(j["d"],{renderMenu:this.renderFilterToggleMenu,position:"right",offsetX:16,offsetY:0},o.a.createElement(O["c"],{className:"btn_unstyle "+a}))))}},{key:"renderFilterToggleMenu",value:function e(t){var r=this;if(!this.props.sidebarFiltersIsEnabled)return null;var n=this.props,a=n.currentFilter,i=n.supportsHighlightsMode;var s=o.a.createElement(w["a"],{type:"check-small"});var c=[{label:"All Channels",click:function e(){return r.setFilter("all")},icon:"all"===a?s:null,className:"all"!==a?"p-channel_sidebar__section_heading_menu_item--not-selected":"",type:"compact_item"},{label:"Just Unreads",click:function e(){return r.setFilter("unreads")},icon:"unreads"===a?s:null,className:"unreads"!==a?"p-channel_sidebar__section_heading_menu_item--not-selected":"",type:"compact_item"}];i&&c.push({label:"Mentions and Highlights",click:function e(){return r.setFilter("real_time_sort")},icon:"real_time_sort"===a?s:null,className:"real_time_sort"!==a?"p-channel_sidebar__section_heading_menu_item--not-selected":"",type:"compact_item"});return o.a.createElement(j["a"],S({},t,{template:c}))}},{key:"renderPlusButtonMaybe",value:function e(){var t=this.props,r=t.showPlus,n=t.plusTooltip,a=t.qaLabel,i=t.sidebarFiltersIsEnabled;if(!r||i&&!this.props.isCurrentlyHovered)return null;var s=n||"";var c=this.props.onPlusClick===this.props.onLabelClick;var l=c?"-1":void 0;var u=c?"true":void 0;var p=o.a.createElement(O["c"],{className:"p-channel_sidebar__section_heading_plus",onClick:this.onPlusClick,"aria-label":s,tabIndex:l});var f=n?o.a.createElement(k["c"],{tip:n,position:"top",ref:this.setPlusTooltipRef,delay:k["a"]},p):p;var d=void 0;d=i&&"shared_channels"===a?"p-channel_sidebar__section_heading_right_shared_channels_with_filters":"p-channel_sidebar__section_heading_right";return o.a.createElement("div",{className:d,"aria-hidden":u},f)}},{key:"renderSharedChannelsCoachmarkMaybe",value:function e(t){var r=this.props,n=r.seenChannelBrowserCoachmark,a=r.hasRecentlySharedAChannel,i=r.qaLabel;if("shared_channels"!==i||n)return t;var s=function e(){Object(h["b"])({name:"seen_channel_browser_admin_coachmark",value:true})};var c=function e(){s();Object(g["b"])();Object(y["a"])()};return o.a.createElement("div",null,o.a.createElement(E["a"],{hasSkipButton:true,skipButtonText:P.t("Close"),hasSkipLink:false,hasCloseButton:false,continueButtonText:P.t("Show Me"),title:P.t("View and manage shared channels"),content:P.t("Access the shared channels in your workspace, and any pending invitations, right from the sidebar."),shouldShow:a,onSkip:s,onContinue:c,delay:100,position:"right"},t))}},{key:"render",value:function e(){var t=this.props,r=t.label,n=t.qaLabel,a=t.tooltip,i=t.tooltipClassName,s=t.tooltipArrowOffset,c=t.onLabelClick,u=t.isCurrentlyHovered;var f=void 0;var d=c!==l.a.noop;f=d?o.a.createElement(O["c"],{className:p()("p-channel_sidebar__section_heading_label","p-channel_sidebar__section_heading_label--clickable"),onClick:this.onLabelClick,"aria-label":a},this.renderIconMaybe()," ",r):o.a.createElement("span",{role:"heading","aria-level":"2",className:"p-channel_sidebar__section_heading_label"},this.renderIconMaybe()," ",r);var v=a?o.a.createElement(k["c"],{tip:a,tipClassName:i,position:"top-left",tipArrowOffset:s,ref:this.setTooltipRef,delay:k["a"]},this.renderSharedChannelsCoachmarkMaybe(f)):f;var h=p()("p-channel_sidebar__section_heading",{"p-channel_sidebar__section_heading--hover":u});var m=d?o.a.createElement("h2",{className:"offscreen"},r):null;var b=this.props.onPlusClick!==this.props.onLabelClick;var _=b?"group":void 0;var g=b?r:void 0;return o.a.createElement("div",{className:h,"data-qa-channel-sidebar-section-heading":n,role:_,"aria-label":g},m,v,this.renderFilterButtonMaybe(),this.renderPlusButtonMaybe())}}]);return t}(o.a.PureComponent);x.displayName="SectionHeading";x.propTypes=R;x.defaultProps=M;var L=function e(t,r){var n=r.id;return{seenChannelBrowserCoachmark:Object(f["getUserPref"])(t,"seen_channel_browser_admin_coachmark"),hasRecentlySharedAChannel:Object(f["getUserPref"])(t,"has_recently_shared_a_channel"),sidebarFiltersIsEnabled:Object(d["isFeatureEnabled"])(t,"feature_sidebar_filters")&&"collapsible"===Object(b["a"])("collapsible_sidebar"),currentFilter:Object(v["getSectionFilter"])(t,n)}};var D={setSectionFilter:v["setSectionFilter"]};t["a"]=Object(s["connect"])(L,D)(x)},17307:function(e,t,r){"use strict";t["a"]=m;r.d(t,"b",function(){return _});var n=r(3);var a=r.n(n);var i=r(1);var o=r.n(i);var s=r(17779);var c=r(16915);var l=r(16930);var u=r(16946);var p=r(16923);var f=r(17694);var d=r(16913);var v=r(16940);var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function m(e,t){return function(r){r(b(e,t));r(Object(s["a"])({starred:e,args:t})).catch(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.data;if(a&&"not_starred"===a.error)return r(b(false,t));if(a&&"already_starred"===a.error)return r(b(true,t));return r(b(!e,t))})}}function b(e,t){return function(r,n){if(t.timestamp){var a=Object(l["getMessageByTimestamp"])(n(),t.channel,t.timestamp);if(!a)return null;var i=h({},a,{is_starred:e});Object(f["d"])(t.timestamp,t.channel,e,true);return r(Object(l["addMessages"])([i]))}if(t.file_comment){var o=Object(u["getFileById"])(n(),t.file_comment_file);var s=o.comments.map(function(r){if(r.id!==t.file_comment)return r;return h({},r,{is_starred:e})});var c=h({},o,{comments:s});Object(f["b"])(t.file_comment,t.file_comment_file,e);return r(Object(u["addFile"])(c))}if(t.file){var d=Object(u["getFileById"])(n(),t.file);var v=h({},d,{is_starred:e});Object(f["c"])(t.file,e);return r(Object(u["addFile"])(v))}if(t.channel){var m=Object(p["getChannelById"])(n(),t.channel);var b=h({},m,{is_starred:e});return r(Object(p["addOrReplaceChannels"])({channels:[b],reason:p["CHANNEL_ACTION_REASONS"].SET_STAR}))}return null}}var _=Object(c["e"])("Toggle star for a message (including message subtypes)",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.ts,a=r.channelId;var o=t();var s=Object(l["getMessageByTimestamp"])(o,a,n);var c=Object(d["isFeatureEnabled"])(o,"feature_file_threads");var p=Object(v["getFileIdFromMessage"])(s,c);var f=Object(v["isStarred"])(s);var h={channel:a,timestamp:n};if(Object(v["isFileComment"])(s)){var b=p||Object(i["first"])(s.files);var _=s.comment&&Object(u["getFileCommentById"])(o,b,s.comment.id);if(_){f=Object(v["isStarred"])(s,null,_);h={file_comment:_.id,file_comment_file:b}}}else if(p){f=Object(v["isStarred"])(s,Object(u["getFileById"])(o,p),null);h={file:p}}e(m(!f,h))});_.propTypes={channelId:a.a.string.isRequired,ts:a.a.string.isRequired}},17309:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(17192);var u=r(17310);var p=r(17791);var f=r(17117);var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _={expandableKey:o.a.string,title:o.a.string,imageUrl:o.a.string,imageWidth:o.a.number,imageHeight:o.a.number,imageBytes:o.a.number,videoHtml:o.a.string,videoHtmlWidth:o.a.number,videoHtmlHeight:o.a.number,audioHtml:o.a.string,audioHtmlHeight:o.a.number,safeAudioHtml:o.a.string,thumbUrl:o.a.string,thumbWidth:o.a.number,thumbHeight:o.a.number,rotation:o.a.number,activeChannelId:o.a.string,messageTs:o.a.string,fromUrl:o.a.string,clogLinkClick:o.a.func};var g={expandableKey:null,title:null,imageUrl:null,imageWidth:null,imageHeight:null,imageBytes:null,videoHtml:null,videoHtmlWidth:void 0,videoHtmlHeight:void 0,audioHtml:null,audioHtmlHeight:null,safeAudioHtml:null,thumbUrl:null,thumbWidth:null,thumbHeight:null,rotation:0,activeChannelId:void 0,messageTs:void 0,fromUrl:null,clogLinkClick:s["noop"]};var y=function(e){b(t,e);function t(){h(this,t);return m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}v(t,[{key:"getAdjustedDimensions",value:function e(t,r){var n=t>f["c"]||r>f["b"];var a=n?Math.min(f["c"]/t,f["b"]/r):1;var i=Math.floor(t*a);var o=Math.floor(r*a);return this.props.rotation%180===0?{width:i,height:o}:{width:o,height:i}}},{key:"renderImageMaybe",value:function e(){var t=this.props,r=t.expandableKey,n=t.imageUrl,i=t.imageWidth,o=t.imageHeight,s=t.imageBytes,c=t.title,p=t.rotation,f=t.activeChannelId,v=t.messageTs,h=t.clogLinkClick;if(!n)return null;return a.a.createElement(l["a"],{expandableKey:r,imageBytes:s},a.a.createElement(u["a"],d({url:n,title:c,rotation:p,activeChannelId:f,messageTs:v,clogLinkClick:h,originalWidth:i,originalHeight:o},this.getAdjustedDimensions(i,o))))}},{key:"renderVideoMaybe",value:function e(){var t=this.props,r=t.expandableKey,n=t.videoHtml,i=t.videoHtmlWidth,o=t.videoHtmlHeight,s=t.thumbUrl,c=t.thumbWidth,u=t.thumbHeight,f=t.fromUrl,v=t.clogLinkClick,h=t.messageTs,m=t.activeChannelId;if(!n)return null;var b=Math.max(o||0,u);var _=Math.max(i||0,c);return a.a.createElement(l["a"],{className:"c-message_attachment__video",expandableKey:r},a.a.createElement(p["a"],d({thumbUrl:s,videoHtml:n,fromUrl:f,clogLinkClick:v,messageTs:h,activeChannelId:m},this.getAdjustedDimensions(_,b))))}},{key:"renderAudioMaybe",value:function e(){var t=this.props,r=t.expandableKey,n=t.audioHtml,i=t.safeAudioHtml,o=t.audioHtmlHeight;if(!n&&!i)return null;return a.a.createElement(l["a"],{className:"c-message_attachment__audio",expandableKey:r},a.a.createElement("div",{dangerouslySetInnerHTML:{__html:i||n},style:{height:o}}))}},{key:"render",value:function e(){return this.renderImageMaybe()||this.renderVideoMaybe()||this.renderAudioMaybe()}}]);return t}(n["PureComponent"]);y.displayName="AttachmentMedia";y.propTypes=_;y.defaultProps=g;t["a"]=y},17311:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(16941);var f=r(16935);var d=r(17300);var v=r(16918);var h=r(16938);var m=r(17606);var b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O={text:a.a.string,variant:a.a.oneOf(["","default","primary","danger"]),confirm:a.a.shape({title:a.a.string,text:a.a.string,ok_text:a.a.string,dismiss_text:a.a.string}),url:a.a.string,isLoading:a.a.bool,isDisabled:a.a.bool,triggerAction:a.a.func,clogLinkClick:a.a.func,onClick:a.a.func,showConfirmDialog:a.a.func,hideConfirmDialog:a.a.func};var E={id:void 0,name:void 0,text:void 0,variant:"",confirm:void 0,url:void 0,value:void 0,isLoading:false,isDisabled:false,getMessageContext:s["noop"],triggerAction:s["noop"],clogLinkClick:s["noop"],onClick:void 0,showConfirmDialog:s["noop"],hideConfirmDialog:s["noop"]};var j=function(e){y(t,e);function t(e){_(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.throttledOnClick=Object(s["throttle"])(r.onClick.bind(r),250,{trailing:false});return r}b(t,[{key:"componentWillReceiveProps",value:function e(t){var r=this.props,n=r.hideConfirmDialog,a=r.isLoading;var i=a&&!t.isLoading;i&&n(true)}},{key:"onClick",value:function e(t){var r=this.props,n=r.clogLinkClick,a=r.confirm,i=r.url,e=r.onClick,o=r.showConfirmDialog,s=r.triggerAction;var c=!!i;var l=t.currentTarget.href;var u=!!a;var v=Object(d["b"])(i);if(c){n({link_attachment_field:"attachment_link_button",url:i});var h=Object(f["extractStateObjectFromUrl"])(i);if(h&&h.is_external_auth_url){var m="auto"===h.ask?"PLATFORM_APPS_TARGETED_SUGGESTIONS_SELECTED":"PLATFORM_APPS_TARGETED_SUGGESTIONS_JUST_THIS_ONCE_SELECTED";Object(p["b"])(m,{app_id:h.service_type_id})}}else n();if(e){e(t);return}var b=s;if(c){t.preventDefault();b=v?function(){Object(d["a"])(i)}:function(){window.open(l,"_blank")}}u?o({onConfirmDialogGo:b}):b()}},{key:"isDefaultVariant",value:function e(){return["","default"].includes(this.props.variant)}},{key:"render",value:function e(){var t=this.props,r=t.text,n=t.variant,a=t.isLoading,i=t.isDisabled,s=t.url;var c=u()("c-message_attachment__button",{"c-message_attachment__button--loading":a,"c-message_attachment__button--disabled":!a&&i});var l=this.isDefaultVariant()?"outline":"outline-"+n;var p="message_attachment_button"+(this.isDefaultVariant()?"":"_"+n);return o.a.createElement(v["d"],{className:c,href:s,key:"attachment-action-button",onClick:this.throttledOnClick,size:"small",type:l,disabled:i,"data-qa":p},o.a.createElement(h["a"],{className:"overflow_ellipsis",text:r,noJumbomoji:true}))}}]);return t}(i["PureComponent"]);j.displayName="AttachmentActionButton";j.propTypes=O;j.defaultProps=E;t["a"]=Object(m["a"])(j)},17324:function(e,t,r){"use strict";r.d(t,"c",function(){return a});r.d(t,"d",function(){return i});r.d(t,"b",function(){return o});r.d(t,"a",function(){return s});var n=r(16914);var a=Object(n["c"])("TS.replies.promiseToGetSubscriptionState",function(){return Promise.resolve()});var i=Object(n["c"])("TS.replies.setSubscriptionState");var o=Object(n["c"])("TS.replies.getSubscriptionState");var s=Object(n["c"])("TS.replies.canReplyToMsg")},17325:function(e,t,r){"use strict";t["h"]=S;t["d"]=T;r.d(t,"i",function(){return I});t["f"]=A;t["e"]=P;t["j"]=R;t["g"]=M;r.d(t,"a",function(){return x});r.d(t,"c",function(){return L});r.d(t,"b",function(){return F});var n=r(3);var a=r.n(n);var i=r(1);var o=r.n(i);var s=r(16929);var c=r(16916);var l=r(17208);var u=r(16915);var p=r(17122);var f=r(17121);var d=r(17730);var v=r(16913);var h=r(16925);var m=r(16968);var b=r(16967);var _=r(17406);var g=r(16920);var y=r(16922);var O=r(20532);var E=r(20567);var j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function k(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}var w=2;var C=1e4;function S(e){var t=e.module,r=e.query,n=e.page,a=void 0===n?1:n,i=k(e,["module","query","page"]);var o=Object(l["a"])();Object(O["f"])(t,i&&i.sort||"unknown",a);return Object(s["c"])("search.modules",j({module:t,query:r,page:a,client_req_id:o,extracts:1,highlight:1,max_extract_len:200,extra_message_data:1,no_user_profile:1},i)).timeout(C).then(function(e){Object(O["g"])(t,i&&i.sort||"unknown",a);return e})}function T(e,t){return Object(s["c"])("search.autocomplete",{query:e,limit:t})}var I=Object(u["e"])("Precache visibility filters for this user before they kick off a search",function(e,t){var r=t();var n=Object(v["pageNeedsEnterprise"])(r);var a=Object(v["getFromBootData"])(r,"enterprise_api_token");return Object(s["c"])("search.precache",n&&a?{enterprise_token:a}:{})});I.propTypes={};function N(e,t){return Object(s["c"])("search.autocomplete.data",{query:e,limit:t})}function A(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10;return Object(s["c"])("search.autocomplete.querySuggestions",{limit:e,version:t,return_experts:r?1:0,new_scale:true,query_batch_min:n,query_batches:a})}function P(e,t){return Object(s["c"])("search.autocomplete.fileSuggestions",{limit:e,version:t})}function R(e){return Object(s["c"])("search.save",{terms:e}).catch(function(e){return Object(c["error"])(e)}).finally(function(){_["n"].flushAll()})}function M(e,t,r){return Object(s["c"])("search.delete",{terms:e,search_session_id:t,client_request_id:r}).catch(function(e){return Object(c["error"])(e)}).finally(function(){_["n"].flushAll()})}var x=Object(u["e"])("Fetch page 1 of all search results for a given query and filters",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.query,a=r.fetchSuggestions,o=void 0!==a&&a;var s=t();var u=Object(l["a"])();e(Object(f["setLastFetchAllRequestId"])({id:u}));e(Object(p["resetScrollPosition"])());e(Object(p["setStateForModule"])({moduleType:E["a"].relevantMessages,moduleState:{loading:true,page:1,error:p["MODULE_ERROR_STATE"].None}}));e(Object(p["setStateForModule"])({moduleType:E["a"].recentMessages,moduleState:{loading:true,page:1,error:p["MODULE_ERROR_STATE"].None}}));e(Object(p["setStateForModule"])({moduleType:"files",moduleState:{loading:true,page:1,error:p["MODULE_ERROR_STATE"].None}}));o&&e(Object(f["clearFilterSuggestions"])());S(j({module:"messages",query:n,sort:"score"},B(s))).then(function(r){if(U(t(),u)){var n=t();e(Object(f["setResponse"])({query:r.data.query,module:E["a"].relevantMessages,result:r.data}));e(Object(f["setEditableRequestQueryFilterOnly"])({queryFilter:q(n,r.data.filters)}));e(Object(p["setLoadingModule"])({moduleType:E["a"].relevantMessages,loading:false}));if(o){var a=H(n,r.data.filter_suggestions);Object(i["isEmpty"])(a.channelObjects)||e(Object(f["setEditableRequestChannelObjects"])({channels:j({},Object(f["getEditableRequestChannelObjects"])(n),a.channelObjects)}));e(Object(f["setFilterSuggestions"])({suggestions:Object(i["omit"])(a,"channelObjects")}))}}}).catch(Promise.TimeoutError,function(){e(Object(p["setErrorForModule"])({moduleType:E["a"].relevantMessages,error:p["MODULE_ERROR_STATE"].Timeout,loading:false}))}).catch(function(t){Object(c["error"])(t);e(Object(p["setErrorForModule"])({moduleType:E["a"].relevantMessages,error:p["MODULE_ERROR_STATE"].Unknown,loading:false}))});S(j({module:"messages",query:n,sort:"timestamp"},B(s))).then(function(r){if(U(t(),u)){e(Object(f["setResponse"])({query:r.data.query,module:E["a"].recentMessages,result:r.data}));e(Object(f["setEditableRequestQueryFilterOnly"])({queryFilter:q(s,r.data.filters)}));e(Object(p["setLoadingModule"])({moduleType:E["a"].recentMessages,loading:false}))}}).catch(Promise.TimeoutError,function(){e(Object(p["setErrorForModule"])({moduleType:E["a"].recentMessages,error:p["MODULE_ERROR_STATE"].Timeout,loading:false}))}).catch(function(t){Object(c["error"])(t);e(Object(p["setErrorForModule"])({moduleType:E["a"].recentMessages,error:p["MODULE_ERROR_STATE"].Unknown,loading:false}))});S(j({module:"files",query:n},B(s))).then(function(r){if(U(t(),u)){e(Object(f["setResponse"])({query:r.data.query,module:"files",result:r.data}));e(Object(f["setEditableRequestQueryFilterOnly"])({queryFilter:q(s,r.data.filters)}));e(Object(p["setLoadingModule"])({moduleType:"files",loading:false}))}}).catch(Promise.TimeoutError,function(){e(Object(p["setErrorForModule"])({moduleType:"files",error:p["MODULE_ERROR_STATE"].Timeout,loading:false}))}).catch(function(t){Object(c["error"])(t);e(Object(p["setErrorForModule"])({moduleType:"files",error:p["MODULE_ERROR_STATE"].Unknown,loading:false}))})});x.propTypes={query:a.a.string.isRequired};var L=Object(u["e"])("fetch search results by module",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=r.module,a=r.query,i=r.page,o=void 0===i?1:i,s=k(r,["module","query","page"]);var l=t();e(Object(p["setStateForModule"])({moduleType:n,moduleState:{loading:true,page:o,error:p["MODULE_ERROR_STATE"].None}}));S(j({module:s&&s.apiModule||n,query:a,page:o},B(l),s)).then(function(t){if(1===o){e(Object(f["setResponse"])({query:t.data.query,module:n,result:t.data}));e(Object(f["setEditableRequestQueryFilterOnly"])({queryFilter:q(l,t.data.filters)}))}else e(Object(f["appendResponse"])({module:n,result:t.data,page:o}));e(Object(p["setLoadingModule"])({moduleType:n,loading:false}))}).catch(Promise.TimeoutError,function(){e(Object(p["setErrorForModule"])({moduleType:n,error:p["MODULE_ERROR_STATE"].Timeout,loading:false}))}).catch(function(t){Object(c["error"])(t);e(Object(p["setErrorForModule"])({moduleType:E["a"].relevantMessages,error:p["MODULE_ERROR_STATE"].Unknown,loading:false}))})});L.propTypes={module:a.a.string,query:a.a.string.isRequired,page:a.a.number};var D=5;var F=Object(u["e"])("Fetch the list of suggestions from search autocomplete",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.query;var a=t();var i=Object(l["a"])();e(Object(d["setSearchAutocompleteRequestId"])({id:i}));Object(O["c"])();Object(_["q"])(a,n,D,Object(_["l"])(a)).then(function(r){Object(O["d"])();var a=t();if(Object(d["getSearchAutocompleteRequestId"])(a)!==i)return;var o=Object(_["p"])(a,r,n);e(Object(d["setSearchAutocompleteSuggestions"])({suggestions:o}))})});F.propTypes={query:a.a.string.isRequired};function B(e){var t=Object(v["pageNeedsEnterprise"])(e);var r=Object(f["getRequest"])(e)||{},n=r.queryFilterHistory;var a={max_filter_suggestions:10,request_context:JSON.stringify({active_cid:Object(b["getMessagePaneChannelId"])(e),recent_filter_in:n.in,recent_filter_from:n.from})};if(t){a.enterprise_token=Object(v["getFromBootData"])(e,"enterprise_api_token");a.team=Object(h["getTeamId"])(e)}return a}function U(e,t){return Object(f["getLastFetchAllRequestId"])(e)===t}function H(e,t){var r={};var n=Object(h["getTeamId"])(e);var a=Object(i["split"])(Object(y["getUserPref"])(e,"search_exclude_channels")||"",",");var o=Object(f["getRequest"])(e)||{},s=o.queryFilter,c=o.queryFilterHistory;var l=s||{from:[],in:[]},u=l.from,p=l.in;var d=Object(m["e"])(e,Object(b["getMessagePaneChannelId"])(e));var _=Object(g["getMemberIdFromIm"])(d)||d.id;var O=Object(v["getCurrentUserId"])(e);var E=Object(i["chain"])([]).concat(O).concat(Object(i["chain"])(t.from).filter(function(e){return!e.checked&&e.id!==O}).map("id").take(w).value()).concat(c.from).concat(u).uniq().value();var j=Object(i["chain"])([]).concat(_).concat(Object(i["chain"])(t.in).filter(function(e){return!e.checked&&e.id!==_}).take(w).tap(function(t){if(!Object(v["pageNeedsEnterprise"])(e))return;t.forEach(function(e){if(Object(g["isIm"])(e))return;e.channel.teams&&-1===e.channel.teams.indexOf(n)&&(r[e.channel.id]=e.channel)})}).map("id").value()).concat(c.in||[]).concat(p||[]).uniq().difference(a).value();return{from:E,in:j,channelObjects:r}}function q(e,t){return{from:t.from||[],in:t.in||[],before:t.before||void 0,after:t.after||void 0,fileType:t.file_types&&t.file_types[0]||void 0}}},17326:function(e,t,r){"use strict";r.d(t,"b",function(){return o});r.d(t,"c",function(){return n});r.d(t,"a",function(){return i});r.d(t,"d",function(){return a});var n={CANADA:"Canada",UNITED_KINGDOM:"United Kingdom",UNITED_KINGDOM_UK:"United Kingdom (UK)",UNITED_STATES:"United States"};var a={STREET_IS_REQUIRED:"street_is_required",CITY_IS_REQUIRED:"city_is_required",POSTAL_CODE_IS_REQUIRED:"postal_code_is_required",ZIP_CODE_IS_REQUIRED:"zip_code_is_required",REGION_IS_REQUIRED:"region_is_required",COUNTRY_IS_REQUIRED:"country_is_required",VAT_ID_IS_REQUIRED:"vat_id_is_required",STREET_INVALID_CHARACTERS:"street_invalid_characters",CITY_INVALID_CHARACTERS:"city_invalid_characters",REGION_INVALID_CHARACTERS:"region_invalid_characters",POSTAL_CODE_INVALID_CHARACTERS:"postal_code_invalid_characters",ZIP_CODE_INVALID_CHARACTERS:"zip_code_invalid_characters",VAT_ID_INVALID_CHARACTERS:"vat_id_invalid_characters",ABN_ID_INVALID_CHARACTERS:"abn_id_invalid_characters",US_ZIP_CODE_INVALID_FORMAT:"us_zip_code_invalid_format",CANADA_POSTAL_CODE_INVALID_FORMAT:"canada_zip_code_invalid_format",ZIP_CODE_INVALID_API_ERROR:"zipcode_invalid_api_error",VAT_ID_INVALID_API_ERROR:"vat_id_invalid_api_error",VAT_ID_INPUT_ERROR:"vat_input_error",VAT_ID_INVALID_FORMAT:"vat_id_invalid_format",API_ERROR:"api_error",ABN_ID_INVALID_LENGTH:"abn_id_invalid_length",ADDRESS_INPUT_ERROR:"address_input_error",ERROR_UPDATING_BILLING_ADDRESS:"error_updating_billing_address",NO_PERMS:"no_perms",INVALID_AUTH:"invalid_auth",DEFAULT_ERROR:"default_error"};var i={ALPHA_NUMERIC_WITH_UTF_CHARS_REGEX:/^[a-zA-Z\xc0-\xff0-9-'-/.\s]+$/i,ALPHA_NUMERIC_WITH_DASH_REGEX:/^[A-Z0-9-\-\s]+$/i,ABN_ID_REGEX:/^(\d *?){11}$/i,US_POSTAL_CODE_FORMAT_REGEX:/(^\d{5}$)|(^\d{5}-{0,1}\d{4}$)/i,CANADA_POSTAL_CODE_FORMAT_REGEX:/^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[ABCEGHJKLMNPRSTVWXYZ]{1} *\d{1}[ABCEGHJKLMNPRSTVWXYZ]{1}\d{1}$/i};var o={STREET:"street",SUITE:"suite",CITY:"city",REGION:"region",POSTAL_CODE:"postalCode",COUNTRY:"country",IS_BUSINESS_PURCHASE:"isBusinessPurchase",IS_VAT_AVAILABLE:"isVatIdAvailable",VAT_ID:"vatId",ABN_ID:"abnId"}},17327:function(e,t,r){"use strict";t["a"]=i;var n=r(16912);var a=new n["b"]("files");function i(e){if(!e.is_external)return null;switch(e.external_type){case"gdrive":switch(e.filetype){case"gsheet":return a.t("Spreadsheet from Google Drive");case"gdoc":return a.t("Document from Google Drive");case"gpres":return a.t("Presentation from Google Drive");case"gdraw":return a.t("Drawing from Google Drive");default:return a.t("{fileType} from Google Drive",{fileType:e.pretty_type})}case"dropbox":return a.t("{fileType} from Dropbox",{fileType:e.pretty_type});case"box":return a.t("{fileType} from Box",{fileType:e.pretty_type});case"onedrive":return a.t("{fileType} from OneDrive",{fileType:e.pretty_type});default:return a.t("File")}}},17328:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"setSearchInputBoxDisplayQuery",function(){return p});r.d(t,"setSearchInputBoxUserQueryInternal",function(){return f});r.d(t,"setSearchInputBoxUserQuery",function(){return d});r.d(t,"getSearchInputBoxDisplayQuery",function(){return m});r.d(t,"getSearchInputBoxUserQuery",function(){return b});var n=r(3);var a=r.n(n);var i=r(16915);var o=r(17730);var s=r(17406);var c;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function u(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var p=Object(i["a"])("Set the search input box display query");p.propTypes={displayQuery:a.a.string.isRequired};var f=Object(i["a"])("Set the user query associated with the search input box without any side effects");f.propTypes={userQuery:a.a.string.isRequired};var d=Object(i["e"])("Set the user query associated with the search input box",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.userQuery;e(f({userQuery:n}));var a=t();var i=Object(o["getSearchAutocompleteSuggestions"])(a);e(Object(o["setSearchAutocompleteSuggestions"])({suggestions:Object(s["p"])(a,i,n)}));e(Object(o["setSearchAutocompleteSelection"])({selectedIndex:n?0:null}))});d.propTypes={userQuery:a.a.string.isRequired};var v={displayQuery:"",userQuery:""};var h=Object(i["c"])((c={},u(c,p,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.displayQuery;return l({},e,{displayQuery:r})}),u(c,f,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.userQuery;return l({},e,{userQuery:r,displayQuery:r})}),c),v);t["default"]=h;var m=Object(i["d"])(function(e){return e&&e.searchInputBox&&e.searchInputBox.displayQuery});var b=Object(i["d"])(function(e){return e&&e.searchInputBox&&e.searchInputBox.userQuery})},17329:function(e,t,r){"use strict";r.d(t,"c",function(){return s});r.d(t,"b",function(){return c});r.d(t,"a",function(){return u});var n=r(1);var a=r.n(n);var i=r(16914);var o=Object(i["c"])("TS.client.ui.search_in_react.getPopoverPosition",a.a.noop);var s=Object(i["c"])("TS.client.ui.search_in_react.close",a.a.noop);var c=Object(i["c"])("TS.client.ui.search_in_react.clearLegacySearchInput",a.a.noop);var l=Object(i["c"])("TS.templates.search_menu_unified_autocomplete",a.a.noop);var u=Object(i["c"])("TS.templates.search_menu_unified_autocomplete_token_list",a.a.noop)},17384:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(16994);var f=r(17071);var d=r(17686);var v=r(20156);var h=r.n(v);var m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y={children:a.a.node.isRequired,className:a.a.string,errorId:a.a.string,errorLevel:a.a.oneOf(Object(l["values"])(p["b"])),errorText:a.a.string,errorType:a.a.oneOf(Object(l["values"])(p["c"])),hintText:a.a.string,hintId:a.a.string,isRequired:a.a.bool,legendId:a.a.string,legendText:a.a.string};var O={className:null,errorId:null,errorLevel:p["b"].error,errorText:null,errorType:p["c"].nestedBox,hintText:null,hintId:null,isRequired:false,legendId:null,legendText:null};var E=function(e){g(t,e);function t(){b(this,t);return _(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}m(t,[{key:"getAriaLabelledById",value:function e(){var t=this.props,r=t.legendId,n=t.errorId;if(!r&&!n)return null;return[r,n].join(" ").trim()}},{key:"renderErrorMaybe",value:function e(){var t=this.props,r=t.errorId,n=t.errorLevel,a=t.errorText,i=t.errorType;if(a)return o.a.createElement(p["d"],{id:r,level:n,type:i,className:"c-alert--error"},a);return null}},{key:"renderHintMaybe",value:function e(){var t=this.props,r=t.hintId,n=t.hintText;if(n)return o.a.createElement(f["a"],{id:r},n);return null}},{key:"renderLegendMaybe",value:function e(){var t=this.props,r=t.legendId,n=t.legendText;if(n)return o.a.createElement(d["a"],{id:r},n);return null}},{key:"render",value:function e(){var t=this.props,r=t.className,n=t.errorText,a=t.hintId,i=t.hintText,s=t.isRequired;var l=c()("c-radiogroup",{"c-radiogroup--with_error":n,"c-radiogroup--with_hint":i},r);var u=o.a.createElement("fieldset",{"aria-describedby":a,"aria-invalid":n?"true":"false","aria-labelledby":this.getAriaLabelledById(),"aria-required":s,className:l},this.renderLegendMaybe(),this.props.children);return o.a.createElement("div",null,u,this.renderErrorMaybe(),this.renderHintMaybe())}}]);return t}(o.a.Component);E.displayName="Radiogroup";E.propTypes=y;E.defaultProps=O;t["a"]=E},17389:function(e,t,r){"use strict";var n=r(17591);t["a"]=n["a"]},17390:function(e,t,r){"use strict";var n=r(17758);t["a"]=n["a"]},17391:function(e,t,r){"use strict";r.d(t,"c",function(){return a});r.d(t,"a",function(){return i});r.d(t,"b",function(){return o});var n=r(16914);var a=Object(n["c"])("TS.ui.share_channel_dialog.start",function(){return null});var i=Object(n["c"])("TS.ui.share_channel_dialog.showApproveRequestDialog",function(){return null});var o=Object(n["c"])("TS.ui.share_channel_dialog.showFindAnAdminDialog",function(){return null})},17392:function(e,t,r){"use strict";var n=r(16994);t["a"]=n["d"]},17393:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(8);var o=r.n(i);var s=r(16920);var c=r(16917);var l=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(s["getDisplayName"])(r);var i=null;if(Object(s["isPublicChannel"])(r)||Object(s["isPrivateChannel"])(r)){var l=o()({"c-icon--align-hashmark":!Object(s["isPrivateChannel"])(r)});i=a.a.createElement(c["a"],{className:l,inherit:true,align:"baseline",type:Object(s["isPrivateChannel"])(r)?"lock":"channel"})}var u=null;Object(s["isOrgSharedPublicOrPrivateChannel"])(r)?u=a.a.createElement(c["a"],{align:"baseline",inherit:true,type:"shared_channel"}):Object(s["isPendingExternallySharedChannel"])(r)?u=a.a.createElement(c["a"],{align:"baseline",inherit:true,type:"shared_channels_pending"}):Object(s["isSharedPublicOrPrivateChannel"])(r)&&(u=a.a.createElement(c["a"],{align:"baseline",inherit:true,type:"shared_channels"}));return a.a.createElement("span",{key:t},i,n,u)};l.displayName="formatChannelName";t["a"]=l},17394:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(8);var l=r.n(c);var u=r(1);var p=r.n(u);var f=r(17004);var d=r(17035);var v=r(16917);var h=r(16912);var m=r(20215);var b=r.n(m);var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=new h["b"]("flexpane");var j=function(e){O(t,e);function t(){g(this,t);return y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}_(t,[{key:"render",value:function e(){var t=this.props,r=t.children,n=t.className;return a.a.createElement("div",{className:l()("p-flexpane_header",n)},a.a.createElement("div",{className:"p-flexpane_header__children"},r),a.a.createElement(d["a"],{title:E.t("Close Right Sidebar"),ariaLabel:E.t("Close Right Sidebar"),className:"p-flexpane_header__close",onClick:this.props.closeFlexpane},a.a.createElement(v["b"],{type:"times"})))}}]);return t}(n["PureComponent"]);j.displayName="FlexpaneHeader";j.propTypes={children:o.a.node,className:o.a.string,closeFlexpane:o.a.func};j.defaultProps={children:null,className:void 0,closeFlexpane:u["noop"]};t["a"]=Object(s["connect"])(null,{closeFlexpane:f["a"]})(j)},17395:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16926);var c=r(16949);var l=r(17782);var u=Object(s["b"])("Opens the share message dialog",function(e,t,r){e(Object(c["openModal"])({element:a.a.createElement(l["a"],r)}))});u.propTypes={ts:o.a.string,channelId:o.a.string,fileId:o.a.string};t["a"]=u},17396:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(16926);var o=r(16923);var s=r(16981);var c=r(16999);var l=r(16920);var u=Object(i["b"])("Joins the channel or creates an IM so a file or message can be shared into it",function(e,t,r){var n=t();var a=r.channelOrMemberId;if(!a)return Promise.reject(new Error("Missing channelOrMemberId"));if(Object(s["a"])(a)){var i=Object(o["getImByMemberId"])(n,a);if(i)return Promise.resolve(i.id);return e(Object(c["r"])({memberIds:[a],reason:"prepare-channel-for-sharing"})).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channel;return t.id})}var u=false;var p=Object(o["getChannelById"])(n,a,u);if(!p)return Promise.reject(new Error("Unknown channel ID "+a));if(Object(l["isPublicChannel"])(p)&&!Object(l["isMemberOfChannel"])(p))return e(Object(c["H"])({channelId:p.id,inBackground:true})).then(function(){return p.id});return Promise.resolve(p.id)});u.propTypes={channelOrMemberId:a.a.string};t["a"]=u;var p={getChannelIdForSharing:u}},17399:function(e,t,r){"use strict";var n=r(17602);t["a"]=n["a"]},17403:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"test",function(){return y});r.d(t,"updateTyping",function(){return O});r.d(t,"clearTyping",function(){return E});r.d(t,"clearTypingCleanupInterval",function(){return j});r.d(t,"bulkClearTyping",function(){return k});r.d(t,"getAllTyping",function(){return I});r.d(t,"getTypingByKey",function(){return N});r.d(t,"getNumberOfRecords",function(){return A});r.d(t,"getTyperIdsInChannel",function(){return P});r.d(t,"removeOldTypingRecords",function(){return R});r.d(t,"memberStartedTyping",function(){return M});r.d(t,"currentUserStartedTyping",function(){return x});r.d(t,"memberEndedTyping",function(){return L});r.d(t,"currentUserEndedTyping",function(){return D});r.d(t,"checkTypingMap",function(){return F});var n=r(3);var a=r.n(n);var i=r(1);var o=r.n(i);var s=r(16915);var c=r(17099);var l=r(16913);var u=r(16979);var p=r(17336);var f;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function v(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function h(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}var m=u["isConnected"];var b=c["send"];var _=p["b"];var g=p["a"];var y={};Object.defineProperty(y,"isConnected",{get:function e(){return m},set:function e(t){m=t}});Object.defineProperty(y,"send",{get:function e(){return b},set:function e(t){b=t}});Object.defineProperty(y,"legacyMemberTypingStarted",{get:function e(){return _},set:function e(t){_=t}});Object.defineProperty(y,"legacyMemberTypingEnded",{get:function e(){return g},set:function e(t){g=t}});var O=Object(s["a"])("Update typing timestamp for a given key");O.propTypes={key:a.a.string.isRequired,started:a.a.number.isRequired,model_ob_id:a.a.string.isRequired,member_id:a.a.string.isRequired,member_is_self:a.a.bool};var E=Object(s["a"])("Remove typing activity for a given key");E.propTypes={key:a.a.string.isRequired};var j=Object(s["a"])("Stop the typing cleanup interval because there are no users typing");j.propTypes=null;var k=Object(s["a"])("Remove typing activity for multiple keys");k.propTypes=a.a.arrayOf(a.a.string);var w=5e3;var C=6e3;var S={};var T=Object(s["c"])((f={},v(f,O,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r=t.key,n=h(t,["key"]);if(!r)return e;if(e[r])return d({},e,v({},r,d({},e[r],{started:n.started})));return d({},e,v({},r,d({},n)))}),v(f,E,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.key;if(!r||!e[r])return e;return o.a.omit(e,r)}),v(f,k,function(e,t){if(!t||!t.length||!o.a.isArray(t))return e;var r=o.a.omit(e,t);if(Object.keys(r).length===Object.keys(e).length)return e;return r}),f),S);t["default"]=T;var I=Object(s["d"])(function(e){return e&&e.typing});var N=Object(s["d"])(function(e,t){return e&&e.typing&&e.typing[t]});var A=Object(s["d"])(function(e){return e&&e.typing&&Object.keys(e.typing).length});var P=Object(s["d"])(function(e,t){var r=o.a.filter(e&&e.typing,function(e){return e.model_ob_id===t&&!e.member_is_self});return o.a.map(r,"member_id")});var R=Object(s["e"])("remove old typing records",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.now;var a=I(t());var i=o.a.map(a,function(e,t){var r=e.member_is_self?w:C;var a=n-e.started;if(a>=r)return t;return null});i=o.a.compact(i);i.length&&e(k(i))});R.propTypes={now:a.a.number.isRequired};var M=Object(s["e"])("member started typing (also dispatched by currentUserStartedTyping)",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.channelId,a=r.memberId;var i=t();var o=n+"_"+a;var s=Date.now();var c=!N(i,o);e(O({key:o,started:s,model_ob_id:n,member_id:a,member_is_self:Object(l["getCurrentUserId"])(i)===a}));c&&_(n,a)});M.propTypes={channelId:a.a.string.isRequired,memberId:a.a.string.isRequired};var x=Object(s["e"])("logged in user has started typing",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.channelId;var a=t();if(!m(a))return;if(!n)return;var i=Object(l["getCurrentUserId"])(a);var o=n+"_"+i;if(N(a,o))return;var s={type:"typing",channel:n};e(b(s));e(M({channelId:n,memberId:i}))});x.propTypes={channelId:a.a.string.isRequired};var L=Object(s["e"])("member stopped typing (also dispatched by currentUserEndedTyping)",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.channelId,a=r.memberId;var i=n+"_"+a;e(E({key:i}));g(n,a)});L.propTypes={channelId:a.a.string.isRequired,memberId:a.a.string.isRequired};var D=Object(s["e"])("logged in user has stopped typing",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.channelId;if(!n)return;var a=t();var i=Object(l["getCurrentUserId"])(a);e(L({channelId:n,memberId:i}))});D.propTypes={channelId:a.a.string.isRequired};var F=Object(s["e"])("Periodically update the typing map to look for typing records that have expired, and update legacy of the changes",function(e,t){var r=Date.now();var n=0;var a=I(t());e(R({now:r}));var i=I(t());var s=o.a.difference(Object.keys(a),Object.keys(i));s.forEach(function(e){var t=a[e];g(t.model_ob_id,t.member_id)});n=A(t());n<1&&e(j())})},17404:function(e,t,r){"use strict";t["b"]=o;r.d(t,"a",function(){return s});r.d(t,"c",function(){return c});var n=r(1);var a=r.n(n);var i=r(16914);function o(){return Object(n["has"])(window,"TS.web.space")}var s=Object(i["c"])("TS.web.space.isFileRelevant",function(){return false});var c=Object(i["c"])("TS.web.space.updateSpacePrivilegesAndName",n["noop"])},17405:function(e,t,r){"use strict";r.d(t,"a",function(){return w});t["i"]=S;t["k"]=T;t["j"]=I;t["b"]=A;t["h"]=R;t["c"]=G;t["d"]=W;t["e"]=V;t["f"]=K;t["g"]=z;var n=r(16913);var a=r(17153);var i=r(16967);var o=r(16922);var s=r(17069);var c=r(16923);var l=r(16980);var u=r(16919);var p=r(15354);var f=r(16925);var d=r(17055);var v=r(16920);var h=r(16940);var m=r(16962);var b=r(15762);var _=r(17323);var g=r(17090);var y=r(18110);var O=r(16965);var E=r(17211);var j=r(17324);var k=r(17102);var w=m["isDesktop"]||window.Notification||window.webkitNotifications;var C=["channel_leave","channel_join","group_leave","group_join"];function S(e,t,r){if(!t||!r)return b["a"].BAD_ARGUMENTS;if(t.no_display)return b["a"].NO_DISPLAY_OVERRIDE;if(Object(h["isReply"])(t))return b["a"].REPLY_MESSAGE;if(t.subtype&&-1!==C.indexOf(t.subtype))return b["a"].JOIN_LEAVE_MESSAGE;var i=G(e,r.id);if("nothing"===i)return b["a"].SILENT_PREFERENCE;var o=Object(E["a"])(r);var s=Object(n["getCurrentUserId"])(e);var c=N(e,t,o),l=c.hasMention,u=c.mentionsData;if("bot_message"===t.subtype&&"everything"!==i&&!l)return b["a"].BOT_MESSAGE;if(Object(n["isFeatureEnabled"])(e,"feature_wta_notifications")&&Object(h["isAppMessage"])(e,t)&&"everything"!==i&&!l)return b["a"].APP_MESSAGE;var p=Object(h["canCountAsUnreadForCurrentUser"])(t,s);var f=l&&p;var v=Object(E["b"])(r.id);p&&!Object(d["isWindowFocused"])(e)&&M(f,v);if(!A())return b["a"].PERMISSION_DENIED;if(!f&&"everything"!==i)return b["a"].NO_MENTIONS;if(L(e,t,r))return b["a"].ACTIVE_VIEW_VISIBLE;if(!o&&u&&u.mentions&&!u.non_channel_mentions)return b["a"].RESTRICTED_CHANNEL_ONLY_CHANNEL_MENTIONS;if(Object(h["isFromCurrentUser"])(t,s))return b["a"].FROM_CURRENT_USER;if(t.no_notifications)return b["a"].NO_NOTIFICATIONS_OVERRIDE;if(v)return b["a"].MUTED_CHANNEL;if(Object(a["getCurrentMemberDnd"])(e)&&!t._ignore_dnd)return b["a"].USER_IN_DND;if(x(e,r))return b["a"].LESS_RELEVANT_ORG_TEAM;if(F(e,t,r))return b["a"].OVERSIZED_MENTION;return b["a"].NONE}function T(e,t,r){if(!t||!r)return b["a"].BAD_ARGUMENTS;if(t.no_display)return b["a"].NO_DISPLAY_OVERRIDE;if(Object(h["isReply"])(t))return b["a"].REPLY_MESSAGE;Object(d["isWindowFocused"])(e)||M(true);if("nothing"===V(e,r.id))return b["a"].SILENT_PREFERENCE;if(!A())return b["a"].PERMISSION_DENIED;if(L(e,t,r))return b["a"].ACTIVE_VIEW_VISIBLE;if(Object(h["isFromCurrentUser"])(t,Object(n["getCurrentUserId"])(e)))return b["a"].FROM_CURRENT_USER;if(t.no_notifications)return b["a"].NO_NOTIFICATIONS_OVERRIDE;if(Object(a["getCurrentMemberDnd"])(e)&&!t._ignore_dnd)return b["a"].USER_IN_DND;if(x(e,r))return b["a"].LESS_RELEVANT_ORG_TEAM;return b["a"].NONE}function I(e,t){if(!t||!t.channel)return b["a"].BAD_ARGUMENTS;var r=false;var n=Object(c["getChannelById"])(e,t.channel,r);if(!n||Object(v["isNonExistent"])(n))return b["a"].BAD_ARGUMENTS;if(!Object(h["isReply"])(t))return b["a"].NOT_REPLY_MESSAGE;var a=t.msg,i=t.thread_ts;if(x(e,n))return b["a"].LESS_RELEVANT_ORG_TEAM;if(D(e,t,n))return b["a"].ACTIVE_VIEW_VISIBLE;var o=Object(p["getMaxTimestamp"])(e);if(!o||a>o)return b["a"].REDUNDANT_SOCKET_EVENT;var s=Object(j["b"])(n.id,i);if(s&&s.last_read&&s.last_read>=a)return b["a"].ALREADY_SEEN_REPLY;return b["a"].NONE}function N(e,t,r){var a=void 0;var i=false;var c=Object(h["isAppMessage"])(e,t);var l=Object(n["isFeatureEnabled"])(e,"feature_wta_notifications");if(r){var u={ignoreHighlightWords:Object(h["shouldIgnoreHighlightWords"])(t,c,l),ignoreAtEveryoneMentions:false,ignoreAtChannelMentions:false,ignoreAtHereMentions:"away"===Object(s["getCurrentMemberPresence"])(e)};i=Object(h["containsMention"])(t,Object(n["getCurrentUserId"])(e),Object(o["getUserHighlightWords"])(e),u);i&&Object(y["a"])()}else{a=Object(O["g"])(t);i=a.non_channel_mentions;a.mentions&&Object(y["a"])()}return{mentionsData:a,hasMention:i}}function A(){if(!w)return false;if(m["isDesktop"])return true;return"granted"===R()}function P(){if(!w)return false;if(A())return false;if("denied"===R())return false;return true}function R(){if(m["isDesktop"]||!w)return"na";if(window.Notification)return window.Notification.permission;return"na"}function M(e,t){e&&-1===document.title.indexOf("!")?document.title="! "+document.title:t||-1!==document.title.indexOf("*")||(document.title="* "+document.title)}function x(e,t){if(!Object(v["isOrgShared"])(t))return false;return!Object(v["isRelevantTeamForSharedChannel"])(t,Object(u["getCurrentMember"])(e),Object(f["getTeamId"])(e),Object(l["getEnterpriseId"])(e),Object(n["pageNeedsEnterprise"])(e),Object(n["getFromBootData"])(e,"other_accounts"))}function L(e,t,r){if(!Object(d["isWindowFocused"])(e))return false;if(Object(h["containsAtCommand"])(t.text))return false;var n=Object(i["getMessagePaneChannelId"])(e);return r.id===n&&!t._hidden_reply&&!Object(_["b"])()}function D(e,t,r){if(!Object(d["isWindowFocused"])(e))return false;if(Object(h["containsAtCommand"])(t.text))return false;return t.thread_ts&&r.id===Object(k["a"])()&&t.thread_ts===Object(k["b"])()}function F(e,t,r){if(!Object(n["isFeatureEnabled"])(e,"feature_stop_loud_channel_mentions"))return false;if(Object(g["h"])(t.text,r.id,t.user))return false;return true}function B(e,t){if("desktop"!==t&&"mobile"!==t)throw new Error("Platform must be desktop or mobile: "+t);return Object(o["getNotificationsGlobalPref"])(e,"global_"+t)}function U(e,t){if("desktop"!==t&&"mobile"!==t)throw new Error("Platform must be desktop or mobile: "+t);if(Object(n["isFeatureEnabled"])(e,"feature_turn_mpdm_notifs_on")){var r=Object(o["getNotificationsGlobalPref"])(e,"global_mpdm_"+t);if(!r){var a=B(e,t);if("nothing"===a)return"nothing";return"everything"}return r}return Object(o["getNotificationsGlobalPref"])(e,"global_"+t)}function H(e,t,r){var n=false;var a=Object(c["getChannelById"])(e,t,n);if(!a||Object(v["isNonExistent"])(a))return null;if(Object(v["isMpim"])(a)||Object(v["isIm"])(a))return U(e,r);return B(e,r)}function q(e,t,r){if("desktop"!==r&&"mobile"!==r)throw new Error("Platform must be desktop or mobile: "+r);var n=false;var a=Object(c["getChannelById"])(e,t,n);if(!a||Object(v["isNonExistent"])(a))return null;if(Object(v["isIm"])(a))throw new Error("IMs do not have a calculated notification setting");var i=Object(o["getNotificationsChannelPref"])(e,t,r);if(i)return i;return H(e,t,r)}function G(e,t){return q(e,t,"desktop")}function W(e,t){return q(e,t,"mobile")}function V(e,t){return H(e,t,"desktop")}function K(e,t){return H(e,t,"mobile")}function z(){var e=A();var t=null;if(!e){var r=R();t="denied"===r?"not_allowed":"default"===r?"not_yet_allowed":"impossible"}return{notificationsEnabled:e,notificationDisabledType:t}}},17406:function(e,t,r){"use strict";r.d(t,"b",function(){return P});r.d(t,"a",function(){return R});r.d(t,"h",function(){return M});r.d(t,"g",function(){return L});r.d(t,"n",function(){return q});r.d(t,"o",function(){return K});r.d(t,"m",function(){return Q});t["q"]=Y;t["l"]=J;t["p"]=X;r.d(t,"i",function(){return se});r.d(t,"j",function(){return ue});r.d(t,"e",function(){return he});r.d(t,"f",function(){return be});r.d(t,"k",function(){return ge});r.d(t,"c",function(){return ye});r.d(t,"d",function(){return we});var n=r(1);var a=r.n(n);var i=r(16919);var o=r(16923);var s=r(16946);var c=r(16920);var l=r(16921);var u=r(17325);var p=r(20405);var f=r(17015);var d=r(16912);var v=r(16953);var h=r(16972);var m=r(17072);var b=r(17124);var _=r(17948);var g=r(17327);var y=r(16913);var O=r(16925);var E=r(16927);var j=r(18111);var k=r(20397);var w=r(18112);var C=r(18113);var S=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var T=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;if(void 0===o)return;return o.call(n)};function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function A(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P={CHANNEL_NAVIGATION:"channel-navigation",FILE_NAVIGATION:"file-navigation",MPIM_NAVIGATION:"mpim-navigation",USER_NAVIGATION:"user-navigation",QUERY:"query",QUERY_HISTORY:"query-history",UNKNOWN:"unknown",EXPERT_CHANNEL_NAVIGATION:"expert-channel-navigation"};var R={FILTER_IN:"filter-in",FILTER_FROM:"filter-from",FILTER_TO:"filter-to",FILTER_BEFORE:"filter-before",FILTER_DURING:"filter-during",FILTER_ON:"filter-on",FILTER_AFTER:"filter-after",FILTER_HAS:"filter-has",FILTER_TYPE:"filter-type",MEMBER:"member",STRING:"string",PHRASE:"phrase",API:"api-suggestion",UNKNOWN:"unknown"};var M={HAS:"has",TYPE:"type",FROM:"from",TO:"to",IN:"in",BEFORE:"before",DURING:"during",ON:"on",AFTER:"after"};var x=new d["b"]("search");var L={has:x.t("has"),type:"type",from:x.t("from"),to:x.t("to"),in:x.t("in"),before:x.t("before"),during:x.t("during"),on:x.t("on"),after:x.t("after")};var D={STAR:"star",PIN:"pin",LINK:"link",REACTION:"reaction"};var F={star:x.t("star"),pin:x.t("pin"),link:x.t("link"),reaction:x.t("reaction")};var B={January:x.t("January"),February:x.t("February"),March:x.t("March"),April:x.t("April"),May:x.t("May"),June:x.t("June"),July:x.t("July"),August:x.t("August"),September:x.t("September"),October:x.t("October"),November:x.t("November"),December:x.t("December")};var U={Today:x.t("Today"),Yesterday:x.t("Yesterday")};var H=function(e){A(t,e);function t(){I(this,t);return N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,function(){return we.searchQueryHistory("",10)},3e5))}return t}(w["a"]);var q=new H;var G=function(e){A(t,e);function t(){I(this,t);return N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,function(){return Promise.resolve({emojiMap:Object(h["f"])(),searchMap:Object(n["keyBy"])(Object(h["f"])(),"name_with_colons")})},3e5))}return t}(w["a"]);var W=new G;var V=function(e){A(t,e);function t(){I(this,t);var e=2e5;var r=Math.ceil(e/5e4);var a=576e5;return N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,function(){return Promise.all(Object(n["range"])(r).map(function(e){return we.searchAutocompleteQuerySuggestions(e)})).then(function(e){var t=e.filter(function(e){return e.data.query_suggestion_list.length>0}).sort(function(e){return-e.data.query_suggestion_list[0][1]});var r=Object(n["flatMap"])(t,function(e){return e.data.query_suggestion_list.map(function(e){var t=e[0].toString().replace(/_/g," ");var r=parseInt(e[1],10)/1e4;var a=Object(n["mapValues"])(e[2],function(e){return parseInt(e,10)/100});return[t,r,a]})});var a={};Object(n["each"])(r,function(e){var t=e[0][0];a[t]||(a[t]=[]);a[t].push(e)});return a})},a))}S(t,[{key:"onCacheData",value:function e(r){var n=this;T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onCacheData",this).call(this,r);var a=Math.max(this.timeoutMs/2,144e5);this.querySuggestionCacheRefreshTimer&&clearTimeout(this.querySuggestionCacheRefreshTimer);this.querySuggestionCacheRefreshTimer=null;this.querySuggestionCacheRefreshTimer=setTimeout(function(){n._callCacheGet()},this.timeoutMs/2+Math.random()*a)}}]);return t}(w["a"]);var K=new V;var z=function(e){A(t,e);function t(){I(this,t);var e=1008e5;return N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,function(){return we.searchAutocompleteFileSuggestions(1e4).then(function(e){var t={};Object(n["each"])(e.data.file_suggestion_list,function(e){var r=e.title.toLowerCase().replace(/[^a-z0-9\s]/,"").replace(/\s+/," ").trim();var a=r.split(/\s+/).slice(0,6);var i=Object(n["extend"])(e,{normalTitle:r,titleTerms:a,score:e.score/65536*400});Object(n["each"])(r.split(/ /).slice(0,3),function(e){var r=e[0];t[r]||(t[r]=[]);t[r].push(i)})});return t})},e))}S(t,[{key:"onCacheData",value:function e(r){var n=this;T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onCacheData",this).call(this,r);var a=144e5;this.fileSuggestionCacheRefreshTimer&&clearTimeout(this.fileSuggestionCacheRefreshTimer);this.fileSuggestionCacheRefreshTimer=null;this.fileSuggestionCacheRefreshTimer=setTimeout(function(){n._callCacheGet()},this.timeoutMs+Math.random()*a)}}]);return t}(w["a"]);var Q=new z;function Y(e,t,r,n){Object(y["isFeatureEnabled"])(e,"feature_react_search")&&(L.type=x.t("type"));return new Z(e).suggestions(t,r,n)}function J(){return"e3_unified"}function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var r=arguments[2];if(!r)return t.filter(function(e){return!e.is_type_user_query});return Object(n["uniqBy"])([Object(n["assign"])(se.fromString(e,r).toMap(J(e)),{is_type_user_query:true})].concat(t.filter(function(e){return!e.is_type_user_query})),function(e){return e.key})}var Z=function(){function e(t){I(this,e);this.state=t}S(e,[{key:"combineResponses",value:function e(t,r,a,i){var o=Object(n["chain"])(t).map(function(e){return e.slice(a,r)}).flatten().uniqBy(function(e){return e.toTextyString()}).sortBy(function(e){return-e.score(i)}).map(function(e){return e.toMap(i)}).value();var s=Object(n["chain"])(t).map(function(e){return e.slice(0,a)}).flatten().uniqBy(function(e){return e.toTextyString()}).sortBy(function(e){return-e.score(i)}).map(function(e){return e.toMap(i)}).value();return s.concat(o).slice(0,r)}},{key:"suggestions",value:function e(t,r,n){var a=this;var o=new $(t);var s=[];if(o.isEmpty())s.push(this.suggestionsBlankSlateQueryHistory(r));else{s.push(this.suggestionsInFilter(o,r));s.push(this.suggestionsHasFilter(o,r));s.push(this.suggestionsMemberFilter(o,r,M.FROM));s.push(this.suggestionsMemberFilter(o,r,M.TO));s.push(this.suggestionsDateFilter(o,r,M.BEFORE));s.push(this.suggestionsDateFilter(o,r,M.DURING));s.push(this.suggestionsDateFilter(o,r,M.ON));s.push(this.suggestionsDateFilter(o,r,M.AFTER));s.push(this.suggestionsQueryHistory(o,r));s.push(this.suggestionsUsers(o,r));s.push(this.suggestionsChannels(o,r));s.push(this.suggestionsGroups(o,r));s.push(this.suggestionsMPIMs(o,r));s.push(this.suggestionsFiles(o,r,n));var c=ke(this.state);var u=Object(i["getCurrentMember"])(c);Object(l["O"])(u)||Object(l["T"])(u)||u.is_bot||s.push(this.suggestionsQueries(o,r));"treatment"===Object(f["a"])("sli_search_ac_experts")&&s.push(this.suggestionsExpertChannels(o,r))}var p=r;return Promise.all(s).then(function(e){return a.combineResponses(e,r,p,n)})}},{key:"suggestionsBlankSlateQueryHistory",value:function e(t){var r=this;return q.get().then(function(e){return e.slice(0,t).map(function(e,t){return new le(r.state,"",e,t)})})}},{key:"suggestionsQueryHistory",value:function e(t,r){var a=this;return q.get().then(function(e){return Object(n["map"])(Object(n["filter"])(e,function(e){return Object(n["startsWith"])(e.toLowerCase(),t.normalQuery().toString())}).slice(0,r),function(e){return se.fromString(a.state,e)})})}},{key:"suggestionsUsers",value:function e(t,r){var n=this;return we.searchUsers(t.toString(),r).then(function(e){var a=e.map(function(e){return new ae(e.score,e.model_ob,t.toString())}).sort(function(e,t){return t.score-e.score});a[0]&&a.push(new se(n.state,t,[new be(a[0].score,n.state,a[0].getUser().id,null,M.FROM)]));return a.slice(0,r)})}},{key:"suggestionsChannels",value:function e(t,r){return we.searchChannels(t.toString(),r,{}).then(function(e){return e.map(function(e){return new re(e.score,e.model_ob,t.toString())})})}},{key:"suggestionsGroups",value:function e(t,r){return we.searchGroups(t.toString(),r).then(function(e){return e.map(function(e){return new re(e.score,e.model_ob,t.toString())})})}},{key:"suggestionsMPIMs",value:function e(t,r){return we.searchMPIMs(t.toString(),r).then(function(e){return e.map(function(e){return new ie(e.score,e.model_ob,t.toString())})})}},{key:"suggestionsQueries",value:function e(t,r){var n=this;if(!t)return Promise.resolve([]);return we.searchQueries(t.toString(),r).then(function(e){return e.map(function(e){return new se(n.state,t.toString(),[new fe(e[1],e[0])])})})}},{key:"suggestionsExpertChannels",value:function e(t,r){var a=this;if(!t)return Promise.resolve([]);return we.searchQueries(t.toString(),r).then(function(e){var r=ke(a.state);return Object(n["flatMap"])(e,function(e){var n=e[0];if(t.toString()===n||t.toString().search(" ")>=0){var a=e[2]||{};return Object.keys(a).map(function(n){var i=we.getChannelById(r,n);return new ne(e[1],a[n],i,t)}).filter(function(e){return e.channel})}return[]})})}},{key:"suggestionsFiles",value:function e(t,r,a){var i=[];var o=ke(this.state);var s=function e(r){return r.map(function(e){return new oe(e.score,e.model_ob,t.toString())})};i.push(we.searchFiles(o,t.normalQuery().toString(),r).then(s));i.push(we.searchLocalFiles(o,t.normalQuery().toString(),r).then(s));return Promise.all(i).then(function(e){return Object(n["chain"])(e).flatten().uniqBy(function(e){return e.fileId}).sortBy(function(e){return-e.score(a)}).slice(0,r).value()})}},{key:"suggestionsFilter",value:function e(t,r,a,i,o){var s=void 0;var c=void 0;if(t.lastUnigramQuery().normalQuery().isModifierMatch(a)){s=t.lastUnigramQuery().toString();c=t.lastUnigramPrefixQuery().asQuerySuggestion(this.state)}else{if(!t.lastBigramQuery().normalQuery().isModifierMatch(a))return Promise.resolve([]);s=t.lastBigramQuery().toString();c=t.lastBigramPrefixQuery().asQuerySuggestion(this.state)}var l=L[a];var u="";Object(n["startsWith"])(s,l+":")||Object(n["startsWith"])(s,l+" ")?u=s.slice(l.length+1):(Object(n["startsWith"])(s,a+":")||Object(n["startsWith"])(s,a+" "))&&(u=s.slice(a.length+1));return i(u,r).then(function(e){return e.map(function(e){return c.withQuerySuggestionToken(o(e))})})}},{key:"suggestionsMemberFilter",value:function e(t,r,n){var a=this;return this.suggestionsFilter(t,r,n,we.searchUsers,function(e){return new be(e.score,a.state,e.model_ob.id,e.model_ob.profile.real_name||e.model_ob.name||e.model_ob.profile.display_name,n)})}},{key:"suggestionsInFilter",value:function e(t,r){var a=this;var i=function e(t,r){return Promise.all([we.searchChannels(t,r,{include_archived:true}),we.searchGroups(t,r),we.searchUsers(t,r),we.searchMPIMs(t,r)]).then(function(e){return Object(n["flatten"])(e)})};return this.suggestionsFilter(t,r,M.IN,i,function(e){return new he(e.score,a.state,e.model_ob.id,e.model_ob.name)})}},{key:"suggestionsHasFilter",value:function e(t,r){var a=function e(t,r){return Promise.all([we.searchHasFilters(t,r)]).then(function(e){return Object(n["flatten"])(e)})};return this.suggestionsFilter(t,r,M.HAS,a,function(e){return new _e(e.model_ob,e.canLog)})}},{key:"suggestionsDateFilter",value:function e(t,r,n){var a=new Ee(new Date);return this.suggestionsFilter(t,r,n,function(e,t){return a.suggestionsPromise(e,t,n)},function(e){return new ye(e.model_ob,n)})}},{key:"suggestionsCustomDateFilters",value:function e(t){var r=this;var a=[M.BEFORE,M.DURING,M.ON,M.AFTER];return Promise.resolve(Object(n["filter"])(Object(n["map"])(a,function(e){if(!t.lastUnigramQuery().normalQuery().isModifierMatch(e))return null;return new ce(r.state,t.toString(),[new Oe(e)])}),function(e){return e}))}}]);return e}();var $=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";I(this,e);this._string=t}S(e,[{key:"lastUnigramQuery",value:function t(){return new e(this._string.split(/\s+/).slice(-1)[0])}},{key:"lastUnigramPrefixQuery",value:function t(){return new e(Object(n["join"])(this._string.split(/\s+/).slice(0,-1)," "))}},{key:"lastBigramQuery",value:function t(){return new e(Object(n["join"])(this._string.split(/\s+/).slice(-2)," "))}},{key:"lastBigramPrefixQuery",value:function t(){return new e(Object(n["join"])(this._string.split(/\s+/).slice(0,-2)," "))}},{key:"normalQuery",value:function t(){return new e(this._string.toLowerCase())}},{key:"asQuerySuggestion",value:function e(t){return se.fromString(t,this.toString())}},{key:"isModifierMatch",value:function e(t){var r=L[t];return this._string.length>=1&&(Object(n["startsWith"])(t+":",this._string)||Object(n["startsWith"])(t+" ",this._string)||r&&(Object(n["startsWith"])(r+":",this._string)||Object(n["startsWith"])(r+" ",this._string)))||Object(n["startsWith"])(this._string,t)&&(this._string.length<=t.length||":"===this._string[t.length]||" "===this._string[t.length])||r&&Object(n["startsWith"])(this._string,r)&&(this._string.length<=r.length||":"===this._string[r.length]||" "===this._string[r.length])}},{key:"isEmpty",value:function e(){return!this._string}},{key:"toString",value:function e(){return this._string}}]);return e}();var ee=function(){function e(){I(this,e)}S(e,[{key:"toMap",value:function e(t){return{score:this.score(t),type:this.type,featureVector:this.featureVector.serialized}}},{key:"score",value:function e(t){return this.featureVector.score(t)}},{key:"toString",value:function e(){return""}},{key:"toTextyString",value:function e(){return Object(v["b"])(this.toString())}},{key:"featureVector",get:function e(){return Object(j["a"])(this)}},{key:"type",get:function e(){return P.UNKNOWN}},{key:"logId",get:function e(){return""}}]);return e}();var te=function(e){A(t,e);function t(e,r){I(this,t);var n=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._frecencyScore=e;n._query=r;return n}S(t,[{key:"toMap",value:function e(r){return Object(n["assignIn"])(T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,r),{is_type_navigational:true})}},{key:"frecencyScore",get:function e(){return this._frecencyScore}},{key:"query",get:function e(){return this._query}},{key:"logId",get:function e(){return""}}]);return t}(ee);var re=function(e){A(t,e);function t(e,r,n){I(this,t);var a=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));a.channel=r;return a}S(t,[{key:"toString",value:function e(){return"<#"+this.channel.id+"|"+this.channel.name+">"}},{key:"toMap",value:function e(r){return Object(n["assignIn"])(T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,r),{is_type_channel:true,channel:this.channel,key:this.channel.id,id:this.channel.id})}},{key:"type",get:function e(){return P.CHANNEL_NAVIGATION}},{key:"logId",get:function e(){return""+this.channel.id}}]);return t}(te);var ne=function(e){A(t,e);function t(e,r,n,a){I(this,t);var i=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,null,n,a));i._querySuggestionScore=e;i._bm25Score=r;return i}S(t,[{key:"type",get:function e(){return P.EXPERT_CHANNEL_NAVIGATION}},{key:"querySuggestionScore",get:function e(){return this._querySuggestionScore}},{key:"bm25Score",get:function e(){return this._bm25Score}}]);return t}(re);var ae=function(e){A(t,e);function t(e,r,n){I(this,t);var a=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));a.user=r;return a}S(t,[{key:"getUser",value:function e(){return this.user}},{key:"toString",value:function e(){var t=this.user.profile.real_name||this.user.profile.display_name||this.user.name;return"<@"+this.user.id+"|@"+t+">"}},{key:"toMap",value:function e(r){return Object(n["assignIn"])(T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,r),{is_type_user:true,user:this.user,key:this.user.id,id:this.user.id})}},{key:"type",get:function e(){return P.USER_NAVIGATION}},{key:"logId",get:function e(){return""+this.user.id}}]);return t}(te);var ie=function(e){A(t,e);function t(e,r,n){I(this,t);var a=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));a.mpim=r;return a}S(t,[{key:"toString",value:function e(){var t=Object(b["b"])(this.mpim);return"<#"+this.mpim.id+"|"+t+">"}},{key:"toMap",value:function e(r){return Object(n["assignIn"])(T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,r),{is_type_mpim:true,mpim:this.mpim,key:this.mpim.id,id:this.mpim.id})}},{key:"type",get:function e(){return P.MPIM_NAVIGATION}},{key:"logId",get:function e(){return""+this.mpim.id}}]);return t}(te);var oe=function(e){A(t,e);function t(e,r,n){I(this,t);var a=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,0,n));a.file=r;a._rawScore=e;return a}S(t,[{key:"toString",value:function e(){return this.file.title}},{key:"toHtml",value:function e(){return je(this.toString())}},{key:"toMap",value:function e(r){return Object(n["assignIn"])(T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,r),{is_type_file:true,file:this.file,type:this.fileType,html:this.toHtml(),fileTypeDescription:this.fileTypeDescription,key:this.file.id,id:this.file.id})}},{key:"rawScore",get:function e(){return this._rawScore}},{key:"type",get:function e(){return P.FILE_NAVIGATION}},{key:"fileId",get:function e(){return this.file.id}},{key:"fileType",get:function e(){var t=this.file.highlight_type||this.file.filetype;if("space"===t)return"post";if("text"===t)return"txt";return t}},{key:"fileTypeDescription",get:function e(){return this.file.is_external?Object(g["a"])(this.file):this.file.pretty_type}},{key:"logId",get:function e(){return""+this.file.id}}]);return t}(te);var se=function(e){A(t,e);function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];I(this,t);var a=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));a.state=e;a._query=r;a.suggestionTokenList=n;return a}S(t,[{key:"withQuerySuggestionToken",value:function e(r){return new t(this.state,"",this.suggestionTokenList.concat([r]))}},{key:"toMap",value:function e(r){var a=this.toTextyString();return Object(n["assignIn"])(T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,r),{is_type_query_completion:true,suggestion_replacement:a,token_list:Object(n["map"])(this.suggestionTokenList,function(e){return e.toMap(r)}),key:a})}},{key:"toString",value:function e(){return Object(n["join"])(Object(n["map"])(this.suggestionTokenList,function(e){return e.toString()})," ")}},{key:"toHtml",value:function e(){return Object(n["join"])(Object(n["map"])(this.suggestionTokenList,function(e){return e.toHtml()})," ")}},{key:"toTextyString",value:function e(){return Object(n["join"])(Object(n["map"])(this.suggestionTokenList,function(e){return e.toTextyString()})," ")}},{key:"type",get:function e(){return P.QUERY}},{key:"query",get:function e(){return this._query}},{key:"lastSuggestionToken",get:function e(){return!this.suggestionTokenList||this.suggestionTokenList.length<1?null:this.suggestionTokenList[this.suggestionTokenList.length-1]}},{key:"logId",get:function e(){return this.lastSuggestionToken?this.lastSuggestionToken.logId:""}}],[{key:"fromString",value:function e(t,r){var n=ue.tokenListFromString(t,r);return new this(t,"",n)}}]);return t}(ee);var ce=function(e){A(t,e);function t(){I(this,t);return N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"toMap",value:function e(r){return Object(n["assignIn"])(T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,r),{is_type_custom_date:true})}}]);return t}(se);var le=function(e){A(t,e);function t(e,r,n,a){I(this,t);var i=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,ue.tokenListFromString(e,n)));i.index=a;i.exact_string=n;return i}S(t,[{key:"score",value:function e(t){return 50-this.index}},{key:"toMap",value:function e(r){return Object(n["assignIn"])(T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,r),{is_type_query_history:true,exact_string:this.exact_string,deletable:true})}},{key:"type",get:function e(){return P.QUERY_HISTORY}},{key:"logId",get:function e(){return Object(C["a"])(this.exact_string)}}]);return t}(se);var ue=function(){function e(){I(this,e)}S(e,[{key:"toString",value:function e(){return""}},{key:"toHtml",value:function e(){return je(Object(v["a"])(this.toString()))}},{key:"toTextyString",value:function e(){return this.toString()}},{key:"toMap",value:function e(t){return{string:this.toString(t)}}},{key:"type",get:function e(){return R.UNKNOWN}},{key:"logId",get:function e(){return""}}],[{key:"tokenListFromString",value:function e(t,r){var a=new RegExp('^\\s*(("([^"]*)")|([^\\s:]+:(([^<>\\s]+)|(<[^>]+>)))|(@[^\\s]+|<[^>]+>)|([^\\s]+))(.*)$');var i=10;var o=[];var s=r;var c=a.exec(s);while(null!==c){var l=c[3];var u=c[4];var p=c[8];var f=c[9];if(c[i]&&s.length===c[i].length)break;s=c[i];if(l)o.push({is_phrase:true,string:l});else if(p)o.push({is_member:true,string:p});else if(u)o.push({is_filter:true,string:u});else if(f){var d=o.length>0?o.slice(-1)[0]:null;d&&d.is_word?d.string=d.string+" "+f:o.push({is_word:true,string:f})}c=a.exec(s)}var v=Object(n["map"])(o,function(e){if(e.is_phrase)return new de(e.string);if(e.is_filter){var r=e.string.split(":",1)[0].toLowerCase();var n=function e(t,r){return t===r||t===L[r]};if(n(r,"in"))return he.fromString(t,e.string);if(n(r,"from"))return be.fromString(t,e.string,M.FROM);if(n(r,"to"))return be.fromString(t,e.string,M.TO);if(n(r,"has"))return _e.fromString(e.string);if(n(r,"type")&&Object(y["isFeatureEnabled"])(t,"feature_react_search"))return ge.fromString(e.string);if(n(r,"before"))return ye.fromString(e.string,M.BEFORE);if(n(r,"during"))return ye.fromString(e.string,M.DURING);if(n(r,"on"))return ye.fromString(e.string,M.ON);if(n(r,"after"))return ye.fromString(e.string,M.AFTER)}else if(e.is_member)return me.fromString(t,e.string);return new pe(e.string)});return v}}]);return e}();var pe=function(e){A(t,e);function t(e){I(this,t);var r=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r.string=e;return r}S(t,[{key:"toString",value:function e(){return this.string?this.string:""}},{key:"toMap",value:function e(r){return Object(n["assignIn"])(T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,r),{is_type_string:true,html:this.toHtml()})}},{key:"type",get:function e(){return R.STRING}},{key:"logId",get:function e(){return Object(C["a"])(this.string)}}]);return t}(ue);var fe=function(e){A(t,e);function t(e,r){I(this,t);var n=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._querySuggestionScore=e;n.string=r;return n}S(t,[{key:"querySuggestionScore",get:function e(){return this._querySuggestionScore}},{key:"type",get:function e(){return R.API}}]);return t}(pe);var de=function(e){A(t,e);function t(e){I(this,t);var r=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r.phrase=e;return r}S(t,[{key:"toString",value:function e(){return'"'+this.phrase+'"'}},{key:"toMap",value:function e(r){return Object(n["assignIn"])(T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,r),{is_type_phrase:true,phrase:this.phrase})}},{key:"type",get:function e(){return R.PHRASE}},{key:"logId",get:function e(){return Object(C["a"])(this.phrase)}}]);return t}(ue);var ve=function(e){A(t,e);function t(e){I(this,t);var r=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r._frecencyScore=e;return r}S(t,[{key:"frecencyScore",get:function e(){return this._frecencyScore}}]);return t}(ue);var he=function(e){A(t,e);function t(e,r,n,a){I(this,t);var i=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));i.state=r;i._id=n;i._name=a;return i}S(t,[{key:"toString",value:function e(){var t=ke(this.state);var r=this._id?we.getFilterChannelObjectById(t,this._id)||we.getChannelById(t,this._id):we.getFilterChannelObjectByName(t,this._name)||we.getChannelByName(t,this._name);if(we.getChannelType(r)&&!Object(c["isUnknownOrNonExistent"])(r)&&!Object(c["isIm"])(r)){if(Object(c["isMpim"])(r)){var n=Object(b["b"])(r);return L.in+":"+n}var a=Object(c["getDisplayName"])(r).replace(/^#/,"");return L.in+":#"+a}if(this._id)return L.in+":<@"+this._id+"|@"+we.getPrefCompliantMemberNameById(t,this._id)+">";var i=we.getMemberByName(t,this._name);return L.in+":<@"+i.id+"|@"+we.getPrefCompliantMemberNameById(t,i.id)+">"}},{key:"toMap",value:function e(r){return Object(n["assignIn"])(T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,r),{is_type_in_filter:true,string:this.toString(),channel:this.channelOrNull,user:this.memberOrNull})}},{key:"type",get:function e(){return R.FILTER_IN}},{key:"entityId",get:function e(){if(this._id)return this._id;var t=this.channelOrNull;if(t)return t.id;var r=this.memberOrNull;if(r)return r.id;return null}},{key:"channelOrNull",get:function e(){var t=ke(this.state);return this._id?we.getChannelById(t,this._id)||we.getFilterChannelObjectById(t,this._id):we.getChannelByName(t,this._name)||we.getFilterChannelObjectByName(t,this._name)}},{key:"memberOrNull",get:function e(){var t=ke(this.state);return this._id?we.getMemberById(t,this._id):we.getMemberByName(t,this._name)}},{key:"logId",get:function e(){return this._id}}],[{key:"fromString",value:function e(r,n){var a=new RegExp("^("+L.in+"|in):((<[@#]?([A-Z0-9a-z]+)(\\|[\\s]?([#@]?([^>]+)))?>)|([#@]?([^\\s]+)))$").exec(n);if(a&&a[4]&&(we.getChannelById(r,a[4])||we.getMemberById(r,a[4])||we.getFilterChannelObjectById(r,a[4])))return new t(1,r,a[4],a[6]);if(a&&a[8]&&(we.getChannelByName(r,a[9])||we.getMemberByName(r,a[9])||we.getFilterChannelObjectByName(r,a[9])))return new t(1,r,null,a[9]);if(a&&a[2]&&(we.getChannelByName(r,a[2])||we.getFilterChannelObjectByName(r,a[2])))return new t(1,r,null,a[2]);return new pe(n)}}]);return t}(ve);var me=function(e){A(t,e);function t(e,r,n,a){I(this,t);var i=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));i.state=r;i._id=n;i._name=a;return i}S(t,[{key:"toString",value:function e(){if(!this._id)return"@"+this._name;if(this._name)return"<"+this._id+"|@"+this._name+">";return"<@"+this._id+">"}},{key:"toMap",value:function e(r){return Object(n["assignIn"])(T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,r),{is_type_member:true,user:this.memberOrNull})}},{key:"toTextyString",value:function e(){var t=ke(this.state);if(!this._id){var r=we.getMemberByName(t,this._name);if(r){var n=we.getPrefCompliantMemberNameById(t,r.id);return"<@"+r.id+"|@"+n+">"}return"@"+this._name}var a=we.getPrefCompliantMemberNameById(t,this._id);return"<@"+this._id+"|@"+a+">"}},{key:"type",get:function e(){return R.MEMBER}},{key:"entityId",get:function e(){var t=ke(this.state);if(this._id)return this._id;var r=we.getMemberByName(t,this._name);return r?r.id:null}},{key:"memberOrNull",get:function e(){var t=ke(this.state);return this._id?we.getMemberById(t,this._id):we.getMemberByName(t,this._name)}},{key:"logId",get:function e(){return this.entityId}}],[{key:"fromString",value:function e(t,r){var n=new RegExp("^((<@?([^\\s|>]+)(\\|[\\s]?@?([^>]+))?>)|(@?([^\\s]+)))$").exec(r);if(n&&n[3]&&we.getMemberById(t,n[3]))return new this(1,t,n[3],n[5]);if(n&&n[7]&&we.getMemberByName(t,n[7]))return new this(1,t,null,n[7]);return new pe(r)}}]);return t}(ve);var be=function(e){A(t,e);function t(e,r,n,a,i){I(this,t);var o=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,n,a));o.cleanModifierType=[M.FROM,M.TO].includes(i)?i:"";return o}S(t,[{key:"toString",value:function e(){return this.modifierName+":"+T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toString",this).call(this)}},{key:"toMap",value:function e(r){var a={};a["is_type_"+this.cleanModifierType+"_filter"]=true;return Object(n["assignIn"])(T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,r),{is_type_member_filter:true,modifier:this.cleanModifierType,modifier_name:this.modifierName},a)}},{key:"toTextyString",value:function e(){return this.modifierName+":"+T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toTextyString",this).call(this)}},{key:"type",get:function e(){switch(this.cleanModifierType){case M.FROM:return R.FILTER_FROM;case M.TO:return R.FILTER_TO;default:return R.UNKNOWN}}},{key:"modifierName",get:function e(){return L[this.cleanModifierType]}}],[{key:"fromString",value:function e(t,r,n){var a=[M.FROM,M.TO].includes(n)?n:"";var i=L[a];var o=new RegExp("^("+i+"|"+a+"):((<@?([^\\s|>]+)(\\|@?([^>]+))?>)|(@?([^\\s]+)))$").exec(r);if(o&&o[4]&&we.getMemberById(t,o[4]))return new this(1,t,o[4],o[6],a);if(o&&o[8]&&we.getMemberByName(t,o[8]))return new this(1,t,null,o[8],a);return new pe(r)}}]);return t}(me);var _e=function(e){A(t,e);function t(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];I(this,t);var n=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.thing=e;n.canLog=r;return n}S(t,[{key:"toString",value:function e(){return L.has+":"+this.thingName}},{key:"thingHtml",value:function e(){return je(Object(v["a"])(this.thingName))}},{key:"toMap",value:function e(r){return Object(n["assignIn"])(T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,r),{is_type_has_filter:true,thingHtml:this.thingHtml()})}},{key:"type",get:function e(){return R.FILTER_HAS}},{key:"thingName",get:function e(){return F[this.thing]?F[this.thing]:this.thing}},{key:"logId",get:function e(){if(true===this.canLog)return this.thingName;return""}}],[{key:"fromString",value:function e(r){var n=new RegExp("("+L.has+"|has):([^\\s]+)").exec(r.toLowerCase());if(n&&n[2])return new t(n[2],false);return new pe(r)}}]);return t}(ue);var ge=function(e){A(t,e);function t(e){I(this,t);var r=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r._fileType=e;return r}S(t,[{key:"toString",value:function e(){return L.type+":"+this.fileType}},{key:"toMap",value:function e(r){return Object(n["assignIn"])(T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,r),{is_type_type_filter:true,file_type:this.fileType})}},{key:"type",get:function e(){return R.FILTER_TYPE}},{key:"fileType",get:function e(){return je(Object(v["a"])(this._fileType))}},{key:"logId",get:function e(){return this.fileType}}],[{key:"fromString",value:function e(r){var n=new RegExp("("+L.type+"|type):([^\\s]+)").exec(r.toLowerCase());if(n&&n[2])return new t(n[2]);return new pe(r)}}]);return t}(ue);var ye=function(e){A(t,e);function t(e,r){I(this,t);var n=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.dateString=e;n.cleanModifierType=[M.BEFORE,M.DURING,M.ON,M.AFTER].includes(r)?r:"";return n}S(t,[{key:"toString",value:function e(){return this.modifierName+":"+this.dateString}},{key:"toMap",value:function e(r){var a={};a["is_"+this.dateString]=true;return Object(n["assignIn"])(T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,r),{is_type_date_filter:true,date_string:this.dateString,modifier:this.cleanModifierType,modifier_name:this.modifierName},a)}},{key:"type",get:function e(){switch(this.cleanModifierType){case"before":return R.FILTER_BEFORE;case"during":return R.FILTER_DURING;case"on":return R.FILTER_ON;case"after":return R.FILTER_AFTER;default:return R.UNKNOWN}}},{key:"modifierName",get:function e(){return L[this.cleanModifierType]}},{key:"logId",get:function e(){return this.dateString}}],[{key:"fromString",value:function e(r,n){var a=[M.BEFORE,M.DURING,M.ON,M.AFTER].includes(n)?n:"";var i=L[a];var o=new RegExp("("+a+"|"+i+"):([^\\s]+)");var s=o.exec(r.toLowerCase());if(s&&s[2])return new t(s[2],a);return new pe(r)}}]);return t}(ue);var Oe=function(e){A(t,e);function t(e){I(this,t);return N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"custom_date",e))}S(t,[{key:"toMap",value:function e(r){return Object(n["assignIn"])(T(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toMap",this).call(this,r),{is_type_custom_date_filter:true})}},{key:"toTextyString",value:function e(){return this.modifierName+":"}}]);return t}(ye);var Ee=function(){function e(t){I(this,e);this.date=t}S(e,[{key:"suggestionsPromise",value:function e(t,r,n){return Promise.resolve(this.suggestions(t,r,n))}},{key:"suggestions",value:function e(t,r,a){return Object(n["chain"])([this.suggestionsRelativeDates(t,r,a),this.suggestionsMonths(t,r,a),this.suggestionsYears(t,r,a)]).flatten().sortBy(function(e){return-e.score}).slice(0,r).value()}},{key:"suggestionsRelativeDates",value:function e(t,r,a){var i=[U.Yesterday];a!==M.AFTER&&i.push(U.Today);return Object(n["chain"])(i).filter(function(e){return Object(n["startsWith"])(e.toLowerCase(),t.toLowerCase())}).slice(0,r).map(function(e,t){return{model_ob:e,score:.95-.01*t}}).value()}},{key:"suggestionsMonths",value:function e(t,r,a){if(a===M.ON)return[];return Object(n["chain"])(this.orderedMonthNames()).filter(function(e){return Object(n["startsWith"])(e.toLowerCase(),t.toLowerCase())}).slice(0,r).map(function(e,t){return{model_ob:e,score:(12-t)/12}}).value()}},{key:"suggestionsYears",value:function e(t,r,a){if(a===M.ON)return[];var i=a===M.AFTER?this.date.getYear()-1:this.date.getYear();var o=1900+i;return Object(n["chain"])(Object(n["range"])(o,o-5,-1)).filter(function(e){return Object(n["startsWith"])(e.toString(),t)}).slice(0,r).map(function(e,t){return{model_ob:e.toString(),score:(r-t)/r}}).value()}},{key:"monthNameFromInt",value:function e(t){return[B.January,B.February,B.March,B.April,B.May,B.June,B.July,B.August,B.September,B.October,B.November,B.December][t]}},{key:"orderedMonthNames",value:function e(){var t=this;return Object(n["map"])(Object(n["range"])(0,12),function(e){return t.monthNameFromInt((t.date.getMonth()-e+12)%12)})}}]);return e}();function je(e){return Object(v["e"])(e,null,{no_linking:true,do_specials:true,do_inline_imgs:false,no_jumbomoji:true,no_highlights:true,token_overrides:{"<CODE:START>":"`","<CODE:END>":"`","<B:START>":"*","<B:END>":"*","<I:START>":"_","<I:END>":"_","<STRIKE:START>":"~","<STRIKE:END>":"~","<QUOTE:START>":">","<QUOTE:END>":""}})}function ke(e){return Object(E["b"])(Object(O["getTeamId"])(e))}var we=function(){function e(){I(this,e)}S(e,null,[{key:"searchQueryHistory",value:function e(t,r){return Object(u["d"])(t,r).then(function(e){return e.data.suggestions})}},{key:"searchUsers",value:function e(t,r){return Object(m["a"])(t,{members:{include_slackbot:true,include_self:true,include_deleted:true},limit:r,sort:{allow_empty_query:true}}).then(function(e){return Object(n["filter"])(e,function(e){return!e.deleted})})}},{key:"searchChannels",value:function e(t,r,a){return Object(m["a"])(t,{channels:Object(n["extend"])({include_archived:false,enterprise_channels:true},a),limit:r,sort:{allow_empty_query:true}})}},{key:"searchGroups",value:function e(t,r){var a=t?t.replace(/^#/,""):"";return Object(m["a"])(a,{groups:true,limit:r,sort:{allow_empty_query:true}}).then(function(e){return Object(n["filter"])(e,function(e){return!e.model_ob.is_archived})})}},{key:"searchMPIMs",value:function e(t,r){return Object(m["a"])(t,{mpims:true,all_mpims:true,limit:r,sort:{allow_empty_query:true}}).then(function(e){return Object(n["filter"])(e,function(e){return!e.model_ob.is_archived})})}},{key:"searchQueries",value:function e(t,r){if(!t)return Promise.resolve([]);var a=t.toLowerCase();return K.get().then(function(e){return Object(n["filter"])(e[t[0]],function(e){return Object(n["startsWith"])(e,a)&&e!==t}).slice(0,r)})}},{key:"searchFiles",value:function e(t,r,a){if(!r)return Promise.resolve([]);var i=r.toLowerCase().replace(/[^a-z0-9\s]/,"").replace(/\s+/," ").trim();var o=i.split(/\s+/).slice(0,-1);var s=i.split(/\s+/).slice(-1)[0];return Q.get().then(function(e){return Object(n["chain"])(e[i[0]]).filter(function(e){if(o.length<1)return e.normalTitle.includes(i);if(!Object(n["reduce"])(o,function(t,r){return t&&Object(n["includes"])(e.titleTerms,r)},true))return false;return Object(n["filter"])(e.titleTerms,function(e){return Object(n["startsWith"])(e,s)}).length>0}).sort(function(e,t){return t.score-e.score}).slice(0,a).map(function(e){return{model_ob:e,score:e.score}}).value()})}},{key:"searchLocalFiles",value:function e(t,r,a){var i=r?r.toLowerCase():"";var o=function e(t,r){return(t||"").toLowerCase().includes(r.toLowerCase())};return Promise.resolve(Object(n["map"])(Object(n["filter"])(Object.values(Object(s["getAllFiles"])(t)||{}).slice(0,512),function(e){return e.mimetype&&!e.mimetype.startsWith("image")&&o(e.title,i)}).slice(0,a),function(e){return{model_ob:e,score:1}}))}},{key:"searchEmoji",value:function e(t,r){return W.get().then(function(e){return Object(_["a"])({searchQuery:t,searchMap:e.searchMap,emojiMap:e.emojiMap}).slice(0,r).map(function(e){return{score:49,model_ob:e.name_with_colons,canLog:false}})})}},{key:"searchHasFilters",value:function e(t,r){return Promise.resolve(Object(n["filter"])(Object(n["values"])(D),function(e){return Object(n["startsWith"])(e,t)||Object(n["startsWith"])(F[e],t)}).slice(0,r).map(function(e){return{model_ob:e,score:50,canLog:true}}))}},{key:"searchAutocompleteQuerySuggestions",value:function e(t){var r="new_term_frequency";var n=false;"treatment"===Object(f["a"])("sli_search_ac_experts")&&"new_term_frequency"===r&&(n=true);var a="autocomplete_query_suggestions_response_time_batch_"+t;var i=a+"_mark";Object(p["d"])(i);return Object(u["f"])(1e5,r,n,t||0,1).then(function(e){Object(p["f"])(a,i);return e}).catch(function(e){Object(p["f"])(a,i);return{data:[],exception:e}})}},{key:"searchAutocompleteFileSuggestions",value:function e(t){var r="new_term_frequency";return Object(u["e"])(t,r).catch(function(e){return{data:[],exception:e}})}},{key:"getMemberById",value:function e(t,r){var n=Object(i["getMemberById"])(t,r);if(!n||n.isNonExistent)return null;return n}},{key:"getMemberByName",value:function e(t,r){return Object(i["getMemberByName"])(t,r)}},{key:"getChannelById",value:function e(t,r){return Object(o["getChannelById"])(t,r)}},{key:"getChannelByName",value:function e(t,r){return Object(o["getChannelByName"])(t,r)}},{key:"getPrefCompliantMemberNameById",value:function e(t,r){return Object(l["r"])(t,r)}},{key:"getFilterChannelObjectById",value:function e(t,r){return Object(k["a"])(t,r)}},{key:"getFilterChannelObjectByName",value:function e(t,r){return Object(k["b"])(t,r)}},{key:"getChannelType",value:function e(t,r){return Object(c["getChannelType"])(t,r)}}]);return e}();var Ce=Y},17407:function(e,t,r){"use strict";r.d(t,"a",function(){return d});r.d(t,"l",function(){return v});r.d(t,"d",function(){return h});r.d(t,"c",function(){return m});r.d(t,"b",function(){return b});r.d(t,"e",function(){return _});r.d(t,"m",function(){return g});r.d(t,"n",function(){return y});r.d(t,"h",function(){return O});r.d(t,"i",function(){return E});t["f"]=j;t["o"]=k;t["p"]=w;t["k"]=C;t["j"]=S;t["g"]=T;var n=r(3);var a=r.n(n);var i=r(1);var o=r.n(i);var s=r(16915);var c=r(17741);var l=r(16913);var u=r(17685);var p=r(17408);var f=a.a.shape({companyName:a.a.string,street:a.a.string,suite:a.a.string,city:a.a.string,postalCode:a.a.string,region:a.a.string,country:a.a.string,isBusinessPurchase:a.a.bool,isVatIdAvailable:a.a.bool,vatId:a.a.string,abnId:a.a.string,validationErrors:a.a.object,isValidationActive:a.a.bool});var d=Object(s["a"])("Checkout Address Form Data Loaded");d.propTypes=a.a.object;var v=Object(s["a"])("Update Company Address Field");v.propTypes=a.a.object;var h=Object(s["a"])("Company Address Validated");h.propTypes=a.a.object;var m=Object(s["a"])("Company Address Form Field Validated");m.propTypes=a.a.object;var b=Object(s["a"])("Clear Company Address Form Field Validation Errors");b.propTypes=a.a.object;var _=Object(s["a"])("Credit Card Data Changed");_.propTypes=a.a.object;var g=Object(s["a"])("Credit Card Token Created");g.propTypes=a.a.object;var y=Object(s["a"])("Toggles if Credit Card Token is being created or not");y.propTypes=a.a.bool;var O=Object(s["a"])("Payment Response Received");O.propTypes=a.a.object;var E=Object(s["a"])("Stripe API Key Loaded");E.propTypes=a.a.object;function j(){return function(e){Promise.all([e(Object(c["b"])()),e(Object(c["a"])())]).then(function(t){e(d({statesAndCountries:t[0],companyAddress:t[1]}))})}}function k(e){return function(t,r){return new Promise(function(n){var a=Object(l["isFeatureEnabled"])(r(),"feature_checkout_flow_translations");var o=Object(p["e"])(r());var s=Object(u["c"])(e.companyAddress,a,o.vatCountries);if(!Object(i["isEmpty"])(s)){t(h(s));n({isCheckoutFormValid:false});return}t(h(s));t(Object(c["e"])(e.companyAddress)).then(function(){n({isCheckoutFormValid:true})}).catch(function(e){var r=e.data||{};var o=r.response_code;var s=r.error;var c=r.format_valid;var l=Object(u["a"])(o,s,c,a);if(!Object(i["isEmpty"])(l)){t(h(l));n({isCheckoutFormValid:false})}})})}}k.propTypes={companyAddress:f};function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{companyAddress:{},field:null},t=e.companyAddress,r=e.field;return function(e,n){var a=Object(l["isFeatureEnabled"])(n(),"feature_checkout_flow_translations");var i=Object(p["e"])(n());var o=Object(u["d"])(t,r,i.vatCountries,a);e(m({error:o,field:r}))}}w.propTypes={companyAddress:f,field:a.a.string};function C(e){return function(t,r){t(v(e));var n=Object(p["b"])(r());n.isValidationActive&&Object(i["has"])(e,"country")&&t(k({companyAddress:Object(p["b"])(r())}))}}C.propTypes=a.a.object;function S(e){return function(t){t(Object(c["d"])(e)).then(function(e){return t(O(e))})}}S.propTypes=a.a.object;function T(e){return function(t){return t(Object(c["c"])(e)).then(function(e){return t(E({stripeApiKey:e.stripe_api_publishable_key}))})}}T.propTypes={currency:a.a.string}},17408:function(e,t,r){"use strict";r.d(t,"b",function(){return a});r.d(t,"c",function(){return i});r.d(t,"d",function(){return o});r.d(t,"e",function(){return s});r.d(t,"l",function(){return c});r.d(t,"g",function(){return l});r.d(t,"i",function(){return u});r.d(t,"k",function(){return p});r.d(t,"f",function(){return f});r.d(t,"h",function(){return d});r.d(t,"j",function(){return v});r.d(t,"m",function(){return h});r.d(t,"a",function(){return b});r.d(t,"n",function(){return _});var n=r(16915);var a=Object(n["d"])(function(e){if(!e||!e.checkoutFlow||!e.checkoutFlow.companyAddress)return null;return e.checkoutFlow.companyAddress});var i=Object(n["d"])(function(e){var t=a(e);if(!t)return null;return t.country});var o=Object(n["d"])(function(e){var t=a(e);if(!t)return null;return t.postalCode});var s=Object(n["d"])(function(e){if(!e||!e.checkoutFlow||!e.checkoutFlow.config)return null;return e.checkoutFlow.config});var c=Object(n["d"])(function(e){if(!e||!e.checkoutFlow)return null;return e.checkoutFlow.isCheckoutAddressFormDataLoaded});var l=Object(n["d"])(function(e){if(!e||!e.checkoutFlow)return null;return e.checkoutFlow.creditCardData});var u=Object(n["d"])(function(e){var t=l(e);if(!t)return null;return t.token});var p=Object(n["d"])(function(e){var t=u(e);if(!t)return null;return t.id});var f=Object(n["d"])(function(e){var t=u(e);if(!t||!t.card)return null;return t.card.brand});var d=Object(n["d"])(function(e){var t=u(e);if(!t||!t.card)return null;return t.card.last4});var v=Object(n["d"])(function(e){var t=l(e);if(!t)return null;return t.tokenError});var h=Object(n["d"])(function(e){if(!e||!e.checkoutFlow)return false;return e.checkoutFlow.isCreatingCreditCardToken});var m=Object(n["d"])(function(e){if(!e||!e.checkoutFlow)return null;return e.checkoutFlow.paymentStatus});var b=Object(n["d"])(function(e){var t=m(e);if(!t)return false;return true===t.ok&&!t.error});var _=Object(n["d"])(function(e){var t=s(e);if(!t)return null;return t.stripeApiKey})},17409:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"updateHasUnreads",function(){return p});r.d(t,"updateHasUnreadThreads",function(){return f});r.d(t,"updateThreadsMentionCount",function(){return d});r.d(t,"hasUnreads",function(){return h});r.d(t,"hasUnreadThreads",function(){return m});r.d(t,"getThreadsMentionCount",function(){return b});var n=r(3);var a=r.n(n);var i=r(1);var o=r.n(i);var s=r(16915);var c;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function u(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var p=Object(s["a"])("Update the all unreads state");p.propTypes=a.a.bool.isRequired;var f=Object(s["a"])("Update the all threads state");f.propTypes=a.a.bool.isRequired;var d=Object(s["a"])("Update the threads mention count");d.propTypes=a.a.number.isRequired;var v=Object(s["c"])((c={},u(c,p,function(e,t){if("boolean"!==typeof t)return e;return l({},e,{hasUnreads:t})}),u(c,f,function(e,t){if("boolean"!==typeof t)return e;return l({},e,{hasUnreadThreads:t})}),u(c,d,function(e,t){if(!o.a.isInteger(t))return e;return l({},e,{threadsMentionCount:t})}),c),{hasUnreads:false,hasUnreadThreads:false,threadsMentionCount:0});t["default"]=v;var h=Object(s["d"])(function(e){return e&&e.allUnreads&&e.allUnreads.hasUnreads});var m=Object(s["d"])(function(e){return e&&e.allUnreads&&e.allUnreads.hasUnreadThreads});var b=Object(s["d"])(function(e){return e&&e.allUnreads&&e.allUnreads.threadsMentionCount})},17410:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"setFlexState",function(){return u});r.d(t,"getFlexpaneState",function(){return d});var n=r(3);var a=r.n(n);var i=r(16915);var o=r(16967);var s;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function l(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var u=Object(i["a"])("Setting the flexpane state");u.propTypes={flexName:a.a.string.isRequired,flexExtra:a.a.string,flexExtraType:a.a.string,flexOrigin:a.a.string,flexOriginId:a.a.string};var p={flexName:null,flexExtra:null,flexExtraType:null,flexOrigin:null,flexOriginId:null};var f=Object(i["c"])((s={},l(s,u,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.flexName,n=t.flexExtra,a=t.flexExtraType,i=t.flexOrigin,o=t.flexOriginId;return{flexName:r,flexExtra:n,flexExtraType:a,flexOrigin:i,flexOriginId:o}}),l(s,o["setActiveChannel"],function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.channelId,n=t.prevChannelId;if(r===n)return e;var a=e.flexOrigin;if("channel_page"===a||"group_page"===a||"im_page"===a)return c({},e,{flexOrigin:null,flexOriginId:null});return e}),s),p);t["default"]=f;var d=Object(i["d"])(function(e){return e&&e.flexpane})},17411:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"setExploreFeedMessages",function(){return l});r.d(t,"setExploreLoadingState",function(){return u});r.d(t,"setExploreLastFetched",function(){return p});r.d(t,"setExploreFollows",function(){return f});r.d(t,"setExploreFollowsLoading",function(){return d});r.d(t,"setExplorePrefs",function(){return v});r.d(t,"setExplorePrefsLoading",function(){return h});r.d(t,"getExploreFeedMessages",function(){return _});r.d(t,"getExploreFeedLoading",function(){return g});r.d(t,"getExploreLastFetched",function(){return y});r.d(t,"getExploreFollowsChannels",function(){return O});r.d(t,"getExploreFollowsUsers",function(){return E});r.d(t,"getExploreFollowsKeywords",function(){return j});r.d(t,"getExploreFollowsLoading",function(){return k});r.d(t,"getExplorePrefs",function(){return w});r.d(t,"getExplorePrefsLoading",function(){return C});var n=r(3);var a=r.n(n);var i=r(16915);var o;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function c(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var l=Object(i["a"])("Set the list of Explore feed messages");l.propTypes={data:a.a.array.isRequired};var u=Object(i["a"])("Set the loading state of Explore");u.propTypes={loading:a.a.bool.isRequired};var p=Object(i["a"])("Set the time messages were last fetched with the current config");p.propTypes={lastFetched:a.a.string.isRequired};var f=Object(i["a"])("Set the user-curated Follow list");f.propTypes={channels:a.a.arrayOf(a.a.object).isRequired};var d=Object(i["a"])("Set the loading state of the user-curated Follow list");d.propTypes={followsLoading:a.a.bool.isRequired};var v=Object(i["a"])("Set Explore Feed preferences");v.propTypes={prefs:a.a.object.isRequired};var h=Object(i["a"])("Set the loading state of the Explore Feed preferences");h.propTypes={prefsLoading:a.a.bool.isRequired};var m={data:[],loading:true,channels:[],users:[],keywords:[],followsLoading:false};var b=Object(i["c"])((o={},c(o,l,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.data;return s({},e,{data:r})}),c(o,u,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.loading;return s({},e,{loading:r})}),c(o,p,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.lastFetched;return s({},e,{lastFetched:r})}),c(o,f,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.channels,n=t.users,a=t.keywords;return s({},e,{channels:r,users:n,keywords:a})}),c(o,d,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.followsLoading;return s({},e,{followsLoading:r})}),c(o,v,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.prefs;return s({},e,{prefs:r})}),c(o,h,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.prefsLoading;return s({},e,{prefsLoading:r})}),o),m);var _=function e(t){return t&&t.explore&&t.explore.data};var g=function e(t){return t&&t.explore&&t.explore.loading};var y=function e(t){return t&&t.explore&&t.explore.lastFetched};var O=function e(t){return t&&t.explore&&t.explore.channels};var E=function e(t){return t&&t.explore&&t.explore.users};var j=function e(t){return t&&t.explore&&t.explore.keywords};var k=function e(t){return t&&t.explore&&t.explore.followsLoading};var w=function e(t){return t&&t.explore&&t.explore.prefs};var C=function e(t){return t&&t.explore&&t.explore.prefsLoading};t["default"]=b},17430:function(e,t,r){"use strict";t["a"]=i;var n=r(1);var a=r.n(n);function i(e,t,r){var a=e*Object(n["random"])(t,r);return Math.ceil(e+a)}},17580:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.ui.prefs_dialog.start")},17581:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(17582);var f=r(17583);var d=r(20121);var v=r.n(d);var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g={tabs:a.a.array.isRequired,defaultTabId:a.a.string,onTabChange:a.a.func,fullHeight:a.a.bool,fullWidthMenu:a.a.bool};var y={defaultTabId:"",onTabChange:l["noop"],fullHeight:false,fullWidthMenu:false};var O=function(e){_(t,e);function t(e){m(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.renderTabsItems=r.renderTabsItems.bind(r);r.onItemClick=r.onItemClick.bind(r);var n=void 0;var a=r.props,i=a.defaultTabId,o=a.tabs;o&&o.length&&(n=i&&Object(l["find"])(o,{id:i})?i:o[0].id);r.state={selectedTabId:n};return r}h(t,[{key:"componentWillReceiveProps",value:function e(t){var r=this;var n=this.props.defaultTabId;if(n!==t.defaultTabId&&t.defaultTabId){if(!this.props.tabs||!this.props.tabs.length)return;this.setState(function(){return{selectedTabId:t.defaultTabId}},function(){r.props.onTabChange(t.defaultTabId)})}}},{key:"onItemClick",value:function e(t,r){var n=this;this.setState(function(){return{selectedTabId:r}},function(){n.props.onTabChange(r)})}},{key:"renderTabsItems",value:function e(){var t=this;var r=this.props,n=r.tabs,a=r.fullWidthMenu;var i=this.onItemClick;var s=Object(l["map"])(n,function(e){function r(t,r){e.isExternalLink||i(t,r);e.onClick&&e.onClick(r)}return o.a.createElement(p["a"],{key:e.id,id:e.id,icon:e.icon,name:e.title,onClick:r,isSelected:t.state.selectedTabId===e.id,isDisabled:e.isDisabled,fullWidth:a,count:e.titleCount})});return s}},{key:"render",value:function e(){var t=this.props,r=t.tabs,n=t.fullHeight,a=t.fullWidthMenu;var i=this.state.selectedTabId;var s=Object(l["find"])(r,{id:i},"").content;var u=c()({"c-tabs__tab_container--full_height":n});var p=c()("c-tabs__tab_menu",{"c-tabs__tab_menu--full_width":a});return o.a.createElement("div",{className:u},o.a.createElement("div",{role:"tablist",className:p},this.renderTabsItems()),o.a.createElement(f["a"],{content:s,fullHeight:n,fullWidthMenu:a}))}}]);return t}(i["PureComponent"]);O.displayName="Tabs";O.propTypes=g;O.defaultProps=y;t["a"]=O},17582:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(16917);var u=r(20121);var p=r.n(u);var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m={id:a.a.string.isRequired,name:a.a.node.isRequired,onClick:a.a.func.isRequired,isSelected:a.a.bool,isDisabled:a.a.bool,icon:a.a.string,fullWidth:a.a.bool,count:a.a.number};var b={isSelected:false,isDisabled:false,icon:"",content:"",fullWidth:false,count:NaN};var _=function(e){h(t,e);function t(e){d(this,t);var r=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.maybeCallOnClick=r.maybeCallOnClick.bind(r);return r}f(t,[{key:"maybeCallOnClick",value:function e(t,r){if(this.props.isDisabled)return;this.props.onClick(t,r)}},{key:"maybeRenderCount",value:function e(){var t=this.props.count;if(isNaN(t))return null;return o.a.createElement("span",{className:"c-tabs__tab_count"},t)}},{key:"maybeRenderIcon",value:function e(){var t=this.props.icon;if(!t)return null;return o.a.createElement(l["b"],{type:t,className:"c-tabs__tab_icon",size:"inherit"})}},{key:"render",value:function e(){var t=this;var r=this.props,n=r.id,a=r.name,i=r.isSelected,s=r.isDisabled,l=r.fullWidth;var u=c()("c-tabs__tab","js-tab",{"c-tabs__tab--active":i,"c-tabs__tab--disabled":s,"c-tabs__tab--full_width":l});return o.a.createElement("div",{role:"tab",tabIndex:"0",className:u,onClick:function e(r){return t.maybeCallOnClick(r,n)}},o.a.createElement("button",{className:"c-tabs__tab_button",tabIndex:"-1"},a,this.maybeRenderCount(),this.maybeRenderIcon()))}}]);return t}(i["PureComponent"]);_.displayName="TabsItem";_.propTypes=m;_.defaultProps=b;t["a"]=_},17583:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(20121);var u=r.n(l);var p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h={content:a.a.node.isRequired,fullHeight:a.a.bool};var m={fullHeight:false};var b=function(e){v(t,e);function t(){f(this,t);return d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}p(t,[{key:"render",value:function e(){var t=this.props,r=t.content,n=t.fullHeight;var a=c()("c-tabs__tab_panel","js-panel","c-tabs__tab_panel--active",{"c-tabs__tab_panel--full_height":n});return o.a.createElement("div",{role:"tabpanel",className:a},r)}}]);return t}(i["PureComponent"]);b.displayName="TabsContent";b.propTypes=h;b.defaultProps=m;t["a"]=b},17590:function(e,t,r){"use strict";r.d(t,"a",function(){return N});var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(8);var p=r.n(u);var f=r(16913);var d=r(16980);var v=r(17304);var h=r(17389);var m=r(16912);var b=r(16976);var _=r(16918);var g=r(17400);var y=r(20158);var O=r.n(y);var E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var j=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function C(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=new m["b"]("custom_tos");var T={hasCustomTOS:a.a.bool,customTOSTimestamp:a.a.number,enterprise:a.a.shape({name:a.a.string,domain:a.a.string}),orgUrl:a.a.string,customTOSViewLink:a.a.string,team:a.a.shape({name:a.a.string}),safeAbsRootURL:a.a.string,featureZeroWorkspaceOnboarding:a.a.bool.isRequired,onSubmit:a.a.func,onlyDisplayCard:a.a.bool};var I={hasCustomTOS:false,enterprise:null,orgUrl:"",customTOSTimestamp:0,customTOSViewLink:"",team:null,safeAbsRootURL:"https://slack.com/",onSubmit:c["noop"],onlyDisplayCard:false};var N=function(e){C(t,e);function t(e){k(this,t);var r=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={buttonIsPending:false};r.onClick=r.onClick.bind(r);return r}j(t,[{key:"onClick",value:function e(t){t.preventDefault();this.setButtonPending(true);this.props.onSubmit()}},{key:"setButtonPending",value:function e(t){this.setState(function(){return{buttonIsPending:t}})}},{key:"maybeRenderSlackUserTOS",value:function e(){var t=this.props.hasCustomTOS;if(t)return null;return o.a.createElement("li",null,this.renderSlackUserTOS())}},{key:"maybeRenderEnterpriseTOS",value:function e(){var t=this.props.hasCustomTOS;if(!t)return null;return o.a.createElement("li",null,this.renderEnterpriseTOS())}},{key:"renderCookiePolicy",value:function e(){var t=this.props,r=t.safeAbsRootURL,n=t.featureZeroWorkspaceOnboarding;if(!n)return null;return o.a.createElement("a",{href:r+"cookie-policy",target:"_blank",rel:"noopener noreferrer"},S.t("Slack\u2019s Cookie Policy"))}},{key:"renderPrivacyPolicy",value:function e(){var t=this.props,r=t.safeAbsRootURL,n=t.featureZeroWorkspaceOnboarding;if(!n)return null;return o.a.createElement("a",{href:r+"privacy-policy",target:"_blank",rel:"noopener noreferrer"},S.t("Slack\u2019s Privacy Policy"))}},{key:"renderEnterpriseTOS",value:function e(){var t=this.props,r=t.customTOSViewLink,n=t.enterprise,a=t.featureZeroWorkspaceOnboarding;if(!a)return null;return o.a.createElement("a",{href:""+r,target:"_blank",rel:"noopener noreferrer"},S.t("{enterpriseName}\u2019s Terms of Service",{enterpriseName:n.name}))}},{key:"renderSlackUserTOS",value:function e(){var t=this.props,r=t.safeAbsRootURL,n=t.featureZeroWorkspaceOnboarding;if(!n)return null;return o.a.createElement("a",{href:r+"terms-of-service/user",target:"_blank",rel:"noopener noreferrer"},S.t("Slack\u2019s User Terms of Service"))}},{key:"renderTOSHeading",value:function e(){var t=this.props,r=t.featureZeroWorkspaceOnboarding,n=t.customTOSTimestamp;if(!r)return null;var a=void 0;a=n?S.t("Review and accept the updated terms of service"):S.t("Review the terms of service");return o.a.createElement("div",{className:"p-tos__heading"},a)}},{key:"renderTOSSubheading",value:function e(){var t=this.props,r=t.customTOSTimestamp,n=t.enterprise,a=t.customTOSViewLink,i=t.team,s=t.featureZeroWorkspaceOnboarding;if(!s)return null;if(r)return o.a.createElement("p",{className:"p-tos__subheading"},S.rt('By choosing <strong className="sk_black">\u201cI Agree\u201d</strong> you understand and agree to <a>{enterpriseName}\u2019s Terms of Service</a>, updated on {TOSUpdatedOn}.',{enterpriseName:n.name,customTOSViewLink:a,TOSUpdatedOn:Object(b["a"])(r)},function(e){var t=e.text,r=e.key,n=e.tag;if("a"===n)return o.a.createElement("a",{href:a,target:"_blank",key:r,rel:"noopener noreferrer"},t);return null}));if(!Object(c["isEmpty"])(i))return o.a.createElement("p",{className:"p-tos__subheading"},S.rt('<strong>{teamName}</strong> is a Slack workspace managed by <strong>{enterpriseName}</strong>. By choosing <strong className="sk_black">\u201cI Agree\u201d</strong> you understand and agree to:',{teamName:Object(g["getTeamDisplayName"])(i),enterpriseName:n.name}));return o.a.createElement("p",{className:"p-tos__subheading"},S.rt('By choosing <strong className="sk_black">\u201cI Agree\u201d</strong> you understand and agree to:'))}},{key:"renderTOSLinks",value:function e(){var t=this.props.customTOSTimestamp;if(t)return null;return o.a.createElement("div",{className:"p-tos__body"},o.a.createElement("ul",{className:"no_bullets margin_left_0"},this.maybeRenderSlackUserTOS(),o.a.createElement("li",null,this.renderPrivacyPolicy()),o.a.createElement("li",null,this.renderCookiePolicy()),this.maybeRenderEnterpriseTOS()))}},{key:"renderTOSBody",value:function e(){return o.a.createElement("div",{className:"p-tos__body"},this.renderTOSLinks(),this.renderSubmitButton())}},{key:"renderSubmitButton",value:function e(){if(!this.props.featureZeroWorkspaceOnboarding)return null;var t=this.state.buttonIsPending;return o.a.createElement(_["b"],{id:"submit_btn",type:"primary",className:"p-tos__button",onClick:this.onClick,loading:t,disabled:t,"data-qa":"submit_button"},S.t("I Agree"))}},{key:"renderCard",value:function e(){var t=p()("p-tos__card",{margin_top_0:this.props.onlyDisplayCard});return o.a.createElement("div",{className:t},o.a.createElement("div",{className:"p-tos__content"},this.renderTOSHeading(),this.renderTOSSubheading(),this.renderTOSBody()))}},{key:"render",value:function e(){var t=this.props,r=t.enterprise,n=t.onlyDisplayCard,a=t.orgUrl;return o.a.createElement("div",{className:"p-tos"},!n&&o.a.createElement(h["a"],{team:r,title:a,logoAriaLabel:"Slack"}),this.renderCard())}}]);return t}(i["PureComponent"]);N.displayName="TermsOfService";N.propTypes=T;N.defaultProps=I;var A=function e(t){var r=Object(f["getFromBootData"])(t,"custom_tos");var n=r.enterprise;var a=Object(f["isFeatureEnabled"])(t,"feature_zero_workspace_onboarding");var i=Object(d["getPotentiallyUnknownEnterprise"])(t);Object(c["isEmpty"])(i)||(n=i);var o=Object(v["c"])(t,n.domain);return E({},r,{enterprise:n,orgUrl:o,featureZeroWorkspaceOnboarding:a})};t["b"]=Object(s["connect"])(A)(N)},17591:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(17027);var f=r(20131);var d=r.n(f);var v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g={logoLink:a.a.string,logoAriaLabel:a.a.string,logoLinkProps:a.a.object,title:a.a.string,team:a.a.object,isEnterprise:a.a.bool,renderRightContents:a.a.func,rightClassName:a.a.string,centerClassName:a.a.string,renderCenterContents:a.a.func};var y={logoLink:null,logoAriaLabel:null,logoLinkProps:{},title:null,team:{},isEnterprise:null,renderRightContents:l["noop"],rightClassName:null,renderCenterContents:l["noop"],centerClassName:null};var O=function(e){_(t,e);function t(){m(this,t);return b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}h(t,[{key:"renderRightContents",value:function e(){var t=this.props,r=t.rightClassName,e=t.renderRightContents;var n=c()("p-navigation_bar__right",r);return o.a.createElement("div",{className:n},e())}},{key:"renderCenterContents",value:function e(){var t=this.props,r=t.centerClassName,e=t.renderCenterContents;var n=c()("p-navigation_bar__center",r);return o.a.createElement("div",{className:n},e())}},{key:"renderTitle",value:function e(){var t=this.props,r=t.title,n=t.team,a=t.isEnterprise;return o.a.createElement("div",{className:"p-navigation_bar__heading"},o.a.createElement(p["a"],{entityType:a?"org":"workspace",dimension:28,entityData:n,customClasses:"flex_none",featureReactMessages:true}),o.a.createElement("span",{className:"p-navigation_bar__title nudge_bottom_1"},r))}},{key:"renderLogo",value:function e(){var t=this.props,r=t.logoLink,n=t.logoAriaLabel,a=t.logoLinkProps;var i=o.a.createElement("div",{className:"p-navigation_bar__logo","data-qa":"nav_bar_logo",alt:"Slack"});if(!r)return i;return o.a.createElement("a",v({href:r,"aria-label":n,className:"flex_none"},a),i)}},{key:"render",value:function e(){var t=this.props.title;return o.a.createElement("nav",{className:"p-navigation_bar"},o.a.createElement("div",{className:"p-navigation_bar__left"},this.renderLogo(),t&&this.renderTitle()),this.renderCenterContents(),this.renderRightContents())}}]);return t}(i["Component"]);O.displayName="NavigationBar";O.propTypes=g;O.defaultProps=y;t["a"]=O},17593:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(8);var l=r.n(c);var u=r(1);var p=r.n(u);var f=r(16913);var d=r(17690);var v=r(16912);var h=r(17027);var m=r(17028);var b=r(20161);var _=r.n(b);var g=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j=new v["b"]("workspace_directory");var k={large:"large",small:"small"};var w={large:64,small:48};var C={team:a.a.shape({id:a.a.string,description:a.a.string,discoverable:a.a.string,name:a.a.string,domain:a.a.string,is_member:a.a.bool,date_requested_join:a.a.oneOfType([a.a.string,a.a.number]),icon:a.a.object,is_inactive:a.a.bool,user_counts:a.a.object}).isRequired,size:a.a.oneOf(Object(u["values"])(k)),featureZeroWorkspaceOnboarding:a.a.bool.isRequired,className:a.a.string,onActionReject:a.a.func,onActionResolve:a.a.func,anchorPage:a.a.string,openDialog:a.a.func,doLaunchInNewTab:a.a.bool};var S={allowInstantJoin:false,size:k.large,className:"",onActionResolve:u["noop"],onActionReject:u["noop"],anchorPage:"",openDialog:u["noop"],doLaunchInNewTab:false};var T=function(e){E(t,e);function t(e){y(this,t);var r=O(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onCardClick=r.onCardClick.bind(r);r.onKeyPress=r.onKeyPress.bind(r);r.onResize=r.onResize.bind(r);r.openDialog=r.openDialog.bind(r);r.state={isMobileView:false};return r}g(t,[{key:"componentDidMount",value:function e(){this.setIsMobileView(Object(m["c"])());window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("resize",this.onResize)}},{key:"onResize",value:function e(){this.setIsMobileView(Object(m["c"])())}},{key:"onCardClick",value:function e(t){t.stopPropagation();t.preventDefault();this.isSmallVariationCard()&&this.openDialog()}},{key:"onKeyPress",value:function e(t,r){t.preventDefault();if("Enter"===t.key)switch(r){case"openDialog":if(this.isSmallVariationCard())return this.openDialog();break;default:}return null}},{key:"setIsMobileView",value:function e(t){this.setState(function(){return{isMobileView:t}})}},{key:"isSmallVariationCard",value:function e(){return this.props.size===k.small}},{key:"isLargeVariationCard",value:function e(){return this.props.size===k.large}},{key:"openDialog",value:function e(){var t=this.props,r=t.team,e=t.openDialog;e({team:r})}},{key:"renderAvatar",value:function e(){var t=this.props.team;var r=this.isLargeVariationCard()&&!this.state.isMobileView?w[k.large]:w[k.small];return o.a.createElement("div",{className:"display_flex"},o.a.createElement(h["a"],{entityType:"workspace",customClasses:this.isSmallVariationCard()?"cursor_pointer":"",dimension:r,entityData:t,featureReactMessages:true,featureReactMemberProfileCard:true}))}},{key:"renderWorkspaceName",value:function e(){var t=this.props.team.name;return o.a.createElement("span",{className:"p-workspace_directory_card__title","data-qa-ws-directory-card-title":true,title:t},t)}},{key:"renderWorkspaceSubtitle",value:function e(){var t=this.props,r=t.featureZeroWorkspaceOnboarding,n=t.team;if(!r)return null;var a=this.state.isMobileView;var i=n.date_requested_join,s=n.discoverable,c=n.domain,l=n.user_counts;l=void 0===l?{}:l;var u=l.active_members,p=void 0===u?0:u;var f=j.t("{activeMembers} active members",{activeMembers:p?Object(v["i"])(p):0});var d=void 0;d=this.isLargeVariationCard()&&!a?o.a.createElement("div",null,o.a.createElement("span",{className:"border_right padding_right_50 margin_right_50 float_left"},f),o.a.createElement("span",{className:"overflow_ellipsis"},c+".slack.com")):this.isSmallVariationCard()&&"closed"===s&&i?o.a.createElement("span",null,j.t("Awaiting admin approval")):o.a.createElement("span",{className:"overflow_ellipsis"},f);return o.a.createElement("div",{className:"p-workspace_directory_card__subtitle","data-qa-ws-directory-card-subtitle":true},d)}},{key:"renderWorkspaceStatus",value:function e(){var t=this.props,r=t.featureZeroWorkspaceOnboarding,n=t.team;if(!r||this.isSmallVariationCard())return null;var a=Object(m["f"])(n,{context:"largeCard",featureZeroWorkspaceOnboarding:r});if(!a)return null;return o.a.createElement("div",{className:"p-workspace_directory_card__status"},a)}},{key:"renderWorkspaceDescription",value:function e(){var t=this.props.team.description;return o.a.createElement("div",{className:"p-workspace_directory_card__description","data-qa-ws-directory-card-description":true},t)}},{key:"renderButton",value:function e(){var t=this.props,r=t.team,n=t.size,a=t.onActionReject,i=t.onActionResolve,s=t.anchorPage,c=t.doLaunchInNewTab;var l=this.isLargeVariationCard()?"large":"medium";return o.a.createElement(d["a"],{team:r,buttonContext:n+"Card",featureZeroWorkspaceOnboarding:true,customClasses:"p-workspace_directory_card__button",onDefaultButtonClick:this.openDialog,onActionReject:a,onActionResolve:i,anchorPage:s,doLaunchInNewTab:c,size:l})}},{key:"render",value:function e(){var t=this;var r=this.props,n=r.featureZeroWorkspaceOnboarding,a=r.size,i=r.className;if(!n)return null;var s=this.props.team.id;var c=l()("p-workspace_directory_card",i,{"p-workspace_directory_card--large":this.isLargeVariationCard(),"p-workspace_directory_card--small":this.isSmallVariationCard()});return o.a.createElement("div",{className:c,onClick:this.onCardClick,onKeyPress:function e(r){return t.onKeyPress(r,"openDialog")},"data-workspace-id":s,"data-qa-ws-directory-card":true,"data-qa-ws-directory-card-size":a,role:"button",tabIndex:"0"},o.a.createElement("div",{className:"display_flex flex_direction_column"},o.a.createElement("div",{className:"display_flex align_self_start full_width"},this.renderAvatar(),o.a.createElement("div",{className:"p-workspace_directory_card__heading nudge_top_1"},this.renderWorkspaceName(),this.renderWorkspaceSubtitle())),this.renderWorkspaceStatus(),this.renderWorkspaceDescription()),this.renderButton())}}]);return t}(i["Component"]);T.displayName="WorkspaceDirectoryCard";T.propTypes=C;T.defaultProps=S;var I=function e(t){return{featureZeroWorkspaceOnboarding:Object(f["isFeatureEnabled"])(t,"feature_zero_workspace_onboarding")}};var N={};t["a"]=Object(s["connect"])(I)(T)},17594:function(e,t,r){"use strict";var n=r(17595);t["a"]=n["a"]},17595:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(45);var c=r(1);var l=r.n(c);var u=r(16956);var p=r(16912);var f=new p["b"]("generic_dialog");var d={children:a.a.any.isRequired,cancelButtonText:a.a.string,"data-qa":a.a.string,goButtonText:a.a.string,goButtonType:a.a.string,onCancel:a.a.func,onGo:a.a.func,showCancelButton:a.a.bool,title:a.a.string,truncateTitle:a.a.bool};var v={cancelButtonText:null,"data-qa":"alert_dialog",goButtonText:null,goButtonType:"primary",onCancel:c["noop"],onGo:c["noop"],showCancelButton:false,title:null,truncateTitle:true};function h(e){var t=e.children,r=e.cancelButtonText,n=e["data-qa"],a=e.goButtonText,i=e.goButtonType,s=e.onCancel,c=e.onGo,l=e.showCancelButton,p=e.title,d=e.truncateTitle;return o.a.createElement(u["a"],{cancelText:r||f.t("Cancel"),"data-qa":n,goButtonText:a||f.t("OK"),goButtonType:i,onCancel:s,onGo:c,role:"alertdialog",showCancelButton:l,title:p,truncateTitle:d},t)}h.displayName="AlertDialog";h.propTypes=d;h.defaultProps=v;t["a"]=Object(s["pure"])(h)},17596:function(e,t,r){"use strict";var n=r(18001);t["a"]=n["a"]},17597:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(17775);var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var s=function e(t){var r=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];var n=o({},t);r.forEach(function(e){t[e]&&(n[e]=t[e].isRequired||t[e])});return a.a.shape(n)};if(!window.Proxy)return Object(i["a"])(r,t);return new Proxy(r,{get:function e(r,n){return t[n]}})};t["a"]=s},17598:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(1);var a=r.n(n);var i=r(16914);var o=Object(i["c"])("TS.client.downloads.startDownload",a.a.noop);var s={startDownload:o}},17599:function(e,t,r){"use strict";var n=r(17600);r.d(t,"a",function(){return n["a"]})},17600:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(1);var a=r.n(n);var i=r(16914);var o=Object(i["c"])("TS.utility.isFocusOnInput",n["noop"]);var s=o},17601:function(e,t,r){"use strict";var n=r(17022);r.d(t,"a",function(){return n["d"]})},17602:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(17785);var u=r(17808);var p=r(17809);var f=r(20133);var d=r.n(f);var v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g={clogLinkClick:o.a.func,type:o.a.string,blocks:o.a.array};var y={clogLinkClick:a.a.noop,type:"default",blocks:void 0};var O=function(e){_(t,e);function t(e){m(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.clogLinkClick=r.clogLinkClick.bind(r);return r}h(t,[{key:"clogLinkClick",value:function e(t){var e=this.props.clogLinkClick;e(v({},t,{link_is_attachment:true}))}},{key:"render",value:function e(){var t=v({},this.props,{clogLinkClick:this.clogLinkClick});var r=void 0;r="canvas"===this.props.type?c.a.createElement(p["a"],t):this.props.blocks?c.a.createElement(u["a"],t):c.a.createElement(l["a"],t);return r}}]);return t}(s["PureComponent"]);O.displayName="MessageAttachment";O.propTypes=g;O.defaultProps=y;t["a"]=O},17604:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(45);var c=r(1);var l=r.n(c);var u=r(17001);var p=r(16952);var f=r(17792);var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var v={activeChannelId:o.a.string,messageTs:o.a.string,id:o.a.oneOfType([o.a.string,o.a.number]),actions:o.a.arrayOf(o.a.object),clogLinkClick:o.a.func,showLoader:o.a.bool};var h={activeChannelId:void 0,messageTs:void 0,id:void 0,actions:void 0,clogLinkClick:c["noop"],showLoader:false};function m(e){return Object(u["b"])(d({},Object(c["omit"])(e,"min_query_length","style"),{minQueryLength:parseInt(e.min_query_length,10)||0,variant:e.style}))}var b=function e(t){var r=t.activeChannelId,n=t.messageTs,i=t.id,o=t.actions,s=t.clogLinkClick,c=t.showLoader;return a.a.createElement("div",{className:"c-message_attachment__row c-message_attachment__row--actions"},o.map(function(e){return a.a.createElement(f["a"],d({key:e.id,channelId:r,messageTs:n,attachmentId:i,clogLinkClick:s},m(e)))}),c&&a.a.createElement(p["a"],{size:"small",speed:"fast",color:"white",className:"inline_flex align_middle"}))};b.displayName="AttachmentActionsRow";b.propTypes=v;b.defaultProps=h;t["a"]=Object(s["pure"])(b)},17605:function(e,t,r){"use strict";t["a"]=s;var n=r(1);var a=r.n(n);var i=r(16930);function o(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.channelId,a=t.messageTs,s=t.attachmentId,c=t.actionId;if(!r||!a||!s||!c)throw new Error("Cannot call `triggerAttachmentAction` without proper arguments");var l=Object(i["getMessageByTimestamp"])(e,r,a);if(!l)throw new Error("Couldn't find message "+a+" in channel "+r);var u=Object(n["find"])(l.attachments,{id:s});if(!u)throw new Error("Couldn't find attachment \""+s+'" in message "'+l.ts+'".');var p=Object(n["find"])(u.actions,{id:c});if(!p)throw new Error("Couldn't find action \""+c+'" in attachment "'+s+'".');var f=p.options,d=o(p,["options"]);return{message:l,attachment:u,action:d}}},17606:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16949);var p=r(17001);var f=r(17795);var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e){var t=function(t){b(r,t);function r(e){h(this,r);var t=m(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));Object(c["bindAll"])(t,["showConfirmDialog","hideConfirmDialog","handleConfirmDialogGo","handleConfirmDialogCancel"]);return t}v(r,[{key:"showConfirmDialog",value:function e(t){var r=t.onConfirmDialogGo,n=void 0===r?c["noop"]:r,a=t.onConfirmDialogCancel,i=void 0===a?c["noop"]:a;this.onConfirmDialogGo=n;this.onConfirmDialogCancel=i;this.dialog=this.props.openModal({element:this.renderConfirmDialog()})}},{key:"hideConfirmDialog",value:function e(t){t&&this.dialog&&this.dialog.close()}},{key:"handleConfirmDialogCancel",value:function e(){this.onConfirmDialogCancel();this.hideConfirmDialog()}},{key:"handleConfirmDialogGo",value:function e(){this.onConfirmDialogGo();this.hideConfirmDialog()}},{key:"renderConfirmDialog",value:function e(){return a.a.createElement(f["a"],d({},Object(p["b"])(this.props.confirm),{onCancel:this.handleConfirmDialogCancel,onGo:this.handleConfirmDialogGo}))}},{key:"render",value:function t(){return a.a.createElement(e,d({showConfirmDialog:this.showConfirmDialog,hideConfirmDialog:this.hideConfirmDialog},this.props))}}]);return r}(n["PureComponent"]);t.displayName="AttachmentActionConfirmDialogWrapper";t.propTypes={confirm:o.a.shape({title:o.a.string,text:o.a.string,ok_text:o.a.string,dismiss_text:o.a.string}),openModal:o.a.func.isRequired};t.defaultProps={confirm:void 0};var r={openModal:u["openModal"]};return Object(s["connect"])(null,r)(t)}t["a"]=_},17607:function(e,t,r){"use strict";var n=r(17608);t["a"]=n["a"]},17608:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(8);var p=r.n(u);var f=r(16947);var d=r(16946);var v=r(16913);var h=r(16922);var m=r(17004);var b=r(17087);var _=r(16948);var g=r(20536);var y=r(17147);var O=r(16977);var E=r(20163);var j=r.n(E);var k=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var T={file:f["a"].File(["permalink","title","thumb_360_w","thumb_360_h"]).isRequired,maxSize:a.a.number,stretch:a.a.bool,clogLinkClick:a.a.func,suppressAnimations:a.a.bool,featurePjpeg:a.a.bool,openViewer:a.a.func};var I={maxSize:null,stretch:true,clogLinkClick:c["noop"],suppressAnimations:false,featurePjpeg:false,openViewer:c["noop"]};var N=function(e){S(t,e);function t(e){w(this,t);var r=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.previewImage=r.previewImage.bind(r);r.onImgError=r.onImgError.bind(r);r.state={broken:false};return r}k(t,[{key:"onImgError",value:function e(){this.setState(function(){return{broken:true}})}},{key:"previewImage",value:function e(t){if(Object(g["a"])(t))return;var r=this.props,n=r.file,a=r.clogLinkClick,i=r.openViewer;t.preventDefault();a({subtype:"msg_photo_expand",link_action:"file_viewer_link"});i({file:n})}},{key:"render",value:function e(){var t=this.props,r=t.file,n=t.maxSize,a=t.stretch,i=t.suppressAnimations,s=t.featurePjpeg;var c=this.state.broken;var l=Object(_["getThumbSrcForFile"])(r,{maxSize:n,featurePjpeg:s,suppressAnimations:i});var u=p()("p-file_image_thumbnail__wrapper",{"p-file_image_thumbnail__wrapper--broken":!!c});var f=a?void 0:r.thumb_360_w;var d=a?void 0:r.thumb_360_h;return o.a.createElement("a",{className:u,"data-file-id":r.id,href:r.url_private,target:"_blank",rel:"noopener noreferrer",onClick:this.previewImage},o.a.createElement("img",{className:"p-file_image_thumbnail__image",alt:r.title,src:l,width:f,height:d,onError:this.onImgError}))}}]);return t}(i["Component"]);N.displayName="FileImageThumbnail";N.propTypes=T;N.defaultProps=I;function A(e){Object(y["a"])({modal_class:"fs_modal_file_viewer",current_file_id:e,show_control_btns:true})}function P(e,t,r){var n=Object(d["getFileById"])(t(),r);if(!n)return false;if(Object(_["isTombstone"])(n)){e(Object(m["b"])({fileId:r}));return true}A(r);return true}function R(e){var t=e.file;return function(e,r){var n=r();if(Object(v["isFeatureEnabled"])(n,"feature_file_threads")){if(!P(e,r,t.id)){var a=void 0;a=Object(v["isFeatureEnabled"])(n,"feature_modern_files_info")?e(Object(b["b"])({fileId:t.id,reason:"file-image-thumbnail.ensureFileAndOpenViewer"})):Object(O["e"])(t.id);a.then(function(){P(e,r,t.id)})}}else A(t.id)}}function M(e){return{suppressAnimations:!Object(h["getUserPref"])(e,"a11y_animations"),featurePjpeg:Object(v["isFeatureEnabled"])(e,"feature_pjpeg")}}var x={openViewer:R};t["a"]=Object(s["connect"])(M,x)(N)},17609:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16947);var c=r(16912);var l=r(17079);var u=r(16948);var p=r(17327);var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=new c["b"]("files");var b={file:s["a"].File().isRequired,action:o.a.string};var _={action:void 0};var g=function(e){h(t,e);function t(){d(this,t);return v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}f(t,[{key:"render",value:function e(){if(Object(u["isTombstone"])(this.props.file))return null;return a.a.createElement("div",{className:"c-pillow_file__size c-pillow_file__meta__entry"},this.size,a.a.createElement("div",{className:"c-pillow_file__swap"},this.fileTypeDescription,a.a.createElement("div",{className:"c-pillow_file__slide c-pillow_file__size__action"},this.shouldShowSize&&" \u2014 ",this.actionText)))}},{key:"fileTypeDescription",get:function e(){var t=this.props.file;return t.is_external?Object(p["a"])(t):t.pretty_type}},{key:"actionText",get:function e(){var t=this.props,r=t.file,n=t.action;switch(n){case"view":return m.t("Click to view");case"download":return m.t("Click to download");case"window":return m.t("Click to open original");case"external":switch(r){case"gdrive":return m.t("Click to open in Google\xa0Drive");case"dropbox":return m.t("Click to open in Dropbox");case"box":return m.t("Click to open in Box");case"onedrive":return m.t("Click to open in OneDrive");default:return m.t("Click to open in a\xa0web\xa0page")}default:return m.t("Click to open")}}},{key:"size",get:function e(){if(!this.shouldShowSize)return null;return[Object(l["a"])(this.props.file.size)," "]}},{key:"shouldShowSize",get:function e(){return this.props.file.size>1e3}}]);return t}(n["PureComponent"]);g.displayName="FileSize";t["a"]=g;g.propTypes=b;g.defaultProps=_},17642:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(16922);var l=r(16947);var u=r(16948);var p=r(16912);var f=r(17052);var d=r(17060);var v=r(17814);var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=new p["b"]("files");var y={file:l["a"].File().isRequired,time24:o.a.bool,excludeTime:o.a.bool};var O={time24:false,excludeTime:false};var E=function(e){_(t,e);function t(){m(this,t);return b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}h(t,[{key:"renderUser",value:function e(){var t=this.props.file;if(t.bot_id)return a.a.createElement(v["a"],{id:t.bot_id,className:"c-pillow_file__user"});return a.a.createElement(d["a"],{id:t.user,className:"c-pillow_file__user"})}},{key:"renderTimestamp",value:function e(){var t=this.props,r=t.file,n=t.time24;var i=Object(f["f"])(r.timestamp||r.created,{shortenMonth:true});var o=this.props.excludeTime?i:g.t("{date} at {time}",{date:i,time:Object(f["i"])(r.timestamp||r.created,{do24hrTime:n})});return a.a.createElement("span",{className:"c-pillow_file__timestamp"},o)}},{key:"render",value:function e(){if(Object(u["isTombstone"])(this.props.file))return null;return a.a.createElement("div",{className:"c-pillow_file__user_timestamp c-pillow_file__meta__entry"},this.renderUser()," ",this.renderTimestamp())}}]);return t}(n["PureComponent"]);E.displayName="FileUserTimestamp";E.propTypes=y;E.defaultProps=O;t["a"]=Object(s["connect"])(function(e){return{time24:Object(c["getUserPref"])(e,"time24")}})(E)},17643:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(3);var c=r.n(s);var l=r(9);var u=r(16922);var p=r(17182);var f=r(16965);var d=r(16958);var v=r(16913);var h=r(17022);var m=r(16912);var b=r(17095);var _=r(16932);var g=r(20164);var y=r.n(g);var O=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=new m["b"]("share-dialog");var C={text:c.a.string,enabled:c.a.bool,useJumbomoji:c.a.bool,completeMemberSpecials:c.a.bool,featureMessageInputByteLimit:c.a.bool,onTextChange:c.a.func,ariaLabel:c.a.string,placeholder:c.a.string,focusOnMount:c.a.bool,onEnter:c.a.func,onEscape:c.a.func,featureFileThreads:c.a.bool};var S={text:"",enabled:true,useJumbomoji:true,completeMemberSpecials:true,featureMessageInputByteLimit:false,onTextChange:n["noop"],ariaLabel:void 0,placeholder:null,focusOnMount:false,onEnter:n["noop"],onEscape:n["noop"],featureFileThreads:true};var T=function(e){k(t,e);function t(e){E(this,t);var r=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.setTextyRef=r.setTextyRef.bind(r);r.onTextChange=r.onTextChange.bind(r);r.searchOptions={complete_member_specials:r.props.completeMemberSpecials};r.textyModules={tabcomplete:{searchOptions:r.searchOptions,positionMenu:function e(t){t.style.width=r.texty.container.offsetWidth+"px";Object(p["a"])(t,r.texty.container)},completers:["channels","emoji","members"]}};r.state={numCharsOverLimit:r.countCharsOverLimit(r.getText())};return r}O(t,[{key:"componentWillReceiveProps",value:function e(t){""===t.text&&this.texty.clear()}},{key:"onTextChange",value:function e(){var t=this.state.numCharsOverLimit;var r=this.getText();var n=this.countCharsOverLimit(r);var a=n>0||t>0;a&&this.setState(function(){return{numCharsOverLimit:n}});this.props.onTextChange({text:r,overLimit:a})}},{key:"setTextyRef",value:function e(t){this.texty=t&&t.getWrappedInstance?t.getWrappedInstance():t}},{key:"getText",value:function e(){var t=this.props.text;if(this.texty)return Object(h["j"])(this.texty.value(),this.searchOptions);return t||""}},{key:"focus",value:function e(){this.texty&&this.texty.focus()}},{key:"countCharsOverLimit",value:function e(t){if(this.props.featureMessageInputByteLimit)return Object(f["a"])(t,d["MAX_MESSAGE_INPUT_BYTES"]);return Math.max(0,t.length-d["MAX_MESSAGE_INPUT_LENGTH"])}},{key:"renderLengthWarning",value:function e(){if(!this.props.featureFileThreads)return null;var t=this.state.numCharsOverLimit;if(t>0){var r=w.rt("Your message is {count, plural, =1 {# character} other {# characters}} too long",{count:t});return o.a.createElement(_["c"],{tip:r,zIndex:"menu"},o.a.createElement("div",{className:"p-share_dialog_message_input__over_limit"},"-",t))}return null}},{key:"render",value:function e(){return o.a.createElement("div",{className:"p-share_dialog_message_input__container"},o.a.createElement(b["g"],{id:"share-dialog-message-input",className:"p-share_dialog_message_input",ref:this.setTextyRef,modules:this.textyModules,ariaLabel:this.props.ariaLabel,initialText:this.props.text,placeholder:Object(n["escape"])(this.props.placeholder),enableJumbomoji:this.props.useJumbomoji,onEnter:this.props.onEnter,onEscape:this.props.onEscape,onTextChange:this.onTextChange,isDisabled:!this.props.enabled,focusOnMount:this.props.focusOnMount,useLegacyCreate:true}),this.renderLengthWarning())}}]);return t}(i["PureComponent"]);T.displayName="ShareDialogMessageInput";T.propTypes=C;T.defaultProps=S;function I(e){return{useJumbomoji:Object(u["getUserPref"])(e,"jumbomoji"),featureMessageInputByteLimit:Object(v["isFeatureEnabled"])(e,"feature_message_input_byte_limit"),featureFileThreads:Object(v["isFeatureEnabled"])(e,"feature_file_threads")}}t["a"]=Object(l["connect"])(I,null,null,{withRef:true})(T)},17644:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(3);var c=r.n(s);var l=r(9);var u=r(16913);var p=r(16923);var f=r(17159);var d=r(17041);var v=r(16912);var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=new v["b"]("share-dialog");var y={initialChannel:c.a.object,onChange:c.a.func,isDisabled:c.a.bool,featureFileThreads:c.a.bool};var O={initialChannel:null,onChange:n["noop"],isDisabled:false,featureFileThreads:true};var E=function(e){_(t,e);function t(e){m(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onChange=r.onChange.bind(r);r.setConversationSelectRef=r.setConversationSelectRef.bind(r);r.conversationSelect=null;r.state={value:e.initialChannel?e.initialChannel.id:null,selectedOption:e.initialChannel?Object(d["a"])(e.initialChannel):null};return r}h(t,[{key:"onChange",value:function e(t,r){this.setState(function(){return{value:t,selectedOption:{value:t,label:r}}});this.props.onChange(t)}},{key:"setConversationSelectRef",value:function e(t){this.conversationSelect=t}},{key:"focusSelectInput",value:function e(){this.conversationSelect&&this.conversationSelect.focusSelectInput()}},{key:"render",value:function e(){if(!this.props.featureFileThreads)return null;return o.a.createElement(f["a"],{wrapperClassName:"p-share_dialog_channel_picker",onChange:this.onChange,value:this.state.value,selectedOption:this.state.selectedOption,isDisabled:this.props.isDisabled,canPost:true,placeholder:g.t("Search for channel or person"),ref:this.setConversationSelectRef})}}]);return t}(i["PureComponent"]);E.displayName="ShareDialogChannelPicker";E.propTypes=y;E.defaultProps=O;function j(e,t){var r=t.initialChannelId;var n=Object(p["getChannelById"])(e,r);return{initialChannel:n,featureFileThreads:Object(u["isFeatureEnabled"])(e,"feature_file_threads")}}t["a"]=Object(l["connect"])(j,null,null,{withRef:true})(E)},17645:function(e,t,r){"use strict";t["b"]=P;var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16913);var u=r(16919);var p=r(16923);var f=r(16939);var d=r(16920);var v=r(17090);var h=r(17700);var m=r(16953);var b=r(16940);var _=r(17046);var g=r(16981);var y=r(16921);var O=r(17400);var E=r(17701);var j=r(20398);var k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var w=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function T(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var I=5;function N(e){var t=function(t){T(r,t);function r(e){C(this,r);var t=S(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));t.state={channelId:e.initialChannelId,msgText:e.initialText};t.setSelectedChannel=t.setSelectedChannel.bind(t);t.setMsgText=t.setMsgText.bind(t);return t}w(r,[{key:"setSelectedChannel",value:function e(t){this.setState(function(){return{channelId:t}})}},{key:"setMsgText",value:function e(t){this.setState(function(){return{msgText:t}})}},{key:"render",value:function t(){return a.a.createElement(e,k({msgText:this.state.msgText,setMsgText:this.setMsgText,selectedChannelId:this.state.channelId,setSelectedChannel:this.setSelectedChannel},this.props))}}]);return r}(n["PureComponent"]);t.displayName="ShareDialogWrapper";t.propTypes={initialChannelId:o.a.string,initialText:o.a.string};t.defaultProps={initialChannelId:null,initialText:""};return t}t["a"]=N;var A=function e(t,r){if(!r)return null;var n=Object(d["getSharedTeamIds"])(r)||Object(d["getMaybePendingSharedTeamIds"])(r);if(!n)return null;var i=void 0;i=Object(l["isFeatureEnabled"])(t,"feature_lazy_teams")?Object(s["map"])(n,function(e){var r=Object(f["getTeamById"])(t,e);return Object(O["isUnknown"])(r)?a.a.createElement(j["a"],{type:"unknown"}):Object(O["getTeamDisplayName"])(r)}):Object(s["map"])(n,function(e){return Object(O["getTeamDisplayName"])(Object(f["getTeamById"])(t,e))});return i};function P(e,t){var r=t.selectedChannelId,n=t.msgText;var a=false;var i=false;var o=false;var s="";var c="";var l=Object(u["getCurrentMember"])(e);var f=Object(p["getChannelById"])(e,r)||Object(p["getImByMemberId"])(e,r);if(f){a=Object(v["i"])(l,f)&&!Object(d["isArchived"])(f);i=Object(d["isGeneral"])(f);o=Object(d["isPublicChannel"])(f)&&!Object(d["isMemberOfChannel"])(f);c=Object(d["getChannelType"])(f)}var O=r&&Object(h["a"])(n,null,r);var j=void 0;var k=0;if(r&&Object(h["b"])(r,n)){var w=Object(_["getMemberCounts"])(e,r),C=w.counts;if(C&&C.member_count&&C.member_count>=I){k=C.member_count;var S=Object(m["a"])(n);j=b["atEveryoneRegExp"].test(S)?"@everyone":"@channel"}}if(Object(g["a"])(r)){s=Object(y["r"])(e,r);a=true}else f&&(s=Object(d["getDisplayNameForChannel"])(e,f));var T=Object(E["a"])(f)||Object(d["isPendingExternallySharedChannel"])(f);var N=T?A(e,f):null;return{canPostInSelectedChannel:a,selectedChannelIsGeneral:i,willJoinChannel:o,selectedChannelName:s,channelType:c,disallowedKeywordInMsgText:O||null,atChannelWarningKeyword:j||null,channelMemberCount:k,sharedTeamNames:N}}},17646:function(e,t,r){"use strict";t["a"]=h;var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16912);var c=r(17172);var l=r(16920);var u=r(17010);var p=new s["b"]("share-dialog");var f={selectedChannel:o.a.object,selectedChannelIsGeneral:o.a.bool,selectedChannelName:o.a.string,disallowedKeywordInMsgText:o.a.string,atChannelWarningKeyword:o.a.string,channelMemberCount:o.a.number,willJoinChannel:o.a.bool,sharedTeamNames:o.a.arrayOf(o.a.node),canShareOutOfOriginChannel:o.a.bool,isMessageShare:o.a.bool,featureFileThreads:o.a.bool};var d={selectedChannel:null,selectedChannelIsGeneral:false,selectedChannelName:null,disallowedKeywordInMsgText:null,atChannelWarningKeyword:null,channelMemberCount:null,willJoinChannel:false,sharedTeamNames:null,canShareOutOfOriginChannel:true,isMessageShare:false,featureFileThreads:true};function v(e,t){var r="p-share_dialog__warning_message";if(t)return a.a.createElement("span",{className:r,key:t},e);return a.a.createElement("span",{className:r},e)}v.displayName="wrapWarningText";function h(e){var t=e.selectedChannel,r=e.selectedChannelIsGeneral,n=e.selectedChannelName,i=e.disallowedKeywordInMsgText,o=e.atChannelWarningKeyword,s=e.channelMemberCount,f=e.willJoinChannel,d=e.sharedTeamNames,h=e.canShareOutOfOriginChannel,m=void 0===h||h,b=e.isMessageShare,_=e.featureFileThreads;if(!_)return null;if(i){var g=Object(c["a"])({type:i.replace("@","")});if("@everyone"===i&&!r)return v(p.rt("<strong>{keyword}</strong> can\u2019t be used in {channelName}.",{keyword:g,channelName:n}));if(r)return v(p.rt("A Workspace Owner has restricted the use of {keyword} messages in {channelName}.",{channelName:n,keyword:g}));return v(p.rt("A Workspace Owner has restricted the use of {keyword} messages.",{keyword:g}))}var y=[];if(d&&d.length&&m){var O=Object(u["a"])(d,{noEscape:true,react:true});Object(l["isIm"])(t)||Object(l["isMpim"])(t)?y.push(v(p.rt("<strong>This conversation includes people from another workspace.</strong> Messages and files sent here will also be seen by members of {shared_teams_list}.",{shared_teams_list:O}),"sharedChannelWarning")):y.push(v(p.rt("<strong>This is a shared channel.</strong> Messages and files sent here will also be seen by members of {shared_teams_list}.",{shared_teams_list:O}),"sharedChannelWarning"))}if(o){var E=Object(c["a"])({type:o.replace("@","")});y.push(v(p.rt("By using {keyword}, you are about to notify {memberCount, plural, =1 {# person} other {# people}}",{keyword:E,memberCount:s-1}),"atChannelWarningKeyword"))}f&&(b?y.push(v(p.rt("You will join this channel when you share the message into it."),"willJoinChannel")):y.push(v(p.rt("You will join this channel when you share the file into it."),"willJoinChannel")));if(!y.length)return null;return a.a.createElement(a.a.Fragment,null,y)}h.displayName="ShareDialogWarningMessage";h.propTypes=f;h.defaultProps=d},17647:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(1);var a=r.n(n);var i=r(16914);var o=Object(i["c"])("TS.ui.share_dialog.start",a.a.noop);var s={shareDialogStart:o}},17648:function(e,t,r){"use strict";t["a"]=i;var n=r(16912);var a=new n["b"]("message");function i(e,t,r){switch(r){case"channel":return e?a.t("Un-pin from {channelName}",{channelName:"#"+t}):a.t("Pin to {channelName} \u2026",{channelName:"#"+t});case"private":return e?a.t("Un-pin from {channelName}",{channelName:t}):a.t("Pin to {channelName} \u2026",{channelName:t});default:return e?a.t("Un-pin from this conversation"):a.t("Pin to this conversation \u2026")}}},17650:function(e,t,r){"use strict";var n=r(17275);t["a"]=n["a"]},17670:function(e,t,r){"use strict";t["a"]=a;var n=null;function a(e){if("boolean"===typeof n)return n;try{var t=window[e];var r="__storage_test__";t.setItem(r,r);t.removeItem(r);n=true;return true}catch(t){n=false;return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&0!==window[e].length}}},17671:function(e,t,r){"use strict";t["a"]=a;var n=r(16958);function a(e){return-1!==n["MENTION_BROADCAST_KEYWORDS"].indexOf(e)}},17672:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"bulkAddCalls",function(){return l});r.d(t,"getCallById",function(){return p});r.d(t,"getParticipantsFromCall",function(){return f});var n=r(3);var a=r.n(n);var i=r(16915);var o=r(16916);var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function c(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var l=Object(i["a"])("Bulk add calls, overwriting anything previously stored with the same id");l.propTypes=a.a.arrayOf(a.a.shape({id:a.a.string.isRequired})).isRequired;var u=Object(i["c"])(c({},l,function(e,t){if(!t||!t.length)return e;var r=t.some(function(e){return e.id});if(!r)return e;var n=s({},e);t.forEach(function(e){var t=e;if(!e.id){Object(o["warn"])('bulkAddcall: call missing required "id" prop');return}t.date_start&&(t.date_start=parseInt(t.date_start,10));t.date_end&&(t.date_end=parseInt(t.date_end,10));n[e.id]=s({},e)});return n}),{});t["default"]=u;var p=Object(i["d"])(function(e,t){return!!e&&!!e.calls&&e.calls[t]});var f=function e(t){if(!t)return null;return t.date_end?t.participant_history:t.participants}},17673:function(e,t,r){"use strict";t["a"]=s;var n=r(1);var a=r.n(n);var i=/\.spec\.jsx?$/;function o(e){return!i.test(e)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r={};if(!e||!Object(n["isFunction"])(e.keys))throw new Error("Cannot call importAll without a valid require.context.\n\t\t\tSee https://webpack.js.org/guides/dependency-management/#require-context.");var a=t?e.keys():e.keys().filter(o);a.forEach(function(t){r[t]=e(t)});return r}},17674:function(e,t,r){"use strict";r.d(t,"a",function(){return a});r.d(t,"b",function(){return i});r.d(t,"c",function(){return o});var n=r(16914);var a=Object(n["c"])("TS.apps.permissions.areXoxaAppsInstalled",function(){return false});var i=Object(n["c"])("TS.apps.permissions.app_resource_membership_changed_sig.dispatch");var o=Object(n["c"])("TS.apps.permissions.app_wildcard_changed_sig.dispatch")},17675:function(e,t,r){"use strict";r.d(t,"a",function(){return c});r.d(t,"b",function(){return l});var n=r(1);var a=r.n(n);var i=r(16929);var o=r(17063);var s=r(17206);var c=Object(o["a"])("fetch a list of app actions",function(e){return e(Object(i["a"])({method:"apps.actions.list",args:{}})).then(function(e){return Object(n["get"])(e,"app_actions",{})})});var l=Object(o["a"])("run an app action",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.type,a=r.actionId,o=r.appId,c=r.channelId,l=r.messageTs;return e(Object(i["a"])({method:"apps.actions.run",args:{action_id:a,type:n,app_id:o,channel:c,message_ts:l,client_token:s["a"].generateAndEnqueue()}}))})},17676:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(16994);var f=r(17071);var d=r(17938);var v=r(17103);var h=r(17058);var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function _(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function g(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j={className:a.a.string,errorId:a.a.string,errorLevel:a.a.oneOf(Object(l["values"])(p["b"])),errorText:a.a.string,errorType:a.a.oneOf(Object(l["values"])(p["c"])),hintText:a.a.node,hintId:a.a.string,id:a.a.string.isRequired,isDisabled:a.a.bool,isRequired:a.a.bool,labelId:a.a.string,name:a.a.string.isRequired,size:a.a.oneOf(Object(l["values"])(d["a"])),onChange:a.a.func,value:a.a.string,maxCharacterLimit:a.a.number};var k={className:null,errorId:null,errorLevel:p["b"].error,errorText:null,errorType:p["c"].nestedBox,hintText:null,hintId:null,isDisabled:false,isRequired:false,labelId:null,onChange:l["noop"],size:d["a"].medium,value:"",maxCharacterLimit:null};var w=function(e){E(t,e);function t(e){y(this,t);var r=O(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));var n=r.props.id;r.state={errorId:Object(l["get"])(r.props,"errorId",Object(h["a"])(n,"error")),hintId:Object(l["get"])(r.props,"hintId",Object(h["a"])(n,"hint")),inputLengthIsInvalid:false,textStyle:{}};r.setInputRef=r.setInputRef.bind(r);r.setCharacterCountRef=r.setCharacterCountRef.bind(r);return r}b(t,[{key:"componentDidMount",value:function e(){this.getTextStyle()}},{key:"componentWillReceiveProps",value:function e(t){t.maxCharacterLimit&&t.value!==this.props.value&&this.setInputLengthValidity(t.value.length>t.maxCharacterLimit)}},{key:"componentDidUpdate",value:function e(t){this.props.value!==t.value&&this.getTextStyle()}},{key:"setInputLengthValidity",value:function e(t){this.setState(function(){return{inputLengthIsInvalid:t}})}},{key:"setInputRef",value:function e(t){this.input=t}},{key:"setCharacterCountRef",value:function e(t){this.characterCount=t}},{key:"setTextStyle",value:function e(t){this.setState(function(){return{textStyle:t}})}},{key:"getTextStyle",value:function e(){var t=this.props.maxCharacterLimit;if(!t){this.setTextStyle({});return}var r=this.characterCount.getCharacterCountWidth();var n={paddingRight:r};this.setTextStyle(n)}},{key:"focus",value:function e(){this.input.focus()}},{key:"renderErrorMaybe",value:function e(){var t=this.props,r=t.errorLevel,n=t.errorText,a=t.errorType,i=t.maxCharacterLimit;if(n)return o.a.createElement(p["d"],{id:this.state.errorId,level:r,type:a},n);if(i&&this.state.inputLengthIsInvalid)return o.a.createElement(p["d"],{id:this.state.errorId,level:p["b"].error,type:a},Object(h["b"])(i));return null}},{key:"renderHintMaybe",value:function e(){var t=this.props.hintText;if(t)return o.a.createElement(f["a"],{id:this.state.hintId},t);return null}},{key:"renderWrappedTextareaMaybe",value:function e(){var t=this.props,r=t.value,n=t.maxCharacterLimit,a=t.size;var i=this.renderTextArea();n&&(i=o.a.createElement(v["a"],{ref:this.setCharacterCountRef,currentCount:r.length,isFocused:true,maxCharacterLimit:n,type:"multiline",size:a},i));return i}},{key:"renderTextArea",value:function e(){var t;var r=this.props,n=r.className,a=r.errorId,i=r.errorLevel,s=r.errorText,l=r.errorType,u=r.hintId,p=r.hintText,f=r.id,v=r.isDisabled,h=r.isRequired,b=r.labelId,y=r.name,O=r.onChange,E=r.maxCharacterLimit,j=g(r,["className","errorId","errorLevel","errorText","errorType","hintId","hintText","id","isDisabled","isRequired","labelId","name","onChange","maxCharacterLimit"]);var k=void 0;var w=this.state,C=w.inputLengthIsInvalid,S=w.textStyle;var T=!!s||C&&!!E;var I=c()((t={},_(t,"c-input_textarea--with_"+i,T),_(t,"c-input_textarea--with_hint",p),_(t,"c-input_textarea--with_character_count",!!E),t),n);k=T?b+" "+this.state.errorId:b;return o.a.createElement(d["b"],m({},j,{ref:this.setInputRef,style:S,ariaDescribedby:this.state.hintId,ariaInvalid:T,ariaLabelledby:k,ariaRequired:h,className:I,id:f,name:y,onChange:O}))}},{key:"render",value:function e(){return o.a.createElement("div",{"data-qa-formtextarea":true,className:"c-input_textarea__wrapper"},this.renderWrappedTextareaMaybe(),this.renderErrorMaybe(),this.renderHintMaybe())}}]);return t}(o.a.Component);w.displayName="FormTextarea";w.propTypes=j;w.defaultProps=k;t["a"]=w},17677:function(e,t,r){"use strict";r.d(t,"a",function(){return a});r.d(t,"b",function(){return i});var n=r(16914);var a=Object(n["c"])("TS.ui.admin_invites.start",function(){return null});var i=Object(n["c"])("TS.ui.admin_invites.updateCode")},17678:function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(3);var a=r.n(n);var i=r(16915);var o=r(17087);var s=r(17151);var c=r(16916);var l=6e4;var u=Object(i["e"])("Refresh a file by id",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.fileId;var a=Object(s["getFileRefreshTimeout"])(t(),n);a&&clearTimeout(a);var i=function t(){return setTimeout(function(){return e(Object(s["refreshReset"])({fileId:n}))},l)};e(Object(o["f"])({fileId:n})).then(function(t){if(t&&t.ok&&!t.will_refresh)return e(Object(s["refreshDone"])({fileId:n,timeout:i()}));if(t&&t.ok)return e(Object(s["refreshStart"])({fileId:n}));return e(Object(s["refreshError"])({fileId:n,timeout:i()}))}).catch(function(t){Object(c["error"])("File refresh failed",t);return e(Object(s["refreshError"])({fileId:n,timeout:i()}))})});u.propTypes={fileId:a.a.string.isRequired};t["b"]=u},17679:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"expandFile",function(){return h});r.d(t,"collapseFile",function(){return m});r.d(t,"startExpanding",function(){return b});r.d(t,"doneExpanding",function(){return _});t["makeKey"]=g;r.d(t,"isFileExpanded",function(){return O});r.d(t,"isFileExpanding",function(){return E});r.d(t,"fetchAndExpand",function(){return j});r.d(t,"collapseAndEnsureInView",function(){return k});var n=r(3);var a=r.n(n);var i=r(1);var o=r.n(i);var s=r(16915);var c=r(16967);var l=r(16913);var u=r(17087);var p=r(16977);var f;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function v(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var h=Object(s["a"])("Expand an inline file preview");h.propTypes={fileId:a.a.string.isRequired,ts:a.a.string.isRequired,channelId:a.a.string.isRequired};var m=Object(s["a"])("Collapse an inline file preview");m.propTypes={fileId:a.a.string.isRequired,ts:a.a.string.isRequired,channelId:a.a.string.isRequired};var b=Object(s["a"])("Start loading a file to be expanded");b.propTypes={fileId:a.a.string.isRequired,ts:a.a.string.isRequired,channelId:a.a.string.isRequired};var _=Object(s["a"])("Finished loading a file to be expanded");_.propTypes={fileId:a.a.string.isRequired,ts:a.a.string.isRequired,channelId:a.a.string.isRequired};function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fileId,r=e.ts,n=e.channelId;return n+"-"+r+"-"+t}var y=Object(s["c"])((f={},v(f,h,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.fileId,n=t.ts,a=t.channelId;return d({},e,{files:d({},e.files,v({},g({fileId:r,ts:n,channelId:a}),true))})}),v(f,m,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.fileId,n=t.ts,a=t.channelId;return d({},e,{files:o.a.omit(e.files,g({fileId:r,ts:n,channelId:a}))})}),v(f,b,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.fileId,n=t.ts,a=t.channelId;return d({},e,{expanding:d({},e.expanding,v({},g({fileId:r,ts:n,channelId:a}),true))})}),v(f,_,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.fileId,n=t.ts,a=t.channelId;return d({},e,{expanding:o.a.omit(e.expanding,g({fileId:r,ts:n,channelId:a}))})}),f),{files:{},expanding:{}});t["default"]=y;var O=Object(s["d"])(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.fileId,n=t.ts,a=t.channelId;var i=g({fileId:r,ts:n,channelId:a});return e&&e.inlineFilePreviews&&e.inlineFilePreviews.files&&!!e.inlineFilePreviews.files[i]});var E=Object(s["d"])(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.fileId,n=t.ts,a=t.channelId;var i=g({fileId:r,ts:n,channelId:a});return e&&e.inlineFilePreviews&&e.inlineFilePreviews.expanding&&!!e.inlineFilePreviews.expanding[i]});var j=Object(s["e"])("fetch and expand file info",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.fileId,a=r.ts,i=r.channelId;var o=void 0;o=Object(l["isFeatureEnabled"])(t(),"feature_modern_files_info")?e(Object(u["b"])({fileId:n,reason:"inline-file-previews.fetchAndExpand"})):Object(p["e"])(n);e(b({fileId:n,ts:a,channelId:i}));o.then(function(){e(h({fileId:n,ts:a,channelId:i}))}).finally(function(){e(_({fileId:n,ts:a,channelId:i}))})});j.propTypes={fileId:a.a.string.isRequired,ts:a.a.string.isRequired,channelId:a.a.string.isRequired};var k=Object(s["e"])("collapse a file and ensure it is still in view",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.fileId,a=r.ts,i=r.channelId;e(m({fileId:n,ts:a,channelId:i}));e(Object(c["jumpToTimestamp"])({ts:a,highlightLazy:true}))});k.propTypes={fileId:a.a.string.isRequired,ts:a.a.string.isRequired,channelId:a.a.string.isRequired}},17681:function(e,t,r){"use strict";t["c"]=ue;t["a"]=pe;r.d(t,"b",function(){return fe});var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16920);var c=r(16913);var l=r(16925);var u=r(16992);var p=r(16923);var f=r(16930);var d=r(16967);var v=r(16926);var h=r(18115);var m=r(16953);var b=r(16978);var _=r(17166);var g=r(16971);var y=r(20405);var O=r(16965);var E=r(17099);var j=r(16979);var k=r(18116);var w=r(17208);var C=r(16941);var S=r(17291);var T=r(17126);var I=r(16934);var N=r(17954);var A=r(20428);var P=r(17976);var R=r(20499);var M=r(17723);var x=r(16958);var L=r(16912);var D=r(20586);var F=r(20533);var B=r(17084);var U=r(16969);var H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var q;function G(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var W=new L["b"]("client");var V=x["SLASH_COMMAND_ERRORS"].RESTRICTED_COMMAND,K=x["SLASH_COMMAND_ERRORS"].UNKNOWN_API_ERROR,z=x["SLASH_COMMAND_ERRORS"].UNKNOWN_COMMAND,Q=x["SLASH_COMMAND_ERRORS"].UNSUPPORTED_IN_THREAD;var Y=6;var J=7;var X=8;var Z="restricted_action_read_only_channel";var $="restricted_action_thread_only_channel";var ee="restricted_action_non_threadable_channel";var te=(q={},G(q,Z,Y),G(q,$,J),G(q,ee,X),q);function re(e,t,r){if(r.thread_ts){var n=Object(p["getChannelById"])(e(),r.channel);Object(b["h"])(n,H({},r))}else{t(Object(f["addMessages"])([r]));t(Object(u["addTimestamps"])({channelId:r.channel,timestamps:[r.ts],oldest:r.ts,hasMore:false,append:true}))}}function ne(e,t,r){if(r.thread_ts){var a=Object(p["getChannelById"])(e(),r.channel);var i=Object(n["find"])(a.msgs,function(e){return e.ts===r.ts});Object(b["k"])(a,i)}else t(Object(T["a"])({channelId:r.channel,ts:r.ts}))}function ae(e,t,r){var n=false;var a=Object(p["getChannelById"])(e(),t,n);if(!a)return;if(Object(h["a"])()){var i=void 0;Object(s["isSlackbot"])(a)?i="slackbot":Object(s["isMpim"])(a)?i="mpim":Object(s["isIm"])(a)?i="im":Object(s["isPrivateChannel"])(a)?i="group":Object(s["isPublicChannel"])(a)&&(i="channel");Object(y["f"])("send_msg_"+i,"msg_input_try_to_submit")}ie(e,t,r);Object(b["m"])(a,r);Object(b["b"])(a,r)}function ie(e,t,r){var n={message_timestamp:r.ts,channel_id:t,channel_type:t?t.charAt(0):""};var a=Object(d["getChannelSessionId"])(e());null!==a&&(n=H({},n,{channel_session_id:a}));Object(C["b"])("MSG_SENT",n)}var oe={};function se(e){oe[e.client_msg_id]=e}function ce(e){delete oe[e.client_msg_id]}function le(e){return oe[e]}function ue(e,t,r,n){var a=le(n.client_msg_id);if(a){ce(a);ne(e,t,a);ae(e,r.channel,r)}Object(R["a"])(Object(l["getTeamId"])(e())).resolve(n)}function pe(e,t){return function(r,a){var i=Object(c["isFeatureEnabled"])(a(),"feature_http_sendmsg")&&!Object(I["a"])();var o=e.thread_ts?{_hidden_reply:true,_was_reply_broadcast:e.reply_broadcast}:null;var s=Object(w["a"])();var u=H({},e,o,{ts:t,user:Object(c["getCurrentUserId"])(a()),showResend:false,showCancel:false,is_pending:true,client_msg_id:s});var v=void 0;if(i){r(Object(g["action"])("MESSAGE","Sent a message of length "+e.text.length+" to "+e.channel+" via HTTP"));var h=H({},e,{include_channel_perm_error:true,client_msg_id:s});v=Object(R["a"])(Object(l["getTeamId"])(a())).enqueue(h)}else try{r(Object(g["action"])("MESSAGE","Sent a message of length "+e.text.length+" to "+e.channel));v=r(Object(E["send"])(e))}catch(e){r(Object(g["error"])("MESSAGE",e));v=new Promise(function(t,r){Object(j["promiseToHaveOpenWebSocket"])(a()).then(function(){r(e)})})}re(a,r,u);i&&se(u);e.thread_ts||r(Object(d["jumpToTimestamp"])({ts:null}));v.then(function(t){if(i)return;var n=H({},u,{ts:t.ts,text:t.text});delete n.showResend;delete n.showCancel;delete n.is_pending;ne(a,r,u);var o=Object(O["l"])(n,e.channel);re(a,r,o);ae(a,e.channel,o)}).catch(function(t){if(i&&!le(u.client_msg_id))return;if(e.thread_ts){var o=Object(p["getChannelById"])(a(),e.channel);Object(b["j"])(o,H({},u),t.msg)}var s=i?Object(n["get"])(t,"data.error"):Object(n["get"])(t,"msg.error.code");var l=i?te[s]:s;var d=true;var v=true;var h=[Y,J,X,Z,$,ee];if(Object(n["includes"])(h,s)&&Object(c["getFromBootData"])(a(),"page_needs_enterprise")&&Object(c["isFeatureEnabled"])(a(),"feature_default_shared_channels")){var m="send-message/sendMessage.catch";Object(k["a"])(e.channel,l,m);d=false}r(Object(g["error"])("MESSAGE","Message failed to send",s,t));r(Object(f["addMessages"])([H({},u,{showResend:d,showCancel:v})]))})}}var fe=Object(v["b"])("Prepare a message and dispatch the `sendMessage` thunk",function(e,t,r){var n=r.channelId,a=r.text,i=void 0===a?"":a,o=r.replyToTs,s=r.shouldBroadcast,l=void 0!==s&&s;var p=t();var f=Object(S["a"])(Object(u["getTimestampForNewMessage"])(p,n));var d=Object(c["isFeatureEnabled"])(p,"feature_m11n_clean_msg");var v=void 0;v=d?Object(N["a"])(t,i):Object(m["a"])(i);if(Object(I["a"])()&&Object(A["a"])(i)){var h=Object(D["e"])(i);if(h){e(Object(g["action"])("SLASH-COMMAND",'Command "search/replace" is PENDING'));return e(Object(F["a"])(H({channelId:n},h))).then(function(){e(Object(g["action"])("SLASH-COMMAND",'Command "search/replace" is RESOLVED'))}).catch(function(t){e(Object(g["action"])("SLASH-COMMAND",'Command "search/replace" is FAILED'));Object(M["c"])("beep");throw t})}var b=Object(B["b"])(p);var y=Object(D["d"])(i,b);var O=o?"threads_temp_slash_cmd_feedback":"temp_slash_cmd_feedback";Object(_["d"])(O);e(Object(g["action"])("SLASH-COMMAND",'Command "'+y.cmd+'" is PENDING'));return e(Object(P["executeCommand"])({args:y,channelId:n,threadTs:o})).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.response;e(Object(g["action"])("SLASH-COMMAND",'Command "'+y.cmd+'" is RESOLVED'));r}).catch(function(t){e(Object(g["action"])("SLASH-COMMAND",'Command "'+y.cmd+'" is FAILED'));var r=void 0;if(Object(c["isFeatureEnabled"])(p,"feature_sonic_i18n")){r=t.message===V?W.t("*{command}* failed because you are not allowed to perform that action. Talk to your Workspace Owner.",{command:y.cmd}):t.message===z?W.t('*{command}* is not a valid command. In Slack, all messages that start with the "/" character are interpreted as commands.\n\nIf you are trying to send a message and not run a command, try preceding the "/" with an empty space.',{command:y.cmd}):t.message===Q?W.t("*{command}* is not supported in threads. Sorry!",{command:y.cmd}):t.message===K&&t.reason?W.t('*{command}* failed with the error "{reason}"',{command:y.cmd,reason:t.reason}):W.t("*{command}* failed with an unknown error.",{command:y.cmd});Object(U["a"])({text:r,channel:n,slackbot_feels:"sad_surprise",ephemeral_type:O,thread_ts:o})}throw t})}var E=void 0;if(o){if(!Object(c["isFeatureEnabled"])(p,"feature_http_sendmsg"))throw new Error("`prepareAndSendMessage` has not implemented replies. This is a programming error.");E={thread_ts:o,reply_broadcast:l}}e(pe(H({type:"message",channel:n,text:v.trim()},E),f));return Promise.resolve()});fe.propTypes={channelId:o.a.string,text:o.a.string,replyToTs:o.a.string,shouldBroadcast:o.a.bool}},17682:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"createAppAction",function(){return w});r.d(t,"updateAppAction",function(){return C});r.d(t,"deleteAppAction",function(){return S});r.d(t,"deleteAllAppActions",function(){return T});r.d(t,"getActionSaveErrors",function(){return x});r.d(t,"selectAppConfig",function(){return Y});r.d(t,"selectIsDataLoaded",function(){return J});r.d(t,"selectUnsaved",function(){return X});r.d(t,"selectMessageActions",function(){return Z});r.d(t,"selectGlobalActions",function(){return $});r.d(t,"selectSaveError",function(){return ee});r.d(t,"maybeFetchConfig",function(){return te});r.d(t,"saveAppConfig",function(){return re});r.d(t,"test",function(){return ne});var n=r(1);var a=r.n(n);var i=r(16915);var o=r(3);var s=r.n(o);var c=r(17739);var l=r(16926);var u=r(16971);var p=r(16912);var f=r(16913);var d=r(17123);var v;var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function m(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function b(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var _=new p["b"]("developer_apps");var g=c["a"];var y=c["b"];var O=u["error"];var E="X";var j=function e(t){return t[0]===E};var k={id:s.a.string.isRequired,type:s.a.oneOf(Object(n["values"])(d["ACTION_TYPES"])).isRequired,name:s.a.string.isRequired,description:s.a.string.isRequired,callbackId:s.a.string.isRequired};var w=Object(i["a"])("Create an app action (but without saving)");w.propTypes={appId:s.a.string.isRequired,action:s.a.shape(h({},k,{id:s.a.string})).isRequired};var C=Object(i["a"])("Update an app action (but without saving)");C.propTypes={appId:s.a.string.isRequired,action:s.a.shape(k).isRequired};var S=Object(i["a"])("Remove an app action (but without saving)");S.propTypes={appId:s.a.string.isRequired,actionId:s.a.string.isRequired};var T=Object(i["a"])("Remove all app actions (but without saving)");T.propTypes={appId:s.a.string.isRequired};var I=Object(i["a"])("App action config fetch in flight");I.propTypes=s.a.string.isRequired;var N=Object(i["a"])("App action config fetch success");N.propTypes={appId:s.a.string.isRequired,actionUrl:s.a.string,suggestionUrl:s.a.string,actions:s.a.arrayOf(s.a.shape(k))};var A=Object(i["a"])("App action config fetch failed");A.propTypes=s.a.string.isRequired;var P=Object(i["a"])("App action config save in flight");P.propTypes=s.a.string.isRequired;var R=Object(i["a"])("App action config save success");R.propTypes={appId:s.a.string.isRequired,actionUrl:s.a.string,suggestionUrl:s.a.string,actions:s.a.arrayOf(s.a.shape(k))};var M=Object(i["a"])("App action config failed");M.propTypes={appId:s.a.string.isRequired,error:s.a.string};var x=function e(t){return{missing_name:t?_.t("Some required fields are empty \u2014 please take another look?"):"",missing_description:t?_.t("Some required fields are empty \u2014 please take another look?"):"",missing_callback_id:t?_.t("Some required fields are empty \u2014 please take another look?"):"",duplicate_names:t?_.t("Apps can\u2019t use the same name for multiple actions."):"",duplicate_callback_ids:t?_.t("Apps can\u2019t use the same callback ID for multiple actions."):"",name_too_long:t?_.t("Names can\u2019t be longer than {num} characters.",{num:24}):"",description_too_long:t?_.t("Descriptions can\u2019t be longer than {num} characters.",{num:150}):"",callback_id_too_long:t?_.t("Callback IDs can\u2019t be longer than {num} characters.",{num:255}):"",app_cannot_have_more_than_one_hundred_actions:t?_.t("Apps can\u2019t have more than {num} actions",{num:100}):"",missing_type:_.t("Hmm, something\u2019s gone wrong."),type_is_not_message_action:_.t("Hmm, something\u2019s gone wrong.")}};var L={actions:[]};var D=function e(t,r,n){return h({},t,b({},r,h({},t[r]||L,n)))};var F=function e(t,r){return D(t,r,{fetchInFlight:true,fetchError:false})};var B=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var a=r.appId,i=m(r,["appId"]);var o=Object(n["get"])(t,a+".unsaved",false);return D(t,a,h({fetchInFlight:false,fetchError:false,isDataLoaded:true},o?{}:i))};var U=function e(t,r){return D(t,r,{fetchInFlight:false,fetchError:true})};var H=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.appId,i=r.action;var o=Object(n["clone"])(Object(n["get"])(t,a+".actions",[]));var s=i.id&&Object(n["findIndex"])(o,function(e){return e.id===i.id});"number"===typeof s&&s>=0?o[s]=i:o.push(h({},i,{id:""+E+o.length}));return D(t,a,{actions:o,unsaved:true})};var q=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.appId,i=r.actionId;var o=Object(n["clone"])(Object(n["get"])(t,a+".actions",[]));var s=Object(n["findIndex"])(o,function(e){return e.id===i});if("number"===typeof s&&s>=0){o.splice(s,1);return D(t,a,{actions:o,unsaved:true})}return t};var G=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.appId;var a=[];return D(t,n,{actions:a,unsaved:true})};var W=function e(t,r){return D(t,r,{saveInFlight:true,saveError:null,unsaved:false})};var V=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n=r.appId,a=m(r,["appId"]);return D(t,n,h({saveInFlight:false,saveError:null},a))};var K=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.appId,a=r.error;return D(t,n,{saveInFlight:false,saveError:a||null,unsaved:true})};var z={};var Q=Object(i["c"])((v={},b(v,I,F),b(v,N,B),b(v,A,U),b(v,w,H),b(v,C,H),b(v,S,q),b(v,T,G),b(v,P,W),b(v,R,V),b(v,M,K),v),z);t["default"]=Q;var Y=Object(i["d"])(function(e,t){var r=e&&e.developerActions||z;return r[t]||L});var J=Object(i["d"])(function(e,t){return!!Y(e,t).isDataLoaded});var X=Object(i["d"])(function(e,t){return!!Y(e,t).unsaved});var Z=Object(i["d"])(function(e,t){var r=Y(e,t),n=r.actions;return n.filter(function(e){return e.type===d["ACTION_TYPES"].messageAction})});var $=Object(i["d"])(function(e,t){var r=Y(e,t),n=r.actions;return n.filter(function(e){return e.type===d["ACTION_TYPES"].globalAction})});var ee=Object(i["d"])(function(e,t){return Y(e,t).saveError});var te=Object(l["b"])("Fetch config for app, but only if safe to do so",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.appId;var a=t();var i=Y(a,n),o=i.fetchInFlight,s=i.saveInFlight,c=i.unsaved;if(!o&&!s&&!c){e(I(n));return e(g(n)).then(function(t){return e(N(h({appId:n},t)))}).catch(function(t){e(A(n));e(O(t))})}return Promise.resolve()});te.propTypes={appId:s.a.string.isRequired};var re=Object(l["b"])("Save app actions config",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.appId,a=r.actionUrl,i=r.suggestionUrl;var o=t();var s=Object(f["isFeatureEnabled"])(o,"feature_app_actions");if(!s)return Promise.resolve();var c=Y(o,n),l=c.saveInFlight,u=c.actionUrl,p=c.suggestionUrl,d=c.actions;if(l)return Promise.reject("Dev app actions: Save already in flight");e(P(n));return e(y({appId:n,actionUrl:"string"===typeof a?a:u,suggestionUrl:"string"===typeof i?i:p,actions:d.map(function(e){var t=e.id,r=m(e,["id"]);return j(e.id)?r:e})})).then(function(t){e(R(h({appId:n},t)));return{ok:true}}).catch(function(t){var r=t.data&&t.data.error;e(M({appId:n,error:r}));if(x(s)[r])return{ok:false};throw t})});re.propTypes={appId:s.a.string.isRequired};var ne={};Object.defineProperty(ne,"fetchAppConfig",{get:function e(){return g},set:function e(t){g=t}});Object.defineProperty(ne,"saveAppConfig",{get:function e(){return y},set:function e(t){y=t}});Object.defineProperty(ne,"error",{get:function e(){return O},set:function e(t){O=t}})},17683:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"getAppToEdit",function(){return s});r.d(t,"getAppName",function(){return c});r.d(t,"getAppIcons",function(){return l});var n=r(3);var a=r.n(n);var i=r(16915);var o=r(16913);var s=Object(i["d"])(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.appId;var n=Object(o["getFromBootData"])(e,"app_to_edit");if(n&&n.encoded_id===r)return n;return null});s.propTypes={appId:a.a.string.isRequired};var c=Object(i["d"])(function(e,t){var r=s(e,t);return r&&r.name});c.propTypes={appId:a.a.string.isRequired};var l=Object(i["d"])(function(e,t){var r=s(e,t);return r&&r.payload&&r.payload.icons||{}});l.propTypes={appId:a.a.string.isRequired}},17684:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17740);var a=r(17408);r.d(t,"getCompanyAddress",function(){return a["b"]});r.d(t,"getCompanyAddressCountry",function(){return a["c"]});r.d(t,"getCompanyAddressPostalCode",function(){return a["d"]});r.d(t,"getConfig",function(){return a["e"]});r.d(t,"isCheckoutAddressFormDataLoaded",function(){return a["l"]});r.d(t,"getCreditCardData",function(){return a["g"]});r.d(t,"getCreditCardToken",function(){return a["i"]});r.d(t,"getCreditCardTokenId",function(){return a["k"]});r.d(t,"getCreditCardBrandForReview",function(){return a["f"]});r.d(t,"getCreditCardLastFourForReview",function(){return a["h"]});r.d(t,"getCreditCardTokenError",function(){return a["j"]});r.d(t,"isCreatingCreditCardToken",function(){return a["m"]});r.d(t,"didPaymentSucceed",function(){return a["a"]});r.d(t,"selectStripeApiKey",function(){return a["n"]});var i=r(17407);r.d(t,"checkoutAddressFormDataLoaded",function(){return i["a"]});r.d(t,"updateCompanyAddressField",function(){return i["l"]});r.d(t,"companyAddressValidated",function(){return i["d"]});r.d(t,"companyAddressFormFieldValidated",function(){return i["c"]});r.d(t,"clearCompanyAddressFormFieldValidationErrors",function(){return i["b"]});r.d(t,"handleCreditCardFormChange",function(){return i["e"]});r.d(t,"updateCreditCardTokenData",function(){return i["m"]});r.d(t,"updateIsCreatingCreditCardToken",function(){return i["n"]});r.d(t,"onPaymentResponseReceived",function(){return i["h"]});r.d(t,"stripeApiKeyLoaded",function(){return i["i"]});r.d(t,"loadCheckoutAddressFormData",function(){return i["f"]});r.d(t,"validateCheckoutForm",function(){return i["o"]});r.d(t,"validateCompanyAddressFormField",function(){return i["p"]});r.d(t,"updateCompanyAddress",function(){return i["k"]});r.d(t,"submitPaymentForUpgrade",function(){return i["j"]});r.d(t,"loadStripeApiKey",function(){return i["g"]});t["default"]=n["a"]},17685:function(e,t,r){"use strict";t["c"]=u;t["d"]=p;t["a"]=f;t["b"]=d;var n=r(1);var a=r.n(n);var i=r(16912);var o=r(17326);var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function c(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var l=new i["b"]("checkout_v2");function u(e,t,r){var a=S(t);if(Object(n["isEmpty"])(a))return{};return s({},v(e,a),h(e,a,r),m(e,a))}function p(e,t,r,a){var i=null;var s=S(a);if(Object(n["isEmpty"])(s))return i;var c=e.street,l=e.city,u=e.country,p=e.postalCode,f=e.region,d=e.vatId,v=e.isVatIdAvailable,h=e.abnId;switch(t){case o["b"].STREET:i=y(c,s);break;case o["b"].CITY:i=O(l,s);break;case o["b"].COUNTRY:i=E(u,s);break;case o["b"].POSTAL_CODE:i=j(u,p,s);break;case o["b"].REGION:i=k(u,f,s);break;case o["b"].VAT_ID:i=w(u,d,v,r,s);break;case o["b"].ABN_ID:i=C(h,s);break;default:}return i}function f(e,t,r,a){var i=S(a);if(Object(n["isEmpty"])(i))return{};var s={};var c=o["d"].DEFAULT_ERROR;"102"===e?c=o["d"].ZIP_CODE_INVALID_API_ERROR:t===o["d"].VAT_ID_INPUT_ERROR?c=r?o["d"].VAT_ID_INVALID_API_ERROR:o["d"].VAT_ID_INVALID_FORMAT:Object(n["has"])(o["d"],t)&&(c=t);switch(c){case o["d"].ZIP_CODE_INVALID_API_ERROR:s.postalCode=_(o["d"].ZIP_CODE_INVALID_API_ERROR,"",i);break;case o["d"].VAT_ID_INVALID_API_ERROR:s.vatId=_(o["d"].VAT_ID_INVALID_API_ERROR,"",i);break;case o["d"].VAT_ID_INVALID_FORMAT:s.vatId=_(o["d"].VAT_ID_INVALID_FORMAT,"",i);break;case o["d"].API_ERROR:case o["d"].ADDRESS_INPUT_ERROR:case o["d"].ERROR_UPDATING_BILLING_ADDRESS:case o["d"].NO_PERMS:case o["d"].INVALID_AUTH:default:s.general=_(o["d"].DEFAULT_ERROR,"",i)}return s}function d(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return null;return e===o["c"].UNITED_STATES?l.t("Zip code"):l.t("Postal code")}function v(e,t){var r={};var n=y(e.street,t);n&&(r.street=n);var a=O(e.city,t);a&&(r.city=a);var i=E(e.country,t);i&&(r.country=i);var o=j(e.country,e.postalCode,t);o&&(r.postalCode=o);var s=k(e.country,e.region,t);s&&(r.region=s);return r}function h(e,t,r){var n={};var a=w(e.country,e.vatId,e.isVatIdAvailable,r,t);a&&(n.vatId=a);return n}function m(e,t){var r={};var n=C(e.abnId,t);n&&(r.abnId=n);return r}function b(e){return e===o["c"].UNITED_STATES||e===o["c"].CANADA}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";var r=arguments[2];var n=r[e]||{};switch(e){case o["d"].POSTAL_CODE_IS_REQUIRED:case o["d"].POSTAL_CODE_INVALID_CHARACTERS:case o["d"].POSTAL_CODE_INVALID_API_ERROR:n=g(e,t,r);break;default:}return n}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";var r=arguments[2];var n=r[e]||{};if(t===o["c"].UNITED_STATES)switch(e){case o["d"].POSTAL_CODE_IS_REQUIRED:n=r[o["d"].ZIP_CODE_IS_REQUIRED];break;case o["d"].POSTAL_CODE_INVALID_CHARACTERS:n=r[o["d"].ZIP_CODE_INVALID_CHARACTERS];break;case o["d"].POSTAL_CODE_INVALID_API_ERROR:n=r[o["d"].ZIP_CODE_INVALID_API_ERROR];break;default:}return n}function y(e,t){var r=null;e?o["a"].ALPHA_NUMERIC_WITH_UTF_CHARS_REGEX.test(e)||(r=_(o["d"].STREET_INVALID_CHARACTERS,"",t)):r=_(o["d"].STREET_IS_REQUIRED,"",t);return r}function O(e,t){var r=null;e?o["a"].ALPHA_NUMERIC_WITH_UTF_CHARS_REGEX.test(e)||(r=_(o["d"].CITY_INVALID_CHARACTERS,"",t)):r=_(o["d"].CITY_IS_REQUIRED,"",t);return r}function E(e,t){var r=null;e||(r=_(o["d"].COUNTRY_IS_REQUIRED,"",t));return r}function j(e,t,r){var n=null;b(e)?t?o["a"].ALPHA_NUMERIC_WITH_DASH_REGEX.test(t)?e!==o["c"].UNITED_STATES||o["a"].US_POSTAL_CODE_FORMAT_REGEX.test(t)?e!==o["c"].CANADA||o["a"].CANADA_POSTAL_CODE_FORMAT_REGEX.test(t)||(n=_(o["d"].CANADA_POSTAL_CODE_INVALID_FORMAT,e,r)):n=_(o["d"].US_ZIP_CODE_INVALID_FORMAT,e,r):n=_(o["d"].POSTAL_CODE_INVALID_CHARACTERS,e,r):n=_(o["d"].POSTAL_CODE_IS_REQUIRED,e,r):t&&!o["a"].ALPHA_NUMERIC_WITH_DASH_REGEX.test(t)&&(n=_(o["d"].POSTAL_CODE_INVALID_CHARACTERS,e,r));return n}function k(e,t,r){var n=null;b(e)&&!t?n=_(o["d"].REGION_IS_REQUIRED,"",r):t&&!o["a"].ALPHA_NUMERIC_WITH_UTF_CHARS_REGEX.test(t)&&(n=_(o["d"].REGION_INVALID_CHARACTERS,"",r));return n}function w(e,t,r,a,i){var s=null;r&&Object(n["has"])(a,e)&&(t?o["a"].ALPHA_NUMERIC_WITH_DASH_REGEX.test(t)||(s=_(o["d"].VAT_ID_INVALID_CHARACTERS,"",i)):s=_(o["d"].VAT_ID_IS_REQUIRED,"",i));return s}function C(e,t){var r=null;e&&(11!==e.replace(/\s/g,"").length?r=_(o["d"].ABN_ID_INVALID_LENGTH,"",t):o["a"].ABN_ID_REGEX.test(e)||(r=_(o["d"].ABN_ID_INVALID_CHARACTERS,"",t)));return r}function S(){var e;var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t)return{};return e={},c(e,o["d"].STREET_IS_REQUIRED,{errorText:l.t("Please fill in a street address.")}),c(e,o["d"].CITY_IS_REQUIRED,{errorText:l.t("Please fill in a city name.")}),c(e,o["d"].POSTAL_CODE_IS_REQUIRED,{errorText:l.t("Please fill in a postal code.")}),c(e,o["d"].ZIP_CODE_IS_REQUIRED,{errorText:l.t("Please fill in a zip code.")}),c(e,o["d"].REGION_IS_REQUIRED,{errorText:l.t("Please fill in a state.")}),c(e,o["d"].COUNTRY_IS_REQUIRED,{errorText:l.t("Please fill in a country.")}),c(e,o["d"].VAT_ID_IS_REQUIRED,{errorText:l.t("Please fill in a VAT ID.")}),c(e,o["d"].STREET_INVALID_CHARACTERS,{errorText:l.t("Your street address can\u2019t contain special characters.")}),c(e,o["d"].CITY_INVALID_CHARACTERS,{errorText:l.t("Your city name can\u2019t contain special characters.")}),c(e,o["d"].REGION_INVALID_CHARACTERS,{errorText:l.t("Your state can\u2019t contain special characters.")}),c(e,o["d"].POSTAL_CODE_INVALID_CHARACTERS,{errorText:l.t("Your postal code can\u2019t contain special characters.")}),c(e,o["d"].ZIP_CODE_INVALID_CHARACTERS,{errorText:l.t("Your zip code can\u2019t contain special characters.")}),c(e,o["d"].VAT_ID_INVALID_CHARACTERS,{errorText:l.t("Your VAT ID can\u2019t contain special characters.")}),c(e,o["d"].ABN_ID_INVALID_CHARACTERS,{errorText:l.t("Your ABN ID can\u2019t contain special characters.")}),c(e,o["d"].US_ZIP_CODE_INVALID_FORMAT,{errorText:l.t("Please use a 5- or 9-digit zip code.")}),c(e,o["d"].CANADA_POSTAL_CODE_INVALID_FORMAT,{errorText:l.t("Please use a valid Canadian postal code.")}),c(e,o["d"].POSTAL_CODE_INVALID_API_ERROR,{errorText:l.t('There\u2019s a problem with your postal code. <a href="https://my.slack.com/help/requests/new">Contact us.</a>')}),c(e,o["d"].ZIP_CODE_INVALID_API_ERROR,{errorText:l.t('There\u2019s a problem with your zip code. <a href="https://my.slack.com/help/requests/new">Contact us.</a>')}),c(e,o["d"].VAT_ID_INVALID_API_ERROR,{errorText:l.t('We could not verify your VAT ID. <a href="https://my.slack.com/help/requests/new">Contact us.</a>')}),c(e,o["d"].VAT_ID_INPUT_ERROR,{errorText:l.t("VAT ID is invalid.")}),c(e,o["d"].VAT_ID_INVALID_FORMAT,{errorText:l.t("Please use a valid VAT ID.")}),c(e,o["d"].ABN_ID_INVALID_LENGTH,{errorText:l.t("ABN ID must have 11 digits.")}),c(e,o["d"].DEFAULT_ERROR,{errorText:l.t("Error with form input.")}),e}},17686:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(20155);var u=r.n(l);var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m={children:a.a.node.isRequired,className:a.a.string};var b={className:null};var _=function(e){h(t,e);function t(){d(this,t);return v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}f(t,[{key:"render",value:function e(){var t=this.props.className;var r=c()("c-legend",t);return o.a.createElement("legend",p({},this.props,{className:r}),this.props.children)}}]);return t}(i["PureComponent"]);_.displayName="Legend";_.propTypes=m;_.defaultProps=b;t["a"]=_},17687:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(17038);var f=r(17144);var d=r(20124);var v=r.n(d);var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g={value:a.a.oneOfType([a.a.string,a.a.object]),onClick:a.a.func,role:a.a.string,tabIndex:a.a.number,className:a.a.string,hasFocus:a.a.bool};var y={value:"",onClick:null,role:"button",tabIndex:0,className:null,hasFocus:false};var O=function(e){_(t,e);function t(e){m(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.node=null;r.setRef=function(e){r.node=e};Object(l["bindAll"])(r,["onClick","onReturnKeyDown","setRef"]);return r}h(t,[{key:"componentDidMount",value:function e(){this.tabbableChildren=Object(f["a"])(this.node);this.maybeFocusNode()}},{key:"componentDidUpdate",value:function e(){this.maybeFocusNode()}},{key:"onClick",value:function e(t){var e=this.props.onClick;e&&e(t)}},{key:"onReturnKeyDown",value:function e(t){var r=t.charCode;if(!this.props.onClick||r!==p["c"]&&r!==p["h"])return;t.preventDefault();this.onClick(t)}},{key:"maybeFocusNode",value:function e(){if(this.props.hasFocus&&this.node){this.tabbableChildren.forEach(function(e){return e.setAttribute("tabIndex",0)});this.node.focus()}else this.tabbableChildren.forEach(function(e){return e.setAttribute("tabIndex",-1)})}},{key:"render",value:function e(){var t=this.props,r=t.value,n=t.role,a=t.tabIndex,i=t.className,s=t.hasFocus;var l=c()("c-table_view_row_item",{"focus-ring":s},i);return o.a.createElement("div",{onClick:this.onClick,onKeyPress:this.onReturnKeyDown,role:n,tabIndex:s?"0":a,className:l,ref:this.setRef},o.a.createElement("div",{className:"c-table_view_row_item_value"},r))}}]);return t}(i["PureComponent"]);O.displayName="TableViewRowItem";O.propTypes=g;O.defaultProps=y;t["a"]=O},17688:function(e,t,r){"use strict";t["b"]=W;t["c"]=V;var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(333);var l=r(1);var u=r.n(l);var p=r(8);var f=r.n(p);var d=r(16916);var v=r(16960);var h=r(17049);var m=r(16913);var b=r(16980);var _=r(17003);var g=r(16921);var y=r(16912);var O=r(16917);var E=r(16942);var j=r(16918);var k=r(17128);var w=r(17027);var C=r(17390);var S=r(16952);var T=r(17689);var I=r(17258);var N=r(17028);var A=r(20149);var P=r.n(A);var R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var M=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function D(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var F=new y["b"]("grid_onboarding");var B={orgName:a.a.string,selectedMember:a.a.object.isRequired,featureZeroWorkspaceOnboarding:a.a.bool.isRequired,fetchWorkspaces:a.a.func.isRequired,scrollElement:a.a.any,enqueueToast:a.a.func,onFooterClick:a.a.func};var U={orgName:"",workspaces:[],onWorkspaces:false,scrollElement:window,enqueueToast:l["noop"],onFooterClick:l["noop"]};var H=24;var q=1200;function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(l["filter"])(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"open"===e.discoverable||"closed"===e.discoverable||"unlisted"===e.discoverable&&e.is_assigned})}function W(e){var t=e.totalWorkspaces,r=e.onWorkspaces;return!t&&r}function V(e){var t=e.totalWorkspaces,r=e.onWorkspaces;return!t&&!r}function K(e){if(!e)return"";return{oneJoinableWorkspace:F.t("Join this workspace to start working with them on Slack."),moreThanOneJoinableWorkspaces:F.t("Join the workspace that seems right for your role to get started."),noAccess:F.t("Get in touch with them to be invited to a workspace they\u2019re in."),noWorkspaces:F.t("Try searching for someone else on your team."),onApiError:F.rt("You may want to try <a>reloading this page</a> and searching again, or try searching for someone else.",null,function(e){var t=e.text,r=e.key,n=e.tag;if("a"===n)return o.a.createElement(E["a"],{onClick:function e(){return window.location.reload(true)},target:"_self",key:r},t);return{text:t}})}}var z=function e(t){var r=t.workspaces,n=t.noAccessToWorkspaces,a=t.noWorkspaces,i=t.hasApiError,o=t.featureZeroWorkspaceOnboarding;if(!o)return"";var s=K(o);if(i)return s.onApiError;var c=G(r).length;if(1===c)return s.oneJoinableWorkspace;if(c>1)return s.moreThanOneJoinableWorkspaces;if(n)return s.noAccess;if(a)return s.noWorkspaces;return""};var Q=function e(t){var r=t.noAccessToWorkspaces,n=t.noWorkspaces,a=t.memberRealName,i=t.totalWorkspaces,o=t.hasApiError,s=t.featureZeroWorkspaceOnboarding;if(!s)return"";if(o)return F.t("We ran into some trouble fetching {memberName}\u2019s workspaces",{memberName:Object(y["l"])(a)});if(r)return F.t("{memberName} isn\u2019t in a workspace you have access to",{memberName:Object(y["l"])(a)});if(n)return F.t("{memberName} hasn\u2019t joined a workspace",{memberName:Object(y["l"])(a)});return F.t("{memberName} is in {numWorkspaces, plural, =1 {# workspace} other {# workspaces}}",{memberName:Object(y["l"])(a),numWorkspaces:i})};var Y=function(e){D(t,e);function t(e){x(this,t);var r=L(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={isMobileView:false,loadingWorkspaces:false,nextCursorMark:null,memberRealName:"",selectedMember:{},workspaces:[],totalWorkspaces:0,onWorkspaces:false,hasApiError:false};r.resultsList=null;r.searchBar=null;r.userHasNoAccessToWorkspaces=false;r.memberHasNoWorkspaces=false;r.noWorkspacesToDisplay=false;r.doRenderSearchAgainButton=false;Object(l["bindAll"])(r,["onFooterClick","onResize","onScroll","setListRef","setSearchBarRef","renderWorkspaceCard","getListKeys","onSearchAgainButtonClick","onSelectColleague","setWorkspaceFetchOptions","fetchWorkspaces","onButtonActionReject","onButtonActionResolve","setToastText","setLoadingWorkspaces"]);return r}M(t,[{key:"componentDidMount",value:function e(){window.addEventListener("resize",this.onResize);this.setIsMobileView(Object(N["c"])());this.clientHeight=window.innerHeight;this.setSelectedMember(this.props.selectedMember)}},{key:"componentDidUpdate",value:function e(t,r){this.maybeFetchNextPage(r);this.maybeTriggerNewSearch(r);this.maybeUpdateMemberRealName(r)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("resize",this.onResize)}},{key:"onFooterClick",value:function e(){this.props.onFooterClick()}},{key:"onResize",value:function e(){this.clientHeight=window.innerHeight;var t=Object(N["c"])();var r=this.state.isMobileView!==t;if(t||r){this.resultsList.invalidateRowHeights();r&&this.setIsMobileView(t)}}},{key:"onScroll",value:function e(t){var r=t.scrollTop,n=t.scrollHeight;this.doInfiniteScrollHandler({scrollTop:r,scrollHeight:n})}},{key:"onSearchAgainButtonClick",value:function e(t){t.preventDefault();t.stopPropagation();this.searchBar&&this.searchBar.getWrappedInstance&&this.searchBar.getWrappedInstance().onSearchAgainTriggered()}},{key:"onSelectColleague",value:function e(t){var r=t.selectedOptionData;r&&this.setSelectedMember(r)}},{key:"onButtonActionReject",value:function e(t){var r=t.node;r&&this.setToastText(r)}},{key:"onButtonActionResolve",value:function e(t){var r=t.node,n=t.i,a=t.workspace;Object(l["isNumber"])(n)&&a&&this.setWorkspaceByIndex({index:n,workspace:a});r&&this.setToastText(r)}},{key:"setListRef",value:function e(t){this.resultsList=t}},{key:"setSearchBarRef",value:function e(t){this.searchBar=t}},{key:"getListKeys",value:function e(){if(!this.state.workspaces)return[];return this.state.workspaces.map(function(e){return String(e.id)})}},{key:"setHasApiError",value:function e(t){this.setState(function(){return{hasApiError:t}})}},{key:"setSelectedMember",value:function e(t){this.setState(function(){return{selectedMember:t}})}},{key:"setMemberRealName",value:function e(t){this.setState(function(){return{memberRealName:t}})}},{key:"setWorkspaceFetchOptions",value:function e(t){var r=t.workspaces,n=t.totalWorkspaces,a=t.onWorkspaces,i=t.nextCursorMark;this.setState(function(){return{workspaces:r,totalWorkspaces:n,onWorkspaces:a,nextCursorMark:i}})}},{key:"setWorkspaceByIndex",value:function e(t){var r=t.index,n=t.workspace;this.setState(function(e){var t=[].concat(e.workspaces);if(r>=t.length){Object(d["warn"])("SearchResultsScreen: Out of bounds index "+r+" passed into setWorkspaceByIndex");return e}t[r]=n;return{workspaces:t}})}},{key:"setLoadingWorkspaces",value:function e(t){this.setState(function(){return{loadingWorkspaces:t}})}},{key:"setIsMobileView",value:function e(t){this.setState(function(){return{viewport:t}})}},{key:"setToastText",value:function e(t){this.props.enqueueToast({element:o.a.createElement(k["a"],{position:"bottom-right",offsetY:50},t)})}},{key:"maybeTriggerNewSearch",value:function e(t){if(t.selectedMember!==this.state.selectedMember){this.clearWorkspaceFetchOptions();this.setLoadingWorkspaces(true)}}},{key:"maybeUpdateMemberRealName",value:function e(t){if(t.selectedMember!==this.state.selectedMember){var r=Object(g["k"])(this.state.selectedMember);this.setMemberRealName(r)}}},{key:"doInfiniteScrollHandler",value:function e(t){var r=t.scrollTop,n=t.scrollHeight;var a=this.hasScrolledWithinScrollThreshold({scrollTop:r,scrollHeight:n});a&&!this.hasFetchedAllWorkspaces()?this.setLoadingWorkspaces(true):!a&&this.hasFetchedAllWorkspaces()&&this.setLoadingWorkspaces(false)}},{key:"fetchWorkspaces",value:function e(){var t=this;var r=this.state,n=r.nextCursorMark,a=r.selectedMember;this.setHasApiError(false);return this.props.fetchWorkspaces({nextCursorMark:n,id:Object(l["get"])(a,"id"),type:"single_user"}).then(function(e){t.setLoadingWorkspaces(false);var r=e.num_found,a=e.on_workspaces,i=e.items;var o=i?[].concat(t.state.workspaces,i):[];t.setWorkspaceFetchOptions({workspaces:o,totalWorkspaces:r,onWorkspaces:a,nextCursorMark:e.next_cursor_mark});n||Object(N["e"])({anchorPage:"grid_onboarding",numSearchResults:Object(l["get"])(e,"num_found",0)})}).catch(function(e){t.setHasApiError(true);t.setLoadingWorkspaces(false);Object(d["error"])("SearchResultsScreen: Error in FetchWorkspaces -",e)})}},{key:"maybeFetchNextPage",value:function e(t){!t.loadingWorkspaces&&this.state.loadingWorkspaces&&this.fetchWorkspaces()}},{key:"hasScrolledWithinScrollThreshold",value:function e(t){var r=t.scrollHeight,n=t.scrollTop;return r-(n+this.clientHeight)<q}},{key:"hasFetchedAllWorkspaces",value:function e(){return this.state.workspaces.length===this.state.totalWorkspaces}},{key:"clearWorkspaceFetchOptions",value:function e(){this.setWorkspaceFetchOptions({workspaces:[],totalWorkspaces:0,onWorkspaces:false,nextCursorMark:null})}},{key:"renderSearchBar",value:function e(){return o.a.createElement("div",{className:"p-grid_onboarding_results__search"},o.a.createElement(C["a"],{triggerAction:this.onSelectColleague,containerIdSelector:"colleagueSearchResults",membersOnly:true,className:"margin_bottom_200",prepopulatedOption:this.props.selectedMember,ref:this.setSearchBarRef}))}},{key:"renderHeading",value:function e(){var t=this.props.featureZeroWorkspaceOnboarding;if(!t)return null;var r=this.state,n=r.totalWorkspaces,a=r.selectedMember,i=r.hasApiError;var s=Object(g["k"])(a);var c=Q({noAccessToWorkspaces:this.userHasNoAccessToWorkspaces,noWorkspaces:this.memberHasNoWorkspaces,totalWorkspaces:n,memberRealName:s,hasApiError:i,featureZeroWorkspaceOnboarding:t});var l=f()("p-grid_onboarding__results_heading_container",{align_center:this.noWorkspacesToDisplay});return o.a.createElement("div",{className:l},o.a.createElement("span",{className:"p-grid_onboarding__results_heading"},o.a.createElement(w["a"],{entityType:"member",dimension:H,entityData:a,featureReactMessages:true,customClasses:"p-grid_onboarding_results__icon"}),c))}},{key:"renderSubheading",value:function e(){var t=this.props.featureZeroWorkspaceOnboarding;if(!t)return null;var r=this.state,n=r.workspaces,a=r.hasApiError;var i=z({workspaces:n,featureZeroWorkspaceOnboarding:t,noAccessToWorkspaces:this.userHasNoAccessToWorkspaces,noWorkspaces:this.memberHasNoWorkspaces,hasApiError:a});var s=f()("p-grid_onboarding__results_subheading",{align_center:this.noWorkspacesToDisplay});return o.a.createElement("div",{className:s},i)}},{key:"renderWorkspaceCard",value:function e(t){var r=this;var n=this.state,a=n.workspaces,i=n.totalWorkspaces;var s=f()("p-grid_onboarding_results__list_item",{margin_bottom_0:t===i-1});return o.a.createElement(T["a"],{team:a[t],size:"large",featureZeroWorkspaceOnboarding:true,className:s,onActionResolve:function e(n){return r.onButtonActionResolve(R({},n,{i:t}))},onActionReject:function e(n){return r.onButtonActionReject(R({},n,{i:t}))},anchorPage:"grid_onboarding"})}},{key:"renderWorkspaceList",value:function e(){var t=this;var r=this.props.scrollElement;return o.a.createElement(c["c"],{scrollElement:r,onScroll:this.onScroll},function(e){var n=e.height,a=e.isScrolling,i=e.onChildScroll,s=e.scrollTop,c=e.registerChild;return o.a.createElement("div",{className:"p-grid_onboarding_results__list",ref:c},o.a.createElement(I["a"],{keys:t.getListKeys(),rowRenderer:t.renderWorkspaceCard,ref:t.setListRef,scrollElement:r,onScroll:i,height:n,isScrolling:a,scrollTop:s}))})}},{key:"renderSearchAgainButton",value:function e(){return o.a.createElement(v["a"],{enabled:["feature_zero_workspace_onboarding"]},o.a.createElement("div",{className:"display_flex justify_content_center margin_top_150"},o.a.createElement(j["d"],{type:"outline",onClick:this.onSearchAgainButtonClick},F.t("Search Again"))))}},{key:"renderFooter",value:function e(){var t=this.props.orgName;var r=f()("p-grid_onboarding__footer","p-grid_onboarding__footer_link",{margin_top_250:!this.noWorkspacesToDisplay||!this.doRenderSearchAgainButton,margin_top_150:this.noWorkspacesToDisplay});return o.a.createElement(v["a"],{enabled:["feature_zero_workspace_onboarding"]},o.a.createElement(E["a"],{onClick:this.onFooterClick,className:r},F.t("View all {orgName} workspaces",{orgName:t}),o.a.createElement(O["a"],{type:"chevron-right",key:"footer-chevron-icon",className:"p-grid_onboarding__footer_icon"})))}},{key:"renderInfiniteSpinner",value:function e(){return o.a.createElement("div",{className:"p-grid_onboarding__spinner"},o.a.createElement(S["a"],{size:"medium",className:"inline_block full_width margin_top_200"}))}},{key:"renderResults",value:function e(){var t=this.state,r=t.loadingWorkspaces,n=t.selectedMember;var a=r&&this.memberHasNoWorkspaces;if(a||!n)return this.renderInfiniteSpinner();return o.a.createElement(o.a.Fragment,null,this.renderHeading(),this.renderSubheading(),!this.noWorkspacesToDisplay&&this.renderWorkspaceList(),r&&this.renderInfiniteSpinner(),this.doRenderSearchAgainButton&&this.renderSearchAgainButton(),!r&&this.renderFooter())}},{key:"render",value:function e(){var t=this.state,r=t.totalWorkspaces,n=t.onWorkspaces,a=t.loadingWorkspaces,i=t.hasApiError;this.userHasNoAccessToWorkspaces=W({totalWorkspaces:r,onWorkspaces:n});this.memberHasNoWorkspaces=V({totalWorkspaces:r,onWorkspaces:n});this.noWorkspacesToDisplay=this.userHasNoAccessToWorkspaces||this.memberHasNoWorkspaces;this.doRenderSearchAgainButton=!a&&this.noWorkspacesToDisplay&&!i;return o.a.createElement(v["a"],{enabled:["feature_zero_workspace_onboarding"]},o.a.createElement("div",{className:"p-grid_onboarding__results",id:"colleagueSearchResults"},this.renderSearchBar(),this.renderResults()))}}]);return t}(i["Component"]);Y.displayName="SearchResultsScreen";Y.propTypes=B;Y.defaultProps=U;var J=function e(t,r){var n=r.selectedMember,a=r.workspaces;var i=Object(b["getEnterpriseOrgName"])(t);var o=function e(r){return Object(_["f"])(t,r)};return{selectedMember:n,workspaces:a,orgName:i,fetchWorkspaces:o,featureZeroWorkspaceOnboarding:Object(m["isFeatureEnabled"])(t,"feature_zero_workspace_onboarding"),featureSingleUserWorkspacePagination:Object(m["isFeatureEnabled"])(t,"feature_single_user_workspace_pagination")}};var X={enqueueToast:h["enqueueToast"]};t["a"]=Object(s["connect"])(J,X)(Y)},17689:function(e,t,r){"use strict";var n=r(17593);t["a"]=n["a"]},17690:function(e,t,r){"use strict";var n=r(17763);t["a"]=n["a"]},17692:function(e,t,r){"use strict";t["a"]=o;var n=r(1);var a=r.n(n);var i=function(){function e(e,t){var r=[];var n=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){a=true;i=e}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function o(e,t){return a()(e.split(/(\ue000[^\ue001]+\ue001)/g)).chunk(2).map(function(e,r){var n=i(e,2),a=n[0],o=n[1];return[a,o?t(o.replace(/\ue000/g,"").replace(/\ue001/g,""),r):""]}).flatten().value()}},17694:function(e,t,r){"use strict";r.d(t,"d",function(){return o});r.d(t,"c",function(){return s});r.d(t,"b",function(){return c});r.d(t,"a",function(){return l});var n=r(1);var a=r.n(n);var i=r(16914);var o=Object(i["c"])("TS.stars.updateMsgStar",a.a.noop);var s=Object(i["c"])("TS.stars.updateFileStar",a.a.noop);var c=Object(i["c"])("TS.stars.updateFileCommentStar",a.a.noop);var l=Object(i["c"])("TS.stars.toggleStar",a.a.noop)},17695:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(16918);var f=r(16912);var d=r(16916);var v=r(17769);var h=r(17770);var m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=new f["b"]("channel_sidebar");var O={id:a.a.string.isRequired,label:a.a.string.isRequired,labelUnread:a.a.string,hasUnreads:a.a.bool,badgeCount:a.a.number,isSelected:a.a.bool,selectItem:a.a.func,isDim:a.a.bool};var E={isSelected:false,selectable:true,label:"",labelUnread:"",hasUnreads:false,badgeCount:0,selectItem:c.a.noop,isDim:false};var j=function(e){g(t,e);function t(e){b(this,t);var r=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onClick=r.onClick.bind(r);r.state={};return r}m(t,[{key:"onClick",value:function e(t){t.preventDefault();Object(d["action"])(h["a"],"Selected "+this.props.id);this.props.selectItem(this.props.id,t)}},{key:"render",value:function e(){var t=this.props,r=t.id,n=t.label,a=t.labelUnread,i=t.hasUnreads,s=t.badgeCount,l=t.isSelected,f=t.isDim;var d=u()("p-channel_sidebar__link",{"p-channel_sidebar__link--all-unreads":"Vall_unreads"===r,"p-channel_sidebar__link--all-threads":"Vall_threads"===r,"p-channel_sidebar__link--explore":"Vexplore"===r,"p-channel_sidebar__link--invites":"Vinvites"===r,"p-channel_sidebar__link--selected":l,"p-channel_sidebar__link--unread":i,"p-channel_sidebar__link--dim":f});var h=i&&a?a:n;var m=o.a.createElement("span",{className:"p-channel_sidebar__name"},h);var b=c.a.filter([l?y.t("selected"):null,i&&!s?y.t("has unreads"):null,s?y.t("{count} {count, plural, =1 {unread highlight} other {unread highlights}}",{count:s}):null],c.a.identity);var _=h+(b.length?" ("+b.join(", ")+")":"");var g=o.a.createElement(v["a"],{count:s,className:"p-channel_sidebar__badge"});return o.a.createElement(p["c"],{className:d,onClick:this.onClick,"aria-label":_},m,g)}}]);return t}(i["PureComponent"]);j.displayName="Link";j.propTypes=O;j.defaultProps=E;t["a"]=j},17696:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p={emoji:a.a.shape({html:a.a.string})};var f={emoji:{html:null}};var d=function(e){u(t,e);function t(){c(this,t);return l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}s(t,[{key:"render",value:function e(){var t=this.props.emoji;return o.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.html}})}}]);return t}(i["PureComponent"]);d.displayName="Emoji";t["a"]=d;d.propTypes=p;d.defaultProps=f},17697:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(16926);var o=r(16949);var s=r(17780);var c=r(16947);var l=Object(i["b"])("Opens the rename file dialog",function(e,t,r){e(Object(o["openModal"])({element:a.a.createElement(s["a"],r)}))});l.propTypes={file:c["a"].File().isRequired};t["a"]=l},17698:function(e,t,r){"use strict";r.d(t,"b",function(){return o});r.d(t,"a",function(){return s});var n=r(1);var a=r.n(n);var i=r(16914);var o=Object(i["c"])("TS.inline_attachments.renderStandaloneAttachment",function(){return""});var s=Object(i["c"])("TS.inline_attachments.promptForDeletingAttachment",a.a.noop);var c=Object(i["c"])("TS.inline_attachments.legacyTruncateAttachmentText",function(){return""});var l={renderStandaloneAttachment:o}},17699:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.ui.shared_channels_open_beta_modal.showModal",function(){return null})},17700:function(e,t,r){"use strict";r.d(t,"a",function(){return a});r.d(t,"b",function(){return i});r.d(t,"c",function(){return o});var n=r(16914);var a=Object(n["c"])("TS.ui.needToBlockAtChannelKeyword",function(){return false});var i=Object(n["c"])("TS.ui.needToShowAtChannelWarning",function(){return false});var o=Object(n["c"])("TS.ui.showVersionInfo",function(){return false})},17701:function(e,t,r){"use strict";t["a"]=s;var n=r(16920);var a=r(16921);var i=r(17029);var o=r(16981);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e||!e.id)return false;if(Object(o["a"])(e.id))return Object(a["E"])(e);if(Object(i["a"])(e.id))return Object(n["isExternallySharedChannel"])(e);return false}},17703:function(e,t,r){"use strict";t["a"]=E;var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(3);var c=r.n(s);var l=r(9);var u=r(16913);var p=r(17087);var f=r(16948);var d=r(16977);var v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){g(t,e);function t(e){b(this,t);var r=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.reloadFile=r.reloadFile.bind(r);r.state={fileIsFetching:false};return r}h(t,[{key:"componentDidMount",value:function e(){(this.props.fileNeedsUpdate||this.props.alwaysFetchOnMount)&&this.fetchFileInfo(this.props.fileId)}},{key:"componentWillReceiveProps",value:function e(t){(t.fileNeedsUpdate||this.props.alwaysFetchOnMount&&t.fileId!==this.props.fileId)&&this.fetchFileInfo(t.fileId)}},{key:"componentWillUnmount",value:function e(){this.pendingPromise&&this.pendingPromise.cancel()}},{key:"fetchFileInfo",value:function e(t){var r=this;if(this.state.fileIsFetching)return;this.setState(function(){return{fileIsFetching:true}});var n=void 0;n=this.props.featureModernFilesInfo?this.props.fetchAndUpsertFileById({fileId:t,reason:"file-subscription.fetchFileInfo"}):Object(d["e"])(t);this.pendingPromise=n.then(function(){r.setState(function(){return{fileIsFetching:false}})}).catch(function(){r.setState(function(){return{fileIsFetching:false}})}).finally(function(){r.pendingPromise=null})}},{key:"reloadFile",value:function e(){this.fetchFileInfo(this.props.fileId)}},{key:"render",value:function e(){var t=this.props,r=t.WrappedComponent,n=m(t,["WrappedComponent"]);return o.a.createElement(this.props.WrappedComponent,v({},this.state,n,{reloadFile:this.reloadFile}))}}]);return t}(i["PureComponent"]);y.displayName="FileSubscription";y.propTypes={WrappedComponent:c.a.any.isRequired,fileId:c.a.string.isRequired,fileNeedsUpdate:c.a.bool,fetchAndUpsertFileById:c.a.func,alwaysFetchOnMount:c.a.bool,featureModernFilesInfo:c.a.bool};y.defaultProps={fileNeedsUpdate:false,fetchAndUpsertFileById:n["noop"],alwaysFetchOnMount:false,featureModernFilesInfo:false};var O={FileSubscription:y};function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function r(r,n){var a=n.fileId;if(!a)return{};return v({},t,{WrappedComponent:e,fileNeedsUpdate:Object(f["fileNeedsUpdate"])(r,a)&&!Object(f["fileIsUpdating"])(r,a),featureModernFilesInfo:Object(u["isFeatureEnabled"])(r,"feature_modern_files_info")})}var n={fetchAndUpsertFileById:p["b"]};return Object(l["connect"])(r,n)(y)}},17704:function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(){a(this,e);this.unfurls={}}n(e,[{key:"get",value:function e(t){return this.unfurls[t]}},{key:"set",value:function e(t,r){this.unfurls[t]=r}}]);return e}();t["a"]=i},17705:function(e,t,r){"use strict";var n=r(9);var a=r(16919);var i=r(16974);var o=r(16913);var s=r(16922);var c=r(16921);var l=r(17949);var u=r(18015);var p=function e(t,r){var n=r.userId,u=r.botId,p=r.username,f=r.botProfile;var d=void 0;var v="";var h=true;var m=false;var b=false;var _=f?f.team_id:null;var g=Object(l["a"])(t,{userId:n,botId:u,username:p,botProfile:f});if(n){var y=Object(a["getMemberById"])(t,n);if(y){h=y.isUnknown;m=y.isNonExistent;d=Object(c["d"])(y);v="/team/"+y.id;b=y.is_bot}}else if(p&&!u)h=false;else if(u){var O=Object(i["getBotById"])(t,u);v="/services/"+O.id;h=!p&&!f&&!!O.isUnknown;m=!p&&!f&&!!O.isNonExistent;b=true}var E=Object(o["isFeatureEnabled"])(t,"feature_better_web_app_model");var j=Object(o["isFeatureEnabled"])(t,"feature_app_profile_card_trigger_shared_channels");return{theme:Object(s["getUserMessagesTheme"])(t),name:g,userId:n,color:d,botId:u,botTeamId:_,href:v,isUnknown:h,isNonExistent:m,showAppLabel:b,featureBetterWebAppModel:E,featureAppProfileCardTriggerSharedChannels:j}};t["a"]=Object(n["connect"])(p)(u["a"])},17706:function(e,t,r){"use strict";var n=r(17187);var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var i=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;if(void 0===o)return;return o.call(n)};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(e){c(t,e);function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.keys,n=e.heightCache,a=e.containerHeight,i=void 0===a?0:a,c=e.stickToBottom,l=void 0!==c&&c,u=e.bottomMargin,p=void 0===u?0:u,f=e.ANCHOR_OFFSET,d=void 0===f?0:f,v=e.STICKY_EPSILON,h=void 0===v?2:v,m=e.STICKY_EPSILON_SETHEIGHT,b=void 0===m?2:m;o(this,t);var _=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{keys:r,heightCache:n}));_.containerHeight=i;_.stickToBottom=l;_.bottomMargin=p;_.STICKY_EPSILON=h;_.STICKY_EPSILON_SETHEIGHT=b;_.ANCHOR_OFFSET=d;_.anchorOffset=d;_.anchor=false;return _}a(t,[{key:"getOffsetForKey",value:function e(t){if(!t)return this.totalHeight;var r=this.getTop(t);if(void 0===r)return 0;return r-this.anchorOffset}},{key:"setHeight",value:function e(r,n,a){if(false!==this.anchor){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setHeight",this).call(this,r,n);return this.bracketScrollTop(this.getOffsetForKey(this.anchor))}if(this.shouldStickToBottom(a,this.STICKY_EPSILON_SETHEIGHT)){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setHeight",this).call(this,r,n);return this.bracketScrollTop(Infinity)}var o=a;var s=this.getBottom(r);if(s<=a+this.anchorOffset){var c=n-this.getHeight(r);o+=c}i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setHeight",this).call(this,r,n);return this.bracketScrollTop(o)}},{key:"setKeys",value:function e(r,n){if(false!==this.anchor){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setKeys",this).call(this,r);return this.bracketScrollTop(this.getOffsetForKey(this.anchor))}if(this.shouldStickToBottom(n)){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setKeys",this).call(this,r);return this.bracketScrollTop(Infinity)}var a=n+this.anchorOffset;var o=this.findAnchor(this.keys,r,a);if(!o){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setKeys",this).call(this,r);return this.bracketScrollTop(n)}var s=this.getTop(o)-a;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setKeys",this).call(this,r);var c=this.getTop(o)-a;var l=s-c;return this.bracketScrollTop(n-l)}},{key:"setContainerHeight",value:function e(t,r){if(false!==this.anchor){this.containerHeight=t;this.layout();return this.bracketScrollTop(this.getOffsetForKey(this.anchor))}if(this.shouldStickToBottom(r)){this.containerHeight=t;this.layout();return this.bracketScrollTop(Infinity)}this.containerHeight=t;this.layout();return r}},{key:"setBottomMargin",value:function e(t){this.bottomMargin=t}},{key:"setStickToBottom",value:function e(t){this.stickToBottom=t}},{key:"setAnchor",value:function e(t,r){this.anchor=t;this.anchorOffset="number"!==typeof r?this.ANCHOR_OFFSET:r}},{key:"findAnchor",value:function e(t,r,n){for(var a=0;a<t.length;a++){var i=t[a];if(this.getBottom(i)>n)for(var o=0;o<r.length;o++)if(r[o]===i)return i}return null}},{key:"bracketScrollTop",value:function e(t){return Math.max(0,Math.min(this.totalHeight-this.containerHeight+this.bottomMargin,t))}},{key:"shouldStickToBottom",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.STICKY_EPSILON;if(!this.stickToBottom)return false;return t>=this.totalHeight-this.containerHeight-r+this.bottomMargin}}]);return t}(n["a"]);t["a"]=l},17707:function(e,t,r){"use strict";r.d(t,"a",function(){return f});r.d(t,"b",function(){return d});var n=r(3);var a=r.n(n);var i=r(16929);var o=r(16933);var s=r(16915);var c=r(16913);var l=r(16922);function u(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function p(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var f=Object(s["b"])("Set a team pref via the setTeamPref API, possibly updating local team prefs optimistically first",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.pref,a=r.value,s=r.otherPrefsToCheck,f=void 0===s?[]:s,d=r.optimistically,v=void 0===d||d;var h=t();var m=Object(l["getTeamPref"])(h,n);v&&e(Object(l["setTeamPref"])({pref:n,value:a}));return e(Object(i["b"])({method:"team.prefs.set",args:{prefs:JSON.stringify(p({},n,a))}})).tap(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.prefs;if(!Object(c["isWebApp"])(h))return;var a=r||{};[n].concat(u(f)).filter(function(e){return"undefined"!==typeof a[e]}).forEach(function(t){e(Object(l["setTeamPref"])({pref:t,value:a[t]}))})}).catch(function(t){Object(o["d"])('team.prefs.set failed to update the pref "'+n+'"');v&&e(Object(l["setTeamPref"])({pref:n,value:m}));throw t})});f.propTypes={pref:a.a.string.isRequired,value:a.a.any,otherPrefsToCheck:a.a.arrayOf(a.a.string),optimistically:a.a.bool};var d=Object(s["b"])("Set a pref via the setPref API, updating local prefs optimistically first",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.pref,a=r.value;var s=t();var c=Object(l["getUserPref"])(s,n);e(Object(l["setUserPref"])({pref:n,value:a}));return e(Object(i["b"])({method:"users.prefs.set",args:{name:n,value:a}})).catch(function(){Object(o["d"])('user.prefs.set failed to update the pref "'+n+'"');e(Object(l["setUserPref"])({pref:n,value:c}))})});d.propTypes={pref:a.a.string.isRequired,value:a.a.any}},17710:function(e,t,r){"use strict";t["b"]=n;t["c"]=a;t["a"]=i;function n(e,t){if(!e)return null;if(t)return"<@"+e+"|"+t+">";return"<@"+e+">"}function a(e,t){if(!e)return null;if(t)return"<!team^"+e+"|"+t+">";return"<!team^"+e+">"}function i(e){if(!e)return null;return"*"+e+"*"}},17719:function(e,t,r){"use strict";r.d(t,"a",function(){return s});r.d(t,"b",function(){return l});r.d(t,"o",function(){return u});r.d(t,"n",function(){return p});r.d(t,"i",function(){return f});r.d(t,"k",function(){return d});r.d(t,"m",function(){return v});r.d(t,"j",function(){return h});r.d(t,"l",function(){return m});r.d(t,"h",function(){return b});r.d(t,"d",function(){return _});r.d(t,"r",function(){return g});r.d(t,"q",function(){return y});r.d(t,"w",function(){return O});r.d(t,"p",function(){return j});r.d(t,"g",function(){return k});r.d(t,"u",function(){return w});r.d(t,"D",function(){return C});r.d(t,"y",function(){return S});r.d(t,"z",function(){return T});r.d(t,"s",function(){return I});r.d(t,"t",function(){return N});r.d(t,"A",function(){return A});r.d(t,"C",function(){return P});r.d(t,"B",function(){return R});r.d(t,"c",function(){return M});r.d(t,"v",function(){return L});r.d(t,"x",function(){return D});r.d(t,"e",function(){return F});r.d(t,"f",function(){return B});var n=r(16915);var a=r(1);var i=r.n(a);var o=r(17720);var s=function e(t){if(!t||!t.availablePlans)return null;var r=t.availablePlans;var n=t.activeCurrency;var a=t.activeTerm;var i=t.activePlanLevel;if(!r[n]||!r[n][i]||!r[n][i][a])return null;return r[n][i][a]};var c=Object(n["d"])(function(e){if(!e||!e.pricingPlans)return null;return s(e.pricingPlans)});var l=function e(t){if(!t||!t.availablePlans)return[];return Object.keys(t.availablePlans)};var u=Object(n["d"])(function(e){if(!e||!e.pricingPlans)return[];return l(e.pricingPlans)});var p=Object(n["d"])(function(e){var t=c(e);if(!t||!t.id)return"";return t.id});var f=Object(n["d"])(function(e){var t=c(e);if(!t||!t.pricePerMonth)return null;return t.pricePerMonth});var d=Object(n["d"])(function(e){var t=c(e);if(!t||!t.level)return"";return t.level});var v=Object(n["d"])(function(e){var t=c(e);if(!t||!t.term)return"";return t.term});var h=Object(n["d"])(function(e){var t=c(e);if(!t||!t.term)return null;return t.term===o["b"].yearly});var m=Object(n["d"])(function(e){var t=c(e);if(!t||!t.lengthOfTermInMonths)return null;return t.lengthOfTermInMonths});var b=Object(n["d"])(function(e){var t=c(e);if(!t||!t.currency)return"";return t.currency});var _=function e(t,r){if(!t||!t.availablePlans)return null;var n=t.availablePlans;var a=t.activeCurrency;var i=t.activePlanLevel;if(!n[a]||!n[a][i])return null;return n[a][i][r]};var g=Object(n["d"])(function(e){if(!e||!e.pricingPlans)return null;var t=_(e.pricingPlans,o["b"].yearly);if(!t)return null;return t.pricePerMonth});var y=Object(n["d"])(function(e){if(!e||!e.pricingPlans)return null;var t=_(e.pricingPlans,o["b"].monthly);if(!t)return null;return t.pricePerMonth});var O=function e(t){if(!t||!t.pricingPlans)return null;return t.pricingPlans.isPlansAndCostDataLoaded};var E=function e(t){if(!t||!t.pricingPlans||!t.pricingPlans.activePlanCost)return null;return t.pricingPlans.activePlanCost};var j=Object(n["d"])(function(e){var t=E(e);if(!t||!t.billableUsers)return null;return t.billableUsers.billableActiveUsers});var k=Object(n["d"])(function(e){var t=E(e);if(!t||!t.billableUsers)return null;return t.billableUsers.zeroActiveUsers});var w=Object(n["d"])(function(e){var t=E(e);if(!t||!t.billableUsers)return null;return t.billableUsers.inactiveUsers});var C=Object(n["d"])(function(e){var t=E(e);if(!t||!t.billableUsers)return null;var r=k(e)?0:j(e);return r+w(e)});var S=Object(n["d"])(function(e){var t=E(e);if(!t)return null;return t.subtotal});var T=Object(n["d"])(function(e){var t=E(e);if(!t||Object(a["isEmpty"])(t.tax))return null;return t.tax});var I=Object(n["d"])(function(e){var t=E(e);if(!t||!t.credits)return null;return t.credits.creditsApplied});var N=Object(n["d"])(function(e){var t=E(e);if(!t||!t.credits)return null;return t.credits.currentCredits});var A=Object(n["d"])(function(e){var t=E(e);if(!t||!t.credits)return null;return t.credits.creditsRemaining});var P=Object(n["d"])(function(e){var t=E(e);if(!t)return null;return t.totalRecurring});var R=Object(n["d"])(function(e){var t=E(e);if(!t)return null;return t.totalDueToday});var M=Object(n["d"])(function(e){var t=E(e);if(!t)return null;return t.quotedTermEnd});var x=function e(t){if(!t||!t.cachedCost)return null;return t.cachedCost};var L=Object(n["d"])(function(e,t){if(!e||!e.pricingPlans)return null;var r=x(e.pricingPlans);if(!r||!r[t])return false;return true});var D=Object(n["d"])(function(e,t){if(!e||!e.pricingPlans)return null;var r=x(e.pricingPlans);if(!r||!r[t])return null;return r[t]});var F=Object(n["d"])(function(e){return e&&e.pricingPlans&&e.pricingPlans.apiError});var B=Object(n["d"])(function(e){if(!e||!e.pricingPlans)return false;if(F(e))return false;var t=p(e);var r=E(e);return t===r})},17720:function(e,t,r){"use strict";r.d(t,"b",function(){return s});r.d(t,"a",function(){return l});r.d(t,"c",function(){return u});r.d(t,"d",function(){return p});var n=r(1);var a=r.n(n);function i(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var o={vat:"vat",sales_tax:"sales_tax"};var s={monthly:"monthly",yearly:"yearly"};var c={monthly:1,yearly:12};var l={standard:{id:"std",name:"standard"},plus:{id:"plus",name:"plus"}};var u=function e(t){var r=Object(n["isEmpty"])(t.tax)?{}:{value:t.tax.sales_tax,type:t.tax.vat_required?o.vat:o.sales_tax};var a=t.credits?{currentCredits:t.credits.total_credits,creditsRemaining:t.credits.credits_remaining,creditsApplied:t.credits.credits_applied}:{};var i=t.billable_users?{billableActiveUsers:t.billable_users.billable_active_users,inactiveUsers:t.billable_users.inactive_users,zeroActiveUsers:t.billable_users.zero_active_users}:{};var s={id:t.product_id,subtotal:t.subtotal,billableUsers:i,tax:r,credits:a,totalRecurring:t.total_recurring,totalDueToday:t.total_due_today,quotedTermEnd:t.quoted_term_end};return{activePlanCost:s}};var p=function e(t){var r=function e(t){var r="12m"===t.term?s.yearly:s.monthly;var n="12m"===t.term?c.yearly:c.monthly;return{id:t.product_id,term:r,pricePerMonth:t.cost_per_m,pricePerTerm:t.cost_per_term,currency:t.currency,level:t.level,lengthOfTermInMonths:n}};var n={};Object.keys(t).forEach(function(e){var a;var o=t[e];n[e]=(a={},i(a,l.standard.id,{monthly:r(o.std_m),yearly:r(o.std_y)}),i(a,l.plus.id,{monthly:r(o.plus_m),yearly:r(o.plus_y)}),a)});return{availablePlans:n}}},17721:function(e,t,r){"use strict";t["b"]=n;t["a"]=a;function n(e,t){return e+"_"+t.name}function a(e,t,r){return e+"_"+t.name+"_"+r}function i(e,t,r){return n(e,t)+"_"+r.value}},17722:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"setFullyBooted",function(){return l});r.d(t,"isFullyBooted",function(){return f});var n=r(3);var a=r.n(n);var i=r(16915);var o=r(16934);var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function c(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var l=Object(i["a"])("Set the app as fully booted");l.propTypes=a.a.bool.isRequired;var u={isFullyBooted:false};var p=Object(i["c"])(c({},l,function(e,t){return s({},e,{isFullyBooted:t})}),u);t["default"]=p;var f=Object(i["d"])(function(e){return Object(o["a"])()||e&&e.incrementalBoot&&e.incrementalBoot.isFullyBooted})},17723:function(e,t,r){"use strict";r.d(t,"c",function(){return a});r.d(t,"b",function(){return i});r.d(t,"a",function(){return o});var n=r(16914);var a=Object(n["c"])("TS.sounds.play");var i=Object(n["c"])("TS.sounds.playScreenReaderAlert");var o=Object(n["c"])("TS.sounds.filenameForSoundName")},17724:function(e,t,r){"use strict";t["a"]=n;function n(e){return"UNVERIFIED"===e}},17725:function(e,t,r){"use strict";t["a"]=a;var n=r(17671);function a(e){if(Object(n["a"])(e))return e.replace(/^BK/,"");return""}},17726:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"setSupportsStickyPosition",function(){return l});r.d(t,"setNotificationPermission",function(){return u});r.d(t,"getSupportStickyPosition",function(){return d});r.d(t,"getNotificationPermission",function(){return v});var n=r(3);var a=r.n(n);var i=r(16915);var o;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function c(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var l=Object(i["a"])("Update the supports_sticky_position");l.propTypes=a.a.bool.isRequired;var u=Object(i["a"])("Update the notificationPermission");u.propTypes=a.a.string.isRequired;var p={};var f=Object(i["c"])((o={},c(o,l,function(e,t){return s({},e,{supportsStickyPosition:t})}),c(o,u,function(e,t){return s({},e,{notificationPermission:t})}),o),p);t["default"]=f;var d=Object(i["d"])(function(e){return e&&e.environment&&e.environment.supportsStickyPosition});var v=Object(i["d"])(function(e){return e&&e.environment&&e.environment.notificationPermission})},17727:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"addInviter",function(){return p});r.d(t,"removeInviter",function(){return f});r.d(t,"getInviter",function(){return v});var n=r(3);var a=r.n(n);var i=r(1);var o=r.n(i);var s=r(16915);var c;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function u(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var p=Object(s["a"])("Add an inviter for a channel");p.propTypes={channelId:a.a.string.isRequired,inviter:a.a.string.isRequired};var f=Object(s["a"])("Remove an inviter for a channel");f.propTypes=a.a.string.isRequired;var d=Object(s["c"])((c={},u(c,p,function(e,t){var r=t.channelId,n=t.inviter;if(!r||!n)return e;return l({},e,u({},r,n))}),u(c,f,function(e,t){if(!t||!e[t])return e;return o.a.omit(e,t)}),c),{});t["default"]=d;var v=Object(s["d"])(function(e,t){return e&&e.channelsMeta&&e.channelsMeta.inviters&&e.channelsMeta.inviters[t]})},17728:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"toggleFolderCollapse",function(){return b});r.d(t,"setIsRenaming",function(){return _});r.d(t,"renameFolder",function(){return g});r.d(t,"createFolder",function(){return y});r.d(t,"setFolderData",function(){return O});r.d(t,"dragFolderOrChannel",function(){return E});r.d(t,"initializeFolderData",function(){return j});r.d(t,"saveFolderData",function(){return k});r.d(t,"getFolders",function(){return S});r.d(t,"getFolderByName",function(){return T});var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16915);var c=r(16922);var l=r(17279);var u;var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function f(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function d(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var v=false;var h="folder_data";var m={list:[],currentlyRenamingFolder:null};var b=Object(s["a"])("Toggle between collapse and showing channels");b.propTypes={name:o.a.string.isRequired};var _=Object(s["a"])("Set a folder's renaming state to true");_.propTypes={name:o.a.string.isRequired};var g=Object(s["a"])("Rename a folder");g.propTypes={oldName:o.a.string.isRequired,newName:o.a.string.isRequired};var y=Object(s["a"])("Create a new folder");y.propTypes=null;var O=Object(s["a"])("Set all folder data (from storage)");O.propTypes=o.a.array.isRequired;var E=Object(s["a"])("Drag a folder or channel onto a folder or channel");E.propTypes={src:o.a.object.isRequired,dest:o.a.object};var j=Object(s["e"])("Set Folder Data From LocalStorage",function(e,t){var r=Object(c["getUserPref"])(t(),h);if(!r){v=true;r=localStorage.getItem(h)}var n=void 0;try{n=JSON.parse(r)}catch(e){n=null}n&&0!==n.length||(n=m.list);e(O(n))});j.propTypes=null;var k=Object(s["e"])("Set Folder Data From LocalStorage",function(e,t){var r=t().channelSidebarFolders.list;var n=JSON.stringify(r);if(v)localStorage.setItem(h,n);else{e(Object(c["setUserPref"])({pref:h,value:n}));Object(l["b"])({name:h,value:n})}});k.propTypes=null;var w=function e(t,r){var n=true;var a=1;var i=void 0;var o=function e(t){return t.name===i};while(n){i=1===a?r:r+" ("+a+")";n=t.list.find(o);a+=1}return i};var C=Object(s["c"])((u={},f(u,O,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return p({},e,{list:t})}),f(u,b,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.name;return p({},e,{list:e.list.map(function(e){return e.name===r?p({},e,{isCollapsed:!e.isCollapsed}):e}),currentlyRenamingFolder:null})}),f(u,g,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.oldName,n=t.newName;return p({},e,{list:n?e.list.map(function(t){return t.name===r&&r!==n?p({},t,{name:w(e,n)}):t}):e.list.filter(function(e){return e.name!==r}),currentlyRenamingFolder:null})}),f(u,_,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.name;return p({},e,{currentlyRenamingFolder:r})}),f(u,y,function(e){return p({},e,{currentlyRenamingFolder:w(e,"New Collection"),list:[{name:w(e,"New Collection"),isCollapsed:true,channelIds:[]}].concat(d(e.list))})}),f(u,E,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.src,n=t.dest;if("channel"===r.type){if(n&&"channel"===n.type&&r.id===n.id)return e;var i=a.a.findIndex(e.list,function(e){return a.a.includes(e.channelIds,r.id)});var o=-1===i?-1:e.list[i].channelIds.indexOf(r.id);var s=-1;var c=-1;if(n&&"folder"===n.type){s=a.a.findIndex(e.list,{name:n.id});c=0}else if(n&&"channel"===n.type){s=a.a.findIndex(e.list,function(e){return a.a.includes(e.channelIds,n.id)});c=-1===s?-1:e.list[s].channelIds.indexOf(n.id)}if(i===s&&o===c)return e;var l=p({},e,{list:e.list.map(function(e){return p({},e,{channelIds:e.channelIds.filter(function(e){return e!==r.id})})})});if(-1===s)return l;return p({},l,{list:l.list.map(function(e,t){return t!==s?e:p({},e,{isCollapsed:0!==e.channelIds.length&&e.isCollapsed,channelIds:[].concat(d(e.channelIds.slice(0,c)),[r.id],d(e.channelIds.slice(c)))})})})}if("folder"===r.type&&n){var u=void 0;u="folder"===n.type?a.a.findIndex(e.list,{name:n.id}):a.a.findIndex(e.list,function(e){return a.a.includes(e.channelIds,n.id)});if(-1===u)return e;var f=a.a.findIndex(e.list,{name:r.id});if(f===u)return e;var v=p({},e,{list:[].concat(d(e.list.slice(0,f)),d(e.list.slice(f+1)))});v.list=[].concat(d(v.list.slice(0,u)),[e.list[f]],d(v.list.slice(u)));return v}return e}),u),m);t["default"]=C;var S=Object(s["d"])(function(e){return e&&e.channelSidebarFolders&&e.channelSidebarFolders.list});var T=Object(s["d"])(function(e,t){return e&&e.channelSidebarFolders&&p({},a.a.find(e.channelSidebarFolders.list,{name:t}),{isRenaming:e.channelSidebarFolders.currentlyRenamingFolder===t})})},17729:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"setRealtimePriorityForChannels",function(){return p});r.d(t,"fetchChannelRealtimePriority",function(){return f});r.d(t,"getChannelRealtimePriorities",function(){return v});var n=r(3);var a=r.n(n);var i=r(1);var o=r.n(i);var s=r(16915);var c=r(16999);var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function u(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var p=Object(s["a"])("Set realtime priority for some channels.");p.propTypes={realtimePriorityData:a.a.object,keyedChannels:a.a.object};var f=Object(s["e"])("fetch realtime priority for a channel",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.channelIds,a=r.time;var i=t(),s=i.sliRealtimePriority;var l=o.a.reject(n,function(e){return e.startsWith("D")||e.startsWith("G")||e.startsWith("V")||s[e]&&s[e].lastLoad&&s[e].lastLoad>a-3e5});if(0===l.length)return;var u=o.a.reduce(l,function(e,t){e[t]={lastLoad:a};return e},{});e(p({realtimePriorityData:u}));Object(c["h"])(l.join()).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.channels;var n=o.a.keyBy(r,"id");e(p({keyedChannels:n}))})});f.propTypes={channelIds:a.a.arrayOf(a.a.string).isRequired,time:a.a.number.isRequired};var d=Object(s["c"])(u({},p,function(e,t){return o.a.reduce(t,function(t,r){o.a.forEach(r,function(r,n){t[n]=l({},e[n],r)});return t},l({},e))}),{});t["default"]=d;var v=Object(s["d"])(function(e){return e&&e.sliRealtimePriority?e.sliRealtimePriority:{}})},17730:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"setSearchAutocompleteSuggestions",function(){return u});r.d(t,"setSearchAutocompleteRequestId",function(){return f});r.d(t,"setSearchAutocompleteSelection",function(){return d});r.d(t,"getSearchAutocompleteSuggestions",function(){return m});r.d(t,"getSearchAutocompleteSelectedIndex",function(){return b});r.d(t,"getSearchAutocompleteRequestId",function(){return _});var n=r(3);var a=r.n(n);var i=r(16915);var o=r(17328);var s;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function l(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var u=Object(i["a"])("Set the list of autocomplete suggestions");u.propTypes={suggestions:a.a.object.isRequired};var p=Object(i["a"])("Set the index of the selected autocomplete suggestion");p.propTypes={selectedIndex:a.a.number.isRequired};var f=Object(i["a"])("Set the local ID associated with the last autocomplete request");f.propTypes={id:a.a.string.isRequired};var d=Object(i["e"])("Set the selected autocomplete item, keeping the display text in sync",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.selectedIndex,a=r.setText;var i=t();e(p({selectedIndex:n}));if(a){var s=i&&i.searchAutocomplete&&i.searchAutocomplete.suggestions||[];var c=s[n];c&&c.is_type_query_completion&&e(Object(o["setSearchInputBoxDisplayQuery"])({displayQuery:c.suggestion_replacement}))}});d.propTypes={selectedIndex:a.a.oneOfType([a.a.number]),setText:a.a.bool};var v={suggestions:[],selectedIndex:null};var h=Object(i["c"])((s={},l(s,u,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.suggestions;return c({},e,{suggestions:r})}),l(s,p,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.selectedIndex;return c({},e,{selectedIndex:r})}),l(s,f,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.id;return c({},e,{lastRequestId:r})}),s),v);t["default"]=h;var m=Object(i["d"])(function(e){return e&&e.searchAutocomplete&&e.searchAutocomplete.suggestions});var b=Object(i["d"])(function(e){return e&&e.searchAutocomplete&&e.searchAutocomplete.selectedIndex});var _=Object(i["d"])(function(e){return e&&e.searchAutocomplete&&e.searchAutocomplete.lastRequestId})},17731:function(e,t,r){"use strict";t["a"]=l;var n=r(1);var a=r.n(n);var i=r(17083);var o=r(16916);var s=r(16924);var c=function e(t){return t.id};function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var a=r.getId||c;var l=r.prefix||"";var u={};var p=[];Object(n["forEach"])(e,function(e,t){var r=a(e);if(r){u[r]=e;p.push({id:r})}else s["isDev"]&&Object(o["warn"])("frecencySort: Item "+t+" is missing an ID. You may need to provide or fix a getId function.")});var f=void 0;if(t){var d=Object(i["b"])(p,t);f=d.map(function(e){var t=e.id;return u[t]||null})}else{f=[];Object(n["forEach"])(Object(i["a"])(l),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id;var r=u[t];if(r){f.push(r);delete u[t]}});Object(n["forEach"])(u,function(e){return f.push(e)})}return f}},17732:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16917);var u=r(17128);var p=r(16942);var f=r(16912);var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=new f["b"]("app_actions");var y={onCloseComplete:o.a.func,onRetry:o.a.func.isRequired};var O={onCloseComplete:s["noop"]};var E=function(e){_(t,e);function t(e){m(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onRetry=r.onRetry.bind(r);r.setToastRef=r.setToastRef.bind(r);return r}v(t,[{key:"onRetry",value:function e(){this.toastRef&&this.toastRef.hideToast();this.props.onRetry()}},{key:"setToastRef",value:function e(t){this.toastRef=t}},{key:"render",value:function e(){var t=this;var r=this.props,n=r.onRetry,i=h(r,["onRetry"]);var o=g.rt("Sorry, that didn\u2019t work. <a>Try again?</a>",null,function(e){var r=e.text;return a.a.createElement(p["a"],{onClick:t.onRetry},r)});return a.a.createElement(u["a"],d({ref:this.setToastRef},i),a.a.createElement(l["a"],{type:"warning",danger:true}),a.a.createElement("span",null,o))}}]);return t}(n["PureComponent"]);E.displayName="AppActionFailToast";E.propTypes=y;E.defaultProps=O;t["a"]=E},17733:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"setSubscription",function(){return _});r.d(t,"getIsSubscribed",function(){return j});r.d(t,"getIsSubscriptionLoaded",function(){return k});r.d(t,"getIsSubscriptionLoading",function(){return w});r.d(t,"fetchThreadSubscriptionIfNeeded",function(){return C});r.d(t,"updateThreadSubscription",function(){return S});r.d(t,"toggleThreadSubscription",function(){return T});r.d(t,"test",function(){return I});var n=r(1);var a=r.n(n);var i=r(16915);var o=r(3);var s=r.n(o);var c=r(16926);var l=r(17324);var u=r(16930);var p=r(16940);var f=r(16913);var d=r(20617);var v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function h(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function m(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}var b=d["a"];var _=Object(i["a"])("Update thread subscription status");_.propTypes={channelId:s.a.string.isRequired,ts:s.a.string.isRequired,subscribed:s.a.bool,lastRead:s.a.string,loading:s.a.bool,error:s.a.bool};var g={};var y=Object(i["c"])(h({},_,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r=t.channelId,n=t.ts,a=m(t,["channelId","ts"]);return v({},e,h({},r,v({},e[r]||{},h({},n,v({},(e[r]||{})[n],a)))))}),g);t["default"]=y;var O=Object(i["d"])(function(e,t){return e&&e.threadSub&&e.threadSub[t]||{}});var E=Object(i["d"])(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.channelId,n=t.ts;return O(e,r)[n]||{}});var j=Object(i["d"])(function(e,t){return!!E(e,t).subscribed});var k=Object(i["d"])(function(e,t){return"boolean"===typeof E(e,t).subscribed});var w=Object(i["d"])(function(e,t){return!!E(e,t).loading});var C=Object(c["b"])("Fetch subscription status for thread",function(e,t,r){var a=t();var i=r.channelId,o=r.ts;if(Object(f["isFeatureEnabled"])(a,"feature_react_threads")){if(k(a,r))return Promise.resolve(E(a,{channelId:i,ts:o}))}else if(k(a,r)||w(a,r))return Object(l["c"])(i,o);e(_(v({},r,{loading:true})));if(!Object(f["isFeatureEnabled"])(a,"feature_react_threads"))return Object(l["c"])(i,o).then(function(t){return e(_(v({},r,{loading:false,subscribed:t&&t.subscribed})))}).catch(function(){return e(_(v({},r,{loading:false,error:true})))});return e(b({channelId:i,threadTs:o})).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.subscriptions;var a=Object(n["includes"])(r,o);return e(_({channelId:i,ts:o,loading:false,subscribed:a}))})});C.propTypes={channelId:s.a.string.isRequired,ts:s.a.string.isRequired};var S=Object(c["b"])("Subscribe / unsubscribe to a message thread",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.channelId,a=r.ts,i=r.subscribed;var o=t();var s=Object(u["getMessageByTimestamp"])(o,n,a);var c=Object(p["getLastReadReplyTs"])(s);e(_({channelId:n,ts:a,subscribed:i,lastRead:c}));if(!Object(f["isFeatureEnabled"])(o,"feature_react_threads"))return Object(l["d"])(n,a,i,c);var v={channelId:n,threadTs:a,lastRead:c};if(i)return e(Object(d["b"])(v));return e(Object(d["c"])(v))});S.propTypes={channelId:s.a.string.isRequired,ts:s.a.string.isRequired,subscribed:s.a.bool.isRequired};var T=Object(c["b"])("Toggle the existing subscription status, fetch if necessary",function(e,t,r){var n=t();if(k(n,r)){var a=j(n,r);return e(S(v({subscribed:!a},r)))}return Promise.resolve({})});T.propTypes={channelId:s.a.string.isRequired,ts:s.a.string.isRequired};var I={};Object.defineProperty(I,"getSubscribed",{get:function e(){return b},set:function e(t){b=t}})},17735:function(e,t,r){"use strict";t["b"]=p;t["a"]=f;var n=r(16948);var a=r(16912);var i=new a["b"]("message");var o={addedCommentedPossessive:function e(t){return i.t("added and commented on {uploader_name_possessive_html} {file_pretty_name} snippet",t)},uploadedCommentedPossessive:function e(t){return i.t("uploaded and commented on {uploader_name_possessive_html} {file_pretty_name} snippet",t)},addedPossessive:function e(t){return i.t("added {uploader_name_possessive_html} {file_pretty_name} snippet",t)},uploadedPossessive:function e(t){return i.t("uploaded {uploader_name_possessive_html} {file_pretty_name} snippet",t)},mentionedPossessive:function e(t){return i.t("mentioned {uploader_name_possessive_html} {file_pretty_name} snippet",t)},sharedPossessive:function e(t){return i.t("shared {uploader_name_possessive_html} {file_pretty_name} snippet",t)},addedCommented:function e(t){return i.t("added and commented on this {file_pretty_name} snippet",t)},uploadedCommented:function e(t){return i.t("uploaded and commented on this {file_pretty_name} snippet",t)},added:function e(t){return i.t("added this {file_pretty_name} snippet",t)},uploaded:function e(t){return i.t("uploaded this {file_pretty_name} snippet",t)},mentioned:function e(t){return i.t("mentioned this {file_pretty_name} snippet",t)},shared:function e(t){return i.t("shared this {file_pretty_name} snippet",t)}};var s={addedCommentedPossessive:function e(t){return i.t("added and commented on {uploader_name_possessive_html} email",t)},uploadedCommentedPossessive:function e(t){return i.t("uploaded and commented on {uploader_name_possessive_html} email",t)},addedPossessive:function e(t){return i.t("added {uploader_name_possessive_html} email",t)},uploadedPossessive:function e(t){return i.t("uploaded {uploader_name_possessive_html} email",t)},mentionedPossessive:function e(t){return i.t("mentioned {uploader_name_possessive_html} email",t)},sharedPossessive:function e(t){return i.t("shared {uploader_name_possessive_html} email",t)},addedCommented:function e(){return i.t("added and commented on this email",{fallbackHash:"75f64df1dd40efa14ed0193e752d4f0db4799b0a"})},uploadedCommented:function e(){return i.t("uploaded and commented on this email",{fallbackHash:"b6b70e1a20fbded111fbde8015f871bb27d6a551"})},added:function e(){return i.t("added this email",{fallbackHash:"eb38c1f55d9beda94c94946b567d0dae613c1b93"})},uploaded:function e(){return i.t("uploaded this email",{fallbackHash:"cd4d0769a216c63e342fb01fc575d1c768b2d046"})},mentioned:function e(){return i.t("mentioned this email",{fallbackHash:"ff57fddd2500258905a124d4c38152c734082f9c"})},shared:function e(){return i.t("shared this email",{fallbackHash:"cda197676d33bd707390de7c62ce3a8eeea75685"})}};var c={addedCommentedPossessive:function e(t){return i.t("added and commented on {uploader_name_possessive_html} post",t)},uploadedCommentedPossessive:function e(t){return i.t("uploaded and commented on {uploader_name_possessive_html} post",t)},addedPossessive:function e(t){return i.t("added {uploader_name_possessive_html} post",t)},uploadedPossessive:function e(t){return i.t("uploaded {uploader_name_possessive_html} post",t)},mentionedPossessive:function e(t){return i.t("mentioned {uploader_name_possessive_html} post",t)},sharedPossessive:function e(t){return i.t("shared {uploader_name_possessive_html} post",t)},addedCommented:function e(){return i.t("added and commented on this post",{fallbackHash:"c1bac3654abe753bb61273fed531d0b0c96b3d21"})},uploadedCommented:function e(){return i.t("uploaded and commented on this post",{fallbackHash:"ef1acee29c55c66d8396c4cf33d8a4c435410c2f"})},added:function e(){return i.t("added this post",{fallbackHash:"2323350547f905d10ed8ad37722a78a2ddb28910"})},uploaded:function e(){return i.t("uploaded this post",{fallbackHash:"676b8c3136ac618b4a8015154d87b038de264e39"})},mentioned:function e(){return i.t("mentioned this post",{fallbackHash:"8b632d4477dd754bef33948b29aae08329d53266"})},shared:function e(){return i.t("shared this post",{fallbackHash:"b37799e71cb01d7ab339a7d001f64a6b3a623825"})}};var l={addedCommentedPossessive:function e(t){return i.t("added and commented on {uploader_name_possessive_html} image",t)},uploadedCommentedPossessive:function e(t){return i.t("uploaded and commented on {uploader_name_possessive_html} image",t)},addedPossessive:function e(t){return i.t("added {uploader_name_possessive_html} image",t)},uploadedPossessive:function e(t){return i.t("uploaded {uploader_name_possessive_html} image",t)},mentionedPossessive:function e(t){return i.t("mentioned {uploader_name_possessive_html} image",t)},sharedPossessive:function e(t){return i.t("shared {uploader_name_possessive_html} image",t)},addedCommented:function e(){return i.t("added and commented on this image",{fallbackHash:"9a205b2469dad02b6fa31d91e5cc6430b8b3761c"})},uploadedCommented:function e(){return i.t("uploaded and commented on this image",{fallbackHash:"1208be89eca6c305cfa5da4655c1189a5fe6e2a6"})},added:function e(){return i.t("added this image",{fallbackHash:"21285b404e2818b808431403ae9afbb7cf938fe2"})},uploaded:function e(){return i.t("uploaded this image",{fallbackHash:"08c671caeec171c6248b48a30659910f16cf7c3f"})},mentioned:function e(){return i.t("mentioned this image",{fallbackHash:"b935a8bdc1648a773653f60df86c82b69b5aac05"})},shared:function e(){return i.t("shared this image",{fallbackHash:"ddd64b85b06efc054e1fb3802e7237655aceb18f"})}};var u={addedCommentedPossessive:function e(t){return i.t("added and commented on {uploader_name_possessive_html} file",t)},uploadedCommentedPossessive:function e(t){return i.t("uploaded and commented on {uploader_name_possessive_html} file",t)},addedPossessive:function e(t){return i.t("added {uploader_name_possessive_html} file",t)},uploadedPossessive:function e(t){return i.t("uploaded {uploader_name_possessive_html} file",t)},mentionedPossessive:function e(t){return i.t("mentioned {uploader_name_possessive_html} file",t)},sharedPossessive:function e(t){return i.t("shared {uploader_name_possessive_html} file",t)},addedCommented:function e(t){return i.t("added and commented on this file",t)},uploadedCommented:function e(t){return i.t("uploaded and commented on this file",t)},added:function e(t){return i.t("added this file",t)},uploaded:function e(t){return i.t("uploaded this file",t)},mentioned:function e(t){return i.t("mentioned this file",t)},shared:function e(t){return i.t("shared this file",t)}};function p(e){if(!e)return null;var t=Object(n["getFileType"])(e);switch(t){case"snippet":return o;case"email":return s;case"post":return c;case"image":return l;default:return u}}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.subtype,a=t.file,i=t.isUpload,o=t.userId,s=t.featureFileThreads;var c=Object(n["getFileType"])(a);var l="file_share"===r||s;var u="file_mention"===r;var p=l&&i;var f=!p&&a.user!==o;var d=!!a.initial_comment;if(f){if(u)return e.mentionedPossessive;return e.sharedPossessive}if(p){if("snippet"===c)return d?e.addedCommented:e.added;return d?e.uploadedCommented:e.uploaded}if(u)return e.mentioned;return e.shared}},17736:function(e,t,r){"use strict";r.d(t,"b",function(){return a});r.d(t,"f",function(){return d});r.d(t,"c",function(){return v});r.d(t,"e",function(){return h});r.d(t,"d",function(){return b});r.d(t,"a",function(){return _});r.d(t,"i",function(){return y});r.d(t,"g",function(){return O});r.d(t,"h",function(){return j});var n={WIFI:0,MOBILE:1,WIRED:2};var a={UNKNOWN:0,CHANNEL_CREATED:1,CHANNEL_JOINED:2,CHANNEL_LEFT:3,CHANNEL_OVERLAY_SHOWN:205,CHANNEL_SWITCHED:30,CHANNEL_SWITCHED_OUT:62,CHANNEL_SEE_MORE_DETAILS_BUTTON_CLICK:78,CHANNEL_ARCHIVED:86,CHANNEL_UNARCHIVED:87,CHANNEL_INSIGHTS_MODULE_SHOWN:79,CHANNEL_INSIGHTS_JUMP_TO_MESSAGE:80,CHANNEL_INSIGHTS_RELATED_CHANNELS_CLICK:81,CHANNEL_INSIGHTS_MOST_ACTIVE_USER_CLICK:82,CHANNELBROWSER_SELECT:204,MSG_SENT:226,MSG_LINK_CLICKED:8,MSG_SIMILAR_CHANNELS_SENT:9,MSG_JOIN_CHANNELS_SENT:12,MSG_JOIN_CHANNELS_CLICK:13,MSG_LEAVE_CHANNELS_SENT:10,MSG_LEAVE_CHANNELS_CLICK:14,MSG_STAR_CHANNELS_SENT:11,MSG_STAR_CHANNELS_CLICK:15,MSG_ARCHIVE_CHANNELS_SENT:83,MSG_ARCHIVE_CHANNELS_CLICK:84,MSG_ARCHIVE_CHANNELS_DECLINE:85,MSG_DISABLE_SUGGESTIONS_CLICK:16,MSG_ENABLE_SUGGESTIONS_CLICK:22,MSG_CHANNEL_INVITE_SUGGESTIONS_SENT:225,MSG_SHARED:18,deprecated_MSG_CURSOR_SELECT:19,MSG_VIDEO_PLAY:34,MSG_PHOTO_EXPAND:35,MSG_LINK_COPY:43,MSG_RECAP_SUGGEST_CLICK:31,MSG_RECAP_POSITIVE_CLICK:32,MSG_RECAP_NEGATIVE_CLICK:33,MSG_RECAP_MARKER_CLICK:38,MSG_RECAP_MARKER_HOVER:39,MSG_RECAP_MARKER_UNHOVER:40,MSG_RECAP_NAV_CLICK:41,MSG_RECAP_TOGGLE_CLICK:42,MSG_SHARED_CLICKED:54,MSG_BRIEFING_POSITIVE_FEEDBACK:64,MSG_BRIEFING_NEGATIVE_FEEDBACK:65,MSG_BRIEFING_QUALITATIVE_FEEDBACK:66,MSG_BRIEFING_FEEDBACK:67,MSG_SUBMITTED_MENTIONS:135,MSG_BTN_MENTIONS:213,MSG_MEMBERS_TABCOMPLETE_SHOW:214,MSG_AUTO_MENTION_CREATED:215,MSG_AUTO_POTENTIAL_MENTION_CREATED:216,MSG_AUTO_MENTION_SECONDARY_EXACT_MATCH:217,MSG_AUTO_MENTION_SECONDARY_LONGER_MATCH:218,PREVIEW_EXPAND:36,PREVIEW_COLLAPSE:37,PIN_ADDED:20,PIN_REMOVED:21,PREF_USER_CLIENT_UPDATE:29,PREF_TEAM_CLIENT_UPDATE:206,PREF_ORG_CLIENT_UPDATE:207,QUICKSWITCHER_SELECT:203,QUICKSWITCHER_QUERY:222,REACTION_ADDED:23,REACTION_REMOVED:24,REMIND_ME_CLICKED:55,USED_CSS:17,STAR_ADDED:4,STAR_REMOVED:5,STAR_ADD_CLICKED:27,STAR_REMOVE_CLICKED:28,TEAM_MENU_OPENED:138,THREADS_VIEW_OPEN:48,THREADS_VIEW_CLOSE:49,THREADS_FOLLOW:58,THREADS_UNFOLLOW:59,THREADS_FOLLOW_CLICKED:50,THREADS_UNFOLLOW_CLICKED:51,THREADS_REPLY:52,THREADS_REPLY_BROADCAST:57,THREADS_REPLY_BROADCAST_CLICKED:53,THREADS_ROOT_AUTHOR_MENTIONED:63,UNREADS_OPEN:25,UNREADS_CLOSE:26,UNREADS_MARK_GROUP_AS_READ:68,UNREADS_MARK_GROUP_AS_UNREAD:69,UNREADS_MARK_ALL_AS_READ:70,UNREADS_MARK_ALL_AS_UNREAD:71,UNREADS_EXPAND_GROUP:72,UNREADS_COLLAPSE_GROUP:73,BRIEFING_REVEAL:74,BRIEFING_JUMP_TO_CHANNEL:75,BRIEFING_DISMISS_ALL:76,BRIEFING_BACK_TO_BRIEFING:77,APP_INDEX_VIEW_OPEN:136,APP_INDEX_VIEW_CLOSE:137,FOCUS_MODE_START:60,FOCUS_MODE_END:61,EXPERIMENT_EXPOSURE:6,LOGIN_EVENT_BASIC:7,USER_CARD_CLICK:44,USER_PROFILE_CLICK:45,USERNAME_CLICK:46,DM_OPEN:56,FILE_DOWNLOAD:47,FILE_FULLSCREEN_COMMENT_ADD:134,REMINDERS_ADD:100,REMINDERS_LIST:101,REMINDERS_COMPLETE:102,REMINDERS_DELETE:103,REMINDERS_SNOOZE:104,CUSTOM_STATUS_SET:130,CUSTOM_STATUS_CLEAR:131,CUSTOM_STATUS_ADMIN_PRESET_SET:139,CUSTOM_STATUS_ADMIN_RESTORE_DEFAULT:140,USER_CARD_DISPLAY:132,USER_CARD_DM:133,CHAT_ACTION_CALLED:200,FLEXPANE_CHANNEL_DETAILS_OPEN:201,FLEXPANE_CHANNEL_DETAILS_CLOSE:202,FLEXPANE_KBSHORTCUTS_OPEN:219,KBSHORTCUTS_MESSAGE_NAV:220,KBSHORTCUTS_SECTION_NAV:221,EMAIL_INGESTION_ADDRESS_CREATE:208,EMAIL_INGESTION_ADDRESS_DISABLE:209,EMAIL_INGESTION_ADDRESS_COPY:210,BUILTIN_CHAT_COMMAND_CALLED:211,BUILTIN_CHAT_COMMAND_AUTOCOMPLETE:212,CHANNEL_BROWSE_SORT:250,CHANNEL_BROWSER_OPEN:223,SIDEBAR_ITEM_CLICK:224,SIDEBAR_JUMPER_COACHMARK:228,CLIPBOARD_WRITE:227,EMOJI_UPDATE_OVERLAY:229,I18N_MISSING_TRANSLATION:230,I18N_MISSING_TRANSLATION_BUNDLE:231,I18N_MISSING_TRANSLATION_BUNDLE_LOCALE:232,I18N_MISSING_TRANSLATION_BUNDLE_LOCALE_NAMESPACE:233,I18N_TRANSLATION_BUNDLE_FOUND:234,I18N_TRANSLATION_BUNDLE_NOTFOUND:235,I18N_KEYBOARD:236,I18N_KEYBOARD_CHANGE:237,CORE:1e5,PERF_TIME_TO_USABLE:100001,PERF_CLIENT_CONTENT_VISIBLE:100002,PERF_MS_CONNECT:100003,PERF_PROCESS_RTM_START:100027,PERF_FULL_DURATION:100025,PERF_CLIENT_SESSION_BYTES_RECEIVED:100030,PERF_CLIENT_TOTAL_MEMBERS_LOADED:100031,PERF_STUTTERS:100039,PERF_FPS_MEDIAN:100040,PERF_FPS_MIN:100041,PERF_INITIAL_STUTTERS:100042,PERF_INITIAL_BEACHBALLS:100043,PERF_LONGTASKS:100044,PERF_DMBROWSER_SHOW:100004,PERF_DMBROWSER_SEARCH:100024,PERF_CHANNELBROWSER_SHOW:100017,PERF_CHANNELBROWSER_SEARCH:100022,PERF_CHANNELMEMBERS_SHOW:100023,PERF_FILE_LIST_SHOW:100005,PERF_SHAREMODAL_SEARCH:100006,PERF_SHAREMODAL_SHOW:100007,PERF_INVITE_VIEW_SHOW:100008,PERF_INVITEMODAL_SHOW:100018,PERF_INVITEMODAL_SEARCH:100026,PERF_CHANNELS_LIST_SHOW:100009,PERF_CHAT_VIEW_SHOW:100010,PERF_PINS_LIST_SHOW:100011,PERF_QUICK_SWITCH_SHOW:100012,PERF_SMARTY_LOAD:100013,PERF_SENDING_API_CALL_TO_QUEUE_SLACKBOT:100014,PERF_RECEIVED_FIRST_SLACKBOT_MSG_FROM_API_CALL:100015,PERF_RECEIVED_FIRST_SLACKBOT_MSG_FROM_ONBOARDING_BUTTON:100016,PERF_AUTOCOMPLETE_CHANNELS_SEARCH:100019,PERF_AUTOCOMPLETE_EMOJI_SEARCH:100020,PERF_AUTOCOMPLETE_USERS_SEARCH:100021,PERF_TEAMDIRECTORY_SHOW:100028,PERF_PT_SECTION_RESPONSE:100029,PERF_ENTERPRISE_MIGRATION_USER:100032,PERF_ENTERPRISE_MIGRATION_DM:100033,PERF_ENTERPRISE_MIGRATION_MPDM:100034,PERF_ENTERPRISE_MIGRATION_FILE:100035,PERF_EXPERIMENT:100036,PERF_BEACHBALLS:100037,PERF_CLIENT_TOTAL_MEMBER_UPSERTS:100038,PERF_AUTOCOMPLETE_RESPONSE_TIME:100050,PERF_AUTOCOMPLETE_QUERY_SUGGESTIONS_RESPONSE_TIME:100051,ERROR_LOG_ERROR:100047,LESSON_ONBOARDING:100048,PERF_API_CALL:100049,PRQ_CHANNEL_SWITCH_USABLE:100052,PRQ_CHANNEL_SWITCH_VISIBLE:100053,PRQ_TIME_TO_USABLE:100054,PRQ_TIME_TO_VISIBLE:100055,PRQ_SESSION_FRAME_STATS:100056,PERF_DM_CALL_INITIATED_TO_USABLE_TIME:100057,PERF_DM_CALL_ACCEPTED_TO_USABLE_TIME:100058,PERF_INCOMING_CALL_WINDOW_SHOWN_TO_ACCEPTED_TIME:100059,PERF_CALLS_DESKTOP_WINDOW_LOADING_TIME:100060,PERF_CALL_PUBLISHER_CONNECTION_TIME:100061,PERF_CALL_MUXED_LISTENER_CONNECTION_TIME:100062,PERF_CALL_SCREEN_SHARE_DELIVERED_TIME:100063,PERF_APP_CRASH:100064,PERF:2e5,OAUTH_SKIPPED_TEAM_SELECTION_SINGLE_TEAM:200001,OAUTH_REDIRECT_TO_SIGNIN_ZERO_TEAMS:200002,OAUTH_REDIRECT_TO_SIGNIN_ONE_TEAM_AFTER_REPICK:200003,OAUTH_FLOW_INITIATED:200004,OAUTH_SIWS_FLOW_INITIATED:200005,OAUTH_CODE_GENERATED:200006,OAUTH_SIWS_CODE_GENERATED:200007,OAUTH_SUCCESSFUL_TOKEN_CREATION:200008,OAUTH_SIWS_SUCCESSFUL_TOKEN_CREATION:200009,OAUTH_ERROR:200010,OAUTH_START_FLOW:200011,OAUTH_AUTHORIZE_CONFIRM_FORM:200012,OAUTH_DENY:200013,OAUTH_REPICK:200014,OAUTH_VIEW_INTEGRATIONS_MANAGER:200015,OAUTH_TYPEAHEAD_SEARCH:200016,OAUTH_TYPEAHEAD_SEARCH_SUBMIT:200020,OAUTH_API_MESSAGE_BUILDER:200017,OAUTH_REVIEWS_SCOPES:200018,OAUTH_SHOW_APP_DM_REDIRECT:200019,OAUTH_NEXT_PAGE:200021,OAUTH_PREVIOUS_PAGE:200022,APP_DIRECTORY_WEBSITE_CLICK:200100,APP_DIRECTORY_MANAGE:200101,APP_DIRECTORY_APP_DETAIL:200102,APP_DIRECTORY_GET_APP:200103,APP_DIRECTORY_BUILD:200104,APP_DIRECTORY_BUILD_INTEGRATION:200105,APP_DIRECTORY_CATEGORY:200106,APP_DIRECTORY_HOME:200107,APP_DIRECTORY_MANAGE_INTEGRATIONS:200108,APP_DIRECTORY_BUILD_INTEGRATION_NEW:200109,APP_DIRECTORY_SEARCH_RESULTS:200110,APP_DIRECTORY_SEARCH_RESULT_CLICKED:200111,APP_DIRECTORY_CATEGORY_FEATURED_RESULT_CLICKED:200112,APP_DIRECTORY_CATEGORY_RESULT_CLICKED:200113,APP_DIRECTORY_HOME_FEATURED_CATEGORY_APP_CLICKED:200114,APP_DIRECTORY_HOME_SPLASH:200115,APP_DIRECTORY_YOUTUBE_CLICK:200237,PLATFORM_APPS_SUGGESTIONS_SENT:200200,PLATFORM_APPS_SUGGESTIONS_SELECTED:200201,PLATFORM_APPS_TARGETED_SUGGESTIONS_SENT:200202,PLATFORM_APPS_TARGETED_SUGGESTIONS_SELECTED:200203,PLATFORM_APPS_TARGETED_SUGGESTIONS_INSTALLED:200204,PLATFORM_APPS_TARGETED_SUGGESTIONS_REJECTED:200205,PLATFORM_APPS_TARGETED_SUGGESTIONS_DIRECTORY:200206,PLATFORM_APPS_TARGETED_SUGGESTIONS_NOT_NOW:200207,PLATFORM_APPS_TARGETED_SUGGESTIONS_JUST_THIS_ONCE:200208,PLATFORM_APPS_TARGETED_SUGGESTIONS_JUST_THIS_ONCE_SELECTED:200212,PLATFORM_APPS_SUGGESTIONS_FEEDBACK:200209,PLATFORM_APPS_GDRIVE_FIX_PERMISSIONS_YES:200300,PLATFORM_APPS_GDRIVE_FIX_PERMISSIONS_CANCEL:200301,PLATFORM_APPS_GDRIVE_FIX_PERMISSIONS_PROMPT_SEEN:200302,PLATFORM_APPS_GDRIVE_INSTALL_DRIVEBOT_PROMPT_SEEN:200229,PLATFORM_APPS_GDRIVE_INSTALL_DRIVEBOT_INSTALLED:200230,PLATFORM_APPS_GDRIVE_INSTALL_DRIVEBOT_NOT_NOW:200231,PLATFORM_APPS_GDRIVE_INSTALL_DRIVEBOT_REJECTED:200232,PLATFORM_APPS_BLUEPRINT_CONFIGURE_CLONE_DELETE:200500,PLATFORM_APPS_BLUEPRINT_CONFIGURE_CLONE_CANCEL_DELETE:200501,PLATFORM_APPS_BLUEPRINT_CONFIGURE_CLONE_CANCEL_CHANGES:200502,PLATFORM_APPS_BLUEPRINT_CONFIGURE_CLONE_SAVE_CHANGES:200503,UNFURL_LINK_SHARED:200210,DISCOVERY_EXPERIMENT_APP_DIRECTORY_LINK:200211,MSG_MENU_OPEN:200213,PFP_ACTION:200214,APP_INDEX_OPEN:200215,APP_INDEX_LINK_CLICK:200216,APP_INDEX_RESULT_CLICKED:200217,APP_INDEX_SEARCH:200218,APP_SPACE_ABOUT_OPEN:200219,APP_SPACE_ABOUT_CLICKED:200220,APP_INDEX_VIEW_APP_DIRECTORY_CLICK:200221,APP_INDEX_MANAGE_CLICK:200222,APP_INDEX_INSTALL_CLICK:200223,APP_INDEX_VIEW_CLICK:200224,APP_PROFILE_OPEN:200225,APP_TUTORIAL_VIEW:200226,APP_SPACE_ABOUT_SLASH_COMMAND_CLICK:200227,APP_PROFILE_SLASH_COMMAND_CLICK:200228,APP_DIALOG_CANCELLED:200233,APP_DIALOG_OPENED:200234,APP_DIALOG_SUBMITTED:200235,APP_DIALOG_OPEN_ATTEMPTED:200236,INSTALL_APPS_LINK_APP_BROWSER_CLICK:200245,INSTALL_APPS_LINK_ESSENTIAL_APPS_CLICK:200246,INSTALL_APPS_LINK_APP_DIRECTORY_CLICK:200247,PLATFORM_APP_REDIRECT:200400,APP_ACTION_DIALOG_OPENED:200251,APP_ACTION_DIALOG_FOOTER_LINK:200250,APP_ACTION_TRIGGERED:200253,MSG_ACTION:200254,USER_APP_DISABLE_SPEED_BUMP_ACTION:200252,PLATFORM:3e5,HELP_SLACKBOT_KEYWORDS:300001,HELP_SLACKBOT_ZD_HIT:300002,WEBSITE_CLICK:300003,WEBSITE_SCROLL:300004,BANNER_ACTION:300005,GROWTH_HELP_SLACKBOT_V2:300006,UPGRDEXP_ASK_TO_BUY:300007,UPGRDEXP_CHECKOUT:300008,UPGRADEXP_TEAM_ANALYTICS:300009,UPGRDEXP_LIMIT_METER:300010,UPGRDEXP_LIMIT_APPSPACE:300011,UPGRDEXP_MSG_LIM_ACTIVATION_BANNER:300012,UPGRDEXP_PROMO_CODES:300013,UPGRDEXP_CREDIT_HEADER:300014,TRIGGER_LIVE_CHAT_ERROR:300015,GROWTH_CREATE_TEAM_DENIED:300016,UPGRDEXP_CHAT_CHECKOUT:300017,UPGRDEXP_SMALL_FEAT_LIST:300018,UPGRDEXP_FREE_TRIAL_FOR_SC:300019,UPGRDEXP_EXPIRING_CREDIT_HEADER:300020,UPGRDEXP_ADMIN_BILLING:300021,UPGRDEXP_ENFORCE_FILE_LIMITS:300022,UPGRDEXP_FREE_TRIAL_IN_PROD:300023,UPGRDEXP_PROMPT_TO_EXPAND:300024,UPGRDEXP_PLANS_IN_TEAM_NAV:300025,UPGRDEXP_CHECKOUT_EMPHASIZE_TOTAL_COST:300026,UPGRDEXP_DRIFT_ON_PLANS:300027,PRICINGPAGE_STANDARD_PLAN:300028,WEBSITE_IMPRESSION:300050,WEBSITE_SUBMISSION:300051,INVITEMODAL_ACTION:300101,WHATSNEW_ACTION:300102,INVITEMODALV2_ACTION:300103,QUICKSWITCHER_ACTION:300104,HISTORY_NAV_ACTION:300105,HELP_MODAL_ACTION:300201,HELP_MODAL_SEARCH:300202,HELP_MODAL_ZD_HIT:300203,HELP_CENTER_VOTE:300204,HELP_CENTER_FEEDBACK:300205,HELP_CENTER_ACTION:300206,HELP_CENTER_IMPRESSION:300207,HELP_CENTER_BANNER:300208,HELP_CENTER_CLICK:300209,GROWTH_CREATE_TEAM:300301,GROWTH_CREATE_TEAM_SEND_INVITES:300302,GROWTH_CREATE_TEAM_INFO:300303,GROWTH_LOGGED_OUT:300304,GROWTH_NOTIFICATIONS:300305,GROWTH_INVITES:300306,GROWTH_CHANNEL_VIEW:300307,GROWTH_TUTORIAL:300308,GROWTH_CHANNEL_LIST:300309,GROWTH_SETTINGS:300310,GROWTH_CHANNEL_INFO:300311,GROWTH_SIGN_IN:300312,GROWTH_JOIN_TEAM:300313,GROWTH_FIND_YOUR_TEAM:300314,PROMO_CAMPAIGN:300315,GROWTH_ONBOARDING:300401,TRK_LINK:300501,SURVEY_BEGIN_INVITE_SENT:300601,SURVEY_TAKE:300602,LEAD_EMAIL_OPEN:300701,BRANCH_LOGIN:300801,INVITE_DIRECT:300901,INVITE_DOMAIN_GET:300902,INVITE_DOMAIN_SEND:300903,INVITE_SHARED_GET:300904,INVITE_SHARED_SEND:300905,INVITE_CLICKED:300906,INVITE_SHARED_CLICK:300907,INAPP_INVITES:300908,ANALYTICS_ERROR:301001,ANALYTICS_EVENT:301002,GROWTH_CHECK_EMAIL:301101,GROWTH_INVALID_EMAIL:301102,MOBILE_ATTRIBUTION:301200,GROWTH_REFERRAL:301300,CUSTACQ_EXP_DRIFT:301400,GROWTH_PRICING:301500,ADMIN_SITE_LIST_ACTION:301600,ADMIN_SITE_INVITES_ACTION:301601,ADMIN_SITE_LIST_PERF_SHOW:301602,ADMIN_SITE_INVITES_PERF_SHOW:301603,SHARED_CHANNELS_CREATE_NEW_MODAL_ACTION:301700,SHARED_CHANNELS_SHARE_EXISTING_MODAL_ACTION:301701,SHARED_CHANNELS_REVIEW_INVITE_MODAL_ACTION:301702,SHARED_CHANNELS_NONADMIN_ACTION:301703,SHARED_CHANNELS_SLACKBOT_ADMIN_ACTION:301704,SHARED_CHANNELS_SLACKBOT_RECEIVE_INVITE_NONADMIN:301705,SHARED_CHANNELS_SLACKBOT_RECEIVE_INVITE_UPSELL:301706,SHARED_CHANNELS_INVITE_SENT_SUCCESS:301707,SHARED_CHANNELS_INVITE_SENT_ERROR:301708,SHARED_CHANNELS_INVITE_ACCEPTED:301709,SHARED_CHANNELS_CREATE_NEW_MODAL_OPEN:301710,SHARED_CHANNELS_SHARE_EXISTING_MODAL_OPEN:301711,SHARED_CHANNELS_STOP_SHARING_MODAL_OPEN:301712,SHARED_CHANNELS_STOP_SHARING_ACTION:301713,SHARED_CHANNELS_MANAGE_MODAL_OPEN:301714,SHARED_CHANNELS_MANAGE_MODAL_ACTION:301715,HANDLEBARS_TEMPLATE_LOGS:37e4,SMARTY_TEMPLATE_LOGS:38e4,REACT_COMPONENT_LOGS:39e4,LAUNCH_SLACK:399999,GROWTH:4e5,CALLS_START_VOICE_BUTTON_CLICKED:400001,CALLS_START_VIDEO_BUTTON_CLICKED:400002,CALLS_MUTE_BUTTON_CLICKED:400003,CALLS_ENABLE_VIDEO_BUTTON_CLICKED:400004,CALLS_ENABLE_SCREEN_SHARE_BUTTON_CLICKED:400005,CALLS_POOR_CONNECTION_WARNING_SHOWN:400006,CALLS_WEBGL_RECOVERY:400007,CALLS_ENABLE_INTERACTIVE_SCREEN_SHARE_BUTTON_CLICKED:400008,CALLS_ALL_STREAMS_DISCONNECTED:400009,CALLS_STREAM_DISCONNECTED_TIMEOUT:400010,CALLS_STREAM_ESTABLISHMENT_TIMEOUT:400011,CALLS_SCREEN_SHARE_NOT_SENDING:400012,CALLS_STREAM_DISCONNECTED:400013,CALLS_STREAM_FAILED:400014,CALLS_AUDIO_INPUT_WARNING:400015,CALLS_STARTED_RECONNECTION:400016,CALLS_RECONNECTION_ON_JANUS_ERROR:400017,CALLS_TERMINAL_ERROR:400018,CALLS_GET_USER_MEDIA_ERROR_MIC:400019,CALLS_GET_USER_MEDIA_ERROR_CAMERA:400020,CALLS_GET_USER_MEDIA_ERROR_SCREEN:400021,CALLS_WRITE_CLIPBOARD_DATA:400022,CALLS_REGION_REQUEST_ERROR:400023,CALLS_CAMERA_NOT_SENDING:400024,CALLS_IDLE:400025,CALLS_START_CALL:400026,CALLS_GET_REGIONS:400027,CALLS_GET_SERVER:400028,CALLS_INITIALIZE_JANUS:400029,CALLS_JOIN_ROOM:400030,CALLS_IN_ROOM:400031,CALLS_DISCONNECT_JANUS:400032,CALLS_DISCONNECT_FOR_RECONNECT_JANUS:400033,CALLS_RECONNECT:400034,CALLS_TERMINAL:400035,CALLS_GET_SERVER_ERROR:400036,CALLS_RECONNECTION_INFO:400037,UPGRDEXP_CALLS_PROMPT:400038,CALLS_USER_JOIN_INTENT:400039,CALLS_PUBLISHER_CONNECTED:400040,CALLS_SENDING_P2P_OFFER:400041,CALLS_SWITCH_FROM_SFU_TO_P2P:400042,CALLS_OUTPUT_DEVICE_AUTHORIZED:400043,CALLS_UNPROMPTED_DEVICE_ENUMERATION_COMPLETE:400044,CALLS:5e5,EMAIL_SEND:500001,EMAIL_OPEN:500002,EMAIL_CLICK:500003,EMAIL_BOUNCE:500004,EMAIL_UNSUBSCRIBE:500005,EMAILS:6e5,SYSTEM_CDS_ACCESS:600001,SYSTEM_CDS_FAILURE:600002,SYSTEM:7e5,SEARCH_OPEN:700001,SEARCH_CLOSE:700002,SEARCH_CLICK:700003,SEARCH_FEEDBACK:700004,SEARCH_AUTOCOMPLETE_ACCEPT:700005,SEARCH_AUTOCOMPLETE:700006,SEARCH_AUTOCOMPLETE_REJECT:700007,SEARCH_QUERY_SESSION:700008,SEARCH_REFINEMENT_ACCEPT:700009,SEARCH:8e5,LOGIN_SUCCESS:800001,LOGIN_FAILURE:800002,LOGIN:9e5,USERPROFILE_SET:900001,USERPROFILE:1e6,DISPLAY_INFO:1000001,SYSTEM_LOCALE:1000002,DESKTOP_HANG:1000003,DESKTOP_CRASH:1000004,DESKTOP_SCRIPTS_MISSING:1000005,DESKTOP_NOTIFICATION_RECEIVED:1000010,DESKTOP_NOTIFICATION_SUCCESS:1000011,DESKTOP_NOTIFICATION_ERROR:1000012,DESKTOP_NOTIFICATION_CLICK:1000013,DESKTOP_NOTIFICATION_REPLY:1000014,DESKTOP_NOTIFICATION_DISMISSED:1000015,DESKTOP_NOTIFICATION_FAILOVER:1000016,DESKTOP_UPDATER_ERROR:1000050,DESKTOP_UPDATER_CHECKING:1000051,DESKTOP_UPDATER_UPDATE_AVAILABLE:1000052,DESKTOP_UPDATER_UPDATE_NOT_AVAILABLE:1000053,DESKTOP_UPDATER_UPDATE_DOWNLOADED:1000054,DESKTOP_UPDATER_CHECK_UPDATE_FAILURE:1000055,DESKTOP:11e5,PUSH_SENT:1100001,PUSH_RECEIVED:1100002,PUSH_DISMISSED:1100003,PUSH_CLICK:1100004,PUSH_CLICK_BUTTON:1100005,PUSH_REPLY:1100006,PUSH_UNSUBSCRIBE:1100007,PUSH_EXPAND:1100008,PUSH_DIAGNOSTIC:1100009,PUSH:12e5,ENTERPRISE_DISCOVER_WORKSPACES:1200001,ENTERPRISE_ANALYTICS:1200002,ENTERPRISE:13e5,PREF_USER_ORG_FRECENCY_SHRINKAGE:1400001,PREF_USER_TEAM_FRECENCY_SHRINKAGE:1400002,PREF_USER:14e5};var i={UNKNOWN:0,USER_DEFINED:1,IN_A_MEETING:2,COMMUTING:3,OUT_SICK:4,VACATIONING:5,WORKING_REMOTELY:6,ADMIN_PRESET:10};var o={UNKNOWN:0,TEAM_MENU:1,FLEXPANE_PROFILE:2,EDIT_PROFILE:3,MOBILE:4,SLASH_COMMAND:5};var s={UNKNOWN:0,ADMIN_PRESET_1:1,ADMIN_PRESET_2:2,ADMIN_PRESET_3:3,ADMIN_PRESET_4:4,ADMIN_PRESET_5:5};var c={UNKNOWN:0,OTHER:1,OPEN_IN_CHANNEL:2,CLICK_CHANNEL_NAME:3};var l={UNKNOWN:0,CLICK_FOLLOW:1,MENTION:2,REPLY:3,ROOT_MSG_AUTHOR:4};var u={UNKNOWN:0,CLICK_UNFOLLOW:1,PREEMPTIVE_REMOVE:2};var p={UNKNOWN:0,GSUITE:1};var f={WINRT_NODERT:0,WINRT_ELECTRON:1,HTML:2,HWND_ELECTRON:3,MACOS_ELECTRON:4,LINUX_ELECTRON:5};var d={UNKNOWN:0,COMPLETED:1,TIMED_OUT:2,ABANDONED:3};var v={UNKNOWN:0,COLD:1,WARM:2};var h={UNKNOWN:0,APP_ICON:1,NOTIFICATION:2,DEEP_LINK:3,SHARE:4,UNSPECIFIED:5,MSG_PANE:6,SIDE_BAR:7,QUICK_SWITCH:8};var m={UNKNOWN:0,ENTIRE_SESSION:1};var b={UNKNOWN:0,ALL_THREADS:1,THREAD:2,CHANNEL:3};var _={UNKNOWN:0,ALPHA:1,BETA:2,DOGFOOD:3,PRODUCTION:4};var g={UNKNOWN:0,MENTION:1,BADGE:2,CALL:3,INFO:4,CONTENT_AVAILABLE:5};var y={UNKNOWN:0,PAGE_HELP_CONTACT:96,PAGE_HELP_DELETE_PROFILE:248,PAGE_HOME:97,PAGE_PRESS:100,PAGE_DOWNLOADS:101,PAGE_DOWNLOADS_INSTRUCTIONS:102,PAGE_DOWNLOADS_BETA:171,PAGE_LEGAL:103,PAGE_LEGAL_SUBPAGE:104,PAGE_LEGAL_ARCHIVES:105,PAGE_SECURITY:106,PAGE_EVENTS:107,PAGE_ENTERPRISE:108,PAGE_ABOUT:109,PAGE_FEATURES:110,PAGE_FEATURES_COMMUNICATION:111,PAGE_FEATURES_INFORMATION:112,PAGE_FEATURES_WORKFLOW:113,PAGE_MARKETING:114,PAGE_ENGINEERING:115,PAGE_CAREERS:121,PAGE_CAREERS_DETAIL:122,PAGE_BRAND_GUIDELINES:124,PAGE_CUSTOMER_STORIES:133,PAGE_CUSTOMER_STORIES_DETAIL:134,PAGE_RELEASE_NOTES:136,PAGE_SERVICENOW:142,PAGE_PARTNERS:153,PAGE_REFERRAL:154,PAGE_GARTNER_SWOT:198,PAGE_SALES:203,PAGE_RESOURCES_SALES_PLAYBOOK_DOWNLOAD:208,PAGE_RESOURCES_MARKETING_PLAYBOOK_DOWNLOAD:209,PAGE_RESOURCES_SOFTWARE_DEVELOPMENT_PLAYBOOK_DOWNLOAD:210,PAGE_RESOURCES:211,PAGE_RESOURCES_MARKETING_AUTOMATION_EBOOK:212,PAGE_RESOURCES_MARKETING_AUTOMATION_EBOOK_THANKS:213,PAGE_LP_MARKETING_AUTOMATION_EBOOK_DOWNLOAD:247,PAGE_INTERNAL_INTEGRATIONS:229,PAGE_INTERNAL_INTEGRATIONS_CONTACT:238,PAGE_INTERNAL_INTEGRATIONS_CONTACT_SUBMIT:240,PAGE_INTERNAL_INTEGRATIONS_CONTACT_THANKS:239,PAGE_APPS_CATEGORY_SALES:230,PAGE_APPS_CATEGORY_MARKETING:241,PAGE_APPS_CATEGORY_ESSENTIAL_APPS:242,PAGE_SOLUTIONS_IT:249,PAGE_SOLUTIONS_CUSTOMER_SUPPORT:250,PAGE_SOLUTIONS_ENGINEERING:251,INC_FOOTER_NAV:98,INC_HEADER_NAV:99,INC_MOBILE_NAV:116,INC_WORKSPACE_NAV:117,INC_CTA_SIGNUP:118,INC_SKIP_LINK:119,INC_PANEL:120,INC_CARD:123,INC_CTA_FOOTER:135,INC_COOKIE_BANNER:139,INC_ANNOUNCEMENT_BANNER:140,WELCOME:1,CHANNELS:2,PLATFORM:3,DIRECT_MESSAGES:4,GETTING_STARTED:5,EMAIL:6,CONFIRM_EMAIL:7,TEAM_NAME:8,TEAM_URL:9,USER_NAME:10,NOTIFICATIONS:11,NOTIFICATIONS_REQUEST:12,INVITES:13,CONTACT_REQUEST:14,CONTACT_LIST:15,CHANNEL_ICON:16,PASSWORD_LINK_OPTION:17,PASSWORD:18,FORGET_DOMAIN:19,FORGET_DOMAIN_EMAIL_SENT:20,MAGIC_LINK_EMAIL_SENT:21,PASSWORD_RESET:22,PASSWORD_RESET_EMAIL_SENT:23,FINISHED:144,TASK1:145,TASK2:146,TASK3:147,TASK1_1:148,TASK2_1:149,TASK3_1:150,CLOSE_MENU:152,PENDING_INVITES:162,WHITELISTED:156,NOT_WHITELISTED:157,ADD_TEAMS:158,EMAIL_DETAILS:159,SSO_PAGE:160,ENTERPRISE_SIGNIN:161,API_DOCS:24,APPS_ADMIN:51,APPS_EMAIL:25,APPS_MANAGE:26,HOME:27,HOME_FREE:252,HOME_TRIAL:253,HOMEPAGE:55,HOMEPAGE_FOOTER:28,HOMEPAGE_NONPROFIT:29,HOMEPAGE_SCREENHERO:30,HOMEPAGE_PRODUCT:31,HOMEPAGE_TOS:32,HOMEPAGE_TRIAL:53,HOMEPAGE_RESULTS:93,HOMEPAGE_AD:94,ADMIN_HOME:33,ADMIN_USER_GROUPS:34,ADMIN_AUTH:35,ADMIN_INVITES:66,ADMIN_BILLING:36,ADMIN_BILLING_HISTORY:37,ADMIN_BILLING_PAYMENT_METHODS:197,ADMIN_FOOTER:95,ADMIN_MENU:195,ADMIN_RESTRICTED:52,ADMIN_SETTINGS:38,ADMIN_SETTINGS_MSG_RETENTION:49,ADMIN_SETTINGS_FILE_RETENTION:50,ADMIN_STATS:39,ACCOUNT_TEAM:40,ARCHIVES:41,HISTORY:42,SEARCH_PANE:43,FILE:44,FILES:45,FILE_PANE:46,FILE_EMAIL:47,FILE_UPLOAD:70,SLACKBOT:48,SLACKBOT_SCREENHERO:196,OAUTH:54,PRICING_PAGE:57,SHARE_LINK:58,INVITE_PEOPLE:59,DEACTIVATE_LINK:60,SLACK_MENU:61,CREATE_LINK:62,BANNER_APPROACHING_MSG_LIMIT:63,BANNER_JUST_REACHED_MSG_LIMIT:64,BANNER_LONG_REACHED_MSG_LIMIT:65,BANNER_AFTER_SIXTY_DAYS_MSG_LIMIT:138,BANNER_ACTIVATION_MSG_LIMIT:143,BANNER_SHARED_CHANNELS_TRIAL_ONE_WEEK_REMINDER:167,BANNER_SHARED_CHANNELS_TRIAL_TWO_WEEK_REMINDER:168,BANNER_TRIAL:205,BANNER_TRIAL_WITH_EMAIL:206,BANNER_TRIAL_REMINDER:207,INVITE_NUDGE:77,TEAM_DIRECTORY:86,CE_EMAIL:141,EXTERNAL_FILES_LIMIT:172,EMAIL_CREDITS_EXPIRE:177,EMAIL_CREDITS_EXPIRE_NEW:178,EMAIL_TRIAL_EXPIRY:187,EMAIL_TRIAL_EXPIRY_NEW:188,EMAIL_TRIAL_THREE_DAY_REMINDER:189,EMAIL_TRIAL_THREE_DAY_REMINDER_NEW:190,LIMIT_METER:199,EMAIL_CARD_DEFAULT_PAYMENT_METHOD:176,EMAIL_BILLING_CARD_BECAME_DEFAULT:179,EMAIL_BILLING_CYCLE_FAILED:180,EMAIL_BILLING_CYCLE_RENEWED:181,EMAIL_BILLING_MEMBERS_REMOVED:182,EMAIL_BILLING_PENDING_EXPIRY:183,EMAIL_BILLING_PENDING_RENEWAL:184,EMAIL_DUNNING_CC_STEP_ONE:185,EMAIL_LIMITS_SOON:186,ADMIN_BILLING_OVERVIEW:191,INC_EMAIL_DUNNING_BILLING_INFO:192,ADMIN_BILLING_FAIL:193,TEAM_STATS_OVERVIEW_MESSAGES_SENT_COACHMARK:87,TEAM_STATS_OVERVIEW_FILE_STORAGE_COACHMARK:88,TEAM_STATS_OVERVIEW_APPS_INSTALLED_COACHMARK:89,TEAM_STATS_OVERVIEW:90,TEAM_STATS_CHANNELS:91,TEAM_STATS_MEMBERS:92,PRICING_PAGE_LOGGED_OUT:67,PRICING_PAGE_LOGGED_IN_FREE:68,PRICING_PAGE_LOGGED_IN_PAID:69,PRICING_PAGE_LOGGED_IN_TRIAL:243,PRICING_PAGE_BANNER_MESSAGE_ARCHIVE:78,PRICING_PAGE_BANNER_GUEST_ACCOUNT:79,PRICING_PAGE_BANNER_APPS:80,PRICING_PAGE_BANNER_FILES:81,FREE_PAGE_LOGGED_OUT:130,FREE_PAGE_LOGGED_IN_FREE:131,FREE_PAGE_LOGGED_IN_PAID:132,STANDARD_PAGE_LOGGED_OUT:71,STANDARD_PAGE_LOGGED_IN_FREE:72,STANDARD_PAGE_LOGGED_IN_PAID:73,STANDARD_PAGE_LOGGED_IN_TRIAL:237,HEADER:231,APPS:232,MORE_FEATURES:233,PLANS:234,FAQ:235,FOOTER:236,STICKY_HEADER:256,MIDPAGE_CTA:257,PLUS_PAGE_LOGGED_OUT:74,PLUS_PAGE_LOGGED_IN_FREE:75,PLUS_PAGE_LOGGED_IN_PAID:76,PLUS_PAGE_LOGGED_IN:194,PLUS_PAGE_LOGGED_IN_TRIAL:244,TOUR_PAGE_LOGGED_OUT:83,TOUR_PAGE_LOGGED_IN_FREE:84,TOUR_PAGE_LOGGED_IN_PAID:85,PAGE_COMPOSE:125,PAGE_DENY:126,PAGE_SUCCESS:127,DM_SENT_TO_PRIMARY_OWNER:129,APPS_BROWSER:137,CODE_APPLIED:151,SLACKBOT_DM_SENT:173,SHARED_CHANNELS_INVITATION_MODAL:166,SLACKBOT_INVITATION:169,TRIAL_OVER:170,BANNER_APPROACHING_FILE_LIMIT:200,OVER_FILE_LIMIT_MODAL:201,OVER_FILE_LIMIT_SLACKBOT_MSG:204,TEAM_NAV_PLANS_MENU:222,DRIFT_TEAM_IS_ELIGIBLE:223,DRIFT_START_CONVERSATION:224,SCREEN_SHARING_UPGRADE_PROMPT:245,GROUP_CALLS_UPGRADE_PROMPT:246,CHECKOUT_STEP_1:155,CHECKOUT_STEP_2:128,CHECKOUT_SELECTPLAN:163,CHECKOUT_COMPANYINFO:164,CHECKOUT_PAYMENT:165,CHECKOUT_PURCHASE:202,SIDEBAR_JUMPER_BUTTON_SHOW:174,SIDEBAR_JUMPER_BUTTON_HIDE:175,EMOJI_UPDATE_OVERLAY_SHOW:220,EMOJI_UPDATE_OVERLAY_HIDE:221,HC_PAGE_HOME:214,HC_PAGE_CATEGORY:215,HC_PAGE_SECTION:216,HC_PAGE_ARTICLE:217,HC_PAGE_ERROR:218,HC_PAGE_SEARCH:219,GRID_WELCOME_SCREEN:226,GRID_SEARCH_COLLEAGUE_SCREEN:227,GRID_SEARCH_RESULTS_SCREEN:228,MORE_ACTIONS_MENU:260,MESSAGE_ACTION_DIALOG:261,PAGE_API:254,PAGE_API_ACTIONS:255};var O={UNKNOWN:0,IMPRESSION:1,NEXT:2,BACK:3,CLICK:36,CAROUSEL_NEXT:4,CAROUSEL_BACK:5,SWIPE_LEFT:6,SWIPE_RIGHT:7,YES:8,EDIT:9,ENABLE:10,SKIP:11,ALLOW:12,DO_NOT_ALLOW:13,SEND:14,EXIT_VIEW:15,SEARCH:16,ADD:17,REMOVE:18,SETTINGS:19,OK:20,CLOSE:21,INVITE:22,INVITE_PEOPLE:23,CONTACTS:24,CREATE_TEAM:25,SIGN_IN:26,ENTER_EMAIL:27,GOOGLE_ACCOUNTS:28,LEARN_MORE:29,TEAM_ICON:30,CHANNEL_INFO:31,CHANNEL_SELECT:32,FORGET_DOMAIN:33,PASSWORD:34,MAGIC_LINK:35,SELECT:37,TEST:38,HOVER:39,SORT:40,COMPLETE:41,EXPAND:42,COLLAPSE:43,DECLINE:44,CHECK:45,UNCHECK:46,INVITE_SENT:47,TRIAL_OVER:48,TOGGLE:49,ENTER:55,KEYDOWN:56,LOCALE_SELECT:50,UP_VOTE:51,DOWN_VOTE:52,SUBMIT_FEEDBACK:53,DRIFT_CHAT_ELIGIBLE:57,DRIFT_CHAT_START:58};var E={UNKNOWN:0,NONE:1,EMPTY_RESULTS:2,FAIL:3,ON:4,OFF:5,SUCCESS:6};var j={UNKNOWN:0,LINK_SIGN_IN_HERO:127,FORM_SUBMIT:128,LINK_PRIVACY_POLICY:129,LINK_CUSTOMER_STORIES_LOGOWALL:130,TRIGGER_DROPZONE_FILE_SELECT:131,TRIGGER_LIVE_CHAT:132,LINK_PHONE_SUPPORT:133,LINK_HELP_CENTER:145,LINK_HELPCENTER_TIPS:222,LINK_HELPCENTER_SLA:275,LINK_HELPCENTER_SSO:276,LINK_HELPCENTER_EXPORTS:277,LINK_HELPCENTER_RETENTION:278,LINK_EVENT_REGISTER_HERO:223,LINK_FEEDBACK:224,LINK_WATCH_PLAYLIST:225,LINK_FRONTIERS:462,LINK_HOME:134,LINK_CAREERS:135,LINK_ABOUT_US:136,LINK_BLOG:137,LINK_PRESS:138,LINK_FEATURES:139,LINK_ENTERPRISE:140,LINK_CUSTOMERS:141,LINK_PRICING:142,LINK_SECURITY:143,LINK_DOWNLOADS:144,BTN_WORKSPACES:329,BTN_MENU:330,BTN_PLANS:424,TEAM_NAV_PLANS_MENU:425,LINK_GUIDES:146,LINK_EVENTS:147,LINK_DEVELOPERS:148,LINK_APP_DIRECTORY:149,LINK_PARTNERS:150,LINK_PODCAST:151,LINK_SHOP:152,LINK_SLACK_AT_WORK:153,LINK_SLACK_FUND:154,LINK_STATUS:155,LINK_LEGAL:156,LINK_SOCIAL_TWITTER:157,LINK_SOCIAL_YOUTUBE:158,LINK_SIGN_IN_NAV:159,LINK_SIGN_UP_NAV:160,LINK_SOCIAL_FACEBOOK:161,LINK_SOCIAL_LINKEDIN:162,LINK_HELP_CONTACT:196,LINK_RESOURCES_EBOOK:426,LINK_EXTERNAL:443,BTN_MODAL_CLOSE:197,LINK_DOWNLOADS_OSX:163,LINK_DOWNLOADS_WINDOWS:164,LINK_DOWNLOADS_LINUX:165,LINK_DOWNLOADS_IOS:166,LINK_DOWNLOADS_ANDROID:167,LINK_DOWNLOADS_WINPHONE:168,LINK_DOWNLOADS_IOS_BETA:357,LINK_DOWNLOADS_WINDOWS_BETA:358,LINK_DOWNLOADS_OSX_BETA:359,LINK_DOWNLOADS_ANDROID_BETA:360,LINK_DOWNLOADS_WHATSNEW:169,LINK_DOWNLOADS_BETA:170,BTN_DOWNLOADS_SEND_SMS:171,BTN_DOWNLOADS_SEND_EMAIL:172,BTN_DOWNLOADS_BETA_SIGNUP:361,BTN_DOWNLOADS_UBUNTU_DDL:173,BTN_DOWNLOADS_FEDORA_DDL:174,BTN_DOWNLOADS_SNAPS_STORE:500,BTN_DOWNLOADS_WINDOWS_DDL_32:175,BTN_DOWNLOADS_WINDOWS_DDL_64:176,BTN_DOWNLOADS_OSX_DDL:177,BTN_DOWNLOADS_WINDOWS_STORE:178,BTN_DOWNLOADS_OSX_STORE:179,BTN_DOWNLOADS_IOS_STORE:180,BTN_DOWNLOADS_ANDROID_STORE:181,BTN_DOWNLOADS_WINPHONE_STORE:182,LINK_DOWNLOADS_IOS_STORE:183,LINK_DOWNLOADS_ANDROID_STORE:184,LINK_DOWNLOADS_WINPHONE_STORE:185,LINK_DOWNLOADS_DDL:186,LINK_DOWNLOADS_INSTRUCTIONS_LINUX:187,LINK_DOWNLOADS_INSTRUCTIONS_DEBIAN:188,LINK_DOWNLOADS_INSTRUCTIONS_FEDORA:189,LINK_DOWNLOADS_INSTRUCTIONS_WINDOWS:190,LINK_DOWNLOADS_INSTRUCTIONS_OSX:191,LINK_DOWNLOADS_HELP_CENTER:192,LINK_DOWNLOADS_WINDOWS_DDL_32:193,LINK_DOWNLOADS_WINDOWS_DDL_64:194,LINK_DOWNLOADS_BETA_HELP:195,LINK_LEGAL_TOS:198,LINK_LEGAL_TOS_USER:199,LINK_LEGAL_TOS_INDUSTRY:200,LINK_LEGAL_TOS_API:201,LINK_LEGAL_TOS_APP:202,LINK_LEGAL_PRIVACY:203,LINK_LEGAL_PRIVACY_SHIELD:204,LINK_LEGAL_ACCEPTABLE_USE:205,LINK_LEGAL_DATA_REQUEST:206,LINK_LEGAL_SUBPROCESSORS:207,LINK_LEGAL_TRANSPARENCY_REPORT:208,LINK_LEGAL_DMCA:209,LINK_LEGAL_SECURITY:210,LINK_LEGAL_VULNERABILITY:211,LINK_LEGAL_ARCHIVES:212,LINK_LEGAL_GDPR:287,LINK_LEGAL_DPA:288,LINK_LEGAL_PARTNERS:332,BTN_LEGAL_NAVIGATION_MOBILE:213,BTN_LEGAL_NAVIGATION_TERMS_MOBILE:214,BTN_LEGAL_NAVIGATION_POLICIES_MOBILE:215,BTN_LEGAL_NAVIGATION_SECURITY_MOBILE:216,BTN_LEGAL_NAVIGATION_ARCHIVES_MOBILE:217,LINK_RELEASE_NOTES_IOS:280,LINK_RELEASE_NOTES_ANDROID:281,LINK_RELEASE_NOTES_WINPHONE:282,LINK_RELEASE_NOTES_OSX:283,LINK_RELEASE_NOTES_WINDOWS:284,LINK_RELEASE_NOTES_LINUX:285,LINK_RELEASE_NOTES_OSXBETA:427,LINK_RELEASE_NOTES_WINDOWSBETA:428,LINK_SECURITY_SOC3_REPORT:218,LINK_SECURITY_WHITEPAPER:219,LINK_SECURITY_CSO:220,LINK_SECURITY_ISO_27001:367,LINK_SECURITY_ISO_27018:368,LINK_SECURITY_OVERVIEW:463,LINK_GARTNER_REPORT:364,LINK_GARTNER_CONTACT_US:365,LINK_WEBINAR_SLACK_FOR_SALES:429,LINK_WEBINAR_SLACK_FOR_MARKETING:446,LINK_WEBINAR_SLACK_APPS_INTEGRATIONS:447,LINK_DEV_CONF:448,LINK_APPS_FOR_SALES:388,LINK_HELP_CENTER_GUIDES:389,LINK_USING_INTERCOM_SLACK:390,LINK_SLACK_CERTIFICATION:391,LINK_APPS_FOR_MARKETERS:392,LINK_DEVELOPER_TOOLS:393,LINK_CUSTOMER_STORY_SHOPIFY:394,LINK_SLACK_SESSIONS:395,LINK_OTHER_HANDBOOKS:396,BTN_GET_BOOK:397,LINK_RESOURCES_PLAYBOOK_SALES_DOWNLOAD:398,LINK_RESOURCES_PLAYBOOK_SALES_DOWNLOAD_IMG:415,LINK_RESOURCES_PLAYBOOK_MARKETING_DOWNLOAD:399,LINK_RESOURCES_PLAYBOOK_MARKETING_DOWNLOAD_IMG:416,LINK_RESOURCES_PLAYBOOK_SOFTWARE_DEVELOPMENT_DOWNLOAD:400,LINK_RESOURCES_PLAYBOOK_SOFTWARE_DEVELOPMENT_DOWNLOAD_IMG:417,BTN_EBOOK_SIGNUP:401,LINK_RESOURCES_CUSTOMER_PLAYBOOK_DOWNLOAD:451,LINK_RESOURCES_IDC_REPORT_DOWNLOAD:452,LINK_APPS_ENTERPRISE:226,LINK_CONTACT_ENTERPRISE:227,LINK_CUSTOMER_STORY:228,LINK_GARTNER_SWOT_LP:366,LINK_INTERNAL_INTEGRATIONS_CONTACT:444,LINK_INTERNAL_INTEGRATIONS:445,LINK_FEATURES_COMMUNICATION:229,LINK_FEATURES_INFORMATION:230,LINK_FEATURES_WORKFLOW:231,LINK_SOLUTIONS_MARKETING:232,LINK_SOLUTIONS_ENGINEERING:233,LINK_APPS_ENGINEERING:234,TAB_COLLABORATION:235,TAB_CI:236,TAB_MONITORING:237,TAB_PROJECTMGMT:238,LINK_APPS_MARKETING:239,TAB_PERFORMANCE:240,TAB_SOCIAL:241,TAB_EMAIL:242,LINK_APPS_SALES:370,SALES_TAB_ONE:371,SALES_TAB_TWO:372,SALES_TAB_THREE:373,SLIDER_TAB_ONE:411,SLIDER_TAB_TWO:412,SLIDER_TAB_THREE:413,SLIDER_TAB_FOUR:414,LINK_SIGN_IN_CTA:243,BTN_FORM_SUBMIT:244,LINK_GET_APP:245,LINK_GET_STARTED:279,LINK_PANEL:246,BTN_CLOSE:247,BTN_BACK:248,LINK_WORKSPACE:249,LINK_CREATE:250,LINK_API:251,LINK_BRAND:252,LINK_SKIP:253,LINK_GARTNER_SWOT:363,LINK_CAREERS_OPENINGS:254,LINK_CAREERS_APPLY:255,BTN_FILTER_SEE_ALL:256,BTN_CAREERS_DETAIL_APPLY:257,LINK_CARD_MEDIA:258,LINK_CARD_CTA:259,LINK_LEGAL_COOKIE:286,LINK_LOCALE_TRIGGER:290,LINK_EMAIL_SUPPORT:221,LINK_OFFSITE_BRANDFOLDER:260,BTN_OFFSITE_BRANDFOLDER:261,MESSAGE_SEARCH_LINK_BOTTOM:1,MESSAGE_SEARCH_LINK_TOP:2,FILE_SEARCH_PRICING_LINK:3,PRICING_PLUS_LINK:4,BILLING_BUTTON:6,TRIAL_SUBMIT_BUTTON:7,STORAGE_LIMIT_PRICING_LINK:8,RETENTION_PRICING_LINK:9,CHECKOUT_BUTTON:10,CHECKOUT_PLUS_BUTTON:14,CHECKOUT_STANDARD_BUTTON:13,PRICING_BUTTON:11,ALERT_PRICING_LINK:12,BILLING_LINK:15,ALERT_NOTICE_PRICING_LINK:16,APPROACH_INT_LIMIT_PRICING_LINK:17,REACHED_INT_LIMIT_PRICING_LINK:18,APPROACH_INT_LIMIT_BILLING_LINK:19,REACHED_INT_LIMIT_BILLING_LINK:20,PRICING_PLUS_BUTTON:21,SHARE_INVITE_LINK_MODAL:22,SHARE_OR_GET_INVITE_LINK_TRIGGER:362,NOTIFICATION_PREFERENCE:369,INVITE_PEOPLE_MENU:23,INVITE_PEOPLE_BUTTON:24,COPY_BUTTON:25,DISABLE_LINK:26,EMAIL_INVITE_LINK:27,INVITE_LINK:28,CANCEL_BUTTON:29,DEACTIVATE_LINK_BUTTON:30,EXPIRATION_PERIOD_MENU:31,CREATE_INVITE_LINK_BUTTON:32,DM_MESSAGE_LIMIT_HEADER:33,CHANNEL_MESSAGE_LIMIT_HEADER:34,SLACKBOT_MESSAGE_LIMIT_HEADER:35,CONTACTS_TILE:36,INVITE_GOOGLE_CONTACTS_TILE:37,RECOMMEND_DESKTOP_NOTIFICATIONS_BANNER:38,ENABLE_DESKTOP_NOTIFICATIONS_BANNER:39,MAC_ELECTRON2_BANNER:40,MAC_SSB1_BANNER:41,WIN_SSB1_BANNER:42,MAC_SSB_OSX_DEPRECATED_BANNER:43,SSB_NEW_VERSION_AVAILABLE_BANNER:44,GENERIC_BANNER:45,SKIP_FOR_NOW_BUTTON:46,INVITE_MODAL_GUEST_ALERT:47,OUTSIDE_CLICK:56,EXIT_BUTTON:57,REMIND_ME_LATER_BUTTON:58,SHARE_INVITE_BTN:65,SHARE_TITLE:66,CREATE_INVITE_LINK_TILE:67,SHARE_BUTTON:68,ENABLE_CALLS:355,UPGRADE_ROW:464,LEARN_MORE_BTN:108,SKIP_THIS:109,MESSAGES_SENT_UPGRADE_LINK:110,FILE_STORAGE_UPGRADE_LINK:111,APPS_INSTALLED_UPGRADE_LINK:112,ALLTIME_USAGE_UPGRADE_LINK:113,MSG_FILES_CHART_LINK_BTN:114,SEE_PRICING_PLANS_BTN:115,MULTI_LIM_UPGRADE_LINK:116,CREATE_TEAM:48,UPGRADE_STANDARD:49,UPGRADE_PLUS:50,ENTERPRISE_CONTACT:51,ACCOUNTS_CONTACT:268,LEARN_MORE_FREE:52,LEARN_MORE_STANDARD:53,LEARN_MORE_PLUS:54,LEARN_MORE_ENTERPRISE:55,LINK_NONPROFIT:269,LINK_EDUCATION:270,TAB_TEAMS:272,TAB_ENTERPRISE:273,CREDIT_HEADER:331,GOOGLE_DRIVE:430,ZOOM:431,JIRA:432,SALESFORCE:433,UPGRADE_MYSELF_QUESTION:434,PAYMENT_OPTIONS_QUESTION:435,INACTIVE_USER_BILLING_QUESTION:436,USE_CREDITS_QUESTION:437,NEW_USER_BILLING_QUESTION:438,CANCEL_SUBSCRIPTION_QUESTION:439,LINK_HELP_CENTER_BILLING:440,BTN_BACK_TO_TOP:441,LINK_TO_SECTION:442,BTN_SEND_MESSAGE:262,BTN_DEEP_LINK:263,BTN_SHOW_ME:311,BTN_SEE_ALL_FEATURES:350,BTN_START_TRIAL_AND_ACCEPT:351,LINK_BETA_HELP_CENTER:352,LINK_CONTACT_HELP:353,CHECKBOX_CONFIRM_FREE_TRIAL:354,DOWNLOADS_LINK:59,ENTERPRISE_LINK:60,RESULTS_LINK:61,PRICING_LINK:5,CREATE_TEAM_BUTTON:63,FOOTER:291,FILE_STORAGE_LINK:117,APPS_INTEGRATIONS_LINK:118,ADMIN_SORT_BY:64,ADMIN_MEMBER_TYPE_TAB:69,ADMIN_ROW_TOGGLE:70,ADMIN_ACTION_ACTIVATE_MEMBER:71,ADMIN_ACTION_ACTIVATE_AS_GUEST:72,ADMIN_ACTION_DEACTIVATE:73,ADMIN_ACTION_DEMOTE_ADMIN_TO_MEMBER:74,ADMIN_ACTION_DEMOTE_OWNER_TO_ADMIN:75,ADMIN_ACTION_PROMOTE_GUEST_TO_MEMBER:76,ADMIN_ACTION_PROMOTE_MEMBER_TO_ADMIN:77,ADMIN_ACTION_PROMOTE_ADMIN_TO_OWNER:78,ADMIN_ACTION_DEMOTE_MEMBER_TO_GUEST:79,ADMIN_ACTION_PROMOTE_URA_TO_RA:80,ADMIN_ACTION_DEMOTE_RA_TO_URA:81,ADMIN_ACTION_TRANSFER_OWNERSHIP:82,ADMIN_ACTION_ACTIVATE_BOT:83,ADMIN_ACTION_CONFIGURE_BOT:84,ADMIN_ACTION_SEND_SSO_EMAIL:85,ADMIN_ACTION_DISABLE_2FA:86,ADMIN_ACTION_UPDATE_TIME_LIMIT:87,ADMIN_ACTION_CHOOSE_TIME_LIMIT_OPTION:88,ADMIN_ACTION_EDIT_FULL_NAME:89,ADMIN_ACTION_EDIT_USERNAME:90,ADMIN_ACTION_EDIT_EMAIL:91,ADMIN_ACTION_ADD_RA_TO_CHANNEL:92,ADMIN_ACTION_REMOVE_RA_FROM_CHANNEL:93,ADMIN_ACTION_ADD_URA_TO_CHANNEL:94,ADMIN_ACTION_EDIT_URA_CHANNEL:95,ADMIN_ACTION_SUCCESS_OK:96,ADMIN_ACTION_ERROR_TRY_AGAIN:97,ADMIN_SELECT_ALPHABETICAL_RANGE:98,ADMIN_LINK_MANAGE_TEAM_SETTINGS:99,ADMIN_LINK_TRANSFER_OWNERSHIP:100,ADMIN_LINK_INVITE_NEW_RA:101,ADMIN_LINK_INVITE_NEW_URA:102,ADMIN_BTN_DOWNLOAD_AS_CSV:103,ADMIN_BTN_INVITE_NEW_MEMBERS:104,ADMIN_BTN_CREATE_USER_GROUP:105,ADMIN_BTN_EDIT_USER_GROUPS:106,ADMIN_SEARCH:107,ADMIN_ACTION_EDIT_DISPLAYNAME:310,FILTER_LAST_30DAYS:119,FILTER_LAST_MONTH:120,FILTER_LAST_YEAR:121,FILTER_ALL_TIME:122,NOTING_BADGE:123,DATA_POINT:124,SEARCH_BAR:125,DROPDOWN_EDIT_COLUMNS:126,INVOICE_RADIO_BUTTON:264,CREDIT_CARD_RADIO_BUTTON:265,REVIEW_INVOICE_DETAILS_BUTTON:266,CONFIRM_INVOICE_CHECKOUT_BUTTON:267,BANNER_CTA_DISMISS:289,BANNER_CTA:356,BTN_UP_VOTE:402,BTN_DOWN_VOTE:403,BTN_SUBMIT_FEEDBACK:404,BTN_CONTACT_US:405,BTN_CREATE_WORKSPACE:406,LINK_BACK_TO_SLACK:407,LINK_HC_HOME:408,LINK_USING_SLACK:409,LINK_TEAM_ADMINISTRATION:410,LINK_GETTING_STARTED:456,LINK_PROFILE_PREFERENCES:457,LINK_ADD_TOOLS:458,LINK_TIPS_TRICKS:459,FIELD_SEARCH_INPUT:418,LINK_QUICKJUMP_SECTION:420,LINK_QUICKJUMP_ARTICLE:421,LINK_QUICKJUMP_CATEGORY:461,LINK_WEB_SLACK:423,LINK_HC_CATEGORY:422,LINK_HC_SECTION:460,LINK_HC_ARTICLE:419,SHARED_CHANNELS_CHANNEL_SIDEBAR_HEADER:292,SHARED_CHANNELS_CHANNEL_SIDEBAR_PLUS_BTN:293,SHARED_CHANNELS_CHANNEL_OPTIONS_SHARE_OPTION:294,SHARED_CHANNELS_NEW_CHANNEL_MODAL_SHARE_BTN:314,SHARED_CHANNELS_COACHMARK_CREATE_BTN:315,SHARED_CHANNELS_CHANNEL_BROWSER_CREATE_BTN:316,SHARED_CHANNELS_OPEN_BETA_MODAL_CREATE_BTN:317,SHARED_CHANNELS_CREATE_NEW_MODAL_NEXT_BTN:295,SHARED_CHANNELS_CREATE_NEW_MODAL_SUBMIT_BTN:296,SHARED_CHANNELS_CREATE_NEW_MODAL_CANCEL_BTN:297,SHARED_CHANNELS_SHARE_EXISTING_MODAL_SUBMIT_BTN:298,SHARED_CHANNELS_SHARE_EXISTING_MODAL_CANCEL_BTN:299,SHARED_CHANNELS_REVIEW_INVITE_MODAL_SUBMIT_BTN:300,SHARED_CHANNELS_REVIEW_INVITE_MODAL_CANCEL_BTN:301,SHARED_CHANNELS_FIND_ADMIN_MODAL_LIST_ITEM:302,SHARED_CHANNELS_FIND_ADMIN_MODAL_SUBMIT_BTN:303,SHARED_CHANNELS_SLACKBOT_INVITE_VIEW_BTN:304,SHARED_CHANNELS_SLACKBOT_INVITE_DECLINE_BTN:305,SHARED_CHANNELS_SLACKBOT_INVITE_FIND_ADMIN_BTN:306,SHARED_CHANNELS_CHANNEL_OPTIONS_STOP_SHARING_OPTION:307,SHARED_CHANNELS_STOP_SHARING_MODAL_SUBMIT_BTN:308,SHARED_CHANNELS_STOP_SHARING_MODAL_CANCEL_BTN:309,SHARED_CHANNELS_CHANNEL_BROWSER_STOP_SHARING_BTN:323,SHARED_CHANNELS_STOP_SHARING_CONFIRM_SUBMIT_BTN:324,SHARED_CHANNELS_STOP_SHARING_CONFIRM_CANCEL_BTN:325,WHATS_NEW_PRIV_ESC_ANNOUNCEMENT_CREATE_NEW_LINK:374,WHATS_NEW_PRIV_ESC_ANNOUNCEMENT_MANAGE_SHARED_CHANNELS_LINK:376,SHARED_CHANNELS_MANAGE_MODAL_SHARE_NEW_BTN:375,SHARED_CHANNELS_CHANNEL_BROWSER_MANAGE_SHARED_CHANNELS_BTN:377,SHARED_CHANNELS_CHANNEL_BROWSER_BACK_TO_MANAGE_MODAL_BTN:378,TEAM_MENU_ADMINISTRATION_MANAGE_SHARED_CHANNELS_BTN:379,SHARED_CHANNELS_CHANNEL_BROWSER_STOP_SHARING_PRIVATE_NONMEMBER_CHANNELS_BTN:380,SHARED_CHANNELS_CHANNEL_BROWSER_STOP_SHARING_PRIVATE_NONMEMBER_CHANNELS_CONFIRM_BTN:381,SHARED_CHANNELS_CHANNEL_BROWSER_STOP_SHARING_PRIVATE_NONMEMBER_CHANNELS_CANCEL_BTN:382,SHARED_CHANNELS_MANAGE_MODAL_STOP_SHARING_BTN:383,SHARED_CHANNELS_MANAGE_MODAL_STOP_SHARING_CONFIRM_BTN:384,SHARED_CHANNELS_MANAGE_MODAL_STOP_SHARING_CANCEL_BTN:385,SHARED_CHANNELS_MANAGE_MODAL_VIEW_CHANNELS_BTN:386,SHARED_CHANNELS_MANAGE_MODAL_CHANNEL_COUNT_BTN:387,LETS_GO:312,EXIT:313,TRY_IT:318,IM_DONE:319,ASK_SLACKBOT:320,REMIND_ME:321,SKIP:322,CENTER_MENU:326,BACK:327,LINK_AUTOSUGGEST_ARTICLE:333,LINK_EXPLORE_HELP_CENTER:334,FORWARD:328,CONTINUE:344,JOIN_TEAM:335,CONFIRM_EMAIL:336,PENDING_INVITATION:337,USER_EMAIL:338,SIGN_IN:339,CHOOSE_TEAM:340,REMOVE_EMAIL:341,SIGN_IN_WITH_OKTA:342,ENTER_EMAIL:343,ADD_TEAMS:345,SIGN_IN_ENTERPRISE:346,JOIN_WORKSPACE:347,CREATE_WORKSPACE:348,CHOOSE_WORKSPACE:349,SIGN_IN_WITH_ONELOGIN:453,SIGN_IN_WITH_GOOGLE:454,SIGN_IN_WITH_SAML:455,DIRECTORY_SEARCH_FREE:449,DIRECTORY_SEARCH_BY_COLLEAGUE:450,STAR_MESSAGE_BUTTON:600,UNSTAR_MESSAGE_BUTTON:601,SHARE_MESSAGE_BUTTON:602,START_A_THREAD_BUTTON:603,REPLY_TO_THREAD_BUTTON:604,ADD_REACTION_BUTTON:605,OPEN_IN_CHANNEL_BUTTON:606,MORE_ACTIONS_BUTTON:607,MORE_ACTIONS_MENU:608,DELETE_MESSAGE_BUTTON:609,EDIT_MESSAGE_BUTTON:610,REMOVE_FROM_CONVERSATION_BUTTON:611,FOLLOW_MESSAGE_BUTTON:612,UNFOLLOW_MESSAGE_BUTTON:613,COPY_LINK_BUTTON:614,MARK_UNREAD_BUTTON:615,REMIND_ME_BUTTON:616,PIN_TO_THIS_CONVERSATION_BUTTON:617,UNPIN_FROM_THIS_CONVERSATION_BUTTON:618,APP_ACTION_BUTTON:619,MORE_MESSAGE_ACTIONS_BUTTON:620,MESSAGE_ACTION_DIALOG:621,GET_MORE_APP_ACTIONS:622,LINK_SPEC_LIVESTREAM:465,LINK_ACTIONS_LIVE_DEMO:466};var k={UNKNOWN:0,PAGE_TEMPLATE:1,INC_HEADER_NAV:2,INC_FOOTER_NAV:3,INC_MOBILE_NAV:4,INC_WORKSPACE_NAV:5,INC_CTA_SIGNUP:6,INC_CTA_FOOTER:7,INC_SKIP_LINK:8,INC_PANEL:9,INC_CARD:10,INC_COOKIE_BANNER:11,INC_ANNOUNCEMENT_BANNER:12,TESTIMONIAL:21,CHANNEL_BROWSER:13,CHANNEL_OPTIONS_DIALOG:14,SIDEBAR:22,MSGPANE:23,QUICKSWITCH:24,APP_ICON:38,HC_LOCALE_BANNER:15,HC_PURPLE_BANNER:16,HC_LOCALE_PICKER:17,HC_HEADER_NAV:18,HC_FOOTER_NAV:19,HC_MOBILE_NAV:20,HC_HOME_HERO:25,HC_SEARCH_RESULTS_HEADER:26,HC_SEARCH_RESULTS:27,HC_SEARCH_AUTOCOMPLETE:28,HC_SEARCH_QUICKLINKS:29,HC_PRIMARY_CARD:30,HC_SECONDARY_CARD:31,HC_FEATURED_ARTICLES:32,HC_RELATED_ARTICLES:33,HC_RECENT_ARTICLES:34,HC_SECTION_LIST:35,HC_SECTION_TREE:36,HC_BREADCRUMB:37,HC_GLOBAL_NAV:39,HEADER:40,STICKY_HEADER:41,MIDPAGE_CTA:42};var w={UNKNOWN:0,LINK:1,BUTTON:2,TILE:3,BANNER:4,MODAL:5,MENU:6,PURE_COMPONENT:7,COMPONENT:8};var C={CLIENT:0,WEBAPP:1,JOBQUEUE:2,BEACON_IOS:3,BEACON_ANDROID:4,BEACON_UNKNOWN:5,BEACON_WINPHONE:6};var S={mcc:"mcc",mnc:"mnc",carrier:"carrier"};var T={type:"type",mobile_network:"mobile_network"};var I={width:"width",height:"height",dpi:"dpi"};var N={id:"id",os:"os",os_version:"os_version",manufacturer:"manufacturer",model:"model",screens:"screens",make:"make",screen_width:"screen_width",screen_height:"screen_height",carrier:"carrier"};var A={beacon_id:"beacon_id",version:"version",device:"device"};var P={channel_id:"channel_id",channel_type:"channel_type",message_timestamp:"message_timestamp",item_id:"item_id",item_type:"item_type",dst_message_timestamp:"dst_message_timestamp",url:"url",used_css_rules:"used_css_rules",channel_session_id:"channel_session_id",experiment_name:"experiment_name",experiment_type:"experiment_type",experiment_group:"experiment_group",experiment_trigger:"experiment_trigger",experiment_id:"experiment_id",is_unreads_view:"is_unreads_view",unreads_event_seq_id:"unreads_event_seq_id",unreads_elasped_time:"unreads_elasped_time",unreads_page:"unreads_page",unreads_page_message_index:"unreads_page_message_index",exposure_id:"exposure_id",custom_status:"custom_status",custom_status_set_origin:"custom_status_set_origin",custom_status_text:"custom_status_text",custom_status_emoji:"custom_status_emoji",custom_status_preset:"custom_status_preset",app_id:"app_id",bot_id:"bot_id",parent_message_id:"parent_message_id",view_session_elapsed_time:"view_session_elapsed_time",view_session_index:"view_session_index",view_exit_event:"view_exit_event",num_threads_loaded:"num_threads_loaded",is_threads_view:"is_threads_view",is_flexpane:"is_flexpane",num_msg_in_thread:"num_msg_in_thread",reply_ts:"reply_ts",follow_action:"follow_action",unfollow_action:"unfollow_action",num_mentions:"num_mentions",num_unverified_mentions:"num_unverified_mentions",unread_channel_ids:"unread_channel_ids",mentioned_channel_ids:"mentioned_channel_ids",updated_user_client_prefs:"updated_user_client_prefs",updated_team_client_prefs:"updated_team_client_prefs",updated_org_client_prefs:"updated_org_client_prefs",chat_action_payload:"chat_action_payload",locale:"locale",slash_command_name:"slash_command_name",slash_command_canonical_name:"slash_command_canonical_name",search_term:"search_term",en_string:"en_string",id:"id",ns:"ns",version:"version",src:"src",scripts:"scripts",keyboard:"keyboard",shared_channels_invite_id:"shared_channels_invite_id",shared_channels_invite_target_domain:"shared_channels_invite_target_domain",shared_channels_invite_error_msg:"shared_channels_invite_error_msg",shared_channels_invite_target_team_id:"shared_channels_invite_target_team_id",shared_channels_invite_target_user_id:"shared_channels_invite_target_user_id",shared_channels_invite_attributes:"shared_channels_invite_attributes",seen_coach_mark:"seen_coach_mark",seen_flexpane:"seen_flexpane",sort_type:"sort_type",login_method:"login_method",login_source:"login_source",deprecated_member_id:"deprecated_member_id"};var R={elapsed_time:"elapsed_time",items_count:"items_count",object_id:"object_id",messages_count:"messages_count",reactions_count:"reactions_count",pins_count:"pins_count",stars_count:"stars_count",experiment_metric:"experiment_metric",experiment_id:"experiment_id",experiment_group:"experiment_group",experiment_attributes:"experiment_attributes",error_msg:"error_msg",error_stack_trace:"error_stack_trace",error_file:"error_file",error_line:"error_line",api_name:"api_name",api_method:"api_method",api_base_url:"api_base_url",http_method:"http_method",http_status_code:"http_status_code",api_data:"api_data",required_sync:"required_sync",session_id:"session_id",time:"time",build_type_deprecated:"build_type_deprecated",app_id:"app_id",is_tablet:"is_tablet",target_channel_id:"target_channel_id",end_state:"end_state",hist_frame_render_time_deprecated:"hist_frame_render_time_deprecated",hist_janky_windows_deprecated:"hist_janky_windows_deprecated",hist_frame_render_time:"hist_frame_render_time",hist_janky_windows:"hist_janky_windows",duration_ms:"duration_ms",sample_filter_deprecated:"sample_filter_deprecated",desktop_elapsed_time:"desktop_elapsed_time",build_type:"build_type",app_version:"app_version",app_release:"app_release",release_version:"release_version",upgrade:"upgrade",start_type:"start_type",breadcrumbs:"breadcrumbs",trigger:"trigger",target_type:"target_type",sample_filter:"sample_filter",logs:"logs",wifi:"wifi",lazy_channels:"lazy_channels"};var M={app_id:"app_id",app_name:"app_name",scopes:"scopes",category_id:"category_id",is_slack_owned:"is_slack_owned",search_term:"search_term",click_target:"click_target",search_result_position:"search_result_position",num_featured_apps:"num_featured_apps",category_position:"category_position",category_result_position:"category_result_position",service_type:"service_type",has_rich_preview:"has_rich_preview",permission_fix_type:"permission_fix_type",bot_id:"bot_id",is_googledrivebot:"is_googledrivebot",gsuite_hybrid_upgrade_prompt:"gsuite_hybrid_upgrade_prompt",dialog_id:"dialog_id",dialog_client_token_ts:"dialog_client_token_ts",dialog_ms_event_received_ts:"dialog_ms_event_received_ts",debug_date_now_fn:"debug_date_now_fn",channel_type:"channel_type",channel_id:"channel_id",action_id:"action_id",type:"type",response_url_id:"response_url_id",trigger_id:"trigger_id",app_actions_showing:"app_actions_showing"};var x={click_target:"click_target",page_url:"page_url",action:"action",trigger:"trigger",zd_article_url:"zd_article_url",search_terms:"search_terms",feedback_message:"feedback_message",step:"step",trk_token:"trk_token",invite_ids:"invite_ids",invite_source:"invite_source",invite_mode:"invite_mode",email_address:"email_address",email_domain_type:"email_domain_type",target_url:"target_url",pay_prod_cur:"pay_prod_cur",has_plan:"has_plan",pay_prod_selected:"pay_prod_selected",mobile_web_visitor_uid:"mobile_web_visitor_uid",locale:"locale",scroll_percentage:"scroll_percentage",referral_code:"referral_code",limit_meter_messages_count:"limit_meter_messages_count",num_of_apps:"num_of_apps",num_of_active_members:"num_of_active_members",num_of_channels:"num_of_channels",num_members_minus_bots:"num_members_minus_bots",credit:"credit",num_of_months_free:"num_of_months_free",currency:"currency",credits_by_expiry_date:"credits_by_expiry_date",expiring_credits_sum:"expiring_credits_sum",credit_is_expiring_within_week:"credit_is_expiring_within_week",mobile_attribution_id:"mobile_attribution_id",zd_visitor_uid:"zd_visitor_uid",is_trial:"is_trial",promo_campaign_code:"promo_campaign_code",promo_campaign_app_name:"promo_campaign_app_name"};var L={display_resolutions:"display_resolutions",window_frame:"window_frame",instanceUid:"instanceUid",systemLocale:"systemLocale",systemRegion:"systemRegion",keyboardLayouts:"keyboardLayouts",inputMethods:"inputMethods",crashes:"crashes",hangs:"hangs",notificationSystem:"notificationSystem",notificationError:"notificationError",notificationId:"notificationId",sessionId:"sessionId",releaseChannel:"releaseChannel"};var D={was_video_button_showing:"was_video_button_showing",is_platform_call:"is_platform_call",calling_app_id:"calling_app_id",room_id:"room_id",num_participants:"num_participants",is_publisher:"is_publisher",is_electron_webrtc:"is_electron_webrtc",error:"error",error_msg:"error_msg",media_server:"media_server",deprecated_reconnect_attempt:"deprecated_reconnect_attempt",prev_state:"prev_state",reconnect_attempt:"reconnect_attempt",reachability:"reachability",reconnect_api_ping_errors:"reconnect_api_ping_errors",reconnect_get_server_errors:"reconnect_get_server_errors",reconnect_signaling_channel_connect_errors:"reconnect_signaling_channel_connect_errors",reconnect_time_ms:"reconnect_time_ms",reconnect_reachability_at_start:"reconnect_reachability_at_start",duration_ms:"duration_ms"};var F={id:"id",address:"address",type:"type",sub_type:"sub_type"};var B={cds_collection:"cds_collection",cds_version:"cds_version"};var U={open_method:"open_method",click_target_type:"click_target_type",click_position:"click_position",click_user_id:"click_user_id",click_channel_id:"click_channel_id",click_timestamp:"click_timestamp",click_target_user_id:"click_target_user_id",click_target_timestamp:"click_target_timestamp",click_module_name:"click_module_name",click_module_position:"click_module_position",click_sort:"click_sort",click_iid:"click_iid",click_file_id:"click_file_id",click_module_sort:"click_module_sort",click_filter_name:"click_filter_name",accept_module_name:"accept_module_name",accept_module_length:"accept_module_length",accept_item_offset:"accept_item_offset",search_session_id:"search_session_id",request_duration_ms:"request_duration_ms",suggestion_type:"suggestion_type",is_navigational:"is_navigational",feature_vector_list:"feature_vector_list"};var H={method:"method",source:"source",error:"error",creds:"creds"};var q={keys:"keys",num_custom:"num_custom"};var G={id:"id",type:"type",subtype:"subtype",is_expanded:"is_expanded",click_target:"click_target",device_os:"device_os",payload_version:"payload_version",token_checksum:"token_checksum",channel_id:"channel_id",msg_timestamp:"msg_timestamp",http_log:"http_log",push_was_sent:"push_was_sent",badge_count:"badge_count",os_notifs_off:"os_notifs_off",size_bytes:"size_bytes",test_slack_notifs_on:"test_slack_notifs_on",test_device_token_ok_with_third_party:"test_device_token_ok_with_third_party",test_device_token_ok_with_slack:"test_device_token_ok_with_slack",test_dnd_off:"test_dnd_off",test_push_ok:"test_push_ok",test_completed_ok:"test_completed_ok",test_google_play_services_ok:"test_google_play_services_ok",test_google_play_services_status_code:"test_google_play_services_status_code",test_ios_alerts_on:"test_ios_alerts_on",test_ios_badge_on:"test_ios_badge_on",test_ios_sounds_on:"test_ios_sounds_on",notif_id:"notif_id"};var W={anchor_page:"anchor_page",tracking_code:"tracking_code",entity_key:"entity_key",target_team_id:"target_team_id",num_search_results:"num_search_results"};var V={element_type:"element_type",element_name:"element_name",component_type:"component_type",method:"method",display_name:"display_name"};var K={step:"step",action:"action",referral:"referral",action_status:"action_status",ui_element:"ui_element",ui_component:"ui_component",ui_properties:"ui_properties"};var z={id:"id",microtime:"microtime",kitchen_sink:"kitchen_sink",core:"core",perf:"perf",platform:"platform",growth:"growth",calls:"calls",emails:"emails",system:"system",search:"search",login:"login",user_profile:"user_profile",desktop:"desktop",push_notification:"push_notification",ui_context:"ui_context",referring_ui_context:"referring_ui_context",referring_event_id:"referring_event_id",enterprise:"enterprise",device:"device"};var Q={uid:"uid",microtime_start:"microtime_start",min_mb_memory:"min_mb_memory",max_mb_memory:"max_mb_memory",connection:"connection"};var Y={client:"client",session:"session",event:"event",origin:"origin",user_id:"user_id",team_id:"team_id",enterprise_user_id:"enterprise_user_id",enterprise_id:"enterprise_id",is_admin:"is_admin",is_owner:"is_owner",num_signed_in_users:"num_signed_in_users",lead_id:"lead_id",external_id:"external_id",request_id:"request_id",api_token_type:"api_token_type",client_request_id:"client_request_id"}},17737:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"BANNERS_PREFS",function(){return v});r.d(t,"setMessagePaneBanner",function(){return h});r.d(t,"closeMessagePaneBanner",function(){return m});r.d(t,"getMessagePaneBannerName",function(){return g});r.d(t,"getMessagePaneBannerData",function(){return y});r.d(t,"loadBanner",function(){return O});r.d(t,"closeBanner",function(){return E});var n=r(3);var a=r.n(n);var i=r(16915);var o=r(1);var s=r.n(o);var c=r(16922);var l=r(17707);var u=r(18117);var p;var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function d(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var v="growth_all_banners_prefs";var h=Object(i["a"])("Set message pane banner");h.propTypes={name:a.a.string,data:a.a.object};var m=Object(i["a"])("Close message pane banner");m.propTypes=null;var b={name:"",data:{}};var _=Object(i["c"])((p={},d(p,h,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.name,n=t.data;var a=f({},e,{name:r,data:n});return a}),d(p,m,function(){return b}),p),b);t["default"]=_;var g=Object(i["d"])(function(e){return e&&e.messagePaneBanner&&e.messagePaneBanner.name});var y=Object(i["d"])(function(e){return e&&e.messagePaneBanner&&e.messagePaneBanner.data});var O=Object(i["e"])("Load message pane banner info",function(e){Object(u["a"])().then(function(t){Object(o["isEmpty"])(t)||e(h(t))})});var E=Object(i["e"])("Close the message pane banner",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.bannerPrefs;if(!Object(o["isEmpty"])(n)){var a=Object(c["getUserPref"])(t(),v);a=a?JSON.parse(a):{};var i=a[n.countPref]||0;a[n.countPref]=i+1;a[n.tsPref]=Math.round(Date.now()/1e3);var s=JSON.stringify(a);e(Object(l["b"])({pref:v,value:s}))}e(m())});E.propTypes={bannerPrefs:a.a.object}},17738:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18118);var a=r(17719);r.d(t,"getActivePlan",function(){return a["a"]});r.d(t,"getAvailableCurrencies",function(){return a["b"]});r.d(t,"selectAvailableCurrencies",function(){return a["o"]});r.d(t,"selectActiveProductId",function(){return a["n"]});r.d(t,"selectActivePlanCostPerMonth",function(){return a["i"]});r.d(t,"selectActivePlanLevel",function(){return a["k"]});r.d(t,"selectActivePlanTerm",function(){return a["m"]});r.d(t,"selectActivePlanIsYearly",function(){return a["j"]});r.d(t,"selectActivePlanMonthsCount",function(){return a["l"]});r.d(t,"selectActiveCurrency",function(){return a["h"]});r.d(t,"getTermPlanForActiveCurrency",function(){return a["d"]});r.d(t,"selectCostPerMonthForYearlyPlan",function(){return a["r"]});r.d(t,"selectCostPerMonthForMonthlyPlan",function(){return a["q"]});r.d(t,"selectIsPlansAndCostDataLoaded",function(){return a["w"]});r.d(t,"selectBillableActiveUsers",function(){return a["p"]});r.d(t,"isZeroRealActiveUsers",function(){return a["g"]});r.d(t,"selectInactiveUsers",function(){return a["u"]});r.d(t,"selectTotalUsers",function(){return a["D"]});r.d(t,"selectSubtotal",function(){return a["y"]});r.d(t,"selectTax",function(){return a["z"]});r.d(t,"selectCreditsApplied",function(){return a["s"]});r.d(t,"selectCurrentTeamCredits",function(){return a["t"]});r.d(t,"selectTeamCreditsRemaining",function(){return a["A"]});r.d(t,"selectTotalRecurring",function(){return a["C"]});r.d(t,"selectTotalDueToday",function(){return a["B"]});r.d(t,"getQuotedTermEndDate",function(){return a["c"]});r.d(t,"selectIsCostAvailableForPlan",function(){return a["v"]});r.d(t,"selectLocalCostForCurrentPlan",function(){return a["x"]});r.d(t,"isAPIError",function(){return a["e"]});r.d(t,"isCostValid",function(){return a["f"]});var i=r(17930);r.d(t,"switchPlans",function(){return i["i"]});r.d(t,"plansFetchSuccess",function(){return i["f"]});r.d(t,"costFetchSuccess",function(){return i["b"]});r.d(t,"setErrorState",function(){return i["g"]});r.d(t,"plansAndCostDataLoaded",function(){return i["e"]});r.d(t,"setPlanLevel",function(){return i["h"]});r.d(t,"fetchCostForCurrentPlan",function(){return i["c"]});r.d(t,"fetchPlansAndCostData",function(){return i["d"]});r.d(t,"changeActivePlan",function(){return i["a"]});r.d(t,"updatePlanLevel",function(){return i["j"]});t["default"]=n["a"]},17739:function(e,t,r){"use strict";r.d(t,"a",function(){return s});r.d(t,"b",function(){return l});var n=r(16929);var a=r(17063);var i=function e(t){return{id:String(t.action_id),type:t.type,name:t.name,description:t.description,callbackId:t.callback_id}};var o=function e(t){return{actionUrl:t.action_url||"",suggestionUrl:t.suggestion_url||"",actions:(t.actions||[]).map(i)}};var s=Object(a["a"])("fetch interactive messages / actions config",function(e,t,r){return e(Object(n["a"])({method:"developer.apps.actions.list",args:{app_id:r}})).then(o)});var c=function e(t){return{action_id:Number(t.id)||t.id,type:t.type,name:t.name,description:t.description,callback_id:t.callbackId}};var l=Object(a["a"])("save existing actions config",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.appId,i=r.actionUrl,s=r.suggestionUrl,l=r.actions;var u=e(Object(n["a"])({method:"developer.apps.actions.update",args:{app_id:a,action_url:i,actions:JSON.stringify(l.map(c))}})).then(o);return u.then(function(){return e(Object(n["a"])({method:"developer.apps.suggestions.update",args:{app:a,suggestion_url:s}}))}).then(function(){return u})})},17740:function(e,t,r){"use strict";var n=r(16915);var a=r(19687);var i=r(17407);var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var s,c;function l(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var u={countries:[],usStates:{},canadaStates:{},vatCountries:{},abnCountries:{},stripeApiKey:null};var p={companyName:"",street:"",suite:"",city:"",postalCode:"",region:"",country:"",isBusinessPurchase:false,isVatIdAvailable:false,vatId:"",abnId:"",validationErrors:{},isValidationActive:false};var f={code:"",message:"",type:""};var d={elementType:"",complete:false,empty:true,error:f};var v=(s={cardName:d},l(s,a["a"].CARD_NUMBER,d),l(s,a["a"].CARD_EXPIRY,d),l(s,a["a"].CARD_CVC,d),l(s,a["a"].POSTAL_CODE,d),l(s,"token",{}),l(s,"tokenError",f),s);var h={ok:false,error:"",msg:""};var m={config:u,companyAddress:p,isCheckoutAddressFormDataLoaded:false,creditCardData:v,isCreatingCreditCardToken:false,paymentStatus:h};var b=Object(n["c"])((c={},l(c,i["a"],function(e,t){var r=o({},e,{config:o({},e.config,{countries:t.statesAndCountries.countries||[],usStates:t.statesAndCountries.usStates||{},canadaStates:t.statesAndCountries.canadaStates||{},vatCountries:t.statesAndCountries.vatCountries||{},abnCountries:t.statesAndCountries.abnCountries||{}}),companyAddress:o({},e.companyAddress,{companyName:t.companyAddress.companyName||"",street:t.companyAddress.street||"",suite:t.companyAddress.suite||"",city:t.companyAddress.city||"",postalCode:t.companyAddress.postalCode||"",region:t.companyAddress.region||"",country:t.companyAddress.country||"",isBusinessPurchase:t.companyAddress.isBusinessPurchase||false,isVatIdAvailable:t.companyAddress.isVatIdAvailable||false,vatId:t.companyAddress.vatId||"",abnId:t.companyAddress.abnId||""}),isCheckoutAddressFormDataLoaded:true});return r}),l(c,i["l"],function(e,t){var r=o({},e,{companyAddress:o({},e.companyAddress,t)});return r}),l(c,i["d"],function(e,t){var r=o({},e,{companyAddress:o({},e.companyAddress,{validationErrors:t,isValidationActive:true})});return r}),l(c,i["c"],function(e,t){var r=o({},e,{companyAddress:o({},e.companyAddress,{validationErrors:o({},e.companyAddress.validationErrors,l({},t.field,t.error))})});return r}),l(c,i["b"],function(e,t){var r=o({},e,{companyAddress:o({},e.companyAddress,{validationErrors:o({},e.companyAddress.validationErrors,l({},t.field,null))})});return r}),l(c,i["e"],function(e,t){var r=o({},e,{creditCardData:o({},e.creditCardData,l({},t.elementType,t))});if("cardName"!==t.elementType){r.creditCardData.token=null;r.creditCardData.tokenError=null}return r}),l(c,i["m"],function(e,t){var r=o({},e,{creditCardData:o({},e.creditCardData,{token:t.token,tokenError:t.error})});return r}),l(c,i["n"],function(e,t){var r=o({},e,{isCreatingCreditCardToken:t});return r}),l(c,i["h"],function(e,t){var r=o({},e,{paymentStatus:o({},e.paymentStatus,{ok:t.ok,error:t.error,msg:t.msg})});return r}),l(c,i["i"],function(e,t){var r=o({},e,{config:o({},e.config,{stripeApiKey:t.stripeApiKey})});return r}),c),m);t["a"]=b},17741:function(e,t,r){"use strict";r.d(t,"b",function(){return c});r.d(t,"a",function(){return l});r.d(t,"e",function(){return u});r.d(t,"d",function(){return p});r.d(t,"c",function(){return f});var n=r(16929);var a=r(17063);var i=r(1);var o=r.n(i);var s=r(17326);var c=Object(a["a"])("Fetch States and Countries",function(e){return e(Object(n["a"])({method:"payments.billing.addresses.locations"})).then(function(e){if(Object(i["includes"])(Object(i["keys"])(e.vat_countries),s["c"].UNITED_KINGDOM)){e.vat_countries[s["c"].UNITED_KINGDOM_UK]=e.vat_countries[s["c"].UNITED_KINGDOM];delete e.vat_countries[s["c"].UNITED_KINGDOM]}return{countries:e.countries,usStates:e.us_states,canadaStates:e.canada_states,vatCountries:e.vat_countries,abnCountries:e.abn_countries,taxableZipcodes:e.taxable_zipcodes}})});var l=Object(a["a"])("Fetch Company Address",function(e){return e(Object(n["a"])({method:"payments.billing.addresses.get"})).then(function(e){return{companyName:e.company_name,street:e.street1,suite:e.street2,city:e.city,postalCode:e.zip,region:e.state,country:e.country,isBusinessPurchase:e.is_business,isVatIdAvailable:!e.waiting_for_vat,vatId:e.vat_id,abnId:e.abn_id}})});var u=Object(a["a"])("Validate and Persist Company Address",function(e,t,r){var a={abn_id:r.abnId,city:r.city,company_name:r.companyName,country:r.country,is_business:r.isBusinessPurchase,state:r.region,street1:r.street,street2:r.suite,vat_id:r.vatId,waiting_for_vat:!r.isVatIdAvailable,zip:r.postalCode};return e(Object(n["a"])({method:"payments.billing.addresses.validateAndSet",args:a})).then(function(e){return e})});var p=Object(a["a"])("Submit information from the payment form to the server to complete the purchase of a paid Slack plan",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.tokenId,i=r.productId;return e(Object(n["a"])({method:"payments.checkout.charge",args:{stripe_token:a,product_id:i,is_new_card:true}})).then(function(e){return e}).catch(function(e){throw e})});var f=Object(a["a"])("Fetch Stripe Customer",function(e,t,r){return e(Object(n["a"])({method:"payments.getStripeCustomer",args:{currency:r}})).then(function(e){return e})})},17742:function(e,t,r){"use strict";r.d(t,"c",function(){return o});r.d(t,"a",function(){return s});r.d(t,"b",function(){return c});var n=r(1);var a=r.n(n);var i=r(16914);var o=Object(i["c"])("TS.client.msg_input.populate",a.a.noop);var s=Object(i["c"])("TS.client.msg_input.focusMsgInput",a.a.noop);var c=Object(i["c"])("TS.client.msg_input.value",function(){return""})},17744:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.ui.channel_prefs_dialog.start")},17745:function(e,t,r){"use strict";var n=r(18232);t["a"]=n["a"]},17749:function(e,t,r){"use strict";var n=r(18243);t["a"]=n["a"]},17750:function(e,t,r){"use strict";var n=r(18245);t["a"]=n["a"]},17751:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(18804);var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v={headers:a.a.array,rows:a.a.array,headerItemOnClick:a.a.func,rowHeaderItemClassName:a.a.string,rowClassName:a.a.string,onRequestNextPage:a.a.func,sortBy:a.a.string,sortDir:a.a.string,searchQuery:a.a.string,height:a.a.string,onResetData:a.a.func,isLoading:a.a.bool,newQuery:a.a.bool,useKeyboardNavigableTable:a.a.bool};var h={headers:[],rows:[],rowHeaderItemClassName:null,rowClassName:null,headerItemOnClick:s["noop"],onRequestNextPage:s["noop"],sortBy:null,sortDir:null,searchQuery:"",height:null,onResetData:s["noop"],isLoading:false,newQuery:false,useKeyboardNavigableTable:false};var m=function(e){d(t,e);function t(e){p(this,t);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.headerItemOnClick=r.headerItemOnClick.bind(r);r.onResetData=r.onResetData.bind(r);r.onRequestNextPage=r.onRequestNextPage.bind(r);r.setContainerNodeRef=r.setContainerNodeRef.bind(r);r.getDOMNode=r.getDOMNode.bind(r);return r}u(t,[{key:"onRequestNextPage",value:function e(t,r){var e=this.props.onRequestNextPage;e&&e(t,r)}},{key:"onResetData",value:function e(){var e=this.props.onResetData;e&&e()}},{key:"getDOMNode",value:function e(){return this.tableViewContainerNode}},{key:"setContainerNodeRef",value:function e(t){this.tableViewContainerNode=t}},{key:"headerItemOnClick",value:function e(t,r){var e=this.props.headerItemOnClick;e&&e(t,r)}},{key:"render",value:function e(){var t=this.props,r=t.headers,n=t.rows,a=t.rowHeaderItemClassName,i=t.rowClassName,s=t.sortBy,c=t.sortDir,u=t.searchQuery,p=t.height,f=t.isLoading,d=t.newQuery,v=t.useKeyboardNavigableTable;var h={headers:r,rows:n,headerItemOnClick:this.headerItemOnClick,rowHeaderItemClassName:a,rowClassName:i,onRequestNextPage:this.onRequestNextPage,onResetData:this.onResetData,sortBy:s,sortDir:c,searchQuery:u,height:p,isLoading:f,newQuery:d};var m=v?o.a.createElement(l["a"],h):o.a.createElement(l["b"],h);return o.a.createElement("div",{className:"c-table_view_container",ref:this.setContainerNodeRef},m)}}]);return t}(i["PureComponent"]);m.displayName="TableViewController";m.propTypes=v;m.defaultProps=h;t["a"]=m},17752:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(333);var u=r(1);var p=r.n(u);var f=r(17258);var d=r(16952);var v=r(17753);var h=r(17687);var m=r(20124);var b=r.n(m);var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E={headers:a.a.array,rows:a.a.array,onRequestNextPage:a.a.func,sortBy:a.a.string,height:a.a.string,isLoading:a.a.bool,newQuery:a.a.bool,rowHeaderItemClassName:a.a.string,rowClassName:a.a.string,disableHover:a.a.bool};var j={headers:[],rows:[],onRequestNextPage:u["noop"],sortBy:null,height:null,isLoading:false,newQuery:false,rowHeaderItemClassName:null,rowClassName:null,disableHover:false};var k=function(e){O(t,e);function t(e){g(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={keys:r.makeKeys(r.props.rows)};r.onScroll=r.onScroll.bind(r);r.headerItemOnClick=r.headerItemOnClick.bind(r);r.fetchPage=r.fetchPage.bind(r);return r}_(t,[{key:"componentWillReceiveProps",value:function e(t){this.maybeUpdateKeys(t)}},{key:"onScroll",value:function e(t,r){var n=r.scrollTop,a=r.scrollHeight,i=r.clientHeight;var o=this.props.rows;n+i>=a&&this.fetchPage(o&&o.length||0)}},{key:"makeKeys",value:function e(t){var r=[];if(!t)return r;t.forEach(function(e){r.push("row-"+e.id)});return r}},{key:"fetchPage",value:function e(t){var r=t||0;if(isNaN(r))return;var n=this.props,a=n.rows,i=n.onRequestNextPage,o=n.isLoading;a&&a.length&&a[r]||!i||o||i(r)}},{key:"headerItemOnClick",value:function e(t,r){t.onClick&&t.onClick(t,r)}},{key:"maybeUpdateKeys",value:function e(t){var r=this.props.rows;if(t&&t.rows!==r){var n={keys:this.makeKeys(t.rows)};this.setState(n)}}},{key:"renderHeaders",value:function e(){var t=this;var r=this.props,n=r.headers,a=r.sortBy,i=r.rowHeaderItemClassName;if(!n||!n.length)return o.a.createElement("div",{className:"c-table_view_flexbox c-table_view_row"},o.a.createElement("div",{className:"c-table_view_row_item"}));return o.a.createElement("div",{className:"c-table_view_flexbox c-table_view_row_header"},n.map(function(e){var r=c()({"c-table_view_row_item_sort_applied":e.id&&e.id===a,"c-table_view_hover_disabled":e.noHover},i,e.className);var n=void 0;n=e.onClick?function r(){return t.headerItemOnClick(e)}:null;return o.a.createElement(v["a"],{value:e.value,key:e.id,onClick:n,iconType:e.iconType,className:r})}))}},{key:"renderRows",value:function e(){var t=this;var r=this.state.keys;var n=this.props,a=n.rows,i=n.isLoading,s=n.newQuery,u=n.rowClassName;function p(e){var t=a[e];var r=c()("c-table_view_flexbox","c-table_view_row",u);return o.a.createElement("div",{className:"c-table_view_row_container"},o.a.createElement("div",{className:r},t.items.map(function(e){return o.a.createElement(h["a"],{key:e.id,value:e.value,onClick:e.onClick,className:e.className})})))}var v=void 0;i&&(v=a&&a.length&&!s?o.a.createElement(d["a"],{size:"small",className:"c-table_view__spinner"}):o.a.createElement(d["a"],{size:"medium",className:"c-table_view__spinner empty"}));var m={};this.props.height&&(m.height=this.props.height);return o.a.createElement("div",{className:"c-table_view_all_rows_container",style:m},o.a.createElement(l["a"],null,function(e){var n=e.width,a=e.height;return o.a.createElement(f["b"],{width:n,height:a,keys:r,rowRenderer:p,onScroll:t.onScroll})}),v)}},{key:"render",value:function e(){var t=c()("c-table_view_flexbox_container",{"c-table_view_hover_disabled":this.props.disableHover});return o.a.createElement("div",{className:t},this.renderHeaders(),this.renderRows())}}]);return t}(i["PureComponent"]);k.displayName="TableView";k.propTypes=E;k.defaultProps=j;t["a"]=k},17753:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(17038);var f=r(16917);var d=r(20124);var v=r.n(d);var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g={value:a.a.oneOfType([a.a.string,a.a.object]),onClick:a.a.func,role:a.a.string,tabIndex:a.a.number,iconType:a.a.string,className:a.a.string,hasFocus:a.a.bool};var y={value:"",onClick:null,role:"button",tabIndex:0,iconType:"",className:null,hasFocus:false};var O=function(e){_(t,e);function t(e){m(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.node=null;r.setRef=function(e){r.node=e};Object(s["bindAll"])(r,["onClick","onReturnKeyDown","setRef"]);return r}h(t,[{key:"componentDidMount",value:function e(){this.maybeFocusNode()}},{key:"componentDidUpdate",value:function e(){this.maybeFocusNode()}},{key:"onClick",value:function e(t){var e=this.props.onClick;e&&e(t)}},{key:"onReturnKeyDown",value:function e(t){var r=t.charCode;if(!this.props.onClick||r!==p["c"]&&r!==p["h"])return;t.preventDefault();this.onClick(t)}},{key:"maybeFocusNode",value:function e(){if(this.props.hasFocus&&this.node){this.focusedAfterUpdate=true;this.node.focus()}}},{key:"render",value:function e(){var t=this.props,r=t.value,n=t.role,a=t.tabIndex,i=t.iconType,c=t.className,l=t.onClick,p=t.hasFocus;var d=u()("c-table_view_header_item",c,{"c-table_view_header_item_clickable":l&&l!==s["noop"],"focus-ring":p});return o.a.createElement("div",{onClick:this.onClick,onKeyPress:this.onReturnKeyDown,role:n,tabIndex:p?"0":a,className:d,ref:this.setRef},o.a.createElement("span",{className:"c-table_view_header_item_value"},r),i&&o.a.createElement(f["a"],{type:i}))}}]);return t}(i["PureComponent"]);O.displayName="TableViewHeaderItem";O.propTypes=g;O.defaultProps=y;t["a"]=O},17755:function(e,t,r){"use strict";var n=r(18251);t["a"]=n["a"]},17756:function(e,t,r){"use strict";var n=r(17590);r.d(t,"a",function(){return n["a"]});t["b"]=n["b"]},17758:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16913);var p=r(16921);var f=r(16912);var d=r(16961);var v=r(17003);var h=r(17028);var m=r(16917);var b=r(17759);var _=r(17760);var g=r(20160);var y=r.n(g);var O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var E=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=new f["b"]("workspace_directory");var S={className:o.a.string,containerIdSelector:o.a.string,featureZeroWorkspaceOnboarding:o.a.bool.isRequired,fetchWorkspaces:o.a.func.isRequired,fetchMembers:o.a.func.isRequired,membersOnly:o.a.bool,onClearInput:o.a.func,onOptionsListOpened:o.a.func,onOptionsListClosed:o.a.func,prepopulatedOption:o.a.object,triggerAction:o.a.func};var T={className:"",containerIdSelector:"",membersOnly:true,onClearInput:c["noop"],onOptionsListClosed:c["noop"],onOptionsListOpened:c["noop"],prepopulatedOption:void 0,triggerAction:c["noop"]};var I=function(e){w(t,e);function t(e){j(this,t);var r=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={nextCursorMark:"*",options:[],totalResultsCount:null,memberResultsCount:null,workspaceResultsCount:null,currentOptionsData:[],currentSearchQuery:"",prepopulatedOptionData:void 0,selectedOptionData:void 0,value:void 0,loadingResults:true,isAnOptionHighlighted:false};Object(c["bindAll"])(r,["clearInput","formatMemberOptionData","formatOptionsDataArrayOrObject","getOptionsFetcher","fetchMemberData","fetchMemberAndWorkspaceData","onChange","onClearButtonClicked","onFilterInputChange","onOptionHighlighted","onScroll","renderMemberItemTemplate","setIsAnOptionHighlighted","setCurrentSearchQuery","setIsLoading","setValue","triggerActionWithValue","onClose","onKeyPressedEnter","onOpen","setSelectRef"]);r.select=null;r.debouncedOnFilterInputChange=Object(c["debounce"])(r.onFilterInputChange,100);return r}E(t,[{key:"componentDidMount",value:function e(){var t=this.props,r=t.prepopulatedOption,n=t.membersOnly;Object(c["isEmpty"])(r)||this.setPrepopulatedOptionData(r);this.getOptionsFetcher();n||(this.keyCommands=this.initKeyCommands())}},{key:"componentDidUpdate",value:function e(t){var r=this.props.prepopulatedOption;var n=t.prepopulatedOption;Object(c["isEmpty"])(r)||r===n||this.setPrepopulatedOptionData(r)}},{key:"componentWillUnmount",value:function e(){this.keyCommands&&this.keyCommands.reset()}},{key:"onChange",value:function e(t){var r=this.props.membersOnly;var n=this.state,a=n.currentOptionsData,i=n.currentSearchQuery;var o=void 0;var s=void 0;var l=void 0;if(t===h["b"]){o={id:h["b"],displayValue:i};l=a}else if(r){o=Object(c["find"])(a,{id:t});s=Object(p["k"])(o);l=[o]}else{o=Object(c["chain"])(Object(c["values"])(a)).flatten().find({id:t}).value();var u=Object(h["h"])(o);s=u?Object(p["k"])(o):Object(c["get"])(o,"name");l=u?{members:[o],workspaces:[]}:{members:[],workspaces:[o]}}this.setState(function(){var e={value:t,selectedOptionData:o,currentSearchQuery:t===h["b"]?i:s,nextCursorMark:"*",currentOptionsData:l};return e},this.triggerActionWithValue)}},{key:"onClearButtonClicked",value:function e(){var t=this.props.onClearInput;this.clearInput();t()}},{key:"onFilterInputChange",value:function e(t){var r=this.props,n=r.triggerAction,a=r.membersOnly;this.setIsLoading(true);this.setSelectedOptionData(null);this.setPrepopulatedOptionData(null);this.setValue(null);a&&n({selectedOptionData:null});this.getOptionsFetcher(t)}},{key:"onOptionHighlighted",value:function e(t){var r=!Object(c["isEmpty"])(t);this.setIsAnOptionHighlighted(r)}},{key:"onScroll",value:function e(t){var r=200;var n=this.state,a=n.currentSearchQuery,i=n.currentOptionsData,o=void 0===i?[]:i,s=n.totalResultsCount;var c=t.clientHeight,l=t.scrollHeight,u=t.scrollTop;var p=l-(u+c)<r;p&&o.length<s&&this.getOptionsFetcher(a,{doFetchNextPage:true})}},{key:"onClose",value:function e(){var t=this.props.onOptionsListClosed;this.setIsAnOptionHighlighted(false);t()}},{key:"onOpen",value:function e(){var t=this.props.onOptionsListOpened;t()}},{key:"onSearchAgainTriggered",value:function e(){this.select.onSearchAgainTriggered()}},{key:"onKeyPressedEnter",value:function e(){if(this.props.membersOnly)return;var t=this.state,r=t.selectedOptionData,n=t.currentSearchQuery,a=t.isAnOptionHighlighted;if(!n||a)return;var i=Object(c["get"])(this.select,"filterInput.value",n);if(!r){this.select.blur();this.setState(function(){var e={selectedOptionData:{id:h["b"],displayValue:i},currentSearchQuery:i,nextCursorMark:"*"};return e},this.triggerActionWithValue)}}},{key:"setSelectRef",value:function e(t){this.select=t}},{key:"setCurrentOptionsData",value:function e(t){var r=t.optionData,n=t.isNewSearch,a=t.totalResultsCount;var i=this.state.currentOptionsData;var o=void 0;o=n?r:Object(c["unionBy"])(i,r,"id");this.setState(function(){return{currentOptionsData:o,totalResultsCount:a}});this.setIsLoading(false)}},{key:"setCurrentOptionGroupsData",value:function e(t){var r=t.memberOptionData,n=t.workspaceOptionData,a=t.isNewSearch,i=t.totalResultsCount,o=t.memberResultsCount,s=void 0===o?0:o,l=t.workspaceResultsCount,u=void 0===l?0:l;var p=this.state.currentOptionsData;var f=void 0;var d=!s&&!u||i?i:s+u;f=a?{members:r,workspaces:n}:{members:Object(c["unionBy"])(Object(c["get"])(p,"members"),r,"id"),workspaces:Object(c["unionBy"])(Object(c["get"])(p,"workspaces"),n,"id")};this.setState(function(){return{currentOptionsData:f,totalResultsCount:d,memberResultsCount:s,workspaceResultsCount:u}});this.setIsLoading(false)}},{key:"setCurrentSearchQuery",value:function e(t){this.setState(function(){return{currentSearchQuery:t}})}},{key:"setIsLoading",value:function e(t){this.setState(function(){return{loadingResults:t}})}},{key:"setIsAnOptionHighlighted",value:function e(t){this.setState(function(){return{isAnOptionHighlighted:t}})}},{key:"setNextCursorMark",value:function e(t){this.setState(function(){return{nextCursorMark:t}})}},{key:"setPrepopulatedOptionData",value:function e(t){this.setState(function(){return{prepopulatedOptionData:t}})}},{key:"setSelectedOptionData",value:function e(t){this.setState(function(){return{selectedOptionData:t}})}},{key:"setValue",value:function e(t){this.setState(function(){return{value:t}})}},{key:"getBoundingRect",value:function e(t){this._workspaceSearchBoundingContainer||(this._workspaceSearchBoundingContainer=document.getElementById(t));return this._workspaceSearchBoundingContainer?this._workspaceSearchBoundingContainer.getBoundingClientRect():{}}},{key:"getPlaceHolderText",value:function e(t){var r=C.t("Search for a teammate");var n=C.t("Search");return t?r:n}},{key:"getOptionsFetcher",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.forceNewSearch,a=void 0!==n&&n,i=r.doFetchNextPage,o=void 0!==i&&i;var s=this.state.currentSearchQuery;var c=this.props.membersOnly;var l=c?this.fetchMemberData:this.fetchMemberAndWorkspaceData;var u={searchTerm:t};if(!o&&t===s&&!a)return null;u.nextCursorMark=s===t?this.state.nextCursorMark:"";this.setCurrentSearchQuery(t);return l({args:u,forceNewSearch:a,newSearchQuery:t,stashedSearchQuery:s})}},{key:"initKeyCommands",value:function e(){var t=new d["a"];t.bindAll([{keys:["enter"],handler:this.onKeyPressedEnter}]);return t}},{key:"fetchMemberData",value:function e(t){var r=this;var n=t.args,a=t.forceNewSearch,i=t.newSearchQuery,o=t.stashedSearchQuery;var s=this.props.fetchMembers;return s(n).then(function(e){var t=e.items,n=void 0===t?[]:t,s=e.next_cursor_mark,c=e.num_found;if(!n.length&&"*"!==s)return;r.setNextCursorMark(s);r.setCurrentOptionsData({optionData:n,isNewSearch:a||o!==i,totalResultsCount:c})})}},{key:"fetchMemberAndWorkspaceData",value:function e(t){var r=this;var n=t.args,a=t.forceNewSearch,i=t.newSearchQuery,o=t.stashedSearchQuery;var s=this.props,c=s.fetchWorkspaces,l=s.fetchMembers;var u=[l(n),c(n)];return Promise.all(u).then(function(e){var t=e[0],n=t.items,s=void 0===n?[]:n,c=t.next_cursor_mark,l=t.num_found;var u=e[1],p=u.items,f=void 0===p?[]:p,d=u.next_cursor_mark,v=u.num_found;var h=void 0;if(!s.length&&"*"!==c&&!f.length&&"*"!==d)return;s.length&&!f.length?r.setNextCursorMark(c):f.length&&!s.length&&r.setNextCursorMark(d);s.length&&!f.length?h=l:f.length&&!s.length&&(h=v);r.setCurrentOptionGroupsData({memberOptionData:s,workspaceOptionData:f,isNewSearch:a||o!==i,totalResultsCount:h,memberResultsCount:l,workspaceResultsCount:v})})}},{key:"clearInput",value:function e(){var t=this.props.triggerAction;this.setSelectedOptionData(null);this.setCurrentSearchQuery(null);this.setPrepopulatedOptionData(null);this.setValue(null);this.getOptionsFetcher();t({selectedOptionData:null,type:null});this.select.toggleOpenState()}},{key:"focus",value:function e(){this.select.focus()}},{key:"blur",value:function e(){this.select.blur()}},{key:"triggerActionWithValue",value:function e(){var t=this.props.triggerAction;var r=this.state.selectedOptionData;var n=Object(h["h"])(r)?"member":"workspace";t({selectedOptionData:r,type:n})}},{key:"formatOptionsDataArrayOrObject",value:function e(t){var r=this;var n=this.props.membersOnly;var a=this.state.selectedOptionData;var i=[];if(n)i=Object(c["map"])(t,function(e){return r.formatMemberOptionData(e)});else{var o=t.members,s=t.workspaces;var l=Object(c["get"])(o,"length",0);var u=Object(c["get"])(s,"length",0);if(l){var p={label:this.formatMemberOptionsGroupsHeader(),options:[]};var f=u>0?Object(c["slice"])(o,0,4):o;p.options=Object(c["map"])(f,function(e){return r.formatMemberOptionData(e)});i.push(p)}if(u){var d={label:this.formatWorkspaceOptionsGroupsHeader(),options:[]};d.options=Object(c["map"])(s,function(e){return r.formatWorkspaceOptionData(e)});i.push(d)}}return i}},{key:"formatMemberOptionData",value:function e(t){var r=Object(p["k"])(t);var n=Object(c["get"])(t,"id");return{label:this.renderMemberItemTemplate({item:t,type:"member"}),value:n,displayValue:r}}},{key:"formatWorkspaceOptionData",value:function e(t){var r=Object(c["get"])(t,"name");var n=Object(c["get"])(t,"id");return{label:this.renderMemberItemTemplate({item:t,type:"workspace"}),value:n,displayValue:r}}},{key:"formatMemberOptionsGroupsHeader",value:function e(){var t=this.state,r=t.memberResultsCount,n=t.selectedOptionData;var a=n?1:r;return C.t("Search by coworker ({num})",{num:a})}},{key:"formatWorkspaceOptionsGroupsHeader",value:function e(){var t=this.props.prepopulatedOption;var r=this.state,n=r.currentSearchQuery,a=r.workspaceResultsCount,i=r.selectedOptionData;var o=Object(c["get"])(t,"displayValue","")?Object(c["get"])(t,"displayValue",""):n;var s=i?1:a;var l=Object(h["c"])()?50:150;var u=Object(c["get"])(o,"length",0)>l?o.slice(0,l)+"...":o;return C.t("Workspaces matching \u201c{query}\u201d ({num})",{query:Object(f["l"])(u),num:s})}},{key:"renderShowAllWorkspacesListItem",value:function e(){var t=this.state.currentSearchQuery;return a.a.createElement("div",{className:"p-workspace_search_options_list_item"},a.a.createElement("div",{className:"p-workspace_search__search_icon_wrapper"},a.a.createElement(m["b"],{type:"search"})),a.a.createElement("div",{className:"p-workspace_search_options_list_item__content nudge_bottom_1"},a.a.createElement("div",{className:"p-workspace_search_options_list_item__alternate_content"},C.rt('All workspace results for <span class="p-workspace_search_options_list_item__alternate_content--highlight">{query}</span>',{query:Object(f["l"])(t)}))))}},{key:"renderMemberItemTemplate",value:function e(t){var r=t.item,n=t.type;return a.a.createElement(_["a"],{item:r,type:n,featureReactMessages:true,featureReactMemberProfileCard:true})}},{key:"render",value:function e(){var t=this.props,r=t.containerIdSelector,n=t.membersOnly;var i=this.state,o=i.value,s=i.currentOptionsData,l=i.loadingResults,u=i.currentSearchQuery,p=i.prepopulatedOptionData,f=i.selectedOptionData;var d=this.getBoundingRect(r),v=d.bottom,m=void 0===v?0:v,_=d.top,g=void 0===_?0:_;var y={autoSelectFirstOption:true,className:"p-workspace_search",displayValue:u,isLoading:l,membersOnly:n,onChange:this.onChange,onClearButtonClick:this.onClearButtonClicked,onClose:this.onClose,onFilterInputChange:this.debouncedOnFilterInputChange,onOpen:this.onOpen,onOptionHighlighted:this.onOptionHighlighted,onScroll:this.onScroll,optionsListOffsetBottom:window.innerHeight-m,optionsListOffsetTop:g,optionsRowHeight:48,placeholder:this.getPlaceHolderText(n),pillarClassName:"p-workspace_search",selectedOption:f,usePlaceholderOption:false,useFullWidthOptions:true,value:o,wrapperClassName:"p-workspace_search__wrapper"};n?y.options=this.formatOptionsDataArrayOrObject(s):y.optionGroups=this.formatOptionsDataArrayOrObject(s);if(p&&!o)if(Object(c["get"])(p,"id")===h["b"]){y.selectedOption=p;y.displayValue=Object(c["get"])(p,"displayValue")}else{var E=Object(h["h"])(p)?this.formatMemberOptionData(p):this.formatWorkspaceOptionData(p);y.selectedOption=p;y.displayValue=Object(c["get"])(E,"displayValue")}return a.a.createElement("div",{className:"position_relative"},a.a.createElement(b["a"],O({},y,{ref:this.setSelectRef})))}}]);return t}(n["Component"]);I.displayName="WorkspaceSearch";I.propTypes=S;I.defaultProps=T;var N=function e(t){var r=function e(r){return Object(v["f"])(t,r)};var n=function e(r){return Object(v["j"])(t,r)};return{featureZeroWorkspaceOnboarding:Object(u["isFeatureEnabled"])(t,"feature_zero_workspace_onboarding"),fetchWorkspaces:r,fetchMembers:n}};t["a"]=Object(s["connect"])(N,null,null,{withRef:true})(I)},17759:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(17296);var f=r(17036);var d=r(16912);var v=r(17028);var h=r(16921);var m=r(16961);var b=r(17058);var _=r(16918);var g=r(17301);var y=r(20075);var O=r.n(y);var E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var j=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function k(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function w(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function T(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var I={default:"default",short:"short"};var N=new d["b"]("form");var A={autoSelectFirstOption:a.a.bool,className:a.a.string,displayValue:a.a.string,id:a.a.string,isLoading:a.a.bool,labelId:a.a.string,membersOnly:a.a.bool,name:a.a.string,onChange:a.a.func,onClearButtonClick:a.a.func.isRequired,onClose:a.a.func,onFilterInputChange:a.a.func,onOptionHighlighted:a.a.func,onOutsideClick:a.a.func,onOpen:a.a.func,onScroll:a.a.func,optionClassName:a.a.string,optionGroups:a.a.array,options:a.a.array,optionsListBottomOffset:a.a.number,optionsListTopOffset:a.a.number,optionsListWidth:a.a.number,optionsRowHeight:a.a.number,pillarClassName:a.a.string,placeholder:a.a.string,selectedOption:a.a.object,selectedValueClassName:a.a.string,type:a.a.oneOf(Object(l["values"])(I)),useFullWidthOptions:a.a.bool,usePlaceholderOption:a.a.bool,wrapperClassName:a.a.string,value:a.a.string};var P={className:null,displayValue:void 0,id:"select-"+Object(b["c"])(),isLoading:false,labelId:null,membersOnly:true,name:null,onChange:l["noop"],onClose:l["noop"],onFilterInputChange:l["noop"],onOptionHighlighted:l["noop"],onOutsideClick:l["noop"],onOpen:l["noop"],optionClassName:void 0,optionGroups:void 0,options:void 0,optionsListOffsetBottom:0,optionsListOffsetTop:0,optionsListWidth:void 0,pillarClassName:void 0,placeholder:N.t("Choose an option\u2026"),selectedOption:void 0,selectedValueClassName:void 0,type:I.default,usePlaceholderOption:true,wrapperClassName:null,value:""};var R=function(e){T(t,e);function t(e){C(this,t);if(!e.optionGroups&&!e.options)throw new Error('WorkspaceSearchSelect requires an "optionGroups" or "options" prop.');var r=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.preventFocusAndBlur=false;r.state={filterQuery:"",isOpen:false,selectedOptionValue:""};Object(l["bindAll"])(r,["getFilteredOptions","getFilteredOptionGroups","onBlurred","onClearInput","onClicked","onFilterInputChanged","onFocused","onKeyPressedEsc","onKeyPressedUpOrDown","onOptionSelected","onOutsideClicked","onWrapperMouseDownOrTouchStart","onWrapperMouseUpOrTouchEnd","setRef"]);return r}j(t,[{key:"componentDidMount",value:function e(){this.initKeyCommands()}},{key:"componentWillReceiveProps",value:function e(){this.setState(function(e){return{isOpen:e.isOpen}})}},{key:"componentDidUpdate",value:function e(t,r){var n=this.props,a=n.onClose,i=n.onOpen,o=n.selectedOption;var s=this.state,c=s.isOpen,u=s.selectedOptionValue;if(o){var p=Object(v["h"])(o)?Object(h["k"])(o):Object(l["get"])(o,"name");p!==u&&this.setSelectedOptionValue(p)}else u&&this.setSelectedOptionValue("");if(this.state.isOpen){document.addEventListener("click",this.onOutsideClicked);if(!r.isOpen){this.filterInput&&this.filterInput.focus();i(this.filterInput)}}else{document.removeEventListener("click",this.onOutsideClicked);r.isOpen&&a()}this.filterInput&&c&&this.filterInput.focus()}},{key:"componentWillUnmount",value:function e(){document.removeEventListener("click",this.onOutsideClicked);this.resetKeyCommads()}},{key:"onBlurred",value:function e(){this.preventFocusAndBlur||this.toggleOpenState(false)}},{key:"onClicked",value:function e(t){var r=t.target===this.filterInput;r?this.toggleOpenState(true):this.toggleOpenState()}},{key:"onClearInput",value:function e(){var t=this.props.onClearButtonClick;this.filterInput&&(this.filterInput.value="");this.setFilterQuery("");this.setSelectedOptionValue("");this.toggleOpenState(false);t()}},{key:"onFilterInputChanged",value:function e(){if(this.filterInput){var t=this.filterInput.value;this.props.onFilterInputChange(t);this.setFilterQuery(t)}}},{key:"onFocused",value:function e(){this.preventFocusAndBlur||this.toggleOpenState(true);var t=this.props.displayValue;t&&this.filterInput&&(this.filterInput.value=t)}},{key:"onKeyPressedEsc",value:function e(){if(this.state.isOpen){this.toggleOpenState(false);this.focus()}}},{key:"onKeyPressedUpOrDown",value:function e(t){if(!this.state.isOpen){this.toggleOpenState(true);t.stopPropagation()}}},{key:"onOptionSelected",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.value;if(!r)return;var n=this.getSelectedOptionDisplayValue({value:r});this.setSelectedOptionValue(n);this.props.onChange(r);this.toggleOpenState(false);this.filterInput&&this.filterInput.blur()}},{key:"onOutsideClicked",value:function e(t){if(this.wrapper&&!this.wrapper.contains(t.target)){this.toggleOpenState(false);this.props.onOutsideClick()}}},{key:"onWrapperMouseDownOrTouchStart",value:function e(){this.preventFocusAndBlur=true}},{key:"onWrapperMouseUpOrTouchEnd",value:function e(){this.preventFocusAndBlur=false}},{key:"onSearchAgainTriggered",value:function e(){var t=this.props.onClearButtonClick;this.preventFocusAndBlur=true;this.filterInput&&(this.filterInput.value="");this.setFilterQuery("");this.setSelectedOptionValue("");t();this.filterInput.focus();this.toggleOpenState();this.preventFocusAndBlur=false}},{key:"maybeShowOptions",value:function e(){var t=this.props,r=t.selectedOption,n=t.membersOnly;var a=this.getFilterQuery();var i=n?this.getFilteredOptions:this.getFilteredOptionGroups;if(a.length>0||r)return i();return[]}},{key:"getFilteredOptionGroups",value:function e(){var t=this.props,r=t.optionGroups,n=t.usePlaceholderOption;var a=this.getFilterQuery();if(!r)return null;if(!a&&n)return[this.getPlaceholderOptionGroup()].concat(w(r));return r}},{key:"getFilteredOptions",value:function e(){var t=this.props,r=t.options,n=t.usePlaceholderOption;var a=this.getFilterQuery();if(!r)return null;if(!a&&n)return[this.getPlaceholderOption()].concat(w(r));return r}},{key:"getFilterQuery",value:function e(){return Object(l["get"])(this,"filterInput.value","")}},{key:"getOptionsListEmptyMessage",value:function e(){var t=this.getFilterQuery();return t.length>0?this.renderOptionsListEmptyMessage():this.renderOptionsListHintText()}},{key:"getOptionsListTargetMeasurements",value:function e(){var t=this.props,r=t.optionsListOffsetBottom,n=t.optionsListOffsetTop,a=t.optionsListWidth;var i=this.select.getBoundingClientRect();var o=this.select.offsetTop-Object(p["a"])(this.select,this.select.offsetParent);var s=this.select.offsetLeft;var c=this.select.offsetParent.clientHeight-o;var l=o+i.height;var u=i.bottom;var f=i.top;var d=a||i.width;return{bottom:u,offsetBottom:r,offsetTop:n,relativeBottom:l,relativeLeft:s,relativeTop:c,top:f,width:d}}},{key:"getPlaceholderOption",value:function e(){return{isPlaceholder:true,label:this.props.placeholder,value:""}}},{key:"getPlaceholderOptionGroup",value:function e(){return{isPlaceholder:true,options:[this.getPlaceholderOption()]}}},{key:"getSelectedOptionDisplayValue",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.value;var n=this.props,a=n.optionGroups,i=n.options;var o=a?Object(l["flatMap"])(a,"options"):i;var s=Object(l["find"])(o,{value:r});return Object(l["get"])(s,"displayValue")}},{key:"setFilterQuery",value:function e(t){this.setState(function(){return{filterQuery:t}})}},{key:"setSelectedOptionValue",value:function e(t){this.setState(function(){return{selectedOptionValue:t}})}},{key:"setRef",value:function e(t){var r=this;return function(e){r[t]=e}}},{key:"focus",value:function e(){this.preventFocusAndBlur=true;this.select.focus();this.preventFocusAndBlur=false}},{key:"blur",value:function e(){this.select.blur();this.filterInput&&this.filterInput.blur()}},{key:"filterOption",value:function e(t){var r=t.label.toLowerCase();var n=this.getFilterQuery().toLowerCase();return-1!==r.indexOf(n)}},{key:"initKeyCommands",value:function e(){this.keyCommands=new m["a"](this.select);this.keyCommands.bindAll([{keys:["esc"],handler:this.onKeyPressedEsc},{keys:["up","down"],handler:this.onKeyPressedUpOrDown}])}},{key:"resetKeyCommads",value:function e(){this.keyCommands&&this.keyCommands.reset()}},{key:"toggleOpenState",value:function e(t){this.setState(function(e){var r={isOpen:Object(l["isUndefined"])(t)?!e.isOpen:t};r.isOpen||(r.filterQuery="");return r})}},{key:"renderFilterInput",value:function e(){var t=this.state,r=t.filterQuery,n=t.selectedOptionValue;var a=this.props.displayValue;var i={"aria-label":"Filter for option list",className:"c-input_select__filter_input p-workspace-search__select",onChange:this.onFilterInputChanged,placeholder:this.props.placeholder,ref:this.setRef("filterInput"),type:"text"};i.value=n&&!r?n:n||!a||r?r:a;return o.a.createElement("input",i)}},{key:"renderOptionsListMaybe",value:function e(){if(!this.state.isOpen)return null;var t=this.props,r=t.autoSelectFirstOption,n=t.isLoading,a=t.membersOnly,i=t.optionClassName,s=t.optionsRowHeight,c=t.pillarClassName,l=t.useFullWidthOptions,u=t.value,p=t.onScroll,f=t.onOptionHighlighted;var d=a?240:400;return o.a.createElement(g["a"],{autoSelectFirstOption:r,emptyStateMessage:this.getOptionsListEmptyMessage(),isLoading:n,maxListHeight:d,onOptionSelected:this.onOptionSelected,optionClassName:i,onScroll:p,optionGroups:a?null:this.maybeShowOptions(),options:a?this.maybeShowOptions():null,optionsRowHeight:s,pillarClassName:c,targetMeasurements:this.getOptionsListTargetMeasurements(),useFullWidthOptions:l,value:u,onActiveOptionUpdated:f})}},{key:"renderOptionsListEmptyMessage",value:function e(){var t=this.getFilterQuery();var r=N.rt('No workspaces found matching <span class="sk_black bold">{query}</span>.',{query:t});var n=N.t("Try searching for another workspace or searching for a teammate\u2019s workspaces.");return o.a.createElement("div",{className:"p-workspace_search__no-results-message"},o.a.createElement("p",{className:"margin_0"},r),o.a.createElement("p",{className:"margin_0"},n))}},{key:"renderOptionsListHintText",value:function e(){var t=this.props.membersOnly;var r=t?N.rt('Enter a teammate\u2019s <span class="sk_black bold">name</span> or <span class="sk_black bold">email address</span>.'):N.rt('Enter a teammate\u2019s <span class="sk_black bold">name</span> or <span class="sk_black bold">email address</span>, or search for a <span class="sk_black bold">specific workspace</span>.');return o.a.createElement("div",{className:"p-workspace_search__no-results-message"},o.a.createElement("p",{className:"margin_0"},r))}},{key:"render",value:function e(){var t=this.props,r=t.autoSelectFirstOption,n=t.className,a=t.displayValue,i=t.isLoading,s=t.labelId,l=t.membersOnly,u=t.name,p=t.onChange,f=t.onClearButtonClick,d=t.onClose,v=t.onFilterInputChange,h=t.onOutsideClick,m=t.onOpen,b=t.onOptionHighlighted,g=t.onScroll,y=t.optionClassName,O=t.options,j=t.optionsListOffsetBottom,w=t.optionsListOffsetTop,C=t.optionsListWidth,S=t.optionsRowHeight,T=t.optionGroups,I=t.pillarClassName,N=t.placeholder,A=t.selectedOption,P=t.selectedValueClassName,R=t.type,M=t.useFullWidthOptions,x=t.usePlaceholderOption,L=t.wrapperClassName,D=k(t,["autoSelectFirstOption","className","displayValue","isLoading","labelId","membersOnly","name","onChange","onClearButtonClick","onClose","onFilterInputChange","onOutsideClick","onOpen","onOptionHighlighted","onScroll","optionClassName","options","optionsListOffsetBottom","optionsListOffsetTop","optionsListWidth","optionsRowHeight","optionGroups","pillarClassName","placeholder","selectedOption","selectedValueClassName","type","useFullWidthOptions","usePlaceholderOption","wrapperClassName"]);var F=this.state.filterQuery;var B=c()("c-input_select__wrapper",L);var U=c()("c-input_select",{"c-input_select--active":this.state.isOpen,"c-input_select--short":"short"===R},n);var H=c()("p-workspace_search__clear-button",{hidden:!F&&!a});return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:B,onMouseDown:this.onWrapperMouseDownOrTouchStart,onMouseUp:this.onWrapperMouseUpOrTouchEnd,onTouchStart:this.onWrapperMouseDownOrTouchStart,onTouchEnd:this.onWrapperMouseUpOrTouchEnd,ref:this.setRef("wrapper"),role:"group"},o.a.createElement("div",E({},D,{"aria-labelledby":s,className:U,"data-name":u,onBlur:this.onBlurred,onMouseDown:this.onClicked,onFocus:this.onFocused,ref:this.setRef("select")}),this.renderFilterInput()),this.renderOptionsListMaybe()),o.a.createElement(_["c"],{className:H,onClick:this.onClearInput,tabIndex:"0",ref:this.setRef("closeButton")}))}}]);return t}(f["a"]);R.displayName="WorkspaceSearchSelect";R.propTypes=A;R.defaultProps=P;t["a"]=R},17760:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(17027);var u=r(20159);var p=r.n(u);var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m={item:a.a.object,type:a.a.oneOf(["member","workspace"]),featureReactMessages:a.a.bool.isRequired,featureReactMemberProfileCard:a.a.bool.isRequired};var b={item:{},type:"member"};var _=function(e){h(t,e);function t(e){d(this,t);var r=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(s["bindAll"])(r,["maybeRenderTitle","maybeRenderEmail"]);return r}f(t,[{key:"maybeRenderTitle",value:function e(t){if(!t)return null;return o.a.createElement("div",{className:"p-workspace_search_options_list_item__secondary_content_item"},t)}},{key:"maybeRenderEmail",value:function e(t){if(!t)return null;return o.a.createElement("div",{className:"p-workspace_search_options_list_item__secondary_content_item"},t)}},{key:"renderEntityIcon",value:function e(t){var r=t.item,n=t.type;var a=this.props,i=a.featureReactMemberProfileCard,s=a.featureReactMessages;return o.a.createElement(l["a"],{entityType:n,dimension:36,entityData:r,customClasses:"p-workspace_search_options_list_item__avatar",featureReactMessages:s,featureReactMemberProfileCard:i})}},{key:"renderItemAsMember",value:function e(t){var r=t.item,n=t.type;var a=Object(s["get"])(r,"profile");var i=a.real_name,c=a.email,l=a.title;return o.a.createElement("div",{className:"p-workspace_search_options_list_item"},this.renderEntityIcon({item:r,type:n}),o.a.createElement("div",{className:"p-workspace_search_options_list_item__content nudge_bottom_3"},o.a.createElement("div",{className:"p-workspace_search_options_list_item__primary_content"},i),o.a.createElement("div",{className:"p-workspace_search_options_list_item__secondary_content"},this.maybeRenderTitle(l),this.maybeRenderEmail(c))))}},{key:"renderItemAsWorkspace",value:function e(t){var r=t.item,n=t.type;var a=r.name,i=r.description;return o.a.createElement("div",{className:"p-workspace_search_options_list_item"},this.renderEntityIcon({item:r,type:n}),o.a.createElement("div",{className:"p-workspace_search_options_list_item__content nudge_bottom_3"},o.a.createElement("div",{className:"p-workspace_search_options_list_item__primary_content"},a),o.a.createElement("div",{className:"p-workspace_search_options_list_item__secondary_content"},i)))}},{key:"render",value:function e(){var t=this.props,r=t.item,n=t.type;return"member"===n?this.renderItemAsMember({item:r,type:n}):this.renderItemAsWorkspace({item:r,type:n})}}]);return t}(i["PureComponent"]);_.displayName="WorkspaceSearchOptionsListItem";t["a"]=_;_.propTypes=m;_.defaultProps=b},17763:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16913);var p=r(16919);var f=r(16918);var d=r(16912);var v=r(17028);var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function b(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=new d["b"]("workspace_directory");var E={launch:"launch",join:"join",request:"request",request_sent:"request_sent",default:"default"};var j={team:a.a.shape({id:a.a.string,description:a.a.string,discoverable:a.a.string,name:a.a.string,domain:a.a.string,is_member:a.a.bool,date_requested_join:a.a.oneOfType([a.a.string,a.a.number]),icon:a.a.object,is_inactive:a.a.bool,user_counts:a.a.object}).isRequired,buttonContext:a.a.oneOf(Object(c["values"])(v["a"])),featureZeroWorkspaceOnboarding:a.a.bool.isRequired,customClasses:a.a.string,onWorkspaceJoin:a.a.func,onWorkspaceRequestToJoin:a.a.func,onWorkspaceLaunch:a.a.func,onDefaultButtonClick:a.a.func,doLaunchInNewTab:a.a.bool,displayDirectoryInModal:a.a.bool,size:a.a.oneOf(["medium","large"])};var k={buttonContext:"largeCard",onClick:c["noop"],customClasses:"",onWorkspaceJoin:c["noop"],onWorkspaceRequestToJoin:c["noop"],onWorkspaceLaunch:c["noop"],onDefaultButtonClick:c["noop"],doLaunchInNewTab:false,displayDirectoryInModal:false,size:"large"};var w=function e(t){var r=t.displayDirectoryInModal;var n="primary";var a="join";var i=r?O.t("Join and Open"):O.t("Join and Launch Slack");return{text:i,type:n,"data-qa-ws-directory-button-type":n,"data-qa-ws-directory-button-text":a,"data-qa":a}};var C=function e(){var t="primary";var r="request_to_join";return{text:O.t("Request to Join"),type:t,"data-qa-ws-directory-button-type":t,"data-qa-ws-directory-button-text":r,"data-qa":r}};var S=function e(){var t="primary";var r="request_sent";return{text:O.t("Request Sent"),type:t,"data-qa-ws-directory-button-type":t,"data-qa-ws-directory-button-text":r,"data-qa":r,disabled:true}};var T=function e(t){var r=t.displayDirectoryInModal;var n="primary";var a="launch";var i=r?O.t("Open"):O.t("Launch in Slack");return{text:i,type:n,"data-qa-ws-directory-button-type":n,"data-qa-ws-directory-button-text":a,"data-qa":a}};var I=function e(){var t="outline";var r="default";return{type:t,text:O.t("View Details",{fallbackHash:"6319b15f86fee6c8e5aa4846437f377ec352787c"}),"data-qa-ws-directory-button-type":t,"data-qa-ws-directory-button-text":r,"data-qa":r}};var N=function(e){y(t,e);function t(e){_(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={loading:false};r.buttonType=null;r.onClick=r.onClick.bind(r);r.onKeyPress=r.onKeyPress.bind(r);return r}m(t,[{key:"onKeyPress",value:function e(t){t.stopPropagation();t.preventDefault();13===t.which&&this.handleButtonAction()}},{key:"onClick",value:function e(t){t.stopPropagation();t.preventDefault();this.handleButtonAction()}},{key:"setLoading",value:function e(t){this.setState(function(){return{loading:t}})}},{key:"getButtonProps",value:function e(t){var r=this.props.displayDirectoryInModal;switch(t){case E.launch:return T({displayDirectoryInModal:r});case E.request:return C();case E.join:return w({displayDirectoryInModal:r});case E.request_sent:return S();case E.default:return I();default:return null}}},{key:"handleButtonAction",value:function e(){var t=this;var r=this.props.doLaunchInNewTab;if("default"===this.buttonType)return this.props.onDefaultButtonClick();this.setLoading(true);if("join"===this.buttonType){if(r){var n=window.open("","_blank");return this.props.onWorkspaceJoin({onDone:function e(){return t.props.onWorkspaceLaunch(n)},onReject:function e(){t.setLoading(false);n.close()}})}return this.props.onWorkspaceJoin({onDone:function e(){return t.props.onWorkspaceLaunch()}})}if("request"===this.buttonType)return this.props.onWorkspaceRequestToJoin({onDone:function e(){t.setLoading(false)}});if("launch"===this.buttonType){this.props.onWorkspaceLaunch();r&&this.setLoading(false)}return null}},{key:"render",value:function e(){var t=this.props,r=t.featureZeroWorkspaceOnboarding,n=t.team,a=t.buttonContext,i=t.customClasses,s=t.size;var l=this.state.loading;var u=P(n,{context:a,featureZeroWorkspaceOnboarding:r});this.buttonType=u;var p=this.getButtonProps(u);if(!u||Object(c["isEmpty"])(p))return null;var d=n.id;var v=p.text,m=b(p,["text"]);var _=m.disabled||l;return o.a.createElement(f["b"],h({},m,{className:i,role:"button",tabIndex:"0",onClick:this.onClick,onKeyPress:this.onKeyPress,"data-workspace-id":d,"data-qa-ws-directory-button":true,loading:l,disabled:_,size:s}),v)}}]);return t}(i["Component"]);N.displayName="WorkspaceDirectoryButton";N.propTypes=j;N.defaultProps=k;var A=function e(t,r){var n=r.team,a=r.onActionReject,i=r.onActionResolve,o=r.anchorPage,s=r.doLaunchInNewTab,l=r.doUpsertJoin,f=r.channelRedirect,d=r.postLaunchAction,h=r.userIdFromURL;var m=Object(p["getCurrentMember"])(t);return{featureZeroWorkspaceOnboarding:Object(u["isFeatureEnabled"])(t,"feature_zero_workspace_onboarding"),displayDirectoryInModal:Object(u["isClientApp"])(t),onWorkspaceJoin:function e(r){var s=r.onDone,u=r.onReject,p=void 0===u?c["noop"]:u;return Object(v["i"])(t,{team:n,onActionReject:function e(){p();a.apply(void 0,arguments)},onActionResolve:i,onDone:s,anchorPage:o,doUpsertJoin:l})},onWorkspaceRequestToJoin:function e(r){var s=r.onDone;return Object(v["l"])(t,{team:n,onActionReject:a,onActionResolve:i,onDone:s,anchorPage:o})},onWorkspaceLaunch:function e(r){return Object(v["j"])(t,{team:n,user:m,onActionResolve:i,anchorPage:o,doLaunchInNewTab:s,windowOpener:r,channelRedirect:f,postLaunchAction:d,userIdFromURL:h})}}};t["a"]=Object(s["connect"])(A)(N);function P(e,t){var r=t.context,n=void 0===r?v["a"].smallCard:r,a=t.featureZeroWorkspaceOnboarding,i=void 0===a||a;if(!i)return null;var o=e.is_member,s=e.date_requested_join,c=e.is_assigned,l=e.discoverable;if(o)return E.launch;if(n!==v["a"].smallCard){switch(l){case"open":return E.join;case"closed":if(!s)return E.request;if(n===v["a"].largeCard)return E.request_sent;break;case"unlisted":if(c)return E.join;break;default:}return null}return E.default}},17765:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p={item:a.a.object};var f={item:{}};var d=function(e){u(t,e);function t(){c(this,t);return l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}s(t,[{key:"render",value:function e(){var t=this.props.item;var r=t.member.profile.image_48+" 1x, "+t.member.profile.image_72+" 2x";return o.a.createElement("div",{className:"c-lazy_filter_select__member_item"},o.a.createElement("img",{alt:"",className:"c-lazy_filter_select__member_list_icon",src:t.member.profile.image_48,srcSet:r}),o.a.createElement("div",{className:"c-lazy_filter_select__member_token_name"},t.member.profile.real_name),o.a.createElement("div",{className:"c-lazy_filter_select__member_token_name"},"@",t.member.name))}}]);return t}(i["PureComponent"]);d.displayName="LazyFilterSelectMemberListItem";t["a"]=d;d.propTypes=p;d.defaultProps=f},17766:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p={item:a.a.object};var f={item:{}};var d=function(e){u(t,e);function t(){c(this,t);return l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}s(t,[{key:"render",value:function e(){var t=this.props.item;return o.a.createElement("div",{className:"c-lazy_filter_select__member_token",key:t.id},o.a.createElement("img",{alt:"",className:"c-lazy_filter_select__member_token_icon",src:t.member.profile.image_48}),o.a.createElement("div",{className:"c-lazy_filter_select__member_token_name"},t.member.profile.real_name))}}]);return t}(i["PureComponent"]);d.displayName="LazyFilterSelectMemberToken";t["a"]=d;d.propTypes=p;d.defaultProps=f},17767:function(e,t,r){"use strict";r.d(t,"b",function(){return a});r.d(t,"d",function(){return i});r.d(t,"a",function(){return o});r.d(t,"c",function(){return s});var n=r(16914);var a=Object(n["c"])("TS.ui.channel_options_dialog.promiseToGetWhoCanPostListData",function(){return false});var i=Object(n["c"])("TS.ui.team_picker.createFilterFunction",function(){return function(){return Promise.resolve({items:[]})}});var o=Object(n["c"])("TS.permissions.members.canDisconnectSharedChannels",function(){return false});var s=Object(n["c"])("TS.ui.im_browser.showRequestToDisconnectSharedChannelModal",function(){return false})},17768:function(e,t,r){"use strict";r.d(t,"b",function(){return o});r.d(t,"c",function(){return s});r.d(t,"d",function(){return c});r.d(t,"f",function(){return l});r.d(t,"a",function(){return u});r.d(t,"e",function(){return p});var n=r(1);var a=r.n(n);var i=r(16914);var o=Object(i["c"])("TS.client.channel_pane.openChannelBrowser",a.a.noop);var s=Object(i["c"])("TS.client.channel_pane.openChannelBrowserToSharedChannels",a.a.noop);var c=Object(i["c"])("TS.client.channel_pane.openCreateChannelDialog",a.a.noop);var l=Object(i["c"])("TS.client.channel_pane.openDMBrowser",a.a.noop);var u=Object(i["c"])("TS.client.channel_pane.openAppsBrowser",a.a.noop);var p=Object(i["c"])("TS.ui.share_channel_dialog.start",a.a.noop)},17769:function(e,t,r){"use strict";var n=r(18005);t["a"]=n["a"]},17770:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n="CHANNEL-SIDEBAR";var a={LOG_LABEL:n}},17771:function(e,t,r){"use strict";r.d(t,"a",function(){return u});r.d(t,"d",function(){return p});r.d(t,"b",function(){return f});r.d(t,"c",function(){return d});r.d(t,"e",function(){return v});var n=r(11);var a=r.n(n);var i=r(16929);var o=r(16916);var s=r(17063);var c=r(17411);var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var u=Object(s["a"])("Fetch Feed messages",function(e){e(Object(c["setExploreLoadingState"])({loading:true}));e(Object(i["a"])({method:"explore.feed"})).then(function(t){e(Object(c["setExploreFeedMessages"])({data:t.items}));e(Object(c["setExploreLoadingState"])({loading:false}));e(Object(c["setExploreLastFetched"])({lastFetched:a()()}))}).catch(function(e){return Object(o["error"])(e)})});var p=Object(s["a"])("Set Explore follows",function(e,t,r){var n=r.followChannels,a=r.followUsers,s=r.followKeywords;var l=a.map(function(e){return{id:e.id}});e(Object(i["a"])({method:"explore.setFollows",args:{channels:JSON.stringify(n),users:JSON.stringify(l),keywords:JSON.stringify(s)}})).then(function(){e(Object(c["setExploreFollows"])({channels:n,users:a,keywords:s}))}).catch(function(e){return Object(o["error"])(e)})});var f=Object(s["a"])("Fetch Explore follows",function(e){e(Object(c["setExploreFollowsLoading"])({followsLoading:true}));e(Object(i["a"])({method:"explore.getFollows"})).then(function(t){e(Object(c["setExploreFollows"])({channels:t.channels,users:t.users,keywords:t.keywords}));e(Object(c["setExploreFollowsLoading"])({followsLoading:false}))}).catch(function(e){return Object(o["error"])(e)})});var d=Object(s["a"])("Fetch Explore Alpha preferences",function(e){e(Object(c["setExplorePrefsLoading"])({prefsLoading:true}));e(Object(i["a"])({method:"explore.getPrefs"})).then(function(t){var r=l({},t);delete r.ok;delete r.args;delete r.method;delete r.request_id;e(Object(c["setExplorePrefs"])({prefs:r}));e(Object(c["setExplorePrefsLoading"])({prefsLoading:false}))}).catch(function(e){return Object(o["error"])(e)})});var v=Object(s["a"])("Set Explore Alpha preferences",function(e,t,r){e(Object(c["setExplorePrefs"])({prefs:r}));e(Object(i["a"])({method:"explore.setPrefs",args:l({},r)})).catch(function(e){return Object(o["error"])(e)})})},17772:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(3);var s=r.n(o);var c=r(8);var l=r.n(c);var u=r(1);var p=r.n(u);var f=r(15861);var d=r(16913);var v=r(16948);var h=r(16947);var m=r(16912);var b=r(17079);var _=r(16977);var g=r(17598);var y=r(20536);var O=r(17147);var E=r(16917);var j=r(17778);var k=r(17262);var w=r(17264);var C=r(17327);var S=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function N(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A=2097152;var P=new m["b"]("files");var R={file:h["a"].File().isRequired,channelId:s.a.string,clogLinkClick:s.a.func,activeTeamId:s.a.string,hasHighlightMarkers:s.a.bool,showActions:s.a.bool,codecSupportFeatureEnabled:s.a.bool};var M={channelId:null,clogLinkClick:u["noop"],activeTeamId:null,hasHighlightMarkers:false,showActions:false,codecSupportFeatureEnabled:false};var x=function(e){N(t,e);function t(e){T(this,t);var r=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={videoCodecSupported:true};r.onClick=r.onClick.bind(r);r.setMediaRef=r.setMediaRef.bind(r);r.videoOnLoadedData=r.videoOnLoadedData.bind(r);return r}S(t,[{key:"componentWillReceiveProps",value:function e(t){this.props.activeTeamId!==t.activeTeamId&&this.pauseMedia()}},{key:"onClick",value:function e(t){if(Object(y["a"])(t))return;var r=this.props,n=r.file,a=r.clogLinkClick;var i=this.getMainAction(n);switch(i){case"view":t.preventDefault();a({link_action:"file_preview_action"});Object(O["a"])({modal_class:"fs_modal_file_viewer",current_file_id:n.id,show_control_btns:false});break;case"download":Object(g["a"])(this.props.file,true)&&t.preventDefault();break;case"external":var o={link_action:"file_viewer_external_link"};if("gdrive"===n.external_type){var s=n.mimetype&&-1!==n.mimetype.indexOf("image/");o.contexts={platform:{service_type:"GSUITE",app_id:9,has_rich_preview:n.has_rich_preview&&!s}}}a(o);break;default:break}}},{key:"setMediaRef",value:function e(t){this.mediaRef=t}},{key:"getMainAction",value:function e(){var t=this.props.file;if(this.canView(t))return"view";return Object(v["getFileOpenMode"])(t)}},{key:"getActionText",value:function e(){var t=this.props.file;var r=this.getMainAction(t);switch(r){case"view":return P.t("Click to view");case"download":return P.t("Click to download");case"window":return P.t("Click to open original");case"external":switch(t.external_type){case"gdrive":return P.t("Click to open in Google\xa0Drive");case"dropbox":return P.t("Click to open in Dropbox");case"box":return P.t("Click to open in Box");case"onedrive":return P.t("Click to open in OneDrive");default:return P.t("Click to open in a\xa0web\xa0page")}default:return P.t("Click to open")}}},{key:"videoOnLoadedData",value:function e(){if(!this.props.codecSupportFeatureEnabled)return;if(!this.mediaRef)return;if(!this.mediaRef.videoWidth&&!this.mediaRef.videoHeight){var t={videoCodecSupported:false};this.setState(function(){return t})}}},{key:"pauseMedia",value:function e(){if(!this.mediaRef)return;this.mediaRef.pause()}},{key:"canView",value:function e(){var t=this.props.file;return Object(_["n"])(t)}},{key:"hasThumb",value:function e(){var t=this.props.file;return t.has_rich_preview&&t.thumb_480||t.thumb_pdf}},{key:"shouldShowSize",value:function e(){var t=this.props.file;return t.size>2e4&&-1===["gdoc","gpres","gsheet","gdraw"].indexOf(t.filetype)}},{key:"renderThumb",value:function e(){var t=this.props.file;if(!this.hasThumb())return null;var r=void 0;var n=void 0;var i=void 0;if(t.thumb_800){var o=[t.thumb_800_w,t.thumb_800_h,t.thumb_800];r=o[0];n=o[1];i=o[2]}else if(t.thumb_480){var s=[t.thumb_480_w,t.thumb_480_h,t.thumb_480];r=s[0];n=s[1];i=s[2]}else if(t.thumb_pdf){var c=[t.thumb_pdf_w,t.thumb_pdf_h,t.thumb_pdf];r=c[0];n=c[1];i=c[2]}if(!i)return null;var u=l()("c-file__thumb",{"c-file__thumb--landscape":r>n});var p={backgroundImage:"url('"+i+"')"};return a.a.createElement("div",{className:u,style:p})}},{key:"renderMedia",value:function e(){var t=this.props.file;var r=this.state.videoCodecSupported;if(!r||!Object(v["fileIsHostedSupportedMedia"])(t))return null;if(Object(v["fileIsSupportedVideo"])(t))return this.renderVideo();if(Object(v["fileIsSupportedAudio"])(t))return this.renderAudio();return null}},{key:"renderAudio",value:function e(){var t=this.props.file;var r=t.size<=A?"auto":"metadata";var n=t.url_private;return a.a.createElement("audio",{className:"c-file__media c-file__media--audio",controls:true,preload:r,src:n,ref:this.setMediaRef},P.rt("Your browser does not support HTML5 Audio. Try <a>a modern browser</a>.",null,function(e){var t=e.key,r=e.text;return a.a.createElement("a",{key:t,href:"http://browsehappy.com/"},r)}))}},{key:"renderVideo",value:function e(){var t=this.props,r=t.codecSupportFeatureEnabled,n=t.file;var i={width:n.width,height:n.height,source:n.url_private,size:n.size};if(n.video&&n.video.outputs)for(var o=n.video.outputs.length-1;o>=0;o-=1){var s=n.video.outputs[o];s.source&&(!i.width||s.width>i.width)&&(i=s)}var c=!r&&(n.thumb_video||void 0);var l=i.source;var u=r?"metadata":"none";return a.a.createElement("video",{className:"c-file__media c-file__media--video",controls:true,preload:u,src:l,onLoadedData:this.videoOnLoadedData,poster:c,ref:this.setMediaRef},P.rt("Your browser does not support HTML5 Video. Try <a>a modern browser</a>.",null,function(e){var t=e.key,r=e.text;return a.a.createElement("a",{key:t,href:"http://browsehappy.com/"},r)}))}},{key:"renderTombstone",value:function e(){return a.a.createElement(j["a"],{file:this.props.file})}},{key:"render",value:function e(){var t=this.props,r=t.file,n=t.channelId,i=t.clogLinkClick,o=t.hasHighlightMarkers,s=t.showActions;if(Object(v["isTombstone"])(r))return this.renderTombstone();var c=this.getMainAction(r);var u=this.shouldShowSize();var p="download"===c?r.url_private_download:r.url_private;var f=s?a.a.createElement(k["a"],{file:r,channelId:n,clogLinkClick:i}):null;return a.a.createElement("div",{className:l()("c-file_container",{"c-file_container--has_thumb":this.hasThumb()})},a.a.createElement("a",{className:l()("c-file","c-file--"+r.filetype,{"c-file--fsfv":"view"===c}),href:p,target:p,onClick:this.onClick},a.a.createElement(E["a"],{className:l()("c-file__icon","c-file__icon--"+c),file:true,type:r.filetype,align:"top"}),a.a.createElement("div",{className:"c-file__description"},a.a.createElement(w["a"],{file:r,className:"c-file__title",clogLinkClick:i,hasHighlightMarkers:o}),a.a.createElement("p",{className:"c-file__meta"},u&&Object(b["a"])(r.size)+" ",a.a.createElement("span",{className:"c-file__meta_swap"},r.is_external?Object(C["a"])(r):r.pretty_type,a.a.createElement("span",{className:l()("c-file__slide","c-file__slide--meta",{"c-file__slide--meta-size":u})},this.getActionText())))),this.renderThumb()),this.renderMedia(),f)}}]);return t}(n["PureComponent"]);x.displayName="GenericFile";x.propTypes=R;x.defaultProps=M;var L=function e(t){return{activeTeamId:Object(f["getActiveTeamId"])(t),codecSupportFeatureEnabled:Object(d["isFeatureEnabled"])(t,"feature_video_file_codec_support")}};t["a"]=Object(i["connect"])(L)(x)},17773:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);t["a"]=a.a.shape({app:a.a.shape({id:a.a.string.isRequired,name:a.a.string.isRequired,icons:a.a.oneOfType([a.a.objectOf(a.a.string),a.a.array]).isRequired}).isRequired,id:a.a.string.isRequired,name:a.a.string.isRequired,description:a.a.string.isRequired})},17774:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(17597);var o=Object(i["a"])({id:a.a.string.isRequired,name:a.a.string,title:a.a.string,size:a.a.number,filetype:a.a.string,mode:a.a.string,mimetype:a.a.string,pretty_type:a.a.string,user:a.a.string,username:a.a.string,is_starred:a.a.bool,_rxn_key:a.a.string,timestamp:a.a.number,public_url_shared:a.a.bool,created:a.a.number,url_private:a.a.string,url_private_download:a.a.string,permalink:a.a.string,edit_link:a.a.string,comments:a.a.arrayOf(a.a.object),comments_count:a.a.number,initial_comment:a.a.object,is_external:a.a.bool,external_type:a.a.string,width:a.a.number,height:a.a.number,has_rich_preview:a.a.bool,video:a.a.object,thumb_video:a.a.string,thumb_360:a.a.string,thumb_360_w:a.a.number,thumb_360_h:a.a.number,thumb_480:a.a.string,thumb_480_w:a.a.number,thumb_480_h:a.a.number,thumb_720:a.a.string,thumb_720_w:a.a.number,thumb_720_h:a.a.number,thumb_800:a.a.string,thumb_800_w:a.a.number,thumb_800_h:a.a.number,thumb_pdf:a.a.string,thumb_pdf_w:a.a.number,thumb_pdf_h:a.a.number,is_truncated:a.a.bool,content:a.a.string,content_html:a.a.string,content_highlight_html:a.a.string,preview:a.a.string,preview_highlight:a.a.string,preview_is_truncated:a.a.bool,lines_more:a.a.number,updated:a.a.number,sent_to_self:a.a.bool,from:a.a.arrayOf(a.a.object),to:a.a.arrayOf(a.a.object),cc:a.a.arrayOf(a.a.object),subject:a.a.string,attachments:a.a.arrayOf(a.a.object),preview_plain_text:a.a.string,simplified_html:a.a.string});t["a"]=o},17775:function(e,t,r){"use strict";var n=r(16916);var a=r(16924);var i=function e(t,r){a["isDev"]&&Object(n["warn"])("You're using a browser that doesn't support the JS Proxy API! React PropTypes checking might not work as expected.");Object.keys(r).forEach(function(e){try{Object.defineProperty(t,e,{value:r[e]})}catch(e){}});return t};t["a"]=i},17776:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(1);var o=r.n(i);var s=r(17736);t["a"]=a.a.shape({id:a.a.string.isRequired,appId:a.a.string,label:a.a.node,name:a.a.string.isRequired,description:a.a.string,iconSet:a.a.objectOf(a.a.string),iconType:a.a.string,danger:a.a.bool,isLoading:a.a.bool,frecencyId:a.a.string.isRequired,"data-qa":a.a.string.isRequired,uiElement:a.a.oneOf(Object(i["values"])(s["h"])).isRequired})},17777:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(17597);var o=Object(i["a"])({action:a.a.string.isRequired,name:a.a.string,inviter:a.a.string,inviterName:a.a.string,ts:a.a.string});var s=function e(t){return a.a.objectOf(o(t))};t["a"]=s},17778:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(16947);var f=r(17188);var d=r(17194);var v=r(17609);var h=r(17822);var m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y={file:p["a"].File().isRequired,clogLinkClick:o.a.func,className:o.a.string};var O={clogLinkClick:l["noop"],className:null};var E=function(e){g(t,e);function t(e){b(this,t);var r=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onClick=r.onClick.bind(r);return r}m(t,[{key:"onClick",value:function e(t){t.preventDefault()}},{key:"render",value:function e(){var t=this.props,r=t.file,n=t.clogLinkClick;var i=c()("p-message_file",this.props.className);return a.a.createElement(f["a"],{file:r,className:i,clogLinkClick:n,onClick:this.onClick},a.a.createElement(d["a"],{file:r,action:"download",showThumbnail:false},a.a.createElement(v["a"],{file:r,action:"download"})),a.a.createElement(h["a"],{file:r}))}}]);return t}(n["PureComponent"]);E.displayName="MessageFile";t["a"]=E;E.propTypes=y;E.defaultProps=O},17779:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(16929);var a=r(17063);var i=Object(a["a"])("Set whether this message/file/etc is starred",function(e,t,r){var a=r.starred,i=r.args;var o=a?"stars.add":"stars.remove";return e(Object(n["a"])({method:o,args:i}))})},17780:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(3);var l=r.n(c);var u=r(16947);var p=r(16913);var f=r(16946);var d=r(16912);var v=r(16958);var h=r(16956);var m=r(17e3);var b=r(20162);var _=r.n(b);var g=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j=new d["b"]("file-details");var k={file:u["a"].File().isRequired,featureFileThreads:l.a.bool,renameFileApi:l.a.func};var w={file:void 0,featureFileThreads:false,renameFileApi:a.a.noop};var C=function(e){E(t,e);function t(e){y(this,t);var r=O(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={value:a.a.unescape(r.props.file.title)};r.onGo=r.onGo.bind(r);r.onChange=r.onChange.bind(r);return r}g(t,[{key:"onGo",value:function e(){if(""===this.state.value)return;var t=this.props.file;var r=this.state.value;this.props.renameFileApi({fileId:t.id,title:r})}},{key:"onChange",value:function e(t){this.setState(function(){return{value:t}})}},{key:"render",value:function e(){var t=this.props.featureFileThreads;if(!t)return null;var r=j.t("File name");var n=j.t("Rename file");var a=j.t("Save Changes");return o.a.createElement(h["a"],{className:"p-rename_file_dialog",title:n,goButtonText:a,goButtonType:"primary",onGo:this.onGo,goButtonIsDisabled:""===this.state.value},o.a.createElement(m["a"],{autoFocus:true,id:"react-file-details-input",name:"rename-file",value:this.state.value,maxCharacterLimit:v["MAX_FILENAME_LENGTH"],counterMinimumCharacters:v["MIN_FILENAME_CHARACTERS_BEFORE_WARNING"],isRequired:true,placeholder:r,onChange:this.onChange}))}}]);return t}(i["PureComponent"]);C.displayName="RenameFileDialog";C.propTypes=k;C.defaultProps=w;var S=function e(t){return{featureFileThreads:Object(p["isFeatureEnabled"])(t,"feature_file_threads")}};var T={renameFileApi:f["renameFileApi"]};t["a"]=Object(s["connect"])(S,T)(C)},17782:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16913);var p=r(16949);var f=r(17395);var d=r(16922);var v=r(16925);var h=r(16939);var m=r(16930);var b=r(16919);var _=r(17101);var g=r(16946);var y=r(16923);var O=r(17783);var E=r(16953);var j=r(16965);var k=r(17396);var w=r(16977);var C=r(17404);var S=r(17154);var T=r(16940);var I=r(16921);var N=r(16948);var A=r(16920);var P=r(17400);var R=r(16912);var M=r(16958);var x=r(16933);var L=r(17080);var D=r(16918);var F=r(17602);var B=r(17813);var U=r(16994);var H=r(16956);var q=r(16932);var G=r(16957);var W=r(17014);var V=r(17e3);var K=r(16942);var z=r(17643);var Q=r(17644);var Y=r(17645);var J=r(17646);var X=r(20151);var Z=r.n(X);var $=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var ee=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ne(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ae=new R["b"]("share-dialog");var ie={message:a.a.object,messageAuthor:a.a.object,messageAuthorTeamName:a.a.string,channel:a.a.object,channelDisplayName:a.a.string,filesOnMessage:a.a.arrayOf(a.a.object),sendShareMessage:a.a.func,file:a.a.object,fileOwner:a.a.object,fileOwnerName:a.a.string,fileOwnerTeamName:a.a.string,teamName:a.a.string,disableFileEditingPref:a.a.bool,initialText:a.a.string,isMessageShare:a.a.bool,featureFileThreads:a.a.bool,displayModelOrViewById:a.a.func,closeModal:a.a.func,openShareDialog:a.a.func,getShareableChannelId:a.a.func,msgText:a.a.string,setMsgText:a.a.func,selectedChannelId:a.a.string,setSelectedChannel:a.a.func,disallowedKeywordInMsgText:a.a.string,canPostInSelectedChannel:a.a.bool};var oe={message:null,messageAuthor:null,messageAuthorTeamName:null,channel:null,channelDisplayName:null,filesOnMessage:null,file:null,fileOwner:null,fileOwnerName:null,fileOwnerTeamName:null,teamName:null,disableFileEditingPref:false,initialText:"",isMessageShare:true,featureFileThreads:false,sendShareMessage:l.a.noop,displayModelOrViewById:l.a.noop,closeModal:l.a.noop,openShareDialog:l.a.noop,getShareableChannelId:l.a.noop,msgText:"",setMsgText:l.a.noop,selectedChannelId:null,setSelectedChannel:l.a.noop,disallowedKeywordInMsgText:null,canPostInSelectedChannel:false};var se=function(e){ne(t,e);function t(e){te(this,t);var r=re(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onTextChange=r.onTextChange.bind(r);r.onShareChannelChange=r.onShareChannelChange.bind(r);r.onGo=r.onGo.bind(r);r.onCopyLinkClick=r.onCopyLinkClick.bind(r);r.onCopyLinkMouseLeave=r.onCopyLinkMouseLeave.bind(r);r.onLetOthersEditPostCheckboxClick=r.onLetOthersEditPostCheckboxClick.bind(r);r.onNameThisPostInputChange=r.onNameThisPostInputChange.bind(r);r.onShareFileInsteadOfMessageClick=r.onShareFileInsteadOfMessageClick.bind(r);r.setChannelPickerRef=r.setChannelPickerRef.bind(r);r.setMessageInputRef=r.setMessageInputRef.bind(r);r.shouldShowCloseDialogSpeedBump=r.shouldShowCloseDialogSpeedBump.bind(r);r.channelPicker=null;r.messageInput=null;r.state={showCopyLinkSuccess:false,overMsgLengthLimit:false,letOthersEditPost:false,nameThisPostInputValue:"",submitting:false};return r}ee(t,[{key:"componentWillMount",value:function e(){var t=this.props.channel;if(!this.canShareOutOfOriginChannel()){var r=t&&t.id;this.props.setSelectedChannel(r)}}},{key:"componentDidMount",value:function e(){var t=this.props,r=t.message,n=t.file;r||n||this.props.closeModal()}},{key:"onTextChange",value:function e(t){var r=t.text,n=t.overLimit;this.props.setMsgText(r);this.setState(function(){return{overMsgLengthLimit:n}})}},{key:"onShareChannelChange",value:function e(t){this.props.setSelectedChannel(t)}},{key:"onShareFileInsteadOfMessageClick",value:function e(t){var r=this.props.msgText;if(!t)return;this.props.openShareDialog({fileId:t,initialText:r})}},{key:"onGo",value:function e(){if(this.isGoButtonDisabled())return false;if(this.props.isMessageShare){this.shareMessageOnGo();return true}this.shareFileOnGo();return true}},{key:"onCopyLinkClick",value:function e(t){var r=this.props,n=r.isMessageShare,a=r.message,i=r.file;t.preventDefault();if(!Object(L["canWriteText"])())return;var o=n?Object(j["b"])(a.channel,a.ts):i.permalink;if(!o)return;Object(L["writeText"])(o);this.setState(function(){return{showCopyLinkSuccess:true}})}},{key:"onCopyLinkMouseLeave",value:function e(){this.state.showCopyLinkSuccess&&this.setState(function(){return{showCopyLinkSuccess:false}})}},{key:"onLetOthersEditPostCheckboxClick",value:function e(){this.setState(function(e){return{letOthersEditPost:!e.letOthersEditPost}})}},{key:"onNameThisPostInputChange",value:function e(t){this.setState(function(){return{nameThisPostInputValue:t}})}},{key:"getShareFileInsteadOfMessageOption",value:function e(){var t=this;var r=this.props,n=r.message,a=r.isMessageShare,i=r.featureFileThreads;if(!i)return null;if(!a)return null;var s=n&&n.files&&1===n.files.length&&n.files[0];if(!s)return null;var c=ae.rt("If you\u2019d like, you can <a>share just the file</a> elsewhere.",null,function(e){var r=e.text;return o.a.createElement(K["a"],{onClick:function e(){return t.onShareFileInsteadOfMessageClick(s)}},r)});return o.a.createElement(o.a.Fragment,null,"\xa0",c)}},{key:"getMessageShareAlertText",value:function e(){var t=this.props,r=t.featureFileThreads,n=t.isMessageShare,a=t.channel,i=t.channelDisplayName,s=t.messageAuthor,c=t.messageAuthorTeamName;if(!r)return null;if(!n)return null;if(this.canShareOutOfOriginChannel()){if(Object(I["E"])(s)&&c)return ae.rt("<strong>This message is from a member of {team_name}</strong>. You may want to check with them before sharing it.",{team_name:c});return null}var l=void 0;l=Object(A["isPrivateChannel"])(a)?ae.rt("<strong>This message is from a private channel,</strong> so it can only be shared with <strong>{privateChannelName}</strong>.",{privateChannelName:i,fallbackHash:"39e92abd2263ec15344c8750048f85bbb67ec6eb"}):Object(A["isMpim"])(a)?ae.rt("<strong>This message is from a private conversation,</strong> so it can only be shared with <strong>{mpimName}</strong>.",{mpimName:i,fallbackHash:"bc7b00c5cab5cc6ac4a46c145022f850e2918db2"}):ae.rt("<strong>This message is from a private conversation,</strong> so it can only be shared with <strong>{imName}</strong>.",{imName:i,fallbackHash:"bc7b00c5cab5cc6ac4a46c145022f850e2918db2"});return o.a.createElement(o.a.Fragment,null,l,this.getShareFileInsteadOfMessageOption())}},{key:"getPrivateFileShareAlert",value:function e(){var t=this.props,r=t.featureFileThreads,n=t.isMessageShare,a=t.file,i=t.fileOwner,o=t.fileOwnerName,s=t.fileOwnerTeamName;if(!r)return null;if(n)return null;if(!a)return null;if(Object(I["P"])(i)||a.bot_id)return null;if(Object(N["isFilePrivateAndUnshared"])(a))return ae.rt("This file was sent to you privately. You may want to check with <strong>{fileOwnerName}</strong> before sharing it.",{fileOwnerName:o});if(Object(I["E"])(i)&&s)return ae.rt("This file was originally uploaded by a member of the <strong>{owner_team}</strong> team. Please make sure you have permission to share it.",{owner_team:s});return null}},{key:"getGoogleFileShareAlert",value:function e(){var t=this.props,r=t.featureFileThreads,n=t.isMessageShare,a=t.file,i=t.teamName;if(!r)return null;if(n)return null;if(a&&a.mimetype&&-1!==a.mimetype.indexOf("application/vnd.google-apps")){var o=a.pretty_type?a.pretty_type.replace(/GDocs /,""):null;if(o)switch(o){case"Document":return i?ae.rt("<strong>Note:</strong> Anyone at {teamName} with the link will be able to edit this Google Document.",{teamName:i}):ae.rt("<strong>Note:</strong> Anyone with the link will be able to edit this Google Document.");case"Spreadsheet":return i?ae.rt("<strong>Note:</strong> Anyone at {teamName} with the link will be able to edit this Google Spreadsheet.",{teamName:i}):ae.rt("<strong>Note:</strong> Anyone with the link will be able to edit this Google Spreadsheet.");case"Presentation":return i?ae.rt("<strong>Note:</strong> Anyone at {teamName} with the link will be able to edit this Google Presentation.",{teamName:i}):ae.rt("<strong>Note:</strong> Anyone with the link will be able to edit this Google Presentation.");default:return ae.rt("<strong>Note:</strong> Anyone with the link will be able to edit this Google file.")}}return null}},{key:"getFileShareAlertText",value:function e(){var t=this.props,r=t.featureFileThreads,n=t.isMessageShare;if(!r)return null;if(n)return null;var a=this.getPrivateFileShareAlert();if(a)return a;var i=this.getGoogleFileShareAlert();if(i)return i;return null}},{key:"getCopyLinkTooltipText",value:function e(){var t=this.props,r=t.featureFileThreads,n=t.isMessageShare;var a=this.state.showCopyLinkSuccess;if(!r)return null;if(a)return ae.t("Copied!");if(n)return ae.t("You can also copy a link to this message. To share, paste it in any channel or conversation.",{fallbackHash:"47d2c72f9b2aa1d23b1fe4064c2d6dd339e9d2d8"});return ae.t("You can also copy a link to this file. To share, paste it in any channel or conversation.",{fallbackHash:"c18d8866f7af7e53948c4fd1ea0d393c7620a1bd"})}},{key:"getCleanMsgText",value:function e(){var t=Object(E["a"])(this.props.msgText);return l.a.trim(t)}},{key:"getPropsForMessageAttachmentSlackMessage",value:function e(){var t=this.props,r=t.message,n=t.channel,a=t.filesOnMessage,i=t.featureFileThreads;return{ts:r.ts,channelId:r.channel,authorId:r.user,text:r.text,channelName:Object(A["getDisplayName"])(n),isReplyUnfurl:Object(T["isReply"])(r),fromUrl:Object(j["b"])(r.channel,r.ts),files:a,featureFileThreads:i}}},{key:"setChannelPickerRef",value:function e(t){if(!t)return;this.channelPicker=t.getWrappedInstance();this.props.selectedChannelId||this.focusChannelPickerSelectInput()}},{key:"setMessageInputRef",value:function e(t){if(!t)return;this.messageInput=t.getWrappedInstance();this.props.selectedChannelId&&this.focusMessageInput()}},{key:"focusChannelPickerSelectInput",value:function e(){this.channelPicker&&this.channelPicker.focusSelectInput()}},{key:"focusMessageInput",value:function e(){this.messageInput&&this.messageInput.focus()}},{key:"canShareOutOfOriginChannel",value:function e(){var t=this.props,r=t.isMessageShare,n=t.channel;if(!r)return true;return Object(A["isPublicChannel"])(n)}},{key:"shouldLetOthersEditPost",value:function e(){var t=this.props,r=t.file,n=t.fileOwner,a=t.disableFileEditingPref;if(!r)return false;if(!Object(C["b"])())return false;if(!Object(I["P"])(n))return false;if(a)return false;if(Object(N["hasFileBeenShared"])(r))return false;return true}},{key:"shouldRenderNameThisPostInput",value:function e(){var t=this.props,r=t.file,n=t.fileOwner;if(!r)return false;if(!Object(C["b"])())return false;if(!Object(I["P"])(n))return false;if("-"!==r.name)return false;return true}},{key:"isGoButtonDisabled",value:function e(){var t=this.props,r=t.disallowedKeywordInMsgText,n=t.canPostInSelectedChannel;var a=this.state,i=a.overMsgLengthLimit,o=a.nameThisPostInputValue,s=a.submitting;var c=o&&o.length>M["MAX_FILENAME_LENGTH"];return!n||!!r||i||c||s}},{key:"shouldShowCloseDialogSpeedBump",value:function e(){var t=this.props.msgText;return t.length>M["CONFIRM_DISCARD_TEXT_LENGTH"]}},{key:"shareMessageOnGo",value:function e(){var t=this;var r=this.props,n=r.message,a=r.channel,i=r.selectedChannelId,o=r.getShareableChannelId;var s=n.ts;var c=a.id;var l=this.getCleanMsgText();if(!i)return;o({channelOrMemberId:i}).then(function(e){t.props.sendShareMessage({messageTs:s,messageChannelId:c,text:l,shareChannelId:e}).then(function(){t.props.displayModelOrViewById({id:e})}).catch(function(e){Object(x["d"])(e)}).finally(function(){t.setState(function(){return{submitting:false}})})});this.setState(function(){return{submitting:true}})}},{key:"shareFileOnGo",value:function e(){var t=this;var r=this.props,n=r.file,a=r.selectedChannelId,i=r.getShareableChannelId;var o=this.state,s=o.letOthersEditPost,c=o.nameThisPostInputValue;if(!a)return;var l=function e(){i({channelOrMemberId:a}).then(function(e){var r=t.getCleanMsgText();var a=false;Object(w["p"])(n.id,e,r,a,function(r,n){r||Object(x["d"])(n);Object(C["b"])()||t.props.displayModelOrViewById({id:e});t.setState(function(){return{submitting:false}})})})};if(Object(C["b"])()){var u=c||n.title||"Untitled";Object(C["c"])(s,u,l)}else l();this.setState(function(){return{submitting:true}})}},{key:"renderChannelPicker",value:function e(){var t=this.props,r=t.featureFileThreads,n=t.selectedChannelId;if(!r)return null;if(!this.canShareOutOfOriginChannel())return null;return o.a.createElement("div",{className:"p-share_dialog__section"},o.a.createElement("p",{className:"p-share_dialog__section_label"},ae.t("Share with")),o.a.createElement(Q["a"],{onChange:this.onShareChannelChange,initialChannelId:n,ref:this.setChannelPickerRef}))}},{key:"renderCollabEditingOption",value:function e(){var t=this.props.featureFileThreads;var r=this.state.letOthersEditPost;if(!t)return null;if(!this.shouldLetOthersEditPost())return null;var n="share_dialog__let_other_edit_post_checkbox";return o.a.createElement("div",{className:"p-share_dialog__section"},o.a.createElement(G["a"],{htmlFor:n,type:"inline",text:ae.t("Let others edit this post")},o.a.createElement(W["a"],{id:n,checked:r,onChange:this.onLetOthersEditPostCheckboxClick})))}},{key:"renderShareAlert",value:function e(){var t=this.props.isMessageShare;var r=t?this.getMessageShareAlertText():this.getFileShareAlertText();var n=Object(J["a"])($({},this.props,{canShareOutOfOriginChannel:this.canShareOutOfOriginChannel()}));if(!r&&!n)return null;return o.a.createElement("div",{className:"p-share_dialog__section"},o.a.createElement(U["d"],{type:"inline",level:"warning"},r?o.a.createElement("span",{className:"p-share_dialog__warning_message"},r):null,n))}},{key:"renderCopyLinkButton",value:function e(){var t=this.props.featureFileThreads;var r=this.state.showCopyLinkSuccess;if(!t)return null;if(!Object(L["canWriteText"])())return null;if(!this.canShareOutOfOriginChannel())return null;return o.a.createElement("span",{onMouseLeave:this.onCopyLinkMouseLeave},o.a.createElement(q["c"],{tip:this.getCopyLinkTooltipText(),zIndex:"above_fs",status:r?"success":null},o.a.createElement(D["d"],{onClick:this.onCopyLinkClick,type:"outline"},ae.t("Copy Link"))))}},{key:"renderNameThisPostInput",value:function e(){var t=this.props.featureFileThreads;var r=this.state.nameThisPostInputValue;if(!t)return null;if(!this.shouldRenderNameThisPostInput())return null;var n="p-share_dialog__name_this_post_input";return o.a.createElement("div",{className:"p-share_dialog__section p-share_dialog__section_bottom_padding"},o.a.createElement(G["a"],{htmlFor:n,text:ae.t("Name this post"),optional:true},o.a.createElement(V["a"],{id:n,name:n,maxCharacterLimit:M["MAX_FILENAME_LENGTH"],counterMinimumCharacters:M["MIN_FILENAME_CHARACTERS_BEFORE_WARNING"],onChange:this.onNameThisPostInputChange,value:r})))}},{key:"renderMessagePreview",value:function e(){var t=this.props.message;return o.a.createElement("div",{className:"p-share_dialog__section"},o.a.createElement(F["a"],$({isMsgUnfurl:true,showDelete:false,messageTs:t.ts,activeChannelId:t.channel},this.getPropsForMessageAttachmentSlackMessage())))}},{key:"renderFilePreivew",value:function e(){var t=this.props.file;if(this.shouldRenderNameThisPostInput())return null;return o.a.createElement("div",{className:"p-share_dialog__section"},o.a.createElement(B["a"],{file:t}))}},{key:"render",value:function e(){var t=this.props,r=t.featureFileThreads,n=t.isMessageShare,a=t.msgText,i=t.message,s=t.file;if(!r)return null;if(!i&&!s)return null;var c=n?ae.t("Share this message",{fallbackHash:"1ed2e7b50fa1dbbf1693d1c38adf270c04db10c6"}):ae.t("Share this file",{fallbackHash:"e1822dc04d39ea5719a3f9e8db4206f171eda866"});var l=ae.t("Add a message, if you\u2019d like.",{fallbackHash:"e3320c2e9e3a7761b9941eabfe88ca018472c9db"});var u=false;return o.a.createElement(H["a"],{className:"p-share_dialog__modal",title:c,shouldCloseOnOverlayClick:u,goButtonText:ae.t("Share",{fallbackHash:"9bc2575c3930437e80555f78757b783c842e8e66"}),onGo:this.onGo,showCancelButton:false,getShouldShowSpeedBump:this.shouldShowCloseDialogSpeedBump,speedBumpCancelButtonText:ae.t("No, keep it"),speedBumpContinueButtonText:ae.t("Yes, discard the message"),speedBumpBodyText:ae.t("Closing the window will discard your message"),footerText:this.renderCopyLinkButton(),goButtonIsDisabled:this.isGoButtonDisabled(),useSlackScrollbarWithPadding:true},this.renderChannelPicker(),this.renderCollabEditingOption(),this.renderShareAlert(),o.a.createElement("div",{className:"p-share_dialog__section"},o.a.createElement(z["a"],{text:a,onTextChange:this.onTextChange,placeholder:l,ariaLabel:l,onEnter:this.onEnter,ref:this.setMessageInputRef})),this.renderNameThisPostInput(),n?this.renderMessagePreview():this.renderFilePreivew())}}]);return t}(i["Component"]);se.displayName="ShareDialog";se.propTypes=ie;se.defaultProps=oe;function ce(e,t){var r=t.ts,n=t.channelId,a=t.fileId;var i=Object(Y["b"])(e,t);if(r&&n){var o=Object(m["getMessageByTimestamp"])(e,n,r);if(!o){Object(x["d"])("Couldn't find share message in redux, aborting share dialog");return null}var s=Object(b["getMemberById"])(e,o&&o.user);var c=Object(S["d"])(s);var p=Object(y["getChannelById"])(e,n)||Object(y["getImByMemberId"])(e,n);var f=o&&o.files?l.a.map(o.files,function(t){return Object(g["getFileById"])(e,t)}):[];return $({},i,{message:o,messageAuthor:s,messageAuthorTeamName:c,channel:p,channelDisplayName:Object(A["getDisplayNameForChannel"])(e,p,{imIncludeAtSign:false}),filesOnMessage:f,isMessageShare:true,featureFileThreads:Object(u["isFeatureEnabled"])(e,"feature_file_threads")})}if(a){var _=Object(g["getFileById"])(e,a);if(!_){Object(x["d"])("Couldn't find share file in redux, aborting share dialog");return null}var O=Object(b["getMemberById"])(e,_&&_.user);var E=Object(I["q"])(e,O);var j=Object(S["d"])(O);var k=Object(v["getTeamId"])(e);var w=Object(h["getTeamById"])(e,k);var C=Object(P["getTeamDisplayName"])(w);return $({},i,{file:_,fileOwner:O,fileOwnerName:E,fileOwnerTeamName:j,teamName:C,disableFileEditingPref:Object(d["getTeamPref"])(e,"disable_file_editing"),isMessageShare:false,featureFileThreads:Object(u["isFeatureEnabled"])(e,"feature_file_threads")})}return null}var le={sendShareMessage:O["a"],displayModelOrViewById:_["a"],closeModal:p["closeModal"],getShareableChannelId:k["a"],openShareDialog:function e(t){return function(e){return e(Object(f["a"])(t))}}};var ue=Object(s["connect"])(ce,le)(se);t["a"]=Object(Y["a"])(ue)},17783:function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n=r(3);var a=r.n(n);var i=r(16926);var o=r(17784);var s=r(17120);var c=Object(i["b"])("share a message to a channel",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.messageTs,a=r.messageChannelId,i=r.text,c=r.shareChannelId;e(Object(s["stopEditingMessagesInChannel"])({channelId:a}));return e(Object(o["a"])({messageTs:n,messageChannelId:a,text:i,shareChannelId:c}))});c.propTypes={messageTs:a.a.string,messageChannelId:a.a.string,text:a.a.string,destinationChannelId:a.a.string}},17784:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(16929);var a=r(17063);var i=Object(a["a"])("Calls share message API",function(e,t,r){var a=r.messageTs,i=r.messageChannelId,o=r.text,s=r.shareChannelId;return e(Object(n["a"])({method:"chat.shareMessage",args:{timestamp:a,channel:i,text:o,share_channel:s}}))})},17785:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(9);var u=r(8);var p=r.n(u);var f=r(16930);var d=r(17068);var v=r(17189);var h=r(17698);var m=r(16918);var b=r(16917);var _=r(17190);var g=r(17786);var y=r(17787);var O=r(17788);var E=r(17800);var j=r(17801);var k=r(17802);var w=r(17806);var C=r(17807);var S=r(17193);var T=r(20133);var I=r.n(T);var N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var A=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function M(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x={serviceName:o.a.string,callbackId:o.a.string,isMsgUnfurl:o.a.bool,messageTs:o.a.string,fromUrl:o.a.string,activeChannelId:o.a.string,id:o.a.oneOfType([o.a.string,o.a.number]),color:o.a.string,imageUrl:o.a.string,thumbUrl:o.a.string,thumbWidth:o.a.number,thumbHeight:o.a.number,videoHtml:o.a.string,audioHtml:o.a.string,title:o.a.string,pretext:o.a.string,showDelete:o.a.bool,deleteAttachment:o.a.func,clogLinkClick:o.a.func,isInline:o.a.bool,mrkdwnInHash:o.a.shape({pretext:o.a.bool,text:o.a.bool,fields:o.a.bool}),isOnlyMessageContent:o.a.bool};var L={serviceName:null,callbackId:null,isMsgUnfurl:false,messageTs:null,fromUrl:null,activeChannelId:null,id:null,color:null,imageUrl:null,thumbUrl:null,thumbWidth:null,thumbHeight:null,videoHtml:null,audioHtml:null,title:null,pretext:null,showDelete:false,deleteAttachment:a.a.noop,clogLinkClick:a.a.noop,isInline:false,mrkdwnInHash:{},isOnlyMessageContent:false};var D=function(e){M(t,e);function t(e){P(this,t);var r=R(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onDeleteClick=r.onDeleteClick.bind(r);r.clogLinkClick=r.clogLinkClick.bind(r);return r}A(t,[{key:"onDeleteClick",value:function e(){var t=this.props,r=t.activeChannelId,n=t.messageTs,a=t.id;this.props.deleteAttachment(r,n,a)}},{key:"clogLinkClick",value:function e(t){var e=this.props.clogLinkClick;e(N({},t,{link_is_default_attachment:true}))}},{key:"renderThumbMaybe",value:function e(){var t=this.props,r=t.thumbUrl,n=t.thumbHeight,a=t.thumbWidth,i=t.imageUrl,o=t.videoHtml,s=t.audioHtml,l=t.title;if(!r||i||o||s)return null;return c.a.createElement(y["a"],{key:"thumb",url:r,title:l,height:n,width:a})}},{key:"renderWithAttachmentContainer",value:function e(t){var r=this.props,n=r.color,a=r.showDelete,i=r.isOnlyMessageContent;var o=null;if(a){var s=p()("c-message_attachment__delete",{"c-message_attachment__delete--pushed":i});o=c.a.createElement(m["c"],{className:s,onClick:this.onDeleteClick},c.a.createElement(b["a"],{type:"times_small"}))}return c.a.createElement("div",{className:"c-message_attachment"},o,c.a.createElement(_["a"],{color:n}),t)}},{key:"renderWithPretextMaybe",value:function e(t){var r=this.props,n=r.pretext,a=r.mrkdwnInHash;if(!n)return t;return c.a.createElement("div",{className:"c-message_attachment_with_pretext"},c.a.createElement(g["a"],{mrkdwnDoSpecials:a.pretext},n),t)}},{key:"render",value:function e(){var t=this.props,r=t.serviceName,n=t.isMsgUnfurl,i=t.messageTs,o=t.isInline,s=t.callbackId,l=t.id;var u=Object(v["a"])("attachment",i,this.props);var p=N({},this.props,{clogLinkClick:this.clogLinkClick});if(o)return c.a.createElement(w["a"],N({expandableKey:u},p));var f=null;var d=null;"twitter"===r&&(f=c.a.createElement(E["a"],N({key:"twitter",expandableKey:u},p)));"salesforce"===r&&(f=c.a.createElement(j["a"],N({key:"salesforce"},p)));n&&(f=c.a.createElement(k["a"],N({key:"message"},p)));if(s&&Object(S["a"])(s,l)){var h=a.a.trimStart(s,"_abcdefghijklmnopqrstuvwxyz");f=c.a.createElement(C["a"],{key:"client",type:Object(S["a"])(s,l),inviteId:h})}if(!f){f=c.a.createElement(O["a"],N({key:"generic",expandableKey:u},p));d=this.renderThumbMaybe()}var m=this.renderWithAttachmentContainer([f,d]);return this.renderWithPretextMaybe(m)}}]);return t}(s["PureComponent"]);D.displayName="MessageAttachmentDefault";D.propTypes=x;D.defaultProps=L;function F(e,t){var r=t.id,n=t.messageTs,i=t.activeChannelId,o=t.fromUrl;var s=t.showDelete;a.a.isUndefined(s)&&(s=Object(d["a"])(e,{attachmentId:r,attachmentFromUrl:o,messageTs:n,channelId:i}));var c=Object(f["isAttachmentLoaderShowing"])(e,{channelId:i,messageTs:n,attachmentId:r});return{showDelete:s,showLoader:c}}var B={deleteAttachment:function e(t,r,n){return function(){Object(h["a"])(t,r,n)}}};t["a"]=Object(l["connect"])(F,B)(D)},17786:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(45);var c=r(16938);var l={children:o.a.string.isRequired,mrkdwnDoSpecials:o.a.bool};var u={children:null,mrkdwnDoSpecials:false};var p=function e(t){var r=t.children,n=t.mrkdwnDoSpecials;return a.a.createElement("span",{className:"c-message_attachment__pretext"},a.a.createElement(c["a"],{text:r,doSpecials:n}))};p.displayName="AttachmentPretext";p.propTypes=l;p.defaultProps=u;t["a"]=Object(s["pure"])(p)},17787:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(17081);var c=r(17117);var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d={url:o.a.string.isRequired,title:o.a.string,width:o.a.number,height:o.a.number};var v={url:null,title:null,width:null,height:null};var h=function(e){f(t,e);function t(){u(this,t);return p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}l(t,[{key:"render",value:function e(){var t=this.props,r=t.url,n=t.title,i=t.width,o=t.height;var l=c["e"];var u=c["e"];var p=l;var f=u;var d=void 0;var v=void 0;if(i&&o)if(i>o){d="landscape";v=i/o;p=l;f=u/v}else if(o>i){d="portrait";v=o/i;p=l/v;f=u}else{d="square";p=l;f=u}var h={backgroundImage:"url('"+Object(s["a"])({url:r,width:p,height:f})+"')"};if(d&&"square"!==d){h.width=p/2;h.height=f/2}return a.a.createElement("span",{className:"c-message_attachment__thumb",title:n,style:h})}}]);return t}(n["PureComponent"]);h.displayName="AttachmentThumb";h.propTypes=d;h.defaultProps=v;t["a"]=h},17788:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(16959);var f=r(17148);var d=r(17789);var v=r(17191);var h=r(20577);var m=r(17790);var b=r(17263);var _=r(17118);var g=r(17309);var y=r(17604);var O=r(17193);var E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var j=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function k(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var T={fallback:a.a.string,id:a.a.oneOfType([a.a.string,a.a.number]),color:a.a.string,authorName:a.a.string,authorSubname:a.a.string,authorLink:a.a.string,authorIcon:a.a.string,botId:a.a.string,serviceName:a.a.string,serviceUrl:a.a.string,serviceIcon:a.a.string,title:a.a.string,titleLink:a.a.string,text:a.a.string,more:a.a.string,fields:a.a.arrayOf(a.a.shape({title:a.a.string,value:a.a.string,short:a.a.bool})),imageUrl:a.a.string,imageWidth:a.a.number,imageHeight:a.a.number,imageBytes:a.a.number,videoHtml:a.a.string,videoHtmlWidth:a.a.number,videoHtmlHeight:a.a.number,audioHtml:a.a.string,audioHtmlHeight:a.a.number,safeAudioHtml:a.a.string,thumbUrl:a.a.string,thumbWidth:a.a.number,thumbHeight:a.a.number,footer:a.a.string,footerIcon:a.a.string,ts:a.a.number,fromUrl:a.a.string,expandableKey:a.a.string,messageTs:a.a.string,clogLinkClick:a.a.func,isAppUnfurl:a.a.bool,mrkdwnInHash:a.a.shape({pretext:a.a.bool,text:a.a.bool,fields:a.a.bool}),featureAttachmentTextMore:a.a.bool};var I={fallback:null,id:void 0,color:null,authorName:null,authorSubname:null,authorLink:null,authorIcon:null,botId:null,serviceName:null,serviceUrl:null,serviceIcon:null,title:null,titleLink:null,text:null,more:null,fields:null,imageUrl:null,imageWidth:0,imageHeight:0,imageBytes:0,videoHtml:null,videoHtmlWidth:void 0,videoHtmlHeight:void 0,audioHtml:null,audioHtmlHeight:0,safeAudioHtml:null,thumbUrl:null,thumbHeight:0,thumbWidth:0,footer:null,footerIcon:null,ts:null,fromUrl:null,expandableKey:null,messageTs:null,clogLinkClick:l["noop"],isAppUnfurl:false,mrkdwnInHash:{},featureAttachmentTextMore:false};var N=function(e){S(t,e);function t(e){w(this,t);var r=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.setMediaTriggerPosition(e);return r}j(t,[{key:"componentWillReceiveProps",value:function e(t){this.setMediaTriggerPosition(t)}},{key:"setMediaTriggerPosition",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.mediaTriggerPosition=this.determineMediaTriggerPosition(t)}},{key:"determineMediaTriggerPosition",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(Object(O["f"])(t))return"footer";if(Object(O["i"])(t))return"text";if(Object(O["h"])(t))return"more";if(Object(O["j"])(t))return"title";if(Object(O["c"])(t))return"author";return"end"}},{key:"renderAuthorMaybe",value:function e(){if(!Object(O["c"])(this.props))return null;var t=this.props,r=t.serviceIcon,n=t.authorIcon,a=t.serviceName,i=t.authorName,s=t.serviceUrl,c=t.authorLink,l=t.authorSubname,u=t.clogLinkClick;var p=r||n;var d=a||i;var v=d===i?l:i;return o.a.createElement("div",{className:"c-message_attachment__row"},o.a.createElement(f["a"],{icon:p,name:d,link:s||c,subname:v,subnameLink:c,clogLinkClick:u}),"author"===this.mediaTriggerPosition&&this.renderMediaTriggerMaybe())}},{key:"renderTitleMaybe",value:function e(){if(!Object(O["j"])(this.props))return null;var t=this.props,r=t.title,n=t.titleLink,a=t.clogLinkClick;return o.a.createElement("div",{className:"c-message_attachment__row"},o.a.createElement(d["a"],{link:n,clogLinkClick:a},r),"title"===this.mediaTriggerPosition&&this.renderMediaTriggerMaybe())}},{key:"renderTextMaybe",value:function e(){if(!Object(O["i"])(this.props))return null;var t=this.props.mrkdwnInHash;return o.a.createElement("div",{className:"c-message_attachment__row"},o.a.createElement(v["a"],E({},this.props,{mrkdwnDoSpecials:t.text})),"text"===this.mediaTriggerPosition&&this.renderMediaTriggerMaybe())}},{key:"renderMoreMaybe",value:function e(){if(!this.props.featureAttachmentTextMore||!Object(O["h"])(this.props))return null;var t=this.props.mrkdwnInHash;return o.a.createElement("div",{className:"c-message_attachment__row"},o.a.createElement(h["a"],E({},this.props,{mrkdwnDoSpecials:t.more})),"more"===this.mediaTriggerPosition&&this.renderMediaTriggerMaybe())}},{key:"renderFieldsMaybe",value:function e(){if(!Object(O["e"])(this.props))return null;var t=this.props,r=t.fields,n=t.clogLinkClick,a=t.mrkdwnInHash;return r.map(function(e,t){return o.a.createElement(m["a"],E({clogLinkClick:n,mrkdwnDoSpecials:a.fields,key:t},e))})}},{key:"renderFooterMaybe",value:function e(){if(!Object(O["f"])(this.props))return null;var t=this.props,r=t.botId,n=t.expandableKey,a=t.footer,i=t.footerIcon,s=t.isAppUnfurl,l=t.ts,u=t.clogLinkClick;var p=c()("c-message_attachment__row",{"c-message_attachment__row--has_trigger":"footer"===this.mediaTriggerPosition&&n,"c-message_attachment__row--has_icon":i});return o.a.createElement("div",{className:p},o.a.createElement(b["a"],{botId:r,clogLinkClick:u,icon:i,isAppUnfurl:s,text:a,ts:l}),"footer"===this.mediaTriggerPosition&&this.renderMediaTriggerMaybe())}},{key:"renderActionsMaybe",value:function e(){if(!Object(O["b"])(this.props))return null;return o.a.createElement(y["a"],this.props)}},{key:"renderMediaTriggerMaybe",value:function e(){var t=this.props,r=t.imageBytes,n=t.imageUrl,a=t.expandableKey;var i=_["a"].default;"footer"===this.mediaTriggerPosition&&(i=_["a"].caption);if(!a)return null;return o.a.createElement(_["b"],{imageBytes:n?r:void 0,expandableKey:a,type:i})}},{key:"renderMediaMaybe",value:function e(){if(!Object(O["g"])(this.props))return null;return o.a.createElement("div",{className:"c-message_attachment__row"},"end"===this.mediaTriggerPosition&&this.renderMediaTriggerMaybe(),o.a.createElement(g["a"],this.props))}},{key:"renderFallbackMaybe",value:function e(){var t=this.props,r=t.fallback,n=k(t,["fallback"]);if(Object(l["some"])(n))return null;return o.a.createElement("div",{className:"c-message_attachment__fallback"},r)}},{key:"render",value:function e(){if(!Object(O["d"])(this.props))return null;return o.a.createElement("div",{className:"c-message_attachment__body"},this.renderAuthorMaybe(),this.renderTitleMaybe(),this.renderTextMaybe(),this.renderMoreMaybe(),this.renderFieldsMaybe(),this.renderFooterMaybe(),this.renderMediaMaybe(),this.renderActionsMaybe(),this.renderFallbackMaybe())}}]);return t}(i["PureComponent"]);N.displayName="MessageAttachmentGeneric";N.propTypes=T;N.defaultProps=I;t["a"]=Object(p["a"])("feature_attachment_text_more")(N)},17789:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(45);var c=r(1);var l=r.n(c);var u=r(16938);var p={link:o.a.string,children:o.a.string,clogLinkClick:o.a.func};var f={link:null,children:null,clogLinkClick:c["noop"]};var d=function e(t){var r=t.link,n=t.children,i=t.clogLinkClick;var o=function e(){i({link_attachment_field:"attachment_title"})};var s=r?a.a.createElement("a",{className:"c-message_attachment__title_link",href:r,target:"_blank",rel:"noreferrer noopener",onClick:o},a.a.createElement(u["a"],{text:n,noJumbomoji:true,noSpecials:true})):a.a.createElement(u["a"],{text:n,noJumbomoji:true,noSpecials:true});return a.a.createElement("span",{className:"c-message_attachment__title"},s)};d.displayName="AttachmentTitle";d.propTypes=p;d.defaultProps=f;t["a"]=Object(s["pure"])(d)},17790:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(45);var u=r(1);var p=r.n(u);var f=r(16938);var d={title:o.a.string,value:o.a.string,short:o.a.bool,clogLinkClick:o.a.func,mrkdwnDoSpecials:o.a.bool};var v={title:null,value:null,short:true,clogLinkClick:u["noop"],mrkdwnDoSpecials:false};var h=function e(t){var r=t.title,n=t.value,i=t.short,o=t.clogLinkClick,s=t.mrkdwnDoSpecials;var l=c()("c-message_attachment__field",{"c-message_attachment__field--short":i});return a.a.createElement("div",{className:l},a.a.createElement("div",{className:"c-message_attachment__field_title"},a.a.createElement(f["a"],{text:r,clogLinkClick:o,doSpecials:false})),a.a.createElement("div",{className:"c-message_attachment__field_value"},a.a.createElement(f["a"],{text:n,clogLinkClick:o,doSpecials:s})))};h.displayName="AttachmentField";h.propTypes=d;h.defaultProps=v;t["a"]=Object(l["pure"])(h)},17791:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(3);var s=r.n(o);var c=r(1);var l=r.n(c);var u=r(16930);var p=r(15861);var f=r(16917);var d=r(17081);var v=r(16941);var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=120;var y=60;var O={thumbUrl:s.a.string,width:s.a.number,height:s.a.number,videoHtml:s.a.string,fromUrl:s.a.string,clogLinkClick:s.a.func,activeChannelId:s.a.string,messageTs:s.a.string,userId:s.a.string,botId:s.a.string,activeTeamId:s.a.string};var E={thumbUrl:null,width:0,height:0,videoHtml:null,fromUrl:null,clogLinkClick:c["noop"],activeChannelId:null,messageTs:null,userId:null,botId:null,activeTeamId:null};var j=function(e){_(t,e);function t(e){m(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={isShowingThumb:true};r.onPlay=r.onPlay.bind(r);r.setVideoRef=r.setVideoRef.bind(r);r.clogLinkClick=r.clogLinkClick.bind(r);r.videoElement=null;r.didClickPlay=false;return r}h(t,[{key:"componentWillReceiveProps",value:function e(t){this.props.activeTeamId!==t.activeTeamId&&this.setState(function(){return{isShowingThumb:true}})}},{key:"componentDidUpdate",value:function e(){if(!this.state.isShowingThumb&&this.videoElement&&this.didClickPlay){this.didClickPlay=false;this.videoElement.play()}}},{key:"onPlay",value:function e(){var t=this.props,r=t.fromUrl,n=t.messageTs,a=t.activeChannelId,i=t.userId,o=t.botId;Object(v["b"])("MSG_VIDEO_PLAY",{message_timestamp:n,channel_id:a,channel_type:a?a.charAt(0):"",member_id:i,app_id:null,bot_id:o,url:r});this.didClickPlay=true;this.setState(function(){return{isShowingThumb:false}})}},{key:"setVideoRef",value:function e(t){this.videoElement=t&&t.querySelector("video")}},{key:"clogLinkClick",value:function e(){var t=this.props.fromUrl;this.props.clogLinkClick({url:t})}},{key:"sanitizeVideoHtmlMaybe",value:function e(){var t=this.props,r=t.videoHtml,n=t.width,a=t.height;if(!r.match(/^<video/))return r;return r.replace(/<video/,'<video class="c-message_attachment__video_player"').replace(/width=".+?"/,'width="'+n+'"').replace(/height=".+?"/,'height="'+a+'"')}},{key:"renderPlayButton",value:function e(){return a.a.createElement("button",{className:"c-message_attachment__video_play",onClick:this.onPlay},a.a.createElement(f["a"],{type:"play",inherit:true}))}},{key:"renderExternalLinkMaybe",value:function e(){var t=this.props.fromUrl;if(!t)return null;return a.a.createElement("a",{className:"c-message_attachment__video_link",target:"_blank",rel:"noopener noreferrer",href:t,onClick:this.clogLinkClick},a.a.createElement(f["a"],{type:"external_link",inherit:true}))}},{key:"renderThumb",value:function e(){var t=this.props,r=t.thumbUrl,n=t.width,i=t.height;var o={width:n,height:i,backgroundImage:"url('"+Object(d["a"])({url:r,width:n,height:i})+"')"};if(n<g||i<y)return a.a.createElement("button",{className:"c-message_attachment__video_thumb c-message_attachment__video_thumb--small",style:o,onClick:this.onPlay});return a.a.createElement("div",{className:"c-message_attachment__video_thumb",style:o},a.a.createElement("div",{className:"c-message_attachment__video_buttons"},this.renderPlayButton(),this.renderExternalLinkMaybe()))}},{key:"renderVideoHtml",value:function e(){var t=this.props,r=t.width,n=t.height;return a.a.createElement("div",{className:"c-message_attachment__video_html",dangerouslySetInnerHTML:{__html:this.sanitizeVideoHtmlMaybe()},style:{width:r,height:n},ref:this.setVideoRef})}},{key:"render",value:function e(){return this.state.isShowingThumb?this.renderThumb():this.renderVideoHtml()}}]);return t}(n["PureComponent"]);j.displayName="AttachmentVideo";var k=function e(t,r){var n=r.messageTs,a=r.activeChannelId;var i=Object(u["getMessageByTimestamp"])(t,a,n);return{userId:i&&i.user,botId:i&&i.bot_id,activeTeamId:Object(p["getActiveTeamId"])(t)}};j.propTypes=O;j.defaultProps=E;t["a"]=Object(i["connect"])(k)(j)},17792:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16932);var p=r(17793);var f=r(16923);var d=r(16930);var v=r(16920);var h=r(16912);var m=r(16935);var b=r(17311);var _=r(17796);var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=new h["b"]("attachment_actions");var w=5;var C={type:a.a.oneOf(["button","select"]),isPreviewing:a.a.bool,clogLinkClick:a.a.func,triggerAttachmentAction:a.a.func,channelId:a.a.string,messageTs:a.a.string,attachmentId:a.a.oneOfType([a.a.string,a.a.number]),id:a.a.string,url:a.a.string};var S={type:void 0,isPreviewing:false,clogLinkClick:c["noop"],triggerAttachmentAction:c["noop"],channelId:void 0,messageTs:void 0,attachmentId:void 0,id:void 0,url:void 0};var T=function(e){j(t,e);function t(e){O(this,t);var r=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.triggerAction=r.triggerAction.bind(r);return r}y(t,[{key:"triggerAction",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.selectedOption;var n=this.props,a=n.channelId,i=n.messageTs,o=n.attachmentId,s=n.id;this.props.triggerAttachmentAction({channelId:a,messageTs:i,attachmentId:o,actionId:s,selectedOption:r})}},{key:"renderInTooltipMaybe",value:function e(t){if(this.props.isPreviewing)return o.a.createElement(u["c"],{tip:k.t("Join the channel to interact with this message"),offsetY:w},o.a.createElement("span",{className:"inline_block"},t));return t}},{key:"render",value:function e(){var t=this.props,r=t.type,n=t.url;switch(r){case"button":if(n&&!Object(m["simpleIsUrl"])(n))return null;return this.renderInTooltipMaybe(o.a.createElement(b["a"],g({},this.props,{triggerAction:this.triggerAction})));case"select":return this.renderInTooltipMaybe(o.a.createElement(_["a"],g({},this.props,{triggerAction:this.triggerAction})));default:return null}}}]);return t}(i["PureComponent"]);T.displayName="AttachmentAction";T.propTypes=C;T.defaultProps=S;var I=function e(t,r){var n=r.channelId,a=r.messageTs,i=r.attachmentId,o=r.id;var s=Object(f["getChannelById"])(t,n);var c=Object(v["isPublicChannel"])(s)&&!Object(v["isMemberOfChannel"])(s);return{isPreviewing:c,isDisabled:c||Object(d["isAttachmentPending"])(t,{channelId:n,messageTs:a,attachmentId:i}),isLoading:Object(d["isActionPending"])(t,{channelId:n,messageTs:a,attachmentId:i,actionId:o})}};var N={triggerAttachmentAction:p["a"]};t["a"]=Object(s["connect"])(I,N)(T)},17793:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(16915);var o=r(17794);var s=r(16912);var c=r(16969);var l=r(16916);var u=r(16930);var p=r(17605);var f=new s["b"]("attachment_actions");var d="attachment_action_error";var v=f.t("Oh no, something went wrong. Please try that again.");var h=1e3;var m=Object(i["e"])("Trigger an attachment action",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.channelId,a=r.messageTs,i=r.attachmentId,s=r.actionId,f=r.selectedOption;var m=t();var b=Object(p["a"])(m,{channelId:n,messageTs:a,attachmentId:i,actionId:s}),_=b.message,g=b.attachment,y=b.action;f&&(y.selected_options=[f]);var O=function t(r){return e(Object(u["setAttachmentActionAsPending"])({channelId:n,messageTs:a,attachmentId:i,actionId:s,isPending:r}))};var E=function t(r){return e(Object(u["setAttachmentLoaderAsShowing"])({channelId:n,messageTs:a,attachmentId:i,isShowing:r}))};O(true);E(false);var j=window.setTimeout(function(){return E(true)},h);e(Object(o["a"])({action:y,attachmentId:i,callbackId:g.callback_id,channelId:n,isEphemeral:_.is_ephemeral,messageTs:a,teamId:_.bot_profile&&_.bot_profile.team_id,serviceId:_.bot_id,botUserId:_.user,promptAppInstall:!!g.prompt_app_install&&g.prompt_app_install})).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.replaced,r=e.deleted;t||r||O(false)}).catch(function(e){var t={text:e.data&&e.data.response||v,ephemeral_type:e.data&&e.data.error||d,slackbot_feels:"sad_surprise"};Object(c["a"])(t);Object(l["error"])(e);O(false)}).finally(function(){clearTimeout(j);E(false)})});m.propTypes={channelId:a.a.string.isRequired,messageTs:a.a.string.isRequired,attachmentId:a.a.string.isRequired,actionId:a.a.string.isRequired,selectedOption:a.a.object};t["a"]=m},17794:function(e,t,r){"use strict";var n=r(16929);var a=r(17063);var i=r(17206);var o=Object(a["a"])("send an attachment action payload to a third party app",function(e,t,r){var a=r.action,o=r.attachmentId,s=r.botUserId,c=r.callbackId,l=r.channelId,u=r.isEphemeral,p=r.messageTs,f=r.promptAppInstall,d=void 0!==f&&f,v=r.serviceId,h=r.teamId;var m={actions:[a],attachment_id:o,callback_id:c,channel_id:l,is_ephemeral:u,message_ts:p,promp_app_install:d,team_id:h};var b={payload:JSON.stringify(m),client_token:i["a"].generateAndEnqueue(),service_id:v,bot_user_id:s};return e(Object(n["a"])({method:"chat.attachmentAction",args:b}))});t["a"]=o},17795:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(45);var c=r(1);var l=r.n(c);var u=r(16956);var p=r(17138);var f=r(16912);var d=new f["b"]("attachment_actions");var v={dismissText:a.a.string,okText:a.a.string,onCancel:a.a.func,onGo:a.a.func.isRequired,text:a.a.string,title:a.a.string};var h={dismissText:d.t("Cancel"),okText:d.t("OK"),onCancel:c["noop"],text:"",title:""};function m(e){var t=!e.text&&!e.title;return o.a.createElement(u["a"],{cancelText:e.dismissText,goButtonText:e.okText,onCancel:e.onCancel,onGo:e.onGo,title:e.title},t?d.t("Are you sure?"):o.a.createElement(p["a"],{text:e.text}))}m.displayName="AttachmentActionConfirmDialog";m.propTypes=v;m.defaultProps=h;t["a"]=Object(s["pure"])(m)},17796:function(e,t,r){"use strict";var n=r(17797);t["a"]=n["a"]},17797:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(9);var u=r(17085);var p=r(16987);var f=r(17041);var d=r(17605);var v=r(16923);var h=r(16919);var m=r(17798);var b=r(17036);var _=r(17799);var g=r(17606);var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var O=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w={channels:"channels",conversations:"conversations",external:"external",static:"static",users:"users"};var C=260;var S=o.a.arrayOf(o.a.shape({description:o.a.string,text:o.a.string,value:o.a.string}));var T={actionName:o.a.string,attachmentId:o.a.string.isRequired,botUserId:o.a.string,callbackId:o.a.string,dataSource:o.a.oneOf(Object(n["values"])(w)).isRequired,channelId:o.a.string.isRequired,confirm:o.a.shape({title:o.a.string,text:o.a.string,ok_text:o.a.string,dismiss_text:o.a.string}),formattedSelectedOption:o.a.object,id:o.a.string.isRequired,isEphemeral:o.a.bool,isDisabled:o.a.bool,isLoading:o.a.bool,messageLastUpdatedTs:o.a.string.isRequired,messageTs:o.a.string.isRequired,minQueryLength:o.a.number,name:o.a.string.isRequired,optionGroups:o.a.arrayOf(o.a.shape({text:o.a.string,options:S})),options:S,optionsFetcher:o.a.func.isRequired,serviceId:o.a.string,selectedOptions:S,teamId:o.a.string,text:o.a.string,triggerAction:o.a.func,showConfirmDialog:o.a.func,hideConfirmDialog:o.a.func};var I={actionName:void 0,botUserId:void 0,callbackId:void 0,confirm:void 0,formattedSelectedOption:void 0,isEphemeral:false,isDisabled:false,isLoading:false,minQueryLength:0,options:void 0,optionGroups:void 0,serviceId:void 0,selectedOptions:[],teamId:void 0,text:void 0,triggerAction:n["noop"],showConfirmDialog:n["noop"],hideConfirmDialog:n["noop"]};var N=function(e){k(t,e);function t(e){E(this,t);var r=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));var a=e.formattedSelectedOption;r.state={initialSelectedOption:a,value:Object(n["get"])(a,"value")};Object(n["bindAll"])(r,["onChange","onConfirmDialogCancelled","resetState","triggerActionWithValue"]);return r}O(t,[{key:"componentWillReceiveProps",value:function e(t){t.messageLastUpdatedTs!==this.props.messageLastUpdatedTs&&this.resetState(t)}},{key:"onChange",value:function e(t){var r=this.props.confirm;var n=r?this.showConfirmDialog:this.triggerActionWithValue;this.setState(function(e){var n={initialSelectedOption:void 0,value:t};if(r)return y({},n,{valueBeforeConfirm:e.value});return n},n)}},{key:"onConfirmDialogCancelled",value:function e(){this.setState(function(e){return{value:e.valueBeforeConfirm,valueBeforeConfirm:void 0}})}},{key:"getSelectId",value:function e(){var t=this.props,r=t.attachmentId,n=t.id,a=t.messageTs;var i=a.replace(".","");return"attachment-action-select-"+i+"-"+r+"-"+n}},{key:"getFormattedOptionGroupsMaybe",value:function e(){var t=this.props.optionGroups;if(!t)return null;return t.map(function(e){var t=e.options,r=void 0===t?[]:t,n=e.text;return{label:n,options:r.map(f["b"])}})}},{key:"getFormattedOptionsMaybe",value:function e(){var t=this.props.options;if(!t)return null;return t.map(f["b"])}},{key:"getMessagesContainerBoundingRect",value:function e(){this._messagesContainerElement||(this._messagesContainerElement=document.getElementById("messages_container"));return this._messagesContainerElement?this._messagesContainerElement.getBoundingClientRect():{}}},{key:"resetState",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.setState(function(){var e=t.formattedSelectedOption;return{initialSelectedOption:e,value:Object(n["get"])(e,"value")}},function(){return t.hideConfirmDialog(true)})}},{key:"showConfirmDialog",value:function e(){this.props.showConfirmDialog({onConfirmDialogGo:this.triggerActionWithValue,onConfirmDialogCancel:this.onConfirmDialogCancelled})}},{key:"triggerActionWithValue",value:function e(){var t=this.props.triggerAction;var r=this.state.value;t({selectedOption:{value:r}})}},{key:"renderSelect",value:function e(){var t=this.props,r=t.dataSource,a=t.isDisabled,i=t.isLoading,o=t.minQueryLength,s=t.name,l=t.optionsFetcher,f=t.text;var d=this.getMessagesContainerBoundingRect(),v=d.bottom,h=void 0===v?0:v,m=d.top,b=void 0===m?0:m;var _={className:"c-message_attachment__select",id:this.getSelectId(),isDisabled:a||i,name:s,onChange:this.onChange,optionClassName:"c-message_attachment__select_option c-message_attachment__select_option--"+r,optionsListOffsetBottom:window.innerHeight-h,optionsListOffsetTop:b,optionsListWidth:C,placeholder:f||void 0,selectedOption:this.state.initialSelectedOption,selectedValueClassName:"c-message_attachment__selected_value c-message_attachment__selected_value--"+r,type:"short",usePlaceholderOption:false,value:this.state.value,wrapperClassName:"c-message_attachment__select_wrapper"};if(r===w.static){var g=y({},_,{optionGroups:this.getFormattedOptionGroupsMaybe(),options:this.getFormattedOptionsMaybe()});return c.a.createElement(u["d"],g)}var O=y({},_,{prefetchOptions:true});if(r===w.channels)return c.a.createElement(u["a"],O);if(r===w.conversations)return c.a.createElement(u["b"],O);if(r===w.external){var E=Object(n["pick"])(this.props,["actionName","attachmentId","callbackId","channelId","messageTs","serviceId","teamId"]);var j=y({},O,{minQueryLength:o,optionsFetcher:function e(t){return l(y({},E,{value:t}))}});return c.a.createElement(p["a"],j)}if(r===w.users)return c.a.createElement(u["c"],O);return null}},{key:"render",value:function e(){return c.a.createElement("span",{className:"inline_block align_middle"},this.renderSelect())}}]);return t}(b["a"]);N.displayName="AttachmentActionSelect";var A=function e(t,r){var a=r.attachmentId,i=r.channelId,o=r.dataSource,s=r.id,c=r.messageTs,l=r.selectedOptions;var u=Object(d["a"])(t,{channelId:i,messageTs:c,attachmentId:a,actionId:s}),p=u.action,b=u.attachment,_=u.message;var g={actionName:p.name,botUserId:_.user,callbackId:b.callback_id,isEphemeral:_.is_ephemeral,messageLastUpdatedTs:Object(m["a"])(_),serviceId:b.bot_id||_.bot_id,teamId:Object(n["get"])(_,"bot_profile.team_id")};var O=l&&l[0];if(O){var E=void 0;if([w.static,w.external].includes(o))E=Object(f["b"])(O);else{var j=O.value;var k=o===w.users?Object(h["getMemberById"])(t,j):Object(v["getChannelById"])(t,j);!k||k.isUnknown||k.isNonExistent||(E=Object(f["a"])(k))}return y({},g,{formattedSelectedOption:E})}return g};var P={optionsFetcher:_["a"]};N.propTypes=T;N.defaultProps=I;t["a"]=Object(g["a"])(Object(l["connect"])(A,P)(N))},17798:function(e,t,r){"use strict";t["a"]=n;function n(e){return e&&e.__meta__&&e.__meta__.lastUpdatedTs}},17799:function(e,t,r){"use strict";var n=r(17041);var a=r(16929);var i=r(17063);var o=r(17130);var s=Object(i["a"])("fetch options from a third party app based on a search query",function(e,t,r){var i=r.actionName,s=r.attachmentId,c=r.callbackId,l=r.channelId,u=r.messageTs,p=r.serviceId,f=r.teamId,d=r.value;var v=JSON.stringify(Object(o["a"])({attachmentId:s,callbackId:c,channelId:l,isEphmeral:true,messageTs:u,name:i,teamId:f,value:d}));var h={payload:v,service_id:p};return e(Object(a["a"])({method:"chat.attachmentSuggestion",args:h})).then(function(e){var t=e.option_groups,r=e.options;if(t){var a=t.map(function(e){var t=e.options,r=void 0===t?[]:t,a=e.text;return{label:a,options:r.map(n["b"])}});return{optionGroups:a}}if(r)return{options:r.map(n["b"])};return{options:[]}})});t["a"]=s},17800:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(16912);var f=r(17148);var d=r(17191);var v=r(17263);var h=r(17118);var m=r(17309);var b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=new p["b"]("attachments");var E={color:a.a.string,authorName:a.a.string,authorSubname:a.a.string,authorIcon:a.a.string,text:a.a.string,imageUrl:a.a.string,imageBytes:a.a.number,ts:a.a.number,fromUrl:a.a.string,expandableKey:a.a.string,clogLinkClick:a.a.func};var j={color:null,authorName:null,authorSubname:null,authorIcon:null,text:null,imageUrl:null,imageBytes:0,ts:null,fromUrl:null,expandableKey:null,clogLinkClick:l["noop"]};var k=function(e){y(t,e);function t(){_(this,t);return g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}b(t,[{key:"renderAuthor",value:function e(){var t=this.props,r=t.authorIcon,n=t.authorName,a=t.authorSubname,i=t.clogLinkClick;var s="https://twitter.com/"+a;return o.a.createElement("div",{className:"c-message_attachment__row"},o.a.createElement(f["a"],{icon:r,isDistinct:true,name:n,link:s,subname:a,subnameLink:s,clogLinkClick:i}))}},{key:"renderText",value:function e(){return o.a.createElement("div",{className:"c-message_attachment__row"},o.a.createElement(d["a"],this.props))}},{key:"renderFooter",value:function e(){var t=this.props,r=t.ts,n=t.fromUrl,a=t.clogLinkClick,i=t.expandableKey;var s=c()("c-message_attachment__row","c-message_attachment__row--has_icon",{"c-message_attachment__row--has_trigger":i});return o.a.createElement("div",{className:s},o.a.createElement(v["a"],{text:O.t("Twitter"),icon:cdn_url+"/6e067/img/services/twitter_pixel_snapped_32.png",ts:r,tsLink:n,clogLinkClick:a}),this.renderMediaTriggerMaybe())}},{key:"renderMediaTriggerMaybe",value:function e(){var t=this.props,r=t.imageUrl,n=t.imageBytes,a=t.expandableKey;if(!a)return null;return o.a.createElement(h["b"],{imageBytes:r&&n,expandableKey:a})}},{key:"renderMediaMaybe",value:function e(){var t=this.props.expandableKey;if(!t)return null;return o.a.createElement(m["a"],this.props)}},{key:"render",value:function e(){return o.a.createElement("div",{className:"c-message_attachment__body"},this.renderAuthor(),this.renderText(),this.renderFooter(),this.renderMediaMaybe())}}]);return t}(i["PureComponent"]);k.displayName="MessageAttachmentTwitter";k.propTypes=E;k.defaultProps=j;t["a"]=k},17801:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(17148);var u=r(17191);var p=r(17604);var f=r(17193);var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _={authorName:a.a.string,authorSubname:a.a.string,authorIcon:a.a.string,authorLink:a.a.string,text:a.a.string,clogLinkClick:a.a.func};var g={authorName:null,authorSubname:null,authorIcon:null,authorLink:null,text:null,clogLinkClick:s["noop"]};var y=function(e){b(t,e);function t(){h(this,t);return m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}v(t,[{key:"renderAuthor",value:function e(){var t=this.props,r=t.authorIcon,n=t.authorName,a=t.authorSubname,i=t.authorLink,s=t.clogLinkClick;return o.a.createElement("div",{className:"c-message_attachment__row"},o.a.createElement(l["a"],{icon:r,name:n,link:i,subname:a,subnameLink:i,clogLinkClick:s}))}},{key:"renderActionsMaybe",value:function e(){if(!Object(f["b"])(this.props))return null;return o.a.createElement(p["a"],this.props)}},{key:"renderText",value:function e(){return o.a.createElement("div",{className:"c-message_attachment__row"},o.a.createElement(u["a"],d({},this.props,{mrkdwnDoSpecials:true})))}},{key:"render",value:function e(){return o.a.createElement("div",{className:"c-message_attachment__body"},this.renderAuthor(),this.renderText(),this.renderActionsMaybe())}}]);return t}(i["PureComponent"]);y.displayName="MessageAttachmentSalesforce";y.propTypes=_;y.defaultProps=g;t["a"]=y},17802:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16913);var p=r(16923);var f=r(16919);var d=r(16925);var v=r(16921);var h=r(16920);var m=r(16942);var b=r(17051);var _=r(17112);var g=r(16912);var y=r(16917);var O=r(17148);var E=r(17191);var j=r(17263);var k=r(17803);var w=r(17117);var C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var S=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function N(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A=new g["b"]("attachments");var P={teamId:a.a.string.isRequired,authorId:a.a.string,authorName:a.a.string,authorSubname:a.a.string,authorLink:a.a.string,authorIcon:a.a.string,channelName:a.a.string,channelId:a.a.string,text:a.a.string,footer:a.a.string,ts:a.a.string,fromUrl:a.a.string,isDirectMessage:a.a.bool,isPrivate:a.a.bool,isReplyUnfurl:a.a.bool,clogLinkClick:a.a.func,files:a.a.array,featureFileThreadsDarkLaunch:a.a.bool,featureHideUnfurlUrls:a.a.bool.isRequired};var R={pretext:null,authorId:null,authorName:null,authorSubname:null,authorLink:null,authorIcon:null,channelId:null,channelName:null,text:null,footer:null,ts:null,fromUrl:null,isDirectMessage:false,isPrivate:false,isReplyUnfurl:false,clogLinkClick:c["noop"],files:[],featureFileThreadsDarkLaunch:false};var M=function(e){N(t,e);function t(e){T(this,t);var r=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onAuthorClick=r.onAuthorClick.bind(r);return r}S(t,[{key:"onAuthorClick",value:function e(t){t.preventDefault();this.props.clogLinkClick({link_attachment_field:"attachment_author_name"});Object(b["a"])(t,this.props.authorId)}},{key:"getChannelDisplayName",value:function e(){var t=this.props,r=t.channelName,n=t.isPrivate;if(n)return o.a.createElement("span",null,o.a.createElement(y["a"],{type:"lock",className:"c-message_attachment__private_icon"}),r);return"#"+r}},{key:"renderAuthor",value:function e(){var t=this.props,r=t.authorIcon,n=t.authorName,a=t.authorSubname,i=t.authorLink;return o.a.createElement("div",{className:"c-message_attachment__row"},o.a.createElement("span",{onClick:this.onAuthorClick,role:"presentation"},o.a.createElement(O["a"],{icon:r,isDistinct:true,name:n||a,link:i})))}},{key:"renderText",value:function e(){return o.a.createElement("div",{className:"c-message_attachment__row"},o.a.createElement(E["a"],C({},this.props,{mrkdwnDoSpecials:true})))}},{key:"renderFiles",value:function e(){var t=this.props,r=t.featureFileThreadsDarkLaunch,n=t.files,a=t.clogLinkClick;if(!r)return null;return n.map(function(e){return o.a.createElement(k["a"],{key:e.id,file:e,clogLinkClick:a})})}},{key:"renderFooterText",value:function e(){var t=this.props,r=t.channelId,n=t.channelName,a=t.isDirectMessage,i=t.footer,s=t.clogLinkClick,c=t.fromUrl,l=t.isReplyUnfurl;if(!r||!n)return i;var u=void 0;u=a?A.t("Direct Message"):l?A.rt("From a thread in {channelName}",{channelName:this.getChannelDisplayName()}):A.rt("Posted in {channelName}",{channelName:this.getChannelDisplayName()});return o.a.createElement(m["a"],{href:c,clogLinkClick:s},u)}},{key:"renderFooter",value:function e(){var t=this.props,r=t.ts,n=t.fromUrl,a=t.clogLinkClick,i=t.isReplyUnfurl,s=t.isDirectMessage,c=t.featureHideUnfurlUrls;var l=void 0;c&&(l=s?A.t("View conversation"):i?A.t("View reply"):A.t("View message"));return o.a.createElement("div",{className:"c-message_attachment__row"},o.a.createElement(j["a"],{text:this.renderFooterText(),ts:r,tsLink:n,clogLinkClick:a,permalinkText:l}))}},{key:"render",value:function e(){return o.a.createElement("div",{className:"c-message_attachment__body"},this.renderAuthor(),this.renderText(),this.renderFiles(),this.renderFooter())}}]);return t}(i["PureComponent"]);M.displayName="MessageAttachmentSlackMessage";M.propTypes=P;M.defaultProps=R;var x=function e(t,r){var n=r.authorId,a=r.authorIcon,i=r.authorName,o=r.channelId;var s=Object(f["getMemberById"])(t,n);var c=s&&Object(_["a"])({size:w["a"],teamId:s.team_id,memberId:n,avatarHash:s.profile.avatar_hash});var l=Object(p["getChannelById"])(t,o);return{authorIcon:c&&c.imageUrl2x||a,authorName:Object(v["q"])(t,s)||i,teamId:Object(d["getTeamId"])(t),isDirectMessage:Object(h["isIm"])(l)||Object(h["isMpim"])(l),isPrivate:Object(h["isPrivateChannel"])(l),featureFileThreadsDarkLaunch:Object(u["isFeatureEnabled"])(t,"feature_file_threads_dark_launch"),featureHideUnfurlUrls:Object(u["isFeatureEnabled"])(t,"feature_hide_unfurl_urls")}};t["a"]=Object(s["connect"])(x)(M)},17803:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(3);var c=r.n(s);var l=r(9);var u=r(16922);var p=r(17004);var f=r(16947);var d=r(16948);var v=r(17607);var h=r(17194);var m=r(17609);var b=r(17188);var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E={file:f["a"].File().isRequired,clogLinkClick:c.a.func,expandPref:c.a.bool,previewFile:c.a.func};var j={clogLinkClick:n["noop"],expandPref:true,previewFile:n["noop"]};var k=function(e){O(t,e);function t(e){g(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.openFile=r.openFile.bind(r);return r}_(t,[{key:"openFile",value:function e(t){t.preventDefault();this.props.previewFile({fileId:this.props.file.id})}},{key:"render",value:function e(){var t=this.props,r=t.file,a=t.clogLinkClick,i=t.expandPref;if(i&&Object(d["fileIsImage"])(r)){var s={};Object(n["isNumber"])(r.thumb_360_w)&&(s.width=r.thumb_360_w);Object(n["isNumber"])(r.thumb_360_h)&&(s.height=r.thumb_360_h);return o.a.createElement("div",{className:"c-message_attachment__file c-message_attachment__file--image",style:s},o.a.createElement(v["a"],{file:r,maxSize:360,clogLinkClick:a}))}return o.a.createElement(b["a"],{className:"c-message_attachment__file",file:r,clogLinkClick:a,onClick:this.openFile,showActions:false},o.a.createElement(h["a"],{file:r,action:"detail",showThumbnail:true},o.a.createElement(m["a"],{file:r,action:"details"})))}}]);return t}(i["PureComponent"]);k.displayName="AttachmentFile";k.propTypes=E;k.defaultProps=j;function w(e){return{expandPref:Object(u["getUserPref"])(e,"expand_internal_inline_imgs")}}t["a"]=Object(l["connect"])(w,{previewFile:p["b"]})(k)},17805:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(16947);var u=r(16948);var p=r(16917);var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function d(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b={file:l["a"].File().isRequired,action:o.a.oneOf(["slide","window","external","view","detail","download"]),showThumbnail:o.a.bool,className:o.a.string};var _={action:void 0,showThumbnail:true,className:void 0};var g=function(e){m(t,e);function t(){v(this,t);return h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}f(t,[{key:"render",value:function e(){var t=this.props,r=t.file,n=t.action,i=t.showThumbnail;var o=c()("c-pillow_file__icon",this.props.className,{"c-pillow_file__icon--tombstone":Object(u["isTombstone"])(r)});if(Object(u["isTombstone"])(r))return a.a.createElement(p["b"],{type:"trash",className:o});if(i&&r.thumb_80&&!r.has_rich_preview){var s=r.thumb_64||r.thumb_80||r.thumb_160||r.thumb_360;return a.a.createElement("i",{className:c()("c-pillow_file__thumb_36",o),style:{backgroundImage:"url("+s+")"},src:s})}return a.a.createElement(p["a"],{className:c()(o,d({"c-pillow_file__icon--slide":n},"c-pillow_file__icon--"+n,n)),file:true,type:r.filetype,align:"top"})}}]);return t}(n["PureComponent"]);g.displayName="FileIcon";t["a"]=g;g.propTypes=b;g.defaultProps=_},17806:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(45);var c=r(1);var l=r.n(c);var u=r(17118);var p=r(17309);var f={imageUrl:a.a.string,imageBytes:a.a.number,imageWidth:a.a.number,imageHeight:a.a.number,expandableKey:a.a.string,rotation:a.a.number,activeChannelId:a.a.string,messageTs:a.a.string,clogLinkClick:a.a.func};var d={imageUrl:null,imageBytes:0,imageWidth:0,imageHeight:0,expandableKey:null,rotation:void 0,activeChannelId:void 0,messageTs:void 0,clogLinkClick:c["noop"]};var v=function e(t){var r=t.imageUrl,n=t.imageBytes,a=t.imageWidth,i=t.imageHeight,s=t.expandableKey,c=t.rotation,l=t.activeChannelId,f=t.messageTs,d=t.clogLinkClick;return o.a.createElement("span",{className:"c-message_attachment_inline"},o.a.createElement(u["b"],{imageBytes:r&&n,imageUrl:r,expandableKey:s}),o.a.createElement(p["a"],{imageUrl:r,imageWidth:a,imageHeight:i,imageBytes:n,expandableKey:s,rotation:c,activeChannelId:l,messageTs:f,clogLinkClick:d}))};v.displayName="MessageAttachmentInline";v.propTypes=f;v.defaultProps=d;t["a"]=Object(s["pure"])(v)},17807:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(16922);var l=r(16929);var u=r(16912);var p=r(16941);var f=r(17391);var d=r(17699);var v=r(16938);var h=r(17311);var m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=new u["b"]("shared_channels");var O={type:a.a.oneOf(["sharedChannelsInvite","sharedChannelsFindAnAdmin","sharedChannelsBetaOptIn"]),inviteId:a.a.string,hasDeclinedESCBeta:a.a.bool,hasJoinedESCBeta:a.a.bool};var E={type:null,inviteId:null,hasDeclinedESCBeta:null,hasJoinedESCBeta:null};var j=function e(){Object(l["c"])("team.prefs.set",{prefs:'{"enable_shared_channels":0}'})};var k=function(e){g(t,e);function t(e){b(this,t);var r=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.acceptSharedChannelInvite=r.acceptSharedChannelInvite.bind(r);r.declineSharedChannelInvite=r.declineSharedChannelInvite.bind(r);r.findMyAdmins=r.findMyAdmins.bind(r);return r}m(t,[{key:"acceptSharedChannelInvite",value:function e(){var t=this.props.inviteId;if(!t)return;Object(p["d"])({event:"SHARED_CHANNELS_SLACKBOT_ADMIN_ACTION",element:"SHARED_CHANNELS_SLACKBOT_INVITE_VIEW_BTN",contexts:{core:{shared_channels_invite_id:t}}});Object(f["a"])(t)}},{key:"declineSharedChannelInvite",value:function e(){var t=this.props.inviteId;Object(p["d"])({event:"SHARED_CHANNELS_SLACKBOT_ADMIN_ACTION",element:"SHARED_CHANNELS_SLACKBOT_INVITE_DECLINE_BTN",contexts:{core:{shared_channels_invite_id:t}}});Object(l["c"])("conversations.declineSharedInvite",{invite_id:t})}},{key:"findMyAdmins",value:function e(){var t=this.props.inviteId;Object(p["d"])({event:"SHARED_CHANNELS_NONADMIN_ACTION",element:"SHARED_CHANNELS_SLACKBOT_INVITE_FIND_ADMIN_BTN",contexts:{core:{shared_channels_invite_id:t}}});Object(f["b"])()}},{key:"render",value:function e(){var t=this.props,r=t.type,n=t.hasDeclinedESCBeta,a=t.hasJoinedESCBeta;var i=void 0;switch(r){case"sharedChannelsInvite":i=[o.a.createElement(h["a"],{key:"accept",text:y.t("View Invitation"),variant:"primary",onClick:this.acceptSharedChannelInvite}),o.a.createElement(h["a"],{key:"decline",text:y.t("Decline"),variant:"danger",onClick:this.declineSharedChannelInvite})];break;case"sharedChannelsFindAnAdmin":i=o.a.createElement(h["a"],{text:y.t("Who are my admins?"),variant:"primary",onClick:this.findMyAdmins});break;case"sharedChannelsBetaOptIn":if(n||a){n&&(i=o.a.createElement(v["a"],{text:y.t(":no_entry_sign: To join later, click on *Shared channels (beta)* in the top-left menu.")}));a&&(i=o.a.createElement(v["a"],{text:y.t(":white_check_mark: Your team has joined the Shared Channels beta. To learn more, click on *Shared channels (beta)* in the top-left menu.")}))}else i=[o.a.createElement(h["a"],{key:"accept",text:y.t("Join the Beta"),variant:"primary",onClick:d["a"]}),o.a.createElement(h["a"],{key:"decline",text:y.t("Not Now",{ns:"web_admin"}),onClick:j})];break;default:i=null}return o.a.createElement("div",{className:"c-message_attachment__body"},i)}}]);return t}(i["PureComponent"]);k.displayName="MessageAttachmentClientButtons";k.propTypes=O;k.defaultProps=E;function w(e){var t=Object(c["getTeamPref"])(e,"enable_shared_channels");return{hasDeclinedESCBeta:0===t,hasJoinedESCBeta:1===t}}t["a"]=Object(s["connect"])(w)(k)},17808:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(9);var u=r(1);var p=r.n(u);var f=r(16912);var d=r(20321);var v=r(20320);var h=r(20536);var m=r(17698);var b=r(17142);var _=r(17068);var g=r(16913);var y=r(16974);var O=r(20541);var E=r(16918);var j=r(16917);var k=r(17190);var w=r(16942);var C=r(17454);var S=r(19761);var T=r(20339);var I=r(20287);var N=r.n(I);var A=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function M(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=new f["b"]("attachments_v2");var L={id:o.a.string,bot:o.a.oneOfType([o.a.bool,o.a.object]),botId:o.a.string,teamId:o.a.string,activeChannelId:o.a.string,messageTs:o.a.string,featureAttachmentsV2:o.a.bool,featureAppProfileCardTriggerSharedChannels:o.a.bool,featureBetterWebAppModel:o.a.bool,blocks:o.a.array.isRequired,color:o.a.string,isAppUnfurl:o.a.bool,showDelete:o.a.bool,deleteAttachment:o.a.func,isOnlyMessageContent:o.a.bool,service:o.a.string.isRequired,dispatchSendActions:o.a.func.isRequired};var D={id:null,bot:null,botId:null,teamId:null,activeChannelId:null,messageTs:null,featureAttachmentsV2:false,featureAppProfileCardTriggerSharedChannels:false,featureBetterWebAppModel:false,color:null,isAppUnfurl:false,showDelete:false,deleteAttachment:u["noop"],isOnlyMessageContent:false};var F=function(e){M(t,e);function t(e){P(this,t);var r=R(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));var n=r.props,a=n.id,i=n.activeChannelId,o=n.messageTs,s=n.service,c=n.dispatchSendActions;r.formState={};Object(u["bindAll"])(r,["handleDeleteClick","handleAction","getFormState","handleActionsResponseSuccess","handleActionsResponseError","handleAttributionClick","renderDeleteButtonMaybe","renderBorderMaybe","renderAttributionMaybe"]);r.actionsQueue=new v["a"]({method:c,onSuccess:r.handleActionsResponseSuccess,onError:r.handleActionsResponseError,partialPayload:{serviceId:s,container:{type:"message",messageTs:o,attachmentId:a,channelId:i}}});r.state={loadingBlockIds:[],errorBlockIds:[]};return r}A(t,[{key:"getFormState",value:function e(t){var r=this;var n=void 0;return Object(u["each"])(t,function(e){switch(e.type){case"inline_select":n="b-"+e.block_id+"-a-"+e.select.action_id;r.formState[n]=r.formState[n]||"";break;case"action_collection":Object(u["each"])(e.collection,function(t){if("select"===t.type){n="b-"+e.block_id+"-a-"+t.action_id;r.formState[n]=r.formState[n]||""}});break;default:break}})}},{key:"handleDeleteClick",value:function e(){var t=this.props,r=t.activeChannelId,n=t.messageTs,a=t.id;this.props.deleteAttachment(r,n,a)}},{key:"handleAction",value:function e(t){this.setState(function(e){return{loadingBlockIds:Object(u["concat"])(e.loadingBlockIds,[t.blockId]),errorBlockIds:Object(u["pullAll"])(e.errorBlockIds,[t.blockId])}});this.updateFormState(t);this.actionsQueue.enqueue(t,this.formState)}},{key:"handleActionsResponseSuccess",value:function e(t){this.setState(function(e){return{loadingBlockIds:Object(d["a"])(e.loadingBlockIds,t),errorBlockIds:Object(d["a"])(e.errorBlockIds,t)}})}},{key:"handleActionsResponseError",value:function e(t){this.setState(function(e){return{loadingBlockIds:Object(d["a"])(e.loadingBlockIds,t),errorBlockIds:Object(u["concat"])(e.errorBlockIds,t)}})}},{key:"handleAttributionClick",value:function e(t){if(Object(h["a"])(t))return null;t.preventDefault();var r=this.props,n=r.botId,a=r.teamId,i=r.featureAppProfileCardTriggerSharedChannels,o=r.featureBetterWebAppModel;t.stopPropagation();t.persist();if(i&&o)return null;return Object(b["a"])(t,n,a)}},{key:"updateFormState",value:function e(t){var r="b-"+t.blockId+"-a-"+t.actionId;void 0!==this.formState[r]&&(this.formState[r]=t.value)}},{key:"renderDeleteButtonMaybe",value:function e(){var t=this.props,r=t.showDelete,n=t.isOnlyMessageContent;var i=null;if(r){var o=c()("c-message_attachment_v2__delete",{"c-message_attachment_v2__delete--pushed":n});i=a.a.createElement(E["c"],{className:o,onClick:this.handleDeleteClick},a.a.createElement(j["a"],{type:"times_small"}))}return i}},{key:"renderBorderMaybe",value:function e(){var t=this.props,r=t.color,n=t.isAppUnfurl;var i=null;(r||n)&&(i=a.a.createElement(k["a"],{color:r,className:"c-message_attachment_v2__border"}));return i}},{key:"renderAttributionMaybe",value:function e(){var t=this.props,r=t.featureAttachmentsV2,n=t.featureAppProfileCardTriggerSharedChannels,i=t.featureBetterWebAppModel,o=t.bot,s=t.botId,c=t.isAppUnfurl,l=t.teamId;if(!c&&!o)return null;var u=void 0;var p=r?x.t("a bot"):"";var f=o?o.name:p;var d="/services/"+s;if(o.isNonExistent||o.isUnknown)u=p;else{u=a.a.createElement(w["a"],{href:d,target:"_blank",title:f,"data-attribution-bot-id":s,onClick:this.handleAttributionClick},f);n&&i&&(u=a.a.createElement(S["a"],{serviceId:s,teamId:l,onClick:this.handleAttributionClick},a.a.createElement(C["a"],{href:d,target:"_blank",title:f,"data-attribution-bot-id":s,onClick:this.handleAttributionClick},f)))}return a.a.createElement("div",{className:"c-message_attachment_v2__attribution","data-qa-attachment-attribution":true},r?x.t("Added by "):"",u)}},{key:"render",value:function e(){var t=this.props,r=t.featureAttachmentsV2,n=t.blocks;if(!r)return null;this.getFormState(n);return a.a.createElement("div",{className:"c-message_attachment_v2"},this.renderDeleteButtonMaybe(),this.renderBorderMaybe(),a.a.createElement("div",{className:"c-message_attachment_v2__body"},a.a.createElement(O["a"],{blocks:n,onAction:this.handleAction,loadingBlockIds:this.state.loadingBlockIds,errorBlockIds:this.state.errorBlockIds}),this.renderAttributionMaybe()))}}]);return t}(n["PureComponent"]);F.displayName="MessageAttachmentDefaultV2";F.propTypes=L;F.defaultProps=D;function B(e,t){var r=t.id,n=t.botId,a=t.botProfile,i=t.messageTs,o=t.activeChannelId,s=t.fromUrl;var c=void 0;n&&a&&a.team_id&&(c=a.team_id);var l=t.showDelete;Object(u["isUndefined"])(l)&&(l=Object(_["a"])(e,{attachmentId:r,attachmentFromUrl:s,messageTs:i,channelId:o}));return{bot:Object(y["getBotById"])(e,n),teamId:c,showDelete:l,featureAttachmentsV2:Object(g["isFeatureEnabled"])(e,"feature_attachments_v2"),featureAppProfileCardTriggerSharedChannels:Object(g["isFeatureEnabled"])(e,"feature_app_profile_card_trigger_shared_channels"),featureBetterWebAppModel:Object(g["isFeatureEnabled"])(e,"feature_better_web_app_model")}}var U={deleteAttachment:function e(t,r,n){return function(){Object(m["a"])(t,r,n)}},dispatchSendActions:T["c"]};t["a"]=Object(l["connect"])(B,U)(F)},17809:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(17810);var c=r(20541);var l={id:o.a.string.isRequired,messageTs:o.a.string.isRequired,activeChannelId:o.a.string.isRequired,service:o.a.string,externalId:o.a.string};var u={externalId:"",service:""};var p=function e(t){var r=t.id,n=t.messageTs,i=t.activeChannelId,o=t.service,l=t.externalId;return a.a.createElement(s["a"],{canvasId:r,messageTs:n,activeChannelId:i,externalId:l,service:o,render:function e(t){var r=t.canvas,n=t.onAction;return a.a.createElement(c["a"],{onAction:n,content:r.blocks})}})};p.displayName="MessageAttachmentCanvas";p.propTypes=l;p.defaultProps=u;t["a"]=p},17813:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(16947);var u=r(17188);var p=r(17194);var f=r(17642);var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b={file:l["a"].File().isRequired,className:o.a.string,fullWidth:o.a.bool};var _={className:null,fullWidth:false};var g=function(e){m(t,e);function t(){v(this,t);return h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}d(t,[{key:"render",value:function e(){var t=this.props,r=t.file,n=t.className,i=t.fullWidth;var o=c()("p-static_file",n);return a.a.createElement(u["a"],{file:r,className:o,fullWidth:i,showActions:false},a.a.createElement(p["a"],{file:r},a.a.createElement(f["a"],{file:r})))}}]);return t}(n["PureComponent"]);g.displayName="StaticFile";t["a"]=g;g.propTypes=b;g.defaultProps=_},17814:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16974);var p=r(16912);var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=new p["b"]("members");var b={name:o.a.string.isRequired,badge:o.a.bool};var _={badge:true};var g=function(e){h(t,e);function t(){d(this,t);return v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}f(t,[{key:"renderBadge",value:function e(){if(!this.props.badge)return null;var t="c-app_label";return a.a.createElement("span",{className:t},m.t("APP"))}},{key:"render",value:function e(){var t=l.a.omit(this.props,["id","name","dispatch","badge"]);return a.a.createElement("span",t,this.props.name," ",this.renderBadge())}}]);return t}(n["PureComponent"]);g.displayName="BotName";g.propTypes=b;g.defaultProps=_;var y=function e(t,r){var n=r.id;return{name:Object(u["getBotNameById"])(t,n)}};t["a"]=Object(s["connect"])(y)(g)},17816:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.client.windows.openFileWindow",function(){return false})},17818:function(e,t,r){"use strict";t["a"]=p;var n=r(16919);var a=r(16922);var i=r(16913);var o=r(16948);var s=r(16921);var c=r(17080);var l=r(16978);var u=r(17074);function p(e,t){if(!e)return null;if(!t)return null;var r=Object(n["getCurrentMember"])(e);if(!r)return null;var p=r.id;var f=t.user===p;var d=t.is_public||f;var v=!d;var h=true;var m=!t.public_url_shared&&"external"!==t.mode&&!Object(s["O"])(r)&&!Object(a["getTeamPref"])(e,"disallow_public_file_urls")&&(t.is_public||f);var b=t.public_url_shared&&!Object(s["O"])(r)&&!Object(a["getTeamPref"])(e,"disallow_public_file_urls")&&(Object(s["w"])(r)||f);var _="hosted"===t.mode||"snippet"===t.mode;var g=Object(o["fileIsImage"])(t)||"pdf"===t.filetype||"external"===t.mode||"snippet"===t.mode||"email"===t.mode;var y=Object(i["isWebApp"])(e)&&["post","snippet","space","email","docs"].includes(t.mode);var O="space"===t.mode&&!("USLACKBOT"===t.user&&"Getting_Started_with_Posts"===t.name);var E="space"===t.mode||"docs"===t.mode;var j=(f||Object(s["w"])(r)&&!Object(s["F"])(e,t.user))&&!Object(a["getTeamPref"])(e,"disable_file_deleting")&&!t.is_tombstoned;var k=["snippet","post","space","docs"].includes(t.mode)&&(f||"space"===t.mode&&"locked"!==t.state)&&!Object(a["getTeamPref"])(e,"disable_file_editing")&&!t.is_tombstoned;var w=f&&("hosted"===t.mode||"email"===t.mode)&&!Object(a["getTeamPref"])(e,"disable_file_editing")&&!t.is_tombstoned;var C=Object(c["canWriteText"])();var S="external"===t.mode&&(f||Object(s["w"])(r));var T="hosted"===t.mode&&window.Dropbox&&window.Dropbox.isBrowserSupported()&&Object(a["getUserPref"])(e,"dropbox_enabled");var I=Object(l["f"])(e);var N=I&&Object(i["isClientApp"])(e)&&Object(u["a"])(I)&&t.pinned_to&&t.pinned_to.includes(I.id);var A=I&&Object(i["isClientApp"])(e)&&Object(u["a"])(I)&&!(t.pinned_to&&t.pinned_to.includes(I.id))&&(t.channels&&t.channels.includes(I.id)||t.groups&&t.groups.includes(I.id)||t.ims&&t.ims.includes(I.id));var P=true;return{share:d,share_private_file:v,comment:h,create_public_link:m,revoke_public_link:b,download:_,open_original:g,print:y,learn_more:O,new_window:E,delete_file:j,edit:k,edit_title:w,copy_file_link:C,refresh:S,save_to_dropbox:T,unpin_file:N,pin_file:A,rxn_file:P}}},17819:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(17151);var o=r(16912);var s=r(17080);var c=r(17087);var l=r(17647);var u=r(17096);var p=r(16977);var f=r(17820);var d=r(17135);var v=r(17648);var h=new o["b"]("file");var m=function e(t){var r=t.file,n=t.actions,o=t.channelName,m=t.channelType,b=t.isSnippet,_=t.fileRefreshState,g=t.clogLinkClick,y=t.featureFileThreads,O=t.refreshFile,E=t.updateStar,j=t.onPin,k=t.renameFile,w=t.editSnippet,C=t.openWindow,S=t.previewFile;var T=!m;var I=void 0;y&&(I={label:r.is_starred?h.t("Unstar file"):h.t("Star file"),show:y,click:function e(){return E(!r.is_starred,{file:r.id})}});var N=[{label:h.t("Share"),show:(n.share||n.share_private_file)&&!y,click:function e(){return Object(l["a"])(r.id,false,false,null,true)}},{label:h.t("Add reaction \u2026"),show:n.rxn_file&&!y,click:function e(t){return Object(u["a"])({e:t,rxn_key:r._rxn_key})}},{label:y?h.t("Copy link to file"):h.t("Copy link"),show:n.copy_file_link,click:function e(){return Object(s["writeText"])(n.open_original&&!("email"===r.mode||"snippet"===r.mode)?r.url_private:r.permalink)}},{label:Object(v["a"])(n.unpin_file,o,m),show:o&&(n.pin_file||n.unpin_file)&&!y,click:function e(){return j(n.unpin_file)}},I,{label:h.t("View details"),show:!T,click:function e(){g({link_action:"file_preview_action"});S({fileId:r.id})}},{label:b?h.t("View raw"):h.t("Open original"),target:r.id,href:r.url_private,show:n.open_original,click:function e(){g({file_action:"file_new_window_link"})}},{type:"separator",key:"separator-edit"},{label:h.t("Edit"),show:n.edit&&!n.new_window&&T,click:function e(){return w()}},{label:n.edit?h.t("Edit in new window"):h.t("Open in new window"),show:n.new_window&&T,href:r.permalink,target:"_blank",click:function e(t){return C(t)}},{label:h.t("Rename \u2026"),show:n.edit_title,click:function e(){if(y){k();return}S({fileId:r.id});Object(p["d"])(r.id)}},{label:r.public_url_shared?h.t("View external link \u2026"):h.t("Create external link \u2026"),show:n.create_public_link||n.revoke_public_link,click:function e(){if(r.public_url_shared){y||g({link_action:"file_viewer_external_link"});Object(f["a"])(r)}else Object(p["b"])(r,function(e){return e&&Object(f["a"])(r.id)})}},{label:h.t("Print \u2026"),show:n.print,click:a.a.noop},{label:h.t("Save to Dropbox \u2026"),show:n.save_to_dropbox,click:function e(){return Object(c["g"])(r)}},{label:function(){switch(_){case i["STATE"].READY:return h.t("Refresh file \u2026");case i["STATE"].REFRESHING:return h.t("Refreshing \u2026");case i["STATE"].ERROR:return h.t("Refresh failed.");case i["STATE"].DONE:return h.t("File refreshed!");default:return h.t("Refresh file \u2026")}}(),show:n.refresh,click:function e(t){t.preventDefault();O({fileId:r.id})}},{type:"separator",key:"separator-delete"},{label:r.is_external?h.t("Delete file from Slack"):h.t("Delete file"),show:n.delete_file,danger:true,click:function e(){return Object(d["b"])(r.id)}}];N=N.filter(function(e){return e&&(e.show||"separator"===e.type)});return N};t["a"]=m},17820:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.ui.file_share.fileShowPublicUrlDialog",function(){return null});var i={fileShowPublicUrlDialog:a}},17822:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(16947);var o=r(16948);var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p={file:i["a"].File().isRequired};var f=function(e){u(t,e);function t(){c(this,t);return l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}s(t,[{key:"render",value:function e(){var t=this.props.file;if(!t.has_rich_preview&&!t.thumb_pdf)return null;if(Object(o["isTombstone"])(t))return null;var r=t.thumb_800||t.thumb_480||t.thumb_pdf;if(!r)return null;return a.a.createElement("div",{className:"c-pillow_file__preview",style:{backgroundImage:"url('"+r+"')"}})}}]);return t}(n["PureComponent"]);f.displayName="FilePreview";t["a"]=f;f.propTypes=p},17823:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(3);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(16912);var f=r(16917);var d=r(16918);var v=r(20145);var h=r.n(v);var m=r(20166);var b=r.n(m);var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=new p["b"]("files");var j={children:c.a.any.isRequired,isExpanding:c.a.bool,isExpandable:c.a.bool,isExpanded:c.a.bool,lineCount:c.a.number,expand:c.a.func,collapse:c.a.func,fullWidth:c.a.bool,fileId:c.a.string,ts:c.a.string,channelId:c.a.string,noGradient:c.a.bool};var k={isExpanding:false,isExpandable:false,isExpanded:false,lineCount:0,expand:a.a.noop,collapse:a.a.noop,jumpToTimestamp:a.a.noop,fullWidth:false,fileId:null,ts:null,channelId:null,noGradient:false};var w=function(e){O(t,e);function t(e){g(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.expandFile=r.expandFile.bind(r);r.collapseFile=r.collapseFile.bind(r);r.setRef=r.setRef.bind(r);return r}_(t,[{key:"setRef",value:function e(t){this.node=t}},{key:"expandFile",value:function e(t){if(this.node&&!this.node.contains(t.target))return;var r=this.props,n=r.fileId,a=r.ts,i=r.channelId;this.props.expand({fileId:n,ts:a,channelId:i})}},{key:"collapseFile",value:function e(){var t=this.props,r=t.fileId,n=t.ts,a=t.channelId,i=t.collapse;i({fileId:r,ts:n,channelId:a})}},{key:"renderExpandButton",value:function e(){var t=this.props,r=t.lineCount,n=t.isExpanding;var a=void 0;a=r?E.t("Click to expand inline ({lineCount, plural, =1 {# line} other {# lines}})",{lineCount:r}):E.t("Click to expand inline");var i=void 0;i=n?o.a.createElement(f["a"],{className:"c-file_container__spinner",type:"spinner",animation:"spin",align:"top"}):o.a.createElement(d["c"],{className:"c-file_container__expand",onClick:this.expandFile},o.a.createElement(f["a"],{type:"plus_small",align:"top"}),a);return o.a.createElement("div",{className:"c-file_container__expand_container"},i)}},{key:"renderCollapseButton",value:function e(){return o.a.createElement("div",{className:"c-file_container__collapse_container"},o.a.createElement(d["c"],{className:"c-file_container__collapse",onClick:this.collapseFile},E.t("Collapse"),"\xa0",o.a.createElement(f["a"],{type:"arrow_up_medium",align:"top"})))}},{key:"render",value:function e(){var t=this.props,r=t.isExpandable,n=t.isExpanded,a=t.children,i=t.fullWidth,s=t.noGradient;var c=r&&!n;var l=r&&n;var p=u()("c-file_container",{"c-file_container--gradient":c&&!s,"c-file_container--full_width":i});return o.a.createElement("div",{className:p,onClick:c?this.expandFile:void 0,role:"presentation",ref:this.setRef},a,c&&this.renderExpandButton(),l&&this.renderCollapseButton())}}]);return t}(i["PureComponent"]);w.displayName="ExpandableFile";t["a"]=w;w.propTypes=j;w.defaultProps=k},17825:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(16947);var f=r(16912);var d=r(16917);var v=r(17146);var h=r(20220);var m=r.n(h);var b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=new f["b"]("files");var j={snippetHtml:o.a.string.isRequired,wrapLines:o.a.bool,isTruncated:o.a.bool,permalink:o.a.string,file:p["a"].File().isRequired,channelId:o.a.string,ts:o.a.string,isExpanded:o.a.bool,collapse:o.a.func,clogLinkClick:o.a.func,showActions:o.a.bool};var k={wrapLines:true,isTruncated:false,permalink:"",channelId:null,ts:null,isExpanded:false,collapse:u.a.noop,clogLinkClick:u.a.noop,showActions:false};var w=function(e){O(t,e);function t(e){g(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.collapse=r.collapse.bind(r);return r}_(t,[{key:"collapse",value:function e(){var t=this.props,r=t.file,n=t.ts,a=t.channelId,e=t.collapse;if(!r||!n||!a)return;e({fileId:r.id,ts:n,channelId:a})}},{key:"renderTruncatedInfo",value:function e(){var t=this.props.permalink;var r=E.rt("This snippet was truncated for display; <a>see it in full</a>",null,function(e){var r=e.key,n=e.text;return a.a.createElement("a",{key:r,href:t,target:"_blank",rel:"noopener noreferrer"},n)});return a.a.createElement("div",{className:"c-snippet__truncated"},a.a.createElement(d["a"],{type:"info_circle",inherit:true,align:"top"}),"\xa0",r)}},{key:"render",value:function e(){var t=this.props,r=t.snippetHtml,n=t.wrapLines,i=t.isTruncated,o=t.file,s=t.channelId,l=t.isExpanded,u=t.clogLinkClick,p=t.showActions;var f=c()("c-snippet__code",{"c-snippet--wrap":n});var d=p&&a.a.createElement(v["b"],{file:o,channelId:s,isSnippet:true,isExpanded:l,collapse:this.collapse,clogLinkClick:u});return a.a.createElement("div",{className:"c-snippet"},a.a.createElement(v["a"],b({},this.props,{fullWidth:true}),a.a.createElement("div",{className:f,dangerouslySetInnerHTML:{__html:r}}),d),i&&this.renderTruncatedInfo())}}]);return t}(n["PureComponent"]);w.displayName="Snippet";t["a"]=w;w.propTypes=j;w.defaultProps=k},17826:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(3);var s=r.n(o);var c=r(8);var l=r.n(c);var u=r(1);var p=r.n(u);var f=r(16947);var d=r(18470);var v=r(16916);var h=r(17024);var m=r(16912);var b=r(18011);var _=r(17698);var g=r(16917);var y=r(17146);var O=r(17704);var E=r(20221);var j=r.n(E);var k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var w=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function C(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function I(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var N=new m["b"]("files");var A={postHtml:s.a.string.isRequired,file:f["a"].File().isRequired,timestamp:s.a.number,isExpandable:s.a.bool,isExpanded:s.a.bool,allowAnimations:s.a.bool,channelId:s.a.string,ts:s.a.string,unfurlLink:s.a.func,unfurlLinkCache:s.a.instanceOf(O["a"]),collapse:s.a.func,clogLinkClick:s.a.func,showActions:s.a.bool};var P={timestamp:null,isExpandable:false,isExpanded:false,allowAnimations:true,channelId:null,ts:null,unfurlLink:p.a.noop,unfurlLinkCache:null,collapse:p.a.noop,clogLinkClick:p.a.noop,showActions:true};var R=p.a.once(function(){try{if(!window.DOMParser)return null;var e=new window.DOMParser;e.parseFromString("","text/html")||(e=null);return e}catch(e){Object(v["error"])(e);return null}});function M(e,t){try{var r=R();if(!r)return e;var n=r.parseFromString(e,"text/html");var a=n.body.querySelectorAll(".unfurl-container > .unfurl-placeholder");if(p.a.isEmpty(a))return e;p.a.forEach(a,t);return n.body.innerHTML}catch(t){Object(v["error"])(t);return e}}var x=function(e){I(t,e);function t(e){S(this,t);var r=T(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.collapse=r.collapse.bind(r);r.unfurlPromises={};r.state={attachments:{}};return r}w(t,[{key:"componentWillMount",value:function e(){var t=this.props,r=t.postHtml,n=t.unfurlLinkCache;if(!r||!n)return;var a={};M(r,function(e){var t=e.getAttribute("href");if(!t)return;n.get(t)&&(a[t]=n.get(t))});this.setState(function(){return{attachments:a}})}},{key:"componentDidMount",value:function e(){if(!this.props.postHtml)return;this.loadUnfurls(this.props.postHtml)}},{key:"componentWillReceiveProps",value:function e(t){this.props.postHtml!==t.postHtml&&this.loadUnfurls(t.postHtml)}},{key:"componentWillUnmount",value:function e(){p.a.forEach(this.unfurlPromises,function(e){return e.cancel()})}},{key:"collapse",value:function e(){var t=this.props,r=t.file,n=t.ts,a=t.channelId,e=t.collapse;if(!a||!n)return;e({fileId:r.id,ts:n,channelId:a})}},{key:"loadUnfurls",value:function e(t){var r=this;var n=this.state.attachments;var a=this.props,i=a.unfurlLink,o=a.unfurlLinkCache;var s=this.unfurlPromises;var c=[];M(t,function(e){var t=e.getAttribute("href");t&&c.push(t)});p.a.forEach(c,function(e){if(n[e]||s[e])return;s[e]=i(e).then(function(t){if(!t)return;r.setState(function(r){return{attachments:k({},r.attachments,C({},e,t))}});o&&o.set(e,t)})})}},{key:"insertUnfurls",value:function e(t){var r=this.state.attachments;var n=this.props.allowAnimations;return M(t,function(e){var t=e.getAttribute("href");var a=r[t];if(t&&a){if("gif"===a.file_type&&!n)return;var i=Object(_["b"])(a);var o=e;o.parentNode.innerHTML=i}})}},{key:"formatPostHtml",value:function e(t){var r=Object(b["b"])(t);return this.insertUnfurls(r)}},{key:"renderHeader",value:function e(){var t=this.props,r=t.file,n=t.timestamp,i=t.postHtml,o=t.clogLinkClick;var s=void 0;n&&(s=N.t("Last edited {timeAgo}",{timeAgo:Object(m["l"])(Object(h["a"])(n))}));var c=l()("c-post__header",{"c-post__header--empty":!i||"<p></p>"===i});return a.a.createElement("div",{className:c},a.a.createElement(g["a"],{type:"file_text_post",className:"c-post__icon"}),a.a.createElement("div",{className:"c-post__title"},a.a.createElement(y["c"],{file:r,clogLinkClick:o})),a.a.createElement("div",{className:"c-post__timestamp"},s))}},{key:"render",value:function e(){var t=this.props,r=t.postHtml,n=t.isExpandable,i=t.isExpanded,o=t.file,s=t.channelId,c=t.clogLinkClick,u=t.showActions;var p=n&&!i;var f=l()("c-post__body post_body",{"c-post--collapsed":p});var d=this.formatPostHtml(r);var v=u&&a.a.createElement(y["b"],{file:o,channelId:s,isExpanded:i,collapse:this.collapse,clogLinkClick:c});return a.a.createElement(y["a"],this.props,a.a.createElement("div",{className:"c-post"},this.renderHeader(),a.a.createElement("div",{className:f,dangerouslySetInnerHTML:{__html:d}})),v)}}]);return t}(n["PureComponent"]);x.displayName="Post";x.propTypes=A;x.defaultProps=P;var L={unfurlLink:d["a"]};t["a"]=Object(i["connect"])(void 0,L)(x)},17828:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(17012);var u=r(17385);var p=r(17145);var f=r(17706);var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var v=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;if(void 0===o)return;return o.call(n)};var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=400;var y=h({},u["a"].propTypes,{layout:o.a.instanceOf(f["a"]),loadPre:o.a.func,loadPost:o.a.func,loadAround:o.a.func});var O=h({},u["a"].defaultProps,{layout:void 0,loadPre:s["noop"],loadPost:s["noop"],loadAround:s["noop"]});var E=function(e){_(t,e);function t(e){m(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onScroll=r.onScroll.bind(r);r.setHeight=r.setHeight.bind(r);r.layout=e.layout||new f["a"];r.node=null;r.scrollTop=r.layout.setContainerHeight(e.height,0);r.scrollTop=r.layout.setKeys(e.keys,r.scrollTop);var n=r.layout.getBounds(r.scrollTop,r.scrollTop+e.height),a=n.start,i=n.end;var o=r.layout.getTops();r.state=h({},r.state,{start:a,end:i,tops:o});return r}d(t,[{key:"componentWillReceiveProps",value:function e(t){this.possiblySetInitialFocus(t);t.height!==this.props.height&&(this.scrollTop=this.layout.setContainerHeight(t.height,this.getScrollTop()));Object(l["a"])(t.keys,this.props.keys)||(this.scrollTop=this.layout.setKeys(t.keys,this.getScrollTop()));this.relayout()}},{key:"componentDidUpdate",value:function e(r){v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidUpdate",this).call(this,r);"number"===typeof this.pendingScrollTop&&this.setScrollTop(this.pendingScrollTop);this.loadMore()}},{key:"componentDidMount",value:function e(){v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this);"number"===typeof this.pendingScrollTop&&this.setScrollTop(this.pendingScrollTop);this.loadMore()}},{key:"onScroll",value:function e(r){this.pendingScrollTop=false;v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onScroll",this).call(this,r)}},{key:"getScrollTop",value:function e(){if("number"===typeof this.scrollTop)return this.scrollTop;if("number"===typeof this.pendingScrollTop)return this.pendingScrollTop;if(!this.node)return 0;return v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getScrollTop",this).call(this)}},{key:"setHeight",value:function e(t,r){if(!t)return;if(Math.abs(r-this.layout.getHeight(t))<.5)return;var n=this.getScrollTop();this.scrollTop=this.layout.setHeight(t,r,n);this.relayout()}},{key:"loadMore",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.start;var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.end;var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props;var a=n.keys,i=n.height;var o=this.layout.getTotalHeight();var s=this.layout.getTop(a[t]);var c=this.layout.getBottom(a[r-1]);var l=!a.length||o<=i||s<g;var u=!a.length||o<=i||o-c<g;if(l&&u)return n.loadAround();if(l)return n.loadPre();if(u)return n.loadPost();return null}},{key:"renderItem",value:function e(t,r){var n=this.getTop(t);var i=this.layout.getHeight(t);var o=this.layout.getHeightValidity(t);var s=this.state.activeItem===t;var c=this.state.hoveredItem===t;var l=this.props.getAriaLabelForRow;var u=l&&l(r,{hasFocus:s});return a.a.createElement(p["a"],{key:t,id:t,height:i,validity:o,style:{top:n},role:this.props.itemRole,hasFocus:s,onHeightChange:this.setHeight,onFocusEnter:this.onItemFocus,onMouseEnter:this.onItemMouseEnter,onMouseLeave:this.onItemMouseLeave,ariaLabel:u},this.props.rowRenderer(r,{hasFocus:s,isHovered:c}))}},{key:"render",value:function e(){this.pendingScrollTop=this.scrollTop;this.scrollTop=false;return v(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this)}}]);return t}(u["a"]);E.displayName="DynamicList";t["a"]=E;E.propTypes=y;E.defaultProps=O},17829:function(e,t,r){"use strict";t["a"]=l;var n=r(1);var a=r.n(n);var i=r(17100);var o=r(17671);var s=r(17724);var c=r(17725);function l(e,t,r){var n=Object(i["b"])(e,{highlightWords:t,shouldRenderEmojiAsText:r});return a.a.reduce(n.contents,function(e,t){if(t.attributes&&t.attributes.slackmention){var r=t.attributes.slackmention.id;if(Object(o["a"])(r))return e+"@"+Object(c["a"])(r);if(Object(s["a"])(r))return""+e+t.attributes.slackmention.label;if("S"===r.charAt(0))return e+"<!subteam^"+r+"|"+t.attributes.slackmention.label+">";return e+"<@"+r+">"}if(t.insert&&t.insert.slackemoji)return e+t.insert.slackemoji;return e+t.insert},"")}},17830:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(16912);var o=r(16917);var s=new i["b"]("search");var c=function e(){return a.a.createElement("div",{className:"c-search_autocomplete__suggestion_hint"},a.a.createElement("span",{className:"description"},s.t("Jump to")),a.a.createElement(o["a"],{type:"enter",className:"ts_icon_enter modifier_icon"}))};c.displayName="JumpHint";t["a"]=c},17831:function(e,t,r){"use strict";t["a"]=i;var n=r(1);var a=r.n(n);function i(e){if(!a.a.isObject(e))return false;return!e.bot_id&&!e.user&&!!e.username}},17832:function(e,t,r){"use strict";r.d(t,"a",function(){return T});var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16922);var p=r(16932);var f=r(16970);var d=r(17024);var v=r(17094);var h=r(16912);var m=r(17383);var b=r(20168);var _=r.n(b);var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=new h["b"]("message");var w={timestamp:a.a.string.isRequired,link:a.a.string,full:a.a.bool,relative:a.a.bool,time24:a.a.bool,onClick:a.a.func};var C={link:null,relative:false,full:false,time24:false,onClick:c["noop"]};var S=function e(t){var r=t.timestamp,n=t.time24;return k.t("{date} at {time}",{date:Object(v["a"])(r,{shortenMonth:true}),time:Object(f["a"])(r,{do24hrTime:n,includeSeconds:true})})};var T=function(e){j(t,e);function t(e){O(this,t);var r=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={now:Date.now()};return r}y(t,[{key:"componentDidMount",value:function e(){var t=this.props.relative;t&&this.startRelativeTimestampUpdater()}},{key:"componentDidUpdate",value:function e(t){!t.relative&&this.props.relative?this.startRelativeTimestampUpdater():t.relative&&!this.props.relative&&this.stopRelativeTimestampUpdater()}},{key:"componentWillUnmount",value:function e(){this.stopRelativeTimestampUpdater()}},{key:"startRelativeTimestampUpdater",value:function e(){var t=this;this.stopRelativeTimestampUpdater();this.relativeTimestampUpdater=setInterval(function(){t.setState(function(){return{now:Date.now()}})},6e4)}},{key:"stopRelativeTimestampUpdater",value:function e(){clearInterval(this.relativeTimestampUpdater)}},{key:"render",value:function e(){var t=this.props,r=t.timestamp,n=t.full,a=t.relative,i=t.link,s=t.time24,c=t.onClick;var l=o.a.createElement(S,{timestamp:r,time24:s});var u=void 0;u=n?l:a?Object(d["a"])(r):Object(f["a"])(r,{do24hrTime:s});var v=i?"a":"span";var h=o.a.createElement(v,g({className:"c-timestamp",href:i||null,tabIndex:i?"-1":null,onClick:c},Object(m["a"])(this.props)),o.a.createElement("span",{className:"c-timestamp__label","data-stringify-prefix":"[","data-stringify-suffix":"]"},u));if(n)return h;return o.a.createElement(p["c"],{delay:p["a"],tip:l},h)}}]);return t}(i["Component"]);T.displayName="Timestamp";T.propTypes=w;T.defaultProps=C;S.propTypes={timestamp:a.a.string.isRequired,time24:a.a.bool};S.defaultProps=C;var I=function e(t,r){return g({},r,{time24:Object(u["getUserPref"])(t,"time24")})};t["b"]=Object(s["connect"])(I)(T)},17833:function(e,t,r){"use strict";var n=r(18583);var a=r(17838);t["a"]=n["a"]},17834:function(e,t,r){"use strict";t["a"]=a;var n=r(16973);function a(e){return Object(n["a"])((e||"").trim().toLowerCase())}},17835:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16930);var p=r(16940);var f=r(16913);var d=r(16946);var v=r(16912);var h=r(18042);var m=r(16956);var b=r(17836);var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=new v["b"]("msg_edit");var j={ts:o.a.string.isRequired,channelId:o.a.string.isRequired,subtype:o.a.string,removeMessage:o.a.func,hasFile:o.a.bool,fileMode:o.a.string};var k={removeMessage:c["noop"],subtype:void 0,hasFile:false,fileMode:void 0};var w=function(e){O(t,e);function t(){g(this,t);var e=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.onGo=e.onGo.bind(e);return e}_(t,[{key:"onGo",value:function e(){var t=this.props,r=t.ts,n=t.channelId,a=t.removeMessage;a({channelId:n,ts:r}).catch(c["noop"])}},{key:"getBodyText",value:function e(){var t=this.props.subtype;if(!t)return null;var r=this.getFileLabel();if("file_upload"===t){if("file"===r)return E.t("Note that deleting this message will not delete the file that was uploaded.");if("snippet"===r)return E.t("Note that deleting this message will not delete the snippet that was uploaded.");if("post"===r)return E.t("Note that deleting this message will not delete the post that was uploaded.")}else if("file_share"===t){if("file"===r)return E.t("Note that deleting this message will not unshare the file.");if("snippet"===r)return E.t("Note that deleting this message will not unshare the snippet.");if("post"===r)return E.t("Note that deleting this message will not unshare the post.")}else if("file_comment"===t)return E.t("Note that deleting this message will not delete the comment.");return null}},{key:"getFileLabel",value:function e(){var t=this.props,r=t.hasFile,n=t.fileMode;if(!r)return null;if("snippet"===n)return"snippet";if("post"===n)return"post";return"file"}},{key:"render",value:function e(){var t=this.props,r=t.ts,n=t.channelId;var i=this.getBodyText();return a.a.createElement(m["a"],{title:E.t("Delete message"),goButtonText:E.t("Delete"),goButtonType:"danger",onGo:this.onGo},E.t("Are you sure you want to delete this message? This cannot be undone."),i&&a.a.createElement("div",{className:"margin_top_50"},i),a.a.createElement("div",{className:"margin_top_100"},a.a.createElement(b["a"],{ts:r,channelId:n,isStandalone:true})))}}]);return t}(n["PureComponent"]);w.displayName="BaseDeleteMessageDialog";w.propTypes=j;w.defaultProps=k;var C=function e(t,r){var n=r.channelId,a=r.ts;var i=Object(f["isFeatureEnabled"])(t,"feature_file_threads");var o=Object(u["getMessageByTimestamp"])(t,n,a);var s=i?null:o.file;var l=i?o.files:null;var v=i?Object(d["getFileById"])(t,Object(c["first"])(l)):Object(d["getFileById"])(t,s);var h=false;var m=void 0;if(v){h=true;m=v.mode}return{hasFile:h,fileMode:m,subtype:Object(p["getMessageSubtype"])(o)}};var S={removeMessage:h["a"]};var T=Object(s["connect"])(C,S)(w);T.propTypes={channelId:o.a.string.isRequired,ts:o.a.string.isRequired};t["a"]=T},17836:function(e,t,r){"use strict";var n=r(9);var a=r(1);var i=r.n(a);var o=r(3);var s=r.n(o);var c=r(16971);var l=r(16915);var u=r(16930);var p=r(18591);var f=r(17126);var d=r(16974);var v=r(16923);var h=r(16946);var m=r(16922);var b=r(17059);var _=r(17120);var g=r(16913);var y=r(16920);var O=r(16940);var E=r(16948);var j=r(17105);var k=r(17129);var w=r(17073);var C=r(17831);var S=r(16931);var T=r(17114);var I=r(17037);var N=r(17979);var A=r(17961);var P=r(17074);var R=r(18593);var M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function x(e,t,r){if(!r)return true;if(Object(k["a"])(t.subtype)||Object(k["a"])(r.subtype))return true;if(Object(w["b"])(t.subtype)||Object(w["b"])(r.subtype))return true;if("thread_broadcast"===t.subtype)return true;if(r.reply_count||t.reply_count)return true;var n=Object(S["a"])(t.ts);var a=Object(S["a"])(r.ts);var i=Object(T["a"])(n,a);var o=Object(I["a"])(n,a);if(i>5||!o)return true;var s=Object(O["getMsgSenderEntity"])(e,t);var c=Object(O["getMsgSenderEntity"])(e,r);if(s.userId&&s.userId===c.userId)return false;if(s.botId&&!s.userId&&s.botId===c.botId){if(s.username&&s.username!==c.username)return true;return false}if(s.username&&s.username===c.username)return false;return true}function L(e,t){var r=t.message;var n=Object(O["shouldRenderFileThread"])(r,{featureFileThreads:Object(g["isFeatureEnabled"])(e,"feature_file_threads"),featureFileThreadsDarkLaunch:Object(g["isFeatureEnabled"])(e,"feature_file_threads_dark_launch")});var i=n?null:r.file;var o=n?r.files:null;var s=n?Object(h["getFileById"])(e,Object(a["first"])(o)):Object(h["getFileById"])(e,i);return{fileId:i,fileIds:o,file:s}}var D=function e(t,r){var n=r.ts,a=r.channelId,i=r.previousMessageTs;var o=Object(u["getMessageByTimestamp"])(t,a,n);var s=Object(m["getUserMessagesTheme"])(t);var c=Object(m["getUserPref"])(t,"threads_everything");var l=Object(m["getUserPref"])(t,"expand_inline_imgs");var p=Object(m["getUserPref"])(t,"expand_non_media_attachments");var f=Object(v["getChannelById"])(t,a);var k=Object(g["isFeatureEnabled"])(t,"feature_file_threads");var w=Object(g["isFeatureEnabled"])(t,"feature_file_threads_dark_launch");var S=Object(g["isFeatureEnabled"])(t,"feature_hide_unfurl_urls");if(!o)return{channelId:a,featureTinyspeck:Object(g["isFeatureEnabled"])(t,"feature_tinyspeck"),featureFileThreads:k,featureHideUnfurlUrls:S,messageNotFound:true};var T=L(t,{message:o}),I=T.file,N=T.fileId,R=T.fileIds;var D=Object(u["getMessageByTimestamp"])(t,a,i);var F=x(t,o,D);var B=Object(A["a"])(o,D);var U=Object(j["b"])(o,I);var H=Object(j["c"])(o,I);var q=Object(O["getMsgSenderEntity"])(t,o);var G=q.botId&&Object(d["getBotByMsg"])(t,o);var W=G?G.app_id:null;var V=o.slackbot_feels||null;var K=o.comment&&I&&Object(h["getFileCommentById"])(t,I.id,o.comment.id)||o.comment;I&&"file_share"===o.subtype&&o.upload&&(K=I.initial_comment);var z=Object(b["getMessageMetaData"])(t,{channelId:a,ts:n}),Q=z.isDeleting,Y=z.sliHighlight;var J=Object(_["getMessageEditData"])(t,{channelId:a,ts:n}),X=J.isEditing;var Z=I?Object(E["getFilePinnedInfoByChannelId"])({file:I,channelId:a}):Object(O["getMessagePinnedInfo"])(o);var $=Z?Z.pinnedBy:null;var ee=void 0;if(D){var te=L(t,{message:D});var re=te.file?Object(E["getFilePinnedInfoByChannelId"])({file:te.file,channelId:a}):Object(O["getMessagePinnedInfo"])(D);var ne=re?re.pinnedBy:null;ee={previousMessageIsStarred:Object(O["isStarred"])(D),previousMessageIsPinned:Object(P["b"])(D,f),previousMessageIsEphemeral:Object(O["isEphemeral"])(D),previousMessageSubtype:D.subtype,previousMessageSliHighlight:D.sliHighlight,previousMessagePinnedByMemberId:ne}}var ae=o.thread_ts;var ie=void 0;if(ae){ie={replyCount:o.reply_count};if(o.replies)ie.replies=o.replies;else{ie.replyUsers=o.reply_users;ie.replyUsersCount=o.reply_users_count;ie.latestReply=o.latest_reply}}var oe=Object(g["getCurrentUserId"])(t);return M({channelId:a,alertType:o.alert_type,subtype:o.subtype,text:o.text,noSpecials:false===o.mrkdwn,theme:s},q,{appId:W,hasAdHocSender:Object(C["a"])(o)},ie,{threadTs:ae,threadsEverythingPref:c,expandInlineImgsPref:l,expandNonMediaAttachmentsPref:p,attachments:o.attachments,fileId:N,fileIds:R,comment:K,isUpload:o.upload,reactionKey:U,reactionKeyForInitialFileComment:H,showUser:F,isFileFollowup:B,edited:o.edited,isStarred:Object(O["isStarred"])(o,I,"file_comment"===o.subtype&&K,k),isPinned:Object(P["b"])(o,f),currentUserId:oe,pinnedByMemberId:$,sliHighlight:Y,botProfile:o.bot_profile,slackbotFeels:V,icons:o.icons,isEditing:X,isUnprocessed:Object(O["isTempMsg"])(o)&&!Object(O["isEphemeral"])(o),isEphemeral:Object(O["isEphemeral"])(o),isDeleting:Q,showResend:o.showResend,showCancel:o.showCancel,isSlackbotIm:Object(y["isSlackbot"])(f),isSelfIm:Object(y["isYou"])(oe,f)},ee,{featureTinyspeck:Object(g["isFeatureEnabled"])(t,"feature_tinyspeck"),featureFileThreads:k,featureHideUnfurlUrls:S,renderFileThread:Object(O["shouldRenderFileThread"])(o,{featureFileThreads:k,featureFileThreadsDarkLaunch:w}),ariaAssertive:Object(O["isDisconnectedFeedback"])(o)})};var F=Object(l["e"])("log message to console (for debugging)",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.channelId,a=r.ts;var i=t();var o=Object(u["getMessageByTimestamp"])(i,n,a);var s=Object(v["getChannelById"])(i,n);if(o){e(Object(c["warn"])(o));e(Object(N["b"])({message:o,modelObject:s}))}});F.propTypes={channelId:s.a.string.isRequired,ts:s.a.string.isRequired};var B={logMessage:F,maybeStartEditingMessage:_["maybeStartEditingMessage"],removeMsg:f["a"],resendMsg:p["a"]};t["a"]=Object(n["connect"])(D,B)(R["a"])},17837:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16920);var p=r(16912);var f=r(16923);var d=r(18042);var v=r(16956);var h=r(17836);var m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=new p["b"]("msg_edit");var O={ts:o.a.string.isRequired,channelId:o.a.string.isRequired,channelType:o.a.string,removeMessage:o.a.func};var E={channelType:void 0,removeMessage:c["noop"]};var j=function(e){g(t,e);function t(){b(this,t);var e=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.onGo=e.onGo.bind(e);return e}m(t,[{key:"onGo",value:function e(){var t=this.props,r=t.ts,n=t.channelId,a=t.removeMessage;a({channelId:n,ts:r,broadcastDelete:true}).catch(c["noop"])}},{key:"render",value:function e(){var t=this.props,r=t.ts,n=t.channelId,i=t.channelType;var o=void 0;var s=void 0;if("channel"===i){o=y.t("Remove from channel");s=y.t("Are you sure you want to remove this message from the channel?")}else{o=y.t("Remove from conversation");s=y.t("Are you sure you want to remove this message from the conversation?")}return a.a.createElement(v["a"],{title:o,goButtonText:y.t("Remove message"),onGo:this.onGo},a.a.createElement("div",{className:"margin_bottom_100"},s,y.t("The original reply will still be visible in its thread.")),a.a.createElement(h["a"],{ts:r,channelId:n,isStandalone:true}))}}]);return t}(n["PureComponent"]);j.displayName="BaseRemoveBroadcastDialog";j.propTypes=O;j.defaultProps=E;var k=function e(t,r){var n=r.channelId;var a=Object(f["getChannelById"])(t,n);var i=Object(u["getChannelType"])(a);return{channelType:i}};var w={removeMessage:d["a"]};var C=Object(s["connect"])(k,w)(j);C.propTypes={channelId:o.a.string.isRequired};t["a"]=C},17838:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16917);var u=r(16950);var p=r(17137);var f=r(17089);var d=r(16947);var v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=56;var O=40;var E={type:o.a.oneOf(Object(s["values"])(p["a"])),action:d["a"].MessageAction.isRequired,onSelected:o.a.func.isRequired};var j={type:p["a"].default};var k=function(e){g(t,e);function t(e){b(this,t);var r=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onSelected=r.onSelected.bind(r);return r}h(t,[{key:"onSelected",value:function e(t){var r=this.props,n=r.action,e=r.onSelected;e(t,n)}},{key:"renderIcon",value:function e(){var t=this.props,r=t.action,n=t.type;if(r.iconSet){var i=n===p["a"].compactItem?O:y;var o=Object(f["a"])({icons:r.iconSet},i);return a.a.createElement("img",{alt:"",className:"p-message-actions__icon",src:o})}if(r.iconType)return a.a.createElement(l["b"],{type:r.iconType});return null}},{key:"render",value:function e(){var t=this.props,r=t.action,n=t.onSelected,i=t.type,o=m(t,["action","onSelected","type"]);return a.a.createElement(u["b"],v({type:i,label:r.label||r.name,description:r.description,icon:this.renderIcon(),danger:r.danger,onSelected:this.onSelected,"data-qa":r["data-qa"]},o))}}]);return t}(n["PureComponent"]);k.displayName="MessageActionMenuItem";k.propTypes=E;k.defaultProps=j;t["a"]=Object(u["g"])(k)},17839:function(e,t,r){"use strict";r.d(t,"a",function(){return y});var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(16912);var u=r(16918);var p=r(16942);var f=r(17969);var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=new l["b"]("newxp_onboarding");var _={step:o.a.string};var g={step:null};var y={START:"onboarding_start",CANCELLED:"onboarding_cancelled",SLACKBOT:"onboarding_slackbot_conversation",COMPLETE:"onboarding_complete"};var O=function(e){m(t,e);function t(){v(this,t);return h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}d(t,[{key:"renderHeaderAction",value:function e(){if(this.props.step===y.CANCELLED)return b.rt("I changed my mind. <a>Take the tutorial.</a>",null,function(e){var t=e.key,r=e.text;return a.a.createElement(p["a"],{key:t,onClick:f["b"]},r)});if(this.props.step===y.SLACKBOT)return b.rt("Got the hang of Slack already? <a>Skip the tutorial.</a>",null,function(e){var t=e.key,r=e.text;return a.a.createElement(p["a"],{key:t,onClick:f["a"]},r)});return null}},{key:"renderFooter",value:function e(){if(this.props.step!==y.START)return null;return a.a.createElement("div",{className:"p-message_pane__newxp_foreword__footer"},a.a.createElement(u["d"],{type:"primary",size:"large",className:"p-message_pane__newxp_foreword__explore",onClick:f["f"]},b.rt("Explore Slack")),a.a.createElement("div",{className:"p-message_pane__newxp_foreword__pre_skip"},b.rt("Not your first Slack workspace? <a>Skip the tutorial</a>",null,function(e){var t=e.key,r=e.text;return a.a.createElement(p["a"],{key:t,onClick:f["a"],"data-qa":"skip_tutorial"},r)})))}},{key:"render",value:function e(){var t=this.props.step;var r=c()("p-message_pane__newxp_foreword",{"p-message_pane__newxp_foreword--start":"onboarding_start"===t});return a.a.createElement("div",{className:r},a.a.createElement("div",{className:"p-message_pane__newxp_foreword__header"},a.a.createElement("div",{className:"p-message_pane__newxp_foreword__welcome_text"},b.rt("Welcome!")),a.a.createElement("div",{className:"p-message_pane__newxp_foreword__welcome_message"},b.t("Slack is a collaboration hub for teams.",{fallbackHash:"2548745b7be53c916d085ad9d7a6350c53b003b3"})),a.a.createElement("div",{className:"p-message_pane__newxp_foreword__skip_messaging"},this.renderHeaderAction())),this.renderFooter())}}]);return t}(n["PureComponent"]);O.displayName="NewxpForeword";O.propTypes=_;O.defaultProps=g;t["b"]=O},17840:function(e,t,r){"use strict";var n=r(17841);t["a"]=n["a"]},17841:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16912);var p=r(16913);var f=r(16917);var d=r(17842);var v=r(16997);var h=new u["b"]("team_picker");var m={initialSelectedTeamID:a.a.string,teamsList:a.a.arrayOf(a.a.shape({href:a.a.string.isRequired,teamId:a.a.string.isRequired,teamImg:a.a.string,teamName:a.a.string.isRequired})),onTeamSelected:a.a.func,signInUrl:a.a.string,featureReactTeamPicker:a.a.bool.isRequired};var b={initialSelectedTeamID:void 0,teamsList:[],onTeamSelected:c["noop"],signInUrl:void 0};function _(e){var t=e.initialSelectedTeamID,r=e.teamsList,n=e.signInUrl,a=e.onTeamSelected,i=e.featureReactTeamPicker;var s=Object(c["findIndex"])(r,{teamId:t});var l=0;t&&(l=-1===s?0:s);var u=r.map(function(e){var t=e.teamId,r=e.teamImg,n=e.teamName,i=e.href;var s=o.a.createElement("img",{src:r,alt:n});return o.a.createElement(v["a"],{className:"c-menu_select__button",classNameListItem:"c-menu_select__li",key:t,href:i,icon:s,label:n,onSelected:a})});if(n){var p=o.a.createElement(f["a"],{type:"plus-small"});var m=void 0;i&&(m=h.t("Sign in to another workspace"));u.push(o.a.createElement(v["a"],{className:"c-menu_select__button",classNameListItem:"c-menu_select__li",key:"T01",href:n,icon:p,label:m,onSelected:a}))}return o.a.createElement(d["a"],{shouldObserveResize:false,offsetY:4,position:"bottom-right",initialSelectedIndex:l},u)}_.displayName="TeamPicker";var g=function e(t){return{featureReactTeamPicker:Object(p["isFeatureEnabled"])(t,"feature_react_team_picker")}};_.displayName="TeamPicker";_.propTypes=m;_.defaultProps=b;t["a"]=Object(s["connect"])(g)(_)},17842:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(17043);var u=r(17065);var p=r(20170);var f=r.n(p);var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g={children:a.a.arrayOf(a.a.node).isRequired,initialSelectedIndex:a.a.number};var y={initialSelectedIndex:0};var O=function(e){_(t,e);function t(e){m(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.renderMenu=r.renderMenu.bind(r);r.onMenuItemSelected=r.onMenuItemSelected.bind(r);r.state={selectedIndex:r.props.initialSelectedIndex};return r}v(t,[{key:"onMenuItemSelected",value:function e(t,r){var n=this.props.children;this.setState(function(){return{selectedIndex:t}});n[t]&&n[t].props.onSelected&&n[t].props.onSelected(r)}},{key:"renderMenu",value:function e(){var t=this;var r=this.props,n=r.children,a=h(r,["children"]);var i=o.a.Children.map(n,function(e,r){return o.a.cloneElement(e,{onSelected:t.onMenuItemSelected.bind(t,r)})});var s=c()(a.menuClassNames,"c-menu_select__menu");a.noMargin=true;return o.a.createElement(l["a"],d({},a,{menuClassNames:s}),i)}},{key:"render",value:function e(){var t=this.state.selectedIndex;var r=this.props,n=r.children,a=h(r,["children"]);var i=o.a.cloneElement(n[t]);var s=i.props,c=s.label,l=s.icon;return o.a.createElement("div",{className:"c-menu_select__wrapper"},o.a.createElement(u["a"],d({renderMenu:this.renderMenu},a),o.a.createElement("div",{className:"c-menu_select"},l&&o.a.createElement("div",{className:"c-menu_select_item__icon"},l),o.a.createElement("div",{className:"c-menu_select__label"},c),o.a.createElement("div",{className:"c-menu_select__caret c-deprecated-icon c-icon--caret-down"}))))}}]);return t}(i["PureComponent"]);O.displayName="MenuSelect";O.propTypes=g;O.defaultProps=y;t["a"]=O},17844:function(e,t,r){"use strict";t["c"]=u;t["d"]=p;t["e"]=f;t["f"]=d;t["b"]=v;t["a"]=h;var n=r(1);var a=r.n(n);var i=r(16912);var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var s=new i["b"]("policy-retention");function c(e){return{channels:s.t("Channel Retention"),private_channels:s.t("Private Channel Retention"),dms:s.t("Direct Message Retention"),allow_override:e?s.t("Member & Admin Override"):s.t("Direct Message and Private Channel Override"),files:s.t("File Retention")}}function l(e){return{channels:[{value:4,label:e?s.t("No org-wide policy \u2014 Workspace Owners can set their own settings for their workspace"):s.t("No policy; teams can modify their own retention settings")},{value:0,label:e?s.t("Keep all messages, but don\u2019t track revisions (i.e. edits and deletions)"):s.t("Retain all messages")},{value:1,label:e?s.t("Keep all messages, including revision history"):s.t("Retain all messages AND retain edit/deletion logs for all messages")},{value:2,label:e?s.t("Delete messages and their revisions after a set number of days"):s.t("Retain all messages and logs for only a specific number of days"),showDuration:true},{value:3,label:e?s.t("Delete messages & revisions after set number of days (History still accessible via Corporate Export)"):s.t("Retain all messages for only a specific number of days (but keep logs for compliance exports)"),showDuration:true}],private_channels:[{value:4,label:e?s.t("No org-wide policy \u2014 Workspace Owners can set their own settings for their workspace"):s.t("No policy; teams can modify their own retention settings")},{value:0,label:e?s.t("Keep all messages, but don\u2019t track revisions (i.e. edits and deletions)"):s.t("Retain all messages")},{value:1,label:e?s.t("Keep all messages, including revision history"):s.t("Retain all messages AND retain edit/deletion logs for all messages")},{value:2,label:e?s.t("Delete messages and their revisions after a set number of days"):s.t("Retain all messages and logs for only a specific number of days"),showDuration:true},{value:3,label:e?s.t("Delete messages & revisions after set number of days (History still accessible via Corporate Export)"):s.t("Retain all messages for only a specific number of days (but keep logs for compliance exports)"),showDuration:true}],dms:[{value:0,label:e?s.t("Keep all messages, but don\u2019t track revisions (i.e. edits and deletions)"):s.t("Retain all messages")},{value:1,label:e?s.t("Keep all messages, including revision history"):s.t("Retain all messages AND retain edit/deletion logs for all messages")},{value:2,label:e?s.t("Delete messages and their revisions after a set number of days"):s.t("Retain all messages and logs for only a specific number of days"),showDuration:true},{value:3,label:e?s.t("Delete messages & revisions after set number of days (History still accessible via Corporate Export)"):s.t("Retain all messages for only a specific number of days (but keep logs for compliance exports)"),showDuration:true}],allow_override:[{value:4,label:e?s.t("No org-wide policy \u2014 Workspace Owners can set the override policy for their workspace"):s.t("No policy; teams can set their own override policy")},{value:0,label:e?s.t("Don\u2019t allow channel and DM overrides"):s.t("Don\u2019t allow team members to override team-wide retention policies for DMs and private channels")},{value:1,label:e?s.t("Always allow channel and DM overrides"):s.t("Allow team members to override team-wide retention policies for DMs and private channels")}],files:[{value:0,label:e?s.t("Keep files"):s.t("Retain all files")},{value:1,label:e?s.t("Keep files, but only for a set number of days"):s.t("Retain all files for only a specific number of days"),showDuration:true}]}}function u(e){var t=e.policyType,r=e.featureGdprExports;var n=c(r);return n[t]}function p(e){var t=e.policyType,r=e.featureGdprExports;var n=l(r);return n[t]}function f(e){return a.a.includes(["channels","private_channels","allow_override"],e)}function d(e){var t=e.policyType,r=e.retentionType,n=e.featureGdprExports;var i=p({policyType:t,featureGdprExports:n});return a.a.get(a.a.find(i,function(e){return e.value===r}),"showDuration",false)}function v(e){var t=e.policyType,r=e.retentionType,n=e.policyDurationValue,i=e.featureGdprExports;if(a.a.isUndefined(t)||a.a.isUndefined(r))return"";var o=d({policyType:t,retentionType:r,featureGdprExports:i});var c=o?n:0;if(0===a.a.parseInt(c)||4===a.a.parseInt(r)){var l=p({policyType:t,featureGdprExports:i});var u=a.a.find(l,function(e){return e.value===r}),f=u.label;return f}if("files"===t)return i?s.t("Keep files for {policyDurationValue} days",{policyDurationValue:n}):s.t("Retain all files for only {policyDurationValue} days",{policyDurationValue:n});switch(a.a.parseInt(r)){case 2:return i?s.t("Delete messages and their revisions after {policyDurationValue} days",{policyDurationValue:n}):s.t("Retain all messages and logs for only {policyDurationValue} days",{policyDurationValue:n});case 3:return i?s.t("Delete messages & revisions after set number of days (History still accessible via Corporate Export)",{policyDurationValue:n}):s.t("Retain all messages for only {policyDurationValue} days (but keep logs for compliance exports)",{policyDurationValue:n});default:return""}}function h(e){var t=e.policyType,r=e.settingValues,n=e.featureGdprExports;var a=r.retention_type;if(4===a){if("allow_override"===t)return{retention_type:1,is_locked:false};return{retention_type:0,retention_duration:0,is_locked:false}}var i=o({},r,{is_locked:true});if(!d({policyType:t,retentionType:a,featureGdprExports:n}))return o({},i,{retention_duration:0});return i}},17845:function(e,t,r){"use strict";t["b"]=i;t["a"]=o;var n=r(16943);var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map(function(r,i){var o=Object(n["j"])(r.email).error_key;if(!o&&("invite"===r.mapping||"create"===r.mapping)){var s=e.some(function(e,t){return t!==i&&e.email===r.email});var c=!s&&t.some(function(e){return e.profile.email===r.email});var l=s||c;o=l?"duped":o}return a({},r,{email_state:o||"ok"})})}function o(e){return{label:e.profile.real_name+" "+e.name,lfs_id:e.id,id:e.id,member:e,value:e.id}}var s={makeUserLFSItem:o,validateEmails:i}},17930:function(e,t,r){"use strict";r.d(t,"i",function(){return c});r.d(t,"f",function(){return l});r.d(t,"b",function(){return u});r.d(t,"g",function(){return p});r.d(t,"e",function(){return f});r.d(t,"h",function(){return d});t["c"]=v;t["d"]=h;r.d(t,"a",function(){return m});t["j"]=b;var n=r(3);var a=r.n(n);var i=r(16915);var o=r(18119);var s=r(17719);var c=Object(i["a"])("Switch currently active plan");c.propTypes=a.a.object;var l=Object(i["a"])("Successfully fetched available plans");l.propTypes=a.a.object;var u=Object(i["a"])("Successfully fetched cost for current plan");u.propTypes=a.a.object;var p=Object(i["a"])("Received an API error");p.propTypes=null;var f=Object(i["a"])("Plans and cost data loaded");f.propTypes=null;var d=Object(i["a"])("Set Plan Level");d.propTypes=a.a.string;function v(){return function(e,t){var r=Object(s["n"])(t());var n=Object(s["v"])(t(),r);if(n){var a=Object(s["x"])(t(),r);return e(u({activePlanCost:a}))}return e(Object(o["b"])({product_id:r})).then(function(t){return e(u(t))}).catch(function(){return e(p())})}}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.country;return function(e){e(Object(o["a"])({country:t})).then(function(t){e(l(t));e(v()).then(function(){return e(f())})}).catch(function(){return e(p())})}}h.propTypes={country:a.a.string};var m=Object(i["e"])("Async thunk to change active plan initiated",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=Object(s["n"])(t());e(c(r));var a=Object(s["n"])(t());if(n===a)return;e(v())});m.propTypes={term:a.a.string,currency:a.a.string};function b(e){return function(t,r){var n=Object(s["n"])(r());t(d(e));var a=Object(s["n"])(r());if(n===a)return;t(v())}}},17931:function(e,t,r){"use strict";var n=r(18121);t["a"]=n["a"]},17932:function(e,t,r){"use strict";r.d(t,"a",function(){return c});r.d(t,"b",function(){return l});r.d(t,"e",function(){return u});r.d(t,"d",function(){return p});r.d(t,"c",function(){return f});var n=r(16929);var a=r(17063);var i=r(17001);var o=r(18122);var s=r(17130);var c={invalidSubmission:"invalid_submission"};var l=Object(a["a"])("fetch a dialog that has been pushed by an app",function(e,t,r){var a=e(Object(n["a"])({method:"dialog.get",args:{dialog_id:r}})).then(function(e){var t=e.dialog,r=void 0===t?{}:t;return Object(i["b"])(r)});return d(a)});var u=Object(a["a"])("submit and app generated dialog",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.dialogId,i=r.submission;var o={dialog_id:a,submission:JSON.stringify(i)};var s=e(Object(n["a"])({method:"dialog.submit",args:o})).catch(function(e){var t=e.data||{};var r=new Error(e.message);r.data={error:t.error,dialogErrors:t.dialog_errors};throw r});return d(s)});var p=Object(a["a"])("notify an app that the dialog it generated has been canceled",function(e,t,r){return e(Object(n["a"])({method:"dialog.notifyCancel",args:{dialog_id:r}}))});var f=Object(a["a"])("fetch select options from a third party app based on a search query",function(e,t,r){var a=r.dialogId,i=r.inputName,o=r.value;return e(Object(n["a"])({method:"dialog.selectSuggestion",args:Object(s["a"])({dialogId:a,name:i,value:o})})).then(function(e){var t=e.option_groups,r=e.options;if(t)return{optionGroups:t};if(r)return{options:r};return{options:[]}})});function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;var r=new o["a"];e.then(r.resolve,r.reject);setTimeout(function(){if(e.isPending()){e.cancel();var n=new Error("Maximum timeout ("+t+"ms) exceeded.");r.reject(n)}},t);return r.promise}},17933:function(e,t,r){"use strict";r.d(t,"a",function(){return v});var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(18129);var c=r(18131);var l=r(18132);var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v={select:"select",text:"text",textarea:"textarea"};var h={error:a.a.string,dialogId:a.a.string.isRequired,input:a.a.object.isRequired,isSubmitting:a.a.bool,onBlur:a.a.func.isRequired,onChange:a.a.func.isRequired,onFocus:a.a.func.isRequired,value:a.a.string};var m={error:null,isSubmitting:false,value:""};var b=function(e){d(t,e);function t(){p(this,t);return f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}u(t,[{key:"render",value:function e(){var t=this.props,r=t.error,n=t.dialogId,a=t.input,i=t.isSubmitting,u=t.onBlur,p=t.onChange,f=t.onFocus,d=t.value;var h={error:r,dialogId:n,input:a,isSubmitting:i,onBlur:u,onChange:p,onFocus:f,value:d};switch(a.type){case v.select:return o.a.createElement(s["a"],h);case v.text:return o.a.createElement(c["a"],h);case v.textarea:return o.a.createElement(l["a"],h);default:return}}}]);return t}(o.a.Component);b.displayName="AppDialogInput";t["b"]=b;b.propTypes=h;b.defaultProps=m},17935:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"setUsersCounts",function(){return l});r.d(t,"setInitialUnreadCounts",function(){return u});r.d(t,"setInitialUnreadCountsForChannel",function(){return p});r.d(t,"getUsersCounts",function(){return d});r.d(t,"getInitialUnreadCountsByChannelId",function(){return v});r.d(t,"setInitialUnreadCountsFromChannels",function(){return h});r.d(t,"test",function(){return b});var n=r(3);var a=r.n(n);var i=r(16915);var o;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function c(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var l=Object(i["a"])("Initialize the raw users counts");l.propTypes=a.a.shape({channels:a.a.array,groups:a.a.array,ims:a.a.array,mpims:a.a.array,threads:a.a.object});var u=Object(i["a"])("Initialize the initial unread counts");u.propTypes=a.a.object;var p=Object(i["a"])("Update the counts for a channel");p.propTypes=a.a.shape({channelId:a.a.string,unreadCnt:a.a.number,unreadHighlightCnt:a.a.number});var f=Object(i["c"])((o={},c(o,l,function(e,t){return s({},e,{counts:t})}),c(o,u,function(e,t){return s({},e,{initialUnreads:t})}),c(o,p,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.channelId,n=t.unreadCnt,a=t.unreadHighlightCnt;return s({},e,{initialUnreads:s({},e.initialUnreads,c({},r,{unreadCnt:n,unreadHighlightCnt:a}))})}),o),{});t["default"]=f;var d=Object(i["d"])(function(e){return e&&e.usersCounts&&e.usersCounts.counts});var v=Object(i["d"])(function(e,t){return e&&e.usersCounts&&e.usersCounts.initialUnreads&&e.usersCounts.initialUnreads[t]});var h=Object(i["e"])("Set initialUnreadCounts from an array of channels",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.channels;var a=m(n);e(u(a))});h.propTypes={channels:a.a.arrayOf(a.a.shape({id:a.a.string.isRequired,unread_cnt:a.a.number.isRequired,unread_highlight_cnt:a.a.number}))};function m(e){var t={};e.forEach(function(e){t[e.id]={unreadCnt:e.unread_cnt||0,unreadHighlightCnt:e.unread_highlight_cnt||0}});return t}var b={processChannelDataIntoUnreadCounts:m}},17936:function(e,t,r){"use strict";t["a"]=y;var n=r(1);var a=r.n(n);var i=r(16916);var o=r(16923);var s=r(16992);var c=r(17055);var l=r(16913);var u=r(16967);var p=r(16930);var f=r(16922);var d=r(17722);var v=r(16920);var h=r(16958);var m=r(17323);var b=r(16969);var _=r(16988);var g=r(16966);function y(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];var a=r();if(!Object(d["isFullyBooted"])(a)){T("Not marking "+e+" because not fully booted");return}var i=Object(u["getMessagePaneChannelId"])(a);if(i!==e){Object(_["c"])(2005,"Not marking because "+e+" is not active");return}if(Object(u["didUserSetUnreadPoint"])(a)){T("Not marking "+e+" because unread point was set manually");return}if(Object(m["b"])()){T("Not marking "+e+" because active channel is hidden");return}if(!Object(b["e"])()){T("Not marking "+e+" because attention not on chat ("+Object(b["b"])()+")");n||t(Object(u["setGhostLastRead"])(null));return}var c=Object(o["getChannelById"])(a,e);var f=Object(s["getTimestampsByChannelId"])(a,e),g=f.timestamps;var y=Object(v["getLatestTs"])(c,g);var E=Object(v["isRead"])(c);if(Object(v["getLastReadTs"])(c)>=y&&E){T("Not marking "+e+" because last_read >= latest && channel is read");return}var j=O(a);var k=Object(u["isUnreadLineVisible"])(a);var w=Object(v["getLastReadTs"])(c)>=y;var C=Object(p["getMessageByTimestamp"])(a,e,y);var S=Object(l["getCurrentUserId"])(a);var I=C&&C.user===S;if(j||k||w||E&&I){T(j?"Marking "+e+" because mark_msgs_read_immediately pref":k?"Marking "+e+" because unread line is visible":w?"Marking "+e+" because last_read >= latest":"Marking "+e+" because channel is read and last message is from self");t(Object(o["markMostRecentMsgRead"])({channelId:e,saveGhost:n&&!E,reason:h["MARKED_REASONS"].VIEWED}))}else if(!j){T("Not marking "+e+", clearing ghost last_read");t(Object(u["setGhostLastRead"])(null))}}function O(e){return Object(f["getUserPref"])(e,"mark_msgs_read_immediately")&&!Object(f["getUserPref"])(e,"start_scroll_at_oldest")}var E=a.a.debounce(function(e,t,r){var n=r();var a=Object(o["getChannelById"])(n,e);if(O(n)||!Object(v["isRead"])(a)){T("Checking unreads after debounced channel change to "+e);y(e,t,r)}},500);function j(e,t,r){var n=r();if(!Object(l["useReactMessages"])(n))return;var a=e.payload.channelId;if(!a)return;E(a,t,r)}function k(e,t,r){var n=r();if(!Object(l["useReactMessages"])(n))return;var a=Object(u["getMessagePaneChannelId"])(n);if(!a)return;var i=Object(c["isWindowFocused"])(n);i&&requestAnimationFrame(function(){T("Checking unreads after window became focused");y(a,t,r)})}var w=a.a.debounce(function(e,t,r){var n=Object(u["isUnreadLineVisible"])(r());if(n){T("Checking unreads after unread line became visible");y(e,t,r)}},350);function C(e,t,r){var n=r();if(!Object(l["useReactMessages"])(n))return;var a=Object(u["getMessagePaneChannelId"])(n);if(!a)return;if(O(n))return;w(a,t,r)}function S(e,t,r){var n=r();if(!Object(l["useReactMessages"])(n))return;var i=Object(u["getMessagePaneChannelId"])(n);if(!i)return;a.a.defer(function(){T("Checking unreads after fully booted");y(i,t,r)})}Object(g["b"])({actions:[u["setActiveChannel"]],sideEffect:j});Object(g["b"])({actions:[c["updateFocus"]],sideEffect:k});Object(g["b"])({actions:[u["setUnreadLineVisibility"]],sideEffect:C});Object(g["b"])({actions:[d["setFullyBooted"]],sideEffect:S});function T(e){Object(i["info"])("CHECK-UNREADS",e)}},17937:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.membership.membership_counts_need_refetch_sig.dispatch")},17938:function(e,t,r){"use strict";r.d(t,"a",function(){return g});var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(20148);var f=r.n(p);var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g={medium:"medium",large:"large"};var y={ariaDescribedby:a.a.string,ariaInvalid:a.a.bool,ariaLabelledby:a.a.string,ariaRequired:a.a.bool,className:a.a.string,id:a.a.string.isRequired,name:a.a.string.isRequired,onChange:a.a.func,resize:a.a.string,size:a.a.oneOf(Object(l["values"])(g)),value:a.a.string};var O={ariaDescribedby:"",ariaInvalid:false,ariaLabelledby:"",ariaRequired:false,className:null,onChange:l["noop"],resize:null,size:g.medium,value:""};var E=function(e){_(t,e);function t(e){m(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onChange=r.onChange.bind(r);return r}v(t,[{key:"onChange",value:function e(t){this.props.onChange(t.target.value)}},{key:"focus",value:function e(){this.input.focus()}},{key:"render",value:function e(){var t=this;var r=this.props,n=r.ariaDescribedby,a=r.ariaInvalid,i=r.ariaLabelledby,s=r.ariaRequired,l=r.className,u=r.id,p=r.name,f=r.resize,v=r.size,m=h(r,["ariaDescribedby","ariaInvalid","ariaLabelledby","ariaRequired","className","id","name","resize","size"]);var b=c()("c-input_textarea",{"c-input_textarea--large":v===g.large,"c-input_textarea--resize_none":"none"===f,"c-input_textarea--resize_both":"both"===f,"c-input_textarea--resize_h":"horizontal"===f},l);return o.a.createElement("textarea",d({},m,{"aria-describedby":n,"aria-invalid":a,"aria-labelledby":i,"aria-required":s,className:b,id:u,name:p,onChange:this.onChange,ref:function e(r){t.input=r},value:this.props.value}))}}]);return t}(o.a.Component);E.displayName="Textarea";E.propTypes=y;E.defaultProps=O;t["b"]=E},17940:function(e,t,r){"use strict";t["a"]=y;t["b"]=O;t["c"]=C;t["d"]=S;t["e"]=T;var n=r(1);var a=r.n(n);var i=r(16979);var o=r(18107);var s=r(17163);var c=r(16933);var l=r(16971);var u=r(17021);var p=r(16925);var f=r(16927);var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h=o["a"];var m=c["d"];var b=s["a"];var _={};var g="EVENTLOG";function y(e){_[e]||(_[e]=new w(e))}function O(e){return _[e]}function E(e){switch(e.type){case"file_change":if(e.file&&e.file.id)return e.type+"_"+e.file.id;break;case"user_change":if(e.user&&e.user.id)return e.type+"_"+e.user.id;break;case"emoji_changed":if("add"===e.subtype&&Object(n["isString"])(e.name)&&Object(n["isString"])(e.value)){var t={name:e.name,value:e.value};return"emoji_changed_add_"+JSON.stringify(t)}if("remove"===e.subtype&&Object(n["isArray"])(e.names))return"emoji_changed_remove_"+JSON.stringify(e.names);return e.type;case"message.channel_history_changed":case"message.group_history_changed":case"message.mpim_history_changed":case"message.im_history_changed":if(Object(n["isString"])(e.channel))return e.type+"_"+e.channel;break;default:}return}function j(e,t){return Object(n["reduceRight"])(e,function(e,r){t(r)&&e.unshift(r);return e},[])}function k(e){var t={};var r=void 0;var n=j(e,function(e){if("slack_broadcast"===e.type){(!r||!r.force_reload&&e.force_reload)&&(r=e);return false}var n=E(e);if(!n)return true;if(t[n])return false;t[n]=true;return true});return r?[r].concat(n):n}var w=function(){function e(t){v(this,e);if(!t)throw new Error("Eventlog requires a teamId");this._teamId=t;this._lastAttemptWasCancelled=false;this._lastEventTimestamp=void 0;this._lastEventTimestampBeforeDisconnection=void 0;this._eventlogHistoryP=void 0;Object(u["a"])(this)}d(e,[{key:"_dispatchReduxAction",value:function e(t){Object(f["a"])(this._teamId,t)}},{key:"_info",value:function e(t){this._dispatchReduxAction(Object(l["info"])(g,t))}},{key:"_warn",value:function e(t){this._dispatchReduxAction(Object(l["warn"])(g,t))}},{key:"_eventlogErrorHandler",value:function e(t){var r=t&&t.data?t.data.error:null;if("timestamp_too_old"===r){b({reason:"eventlog.history timestamp_too_old"});return}this._warn("eventlog: encountered error");m(t,"eventlog")}},{key:"_eventlogOKHandler",value:function e(t){var r=this;var n=t.data;if(n.has_more){b({reason:"eventlog.history has_more"});return}if(!n.events){this._warn("eventlog: history call did not include events");return}if(!n.events.length){this._info("nothing to process");return}n.events.forEach(function(e){e._from_evt_log=true});var a=k(n.events);this._info("processing "+a.length+" events out of a total set of "+n.events.length);a.forEach(function(e){r._dispatchReduxAction(Object(i["socketMessageReceived"])(e))});if(a.length>0){var o=a[a.length-1].event_ts;o&&o>(this._lastEventTimestamp||0)&&this.setLastEventTimestamp(o)}}},{key:"onSocketConnected",value:function e(t){var r=this;if(!this._lastEventTimestampBeforeDisconnection)return;this._info("fr="+t+", lc="+this._lastAttemptWasCancelled+", lt="+this._lastEventTimestampBeforeDisconnection);if(t&&!this._lastAttemptWasCancelled)return;this._info("fetching events since "+this._lastEventTimestampBeforeDisconnection+" ("+(Math.ceil(Date.now()/1e3)-this._lastEventTimestampBeforeDisconnection)+" seconds ago)");var n=h({start:this._lastEventTimestampBeforeDisconnection,count:2e3,no_payload_if_has_more:true,batch_deleted_files:true}).then(function(e){return r._eventlogOKHandler(e)}).catch(function(e){return r._eventlogErrorHandler(e)});n.finally(function(){r._eventlogHistoryP=void 0;r._info("fetched finish (cancelled? "+n.isCancelled()+")");r._lastAttemptWasCancelled=!!n.isCancelled();if(!n.isCancelled()){r._info("dispatching signal and clearing timestamp");r._lastEventTimestampBeforeDisconnection=void 0}});this._eventlogHistoryP=n}},{key:"onSocketDisconnected",value:function e(){this._lastEventTimestampBeforeDisconnection=this._lastEventTimestampBeforeDisconnection||this._lastEventTimestamp;if(this._eventlogHistoryP){this._info("socket was closed while we were fetching history; cancelling our request");this._eventlogHistoryP.cancel();this._eventlogHistoryP=void 0}}},{key:"setLastEventTimestamp",value:function e(t){this._lastEventTimestamp=t}}]);return e}();function C(e,t){var r=e();var n=Object(p["getTeamId"])(r);var a=_[n];if(!a)return;a.onSocketConnected(t)}function S(e){var t=e();var r=Object(p["getTeamId"])(t);var n=_[r];if(!n)return;n.onSocketDisconnected()}function T(e,t){var r=t.event_ts;if(!r)return;var n=e();var a=Object(p["getTeamId"])(n);var i=_[a];if(!i)return;i.setLastEventTimestamp(r)}var I={};Object.defineProperty(I,"fetchEventlogHistory",{get:function e(){return h},set:function e(t){h=t}});Object.defineProperty(I,"instances",{get:function e(){return _},set:function e(t){_=t}});Object.defineProperty(I,"logError",{get:function e(){return m},set:function e(t){m=t}});Object.defineProperty(I,"onSocketConnected",{get:function e(){return C},set:function e(t){C=t}});Object.defineProperty(I,"onSocketDisconnected",{get:function e(){return S},set:function e(t){S=t}});Object.defineProperty(I,"onSocketMessage",{get:function e(){return T},set:function e(t){T=t}});Object.defineProperty(I,"reload",{get:function e(){return b},set:function e(t){b=t}})},17941:function(e,t,r){"use strict";t["a"]=s;var n=r(1);var a=r.n(n);var i=r(16989);var o=r(16935);function s(e){var t=e.bot_id?[e.bot_id]:[];Object(n["values"])(e).forEach(function(e){if(Object(n["isObject"])(e)){t.push(s(e));return}if(!Object(n["isString"])(e))return;var r=Object(n["compact"])(Object(o["findUrlsInString"])(e).map(i["a"]));t.push(r)});return Object(n["uniq"])(Object(n["flatten"])(t))}},17942:function(e,t,r){"use strict";t["a"]=c;var n=r(1);var a=r.n(n);var i=r(16953);var o=r(16981);var s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function c(e){var t=[];var r=[];function a(e){return["user","inviter","accepted_user","created_by"].indexOf(e)>=0}function c(e){if(!Object(n["isObject"])(e))return;r.push(e);var l=void 0;Object.keys(e).forEach(function(r){l=e[r];if("string"!==typeof l)return;if(!a(r)){Object(i["d"])(l).m_ids.forEach(function(e){Object(n["includes"])(t,e)||t.push(e)});return}if(!Object(o["a"])(l))return;if(Object(n["includes"])(t,l))return;t.push(l)});Object.keys(e).forEach(function(a){l=e[a];if("object"!==("undefined"===typeof l?"undefined":s(l)))return;if(-1!==r.indexOf(l))return;if(!Object(n["isArray"])(l)||"members"!==a&&"users"!==a){c(l);return}l.forEach(function(e){if(!Object(o["a"])(e)&&e&&"object"===("undefined"===typeof e?"undefined":s(e))&&e.id){Object(o["a"])(e.id)&&!Object(n["includes"])(t,e.id)&&t.push(e.id);return}if(!Object(o["a"])(e))return;if(Object(n["includes"])(t,e))return;t.push(e)})})}c(e);return Object(n["uniq"])(t)}},17943:function(e,t,r){"use strict";t["a"]=c;var n=r(1);var a=r.n(n);var i=r(16953);var o=r(17029);var s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function c(e){var t=[];var r=[];function a(e,t){if("channel"===e||"channel_id"===e)return true;if("id"===e&&"channel"===t)return true;return false}function c(e,l){if("object"!==("undefined"===typeof e?"undefined":s(e)))return;r.push(e);Object(n["forOwn"])(e,function(e,r){if("string"!==typeof e)return;a(r,l)?Object(o["a"])(e)&&!Object(n["includes"])(t,e)&&t.push(e):Object(i["d"])(e).c_ids.forEach(function(e){Object(n["includes"])(t,e)||t.push(e)})});Object(n["forOwn"])(e,function(e,a){if("object"!==("undefined"===typeof e?"undefined":s(e)))return;if("previous_message"===a)return;if(-1!==r.indexOf(e))return;!Object(n["isArray"])(e)||"string"!==typeof e[0]||"channels"!==a&&"ims"!==a&&"groups"!==a?c(e,a):e.forEach(function(e){Object(o["a"])(e)&&!Object(n["includes"])(t,e)&&t.push(e)})})}c(e);return t}},17944:function(e,t,r){"use strict";t["a"]=o;var n=r(1);var a=r.n(n);var i=r(17152);function o(e){var t=[];Object(n["forOwn"])(e,function(e,r){Object(n["isArray"])(e)?"messages"!==r&&"teams"!==r&&"users"!==r&&"channels"!==r||e.forEach(function(e){t.push(o(e))}):Object(n["isObject"])(e)?t.push(o(e)):Object(n["isString"])(e)&&("team"!==r&&"source_team"!==r&&"user_team"!==r&&"team_id"!==r||Object(i["a"])(e)&&t.push(e))});return Object(n["uniq"])(Object(n["flatten"])(t))}},17945:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9370);var o=r.n(i);var s=r(9520);var c=r.n(s);var l=Object(i["createDevTools"])(a.a.createElement(c.a,{expandActionRoot:false,expandStateRoot:false}));t["a"]=l},17946:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"syncDownloads",function(){return v});r.d(t,"fetchFileInfo",function(){return h});r.d(t,"getDownloads",function(){return _});r.d(t,"getDownloadIds",function(){return g});var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16915);var c=r(16946);var l=r(16913);var u=r(17087);var p=r(16977);var f=r(16943);function d(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var v=Object(s["a"])("Sync downloads from desktop");v.propTypes=o.a.object.isRequired;var h=Object(s["e"])("Fetch multiple files by ID and upsert them",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.ids;if(Object(l["isFeatureEnabled"])(t(),"feature_modern_files_info"))return e(Object(u["c"])({fileIds:n,reason:"downloads-store.fetchFileInfo"}));return Object(p["g"])(n).then(function(t){return e(Object(c["bulkAddFiles"])(t))}).catch(function(){return Object(f["f"])("Failed to fetch files",n)})});h.propTypes={ids:o.a.arrayOf(o.a.string).isRequired};var m={};var b=Object(s["c"])(d({},v,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t}),m);t["default"]=b;var _=Object(s["d"])(function(e){return a.a.values(e&&e.downloads)});var g=Object(s["d"])(function(e){return e&&e.downloads&&Object.keys(e.downloads)})},17947:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"setStandardEmoji",function(){return d});r.d(t,"bulkAddCustomEmoji",function(){return v});r.d(t,"bulkRemoveCustomEmoji",function(){return h});r.d(t,"renameCustomEmoji",function(){return m});r.d(t,"getEmojiUrl",function(){return _});r.d(t,"test",function(){return y});var n=r(3);var a=r.n(n);var i=r(1);var o=r.n(i);var s=r(16915);var c=r(20578);var l;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function p(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var f={};var d=Object(s["a"])("Set internal standard emoji data");d.propTypes={standardEmojiData:a.a.object.isRequired};var v=Object(s["a"])("Bulk add custom emoji");v.propTypes={teamId:a.a.string.isRequired,emojis:a.a.object,aliases:a.a.object};var h=Object(s["a"])("Bulk remove custom emoji");h.propTypes={teamId:a.a.string.isRequired,names:a.a.arrayOf(a.a.string).isRequired};var m=Object(s["a"])("Rename a custom emoji");m.propTypes={teamId:a.a.string.isRequired,prevName:a.a.string.isRequired,nextName:a.a.string.isRequired,url:a.a.string.isRequired};var b=Object(s["c"])((l={},p(l,d,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.standardEmojiData;if(Object(i["isEmpty"])(r))return e;f=r;return u({},e)}),p(l,v,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.teamId,n=t.emojis,a=t.aliases;if(!r)return e;var o={};Object(i["forEach"])(n,function(e,t){if(!e||!t)return;o[t]={url:e}});Object(i["forEach"])(a,function(e,t){if(!e||!t)return;o[t]={aliasOf:e}});if(Object(i["isEmpty"])(o))return e;return u({},e,p({},r,u({},e[r],o)))}),p(l,h,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.teamId,n=t.names;if(!e[r]||Object(i["isEmpty"])(n))return e;var a=Object(i["omit"])(e[r],n);if(Object(i["isEmpty"])(a))return Object(i["omit"])(e,r);return u({},e,p({},r,a))}),p(l,m,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.teamId,n=t.prevName,a=t.nextName;if(!n||!a||!e[r]||!e[r][n])return e;var o=u({},e[r]);o[a]=u({},o[n]);delete o[n];Object(i["forEach"])(o,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.aliasOf;var r=arguments[1];t===n&&(o[r]=u({},o[r],{aliasOf:a}))});return u({},e,p({},r,o))}),l),{});t["default"]=b;var _=Object(s["d"])(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.text,n=t.teamId;if(!e||!r)return null;var a=Object(c["a"])(r)||{},i=a.name,o=a.skinTone;if(g(i)){var s=f[i];o&&s.skinVariations&&s.skinVariations[o]&&(s=s.skinVariations[o]);return s.unicode}if(!e.emoji||!e.emoji[n])return null;var l=e.emoji[n][i];l&&l.aliasOf&&(l=e.emoji[n][l.aliasOf]);if(!l)return null;return l.url});function g(e){return!!f[e]}var y={resetStandardEmojiData:function e(){f={}}}},17948:function(e,t,r){"use strict";t["a"]=o;var n=r(1);var a=r.n(n);var i=r(17337);function o(e){var t=e.searchQuery,r=e.searchMap,n=e.emojiMap,o=e.skinToneModifier;if(!r||!Object.keys(r).length||!n||!n.length)return[];var s=":"===t.substr(0,1);var c=":"===t.slice(-1);var l=!s&&!c;var u={allow_empty_query:true,frecency:true,prefer_exact_match:true,match_emoji_keywords:l};var p=t.replace(/^(\+|-)?:/,"").replace(/:$/,"");var f=[];if(s)f=Object(i["a"])(p,{emoji:n},u);else{var d=a.a.compact(p.split(" "));d.forEach(function(e){f=f.concat(Object(i["a"])(e,{emoji:n},u))})}return a.a.chain(f).map(function(e){var t=e.model_ob.name_with_colons;e.model_ob.is_skin&&o&&(t+=o);return r[t]}).uniqBy("names").compact().value()}},17949:function(e,t,r){"use strict";t["a"]=o;var n=r(16919);var a=r(16974);var i=r(16921);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.userId,o=t.botId,s=t.username,c=t.botProfile;if(r){var l=Object(n["getMemberById"])(e,r);if(l)return Object(i["q"])(e,l)}else{if(s&&!o)return s;if(o){var u=o&&Object(a["getBotById"])(e,o);return s||u&&u.name||c&&c.name}}return""}},17952:function(e,t,r){"use strict";r.d(t,"a",function(){return a});r.d(t,"b",function(){return i});r.d(t,"c",function(){return o});var n=r(16914);var a=Object(n["c"])("TS.client.unread.bulk_unread_count_change_sig.dispatch");var i=Object(n["c"])("TS.client.unread.legacyUpdateSortOrder");var o=Object(n["c"])("TS.client.unread.reload")},17953:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"changeLocale",function(){return l});r.d(t,"getLocale",function(){return f});var n=r(3);var a=r.n(n);var i=r(16915);var o=r(17332);r.d(t,"getKeyboardLocale",function(){return o["a"]});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function c(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var l=Object(i["a"])("Change a user\u2019s locale");l.propTypes={locale:a.a.string.isRequired};var u={locale:"en-US"};var p=Object(i["c"])(c({},l,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.locale;return s({},e,{locale:r})}),u);t["default"]=p;var f=Object(i["d"])(function(e){return e&&e.i18n&&e.i18n.locale})},17954:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(17955);var o=r(17125);var s=r(16922);var c=r(17100);var l=r(17956);var u=r(16935);var p=r(16912);var f=r(16953);var d=r(16972);var v=r(17734);var h=r(16913);var m=r(17084);var b=r(17022);var _=r(16923);var g=r(16920);var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var O=/(^|\s|\{|\[|\(|&gt;|&lt;|\*|_|\/|"|\u201c|\u2018|')#([^~`!@#$%^&*()+=[\]{}\\|;:'"\u201d\u2019,.<>/?\s]+)/g;var E=function e(t,r,n){var a=t.lastIndexOf(" ",n);var i=-1!==a?a+1:0;var o=t.substring(i,n+r.length);var s=Object(u["findUrlsInString"])(o).length>0;return s};t["a"]=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.isInternalMessage;if(!e||!t)return"";var u=!a;var j=e();var k=Object(h["isFeatureEnabled"])(j,"feature_allow_intra_word_formatting");var w=Object(s["getUserPref"])(j,"jumbomoji");var C=Object(s["getUserPref"])(j,"convert_emoticons");var S=Object(s["getUserHighlightWords"])(j);var T=Object(m["b"])(j);var I=t;var N=[];I=Object(i["a"])(I);I=Object(o["c"])(N,I,{replace_pre:true,replace_code:true});var A=Object(l["a"])(I,u);I=A.text;u&&(I=Object(o["b"])(I,"CLEAN",{jumbomoji:w,allow_intra_word_formatting:k}));A.mentions.forEach(function(e){I=I.replace(e.placeholder,e.mention)});I=I.replace(O,function(e,t,r,a){if("/"===t&&E(I,e,a))return e;var i=Object(n["trimEnd"])(r,"._-\u2026");var o=Object(_["getChannelByName"])(j,i);if(!o)return e;var s=r.slice(i.length);var c=Object(g["getDisplayName"])(o)||i;return t+"<#"+o.id+"|"+c+">"+s});C&&!T&&(I=Object(f["c"])(I));p["n"]!==p["b"].DEFAULT_LOCALE&&(I=Object(d["n"])(I));N=N.map(function(e){var t=y({},e);var r=Object(c["b"])(t.str,{highlightWords:S,shouldRenderEmojiAsText:T});Object(b["h"])()?t.str=Object(v["a"])(r):t.str=Object(n["reduce"])(r.contents,function(e,t){return e+t.insert},"");u&&(t.str=Object(o["b"])(t.str,"CLEAN",{jumbomoji:w,allow_intra_word_formatting:k}));return t});I=Object(o["d"])(N,I);return I}},17955:function(e,t,r){"use strict";t["a"]=function(e){if(!e)return"";return e.replace(/\u00A0/g," ").replace(/\u000D/g,"\n").replace(/\u000A/g,"\n")}},17956:function(e,t,r){"use strict";t["a"]=l;var n=r(1);var a=r.n(n);var i=r(17100);var o=r(17671);var s=r(17724);var c=r(17725);function l(e,t){var r=[];var n=0;var l=e.replace(i["a"],function(e,i,l){n+=1;var u="mention-placeholder-"+Date.now()+"-"+n;var p=t?a.a.escape(l):l;Object(o["a"])(i)?p="<!"+Object(c["a"])(i)+">":Object(s["a"])(i)||(p="S"===i.charAt(0)?"<!subteam^"+i+"|"+l+">":"<@"+i+">");r.push({mention:p,placeholder:u});return u});return{text:l,mentions:r}}},17957:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"setScreenReaderEnabled",function(){return p});r.d(t,"setZoomLevel",function(){return f});r.d(t,"isScreenReaderEnabled",function(){return m});r.d(t,"zoomLevel",function(){return b});var n=r(3);var a=r.n(n);var i=r(1);var o=r.n(i);var s=r(16915);var c;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function u(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var p=Object(s["a"])("Toggle if a screen reader is enabled");p.propTypes=a.a.bool.isRequired;var f=Object(s["a"])("Update the zoom level");f.propTypes=a.a.number.isRequired;var d={screenReaderEnabled:false,zoomLevel:0};var v=[-3,-2,-1,0,1,2,3];var h=Object(s["c"])((c={},u(c,p,function(e,t){if("boolean"!==typeof t)return e;if(t===e.screenReaderEnabled)return e;return l({},e,{screenReaderEnabled:t})}),u(c,f,function(e,t){if(!Object(i["isInteger"])(t))return e;if(!Object(i["includes"])(v,t))return e;if(t===e.zoomLevel)return e;return l({},e,{zoomLevel:t})}),c),d);t["default"]=h;var m=Object(s["d"])(function(e){return e&&e.accessibility&&e.accessibility.screenReaderEnabled});var b=Object(s["d"])(function(e){return e&&e.accessibility&&e.accessibility.zoomLevel})},17958:function(e,t,r){"use strict";t["b"]=Q;t["a"]=Y;var n=r(1);var a=r.n(n);var i=r(16919);var o=r(16930);var s=r(15312);var c=r(16946);var l=r(16923);var u=r(16922);var p=r(16913);var f=r(17672);var d=r(16940);var v=r(17129);var h=r(17105);var m=r(17068);var b=r(16920);var _=r(16921);var g=r(17335);var y=r(17959);var O=r(17960);var E=r(17961);var j=r(17962);var k=r(17963);var w=r(17964);var C=r(17965);var S=r(17966);var T=r(17949);var I=r(17735);var N=r(17967);var A=r(17968);var P=r(17052);var R=r(16970);var M=r(17074);var x=r(17015);var L=r(17125);var D=r(16912);var F=new D["b"]("message");var B=new D["b"]("files");var U=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.channelId,a=r.ts;var i=Object(o["getMessageByTimestamp"])(t,n,a);if(!i||!i.text)return null;return q(t,i.text)};function H(e,t){var r=t.user;var n=Object(i["getMemberById"])(e,r);return Object(_["q"])(e,n)}function q(e,t){if(!t)return"";var r=Object(L["a"])(t,"EDIT",{jumbomoji:false,allow_intra_word_formatting:false});return Object(g["a"])(r).reduce(function(t,r){if("member"===r.type){var n=Object(i["getMemberById"])(e,r.id);var a=Object(_["f"])(n);return t+"@"+(a||r.id)}if("channel"===r.type){var o=Object(l["getChannelById"])(e,r.id);var s=o?o.name:"";return t+"#"+s}if("command"===r.type){if("here"===r.data.type||"channel"===r.data.type||"everyone"===r.data.type||"group"===r.data.type)return t+"@"+r.data.type;if("date"===r.data.type)return t+r.data.label;if("team"===r.data.type||"subteam"===r.data.type)return t+r.data.label}if(r.text)return t+r.text;return t},"")}function G(e,t){var r=Object(_["r"])(e,t.author_id,true,false);var n=Object(P["h"])(t.ts);var a=Object(b["getDisplayName"])(Object(l["getChannelById"])(e,t.channel_id));var i=q(e,t.text);if(t.is_reply_unfurl)return F.t("{authorName} replied to a thread in {channelName} on {date}: {messageText}",{authorName:Object(D["l"])(r),date:n,channelName:a,messageText:Object(D["l"])(i)});return F.t("{authorName} on {date} in {channelName}: {messageText}",{authorName:Object(D["l"])(r),date:n,channelName:a,messageText:Object(D["l"])(i)})}function W(e,t){return t.service_name+" "+t.author_name+" "+t.author_subname+" "+q(e,t.text)+" "+Object(P["h"])(t.ts)+"."}function V(e,t){var r=t.text?q(e,t.text):"";return t.original_url+" "+r+"."}function K(e,t){var r=[];t.text&&r.push(q(e,t.text));t.fields&&t.fields.length>0&&r.push(t.fields.map(function(e){return e.title+": "+e.value}).join("; "));return r.join(" ")}function z(e,t,r){var n=r.messageSubtype,i=r.messageText;var o=Object(u["getUserPref"])(e,"expand_inline_imgs");var s=Object(u["getUserPref"])(e,"expand_non_media_attachments");if(!t)return[];return a.a.compact(t.map(function(t){if(!Object(m["d"])({attachment:t,messageSubtype:n,messageText:i,expandInlineImgsPref:o,expandNonMediaAttachmentsPref:s}))return null;var r=[];t.pretext&&r.push(t.pretext);t.author_name&&r.push(t.author_name);t.title&&r.push(t.title);t.is_msg_unfurl?r.push(G(e,t)):"twitter"===t.service_name?r.push(W(e,t)):t.from_url?r.push(V(e,t)):r.push(K(e,t));return r.join(" ")}))}function Q(e,t,r){var n=Object(p["isFeatureEnabled"])(e,"feature_file_threads");var a=Object(d["getMsgSenderEntity"])(e,t);var i=H(e,r);var o=Object(I["b"])(r);var s=Object(I["a"])(o,{file:r,subtype:Object(d["getMessageSubtype"])(t),isUpload:t.upload,userId:a.userId,featureFileThreads:n});if(!s)return null;var c=r.pretty_type||B.t("file");var l=F.t("{uploader_name}{uploader_name_affix}",{uploader_name:i,uploader_name_affix:Object(D["k"])(i)});return s({uploader_name_possessive_html:l,file_pretty_name:c})}function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.ts,n=t.channelId,m=t.previousMessageTs,b=t.rollup;var g=Object(o["getMessageByTimestamp"])(e,n,r);var I=Object(l["getChannelById"])(e,n);if(!g||!I)return null;var P=Object(p["isFeatureEnabled"])(e,"feature_file_threads");var L=Object(p["isFeatureEnabled"])(e,"feature_wta_client_support");var D=Object(p["isFeatureEnabled"])(e,"feature_better_join_leave_strings");var B=P?null:g.file;var G=P?g.files:null;var W=P?Object(c["getFileById"])(e,a.a.first(G)):Object(c["getFileById"])(e,B);var V=Object(d["getMessageSubtype"])(g);var K=Object(v["a"])(V);var Y=Object(d["getMsgSenderEntity"])(e,g);var J=Object(p["getCurrentUserId"])(e);var X=["bot_message","me_message","file_comment","file_mention","file_share","file_upload","thread_broadcast","channel_join","channel_leave","group_join","group_leave"];if(V&&!K&&-1===X.indexOf(V))return null;var Z="";var $=null;if(-1!==["channel_join","channel_leave","group_join","group_leave"].indexOf(V)){var ee=Object(S["a"])(e,b);var te=Object(C["a"])({plainText:true,rollup:ee,channel:I,user:Y.userId,isAppUser:Object(_["z"])(Object(i["getMemberById"])(e,Y.userId)),featureWtaClientSupport:L,i18nReplaceCallback:a.a.noop,featureBetterJoinLeaveStrings:D});Z=te.join("")}else if(-1!==["sh_room_shared","sh_room_created"].indexOf(V)){var re="sh_room_shared"===V?F.t("Shared a call"):F.t("Started a call");var ne=g._room_id;var ae=Object(f["getCallById"])(e,ne);if(ae){var ie=ae.name?ae.name:"";var oe=Object(f["getParticipantsFromCall"])(ae)||[];var se=Object(N["a"])({dateEnd:ae.date_end,isDmCall:ae.is_dm_call,wasMissed:ae.was_missed,wasRejected:ae.was_rejected,isCreator:J===ae.created_by,isParticipant:-1!==oe.indexOf(J),dmCallName:Object(A["a"])(e,ne),participantsCount:oe.length});Z="sh_room_shared"===V&&ie?F.t("Shared a call: {callName}. {callDescription}.",{callName:ie,callDescription:se}):"sh_room_shared"===V?F.t("Shared a call. {callDescription}.",{callDescription:se}):ie?F.t("Started a call: {callName}. {callDescription}.",{callName:ie,callDescription:se}):F.t("Started a call. {callDescription}.",{callDescription:se})}else Z=re}else if(K){var ce=Object(p["isFeatureEnabled"])(e,"feature_sli_channel_archive_suggestions");var le=ce&&"sli_channel_archive_suggestions"===Object(x["a"])("sli_channel_archive_suggestions");var ue=Object(i["getCurrentMember"])(e);Z=Object(y["a"])({message:g,channel:I,member:ue,inSliChannelArchiveSuggestionsExperiment:le});Z=q(e,Z)}else if(W&&-1!==["file_mention","file_share","file_upload","file_comment"].indexOf(V)){var pe=W.user;var fe=H(e,W);if("file_comment"===V){var de=pe!==g.comment.user;var ve=Object(o["getMessageByTimestamp"])(e,n,m);var he=Object(O["a"])({plainText:true,isFollowup:Object(E["a"])(g,ve),fileMode:W.mode,fileLink:W.title?W.title:W.name,userId:de?pe:null,userName:de?fe:null,userLink:de?fe:null});$=g.comment&&W&&Object(c["getFileCommentById"])(e,W.id,g.comment.id);$&&(Z=q(e,he+" "+$.comment))}else{Z=U(e,{channelId:n,ts:g.ts});var me=Q(e,g,W);me&&(Z=me+": "+(W.title?W.title:W.name))}}else if("thread_broadcast"===V){var be=Object(o["getMessageByTimestamp"])(e,n,g.thread_ts);var _e=Object(d["getMessageRootText"])(be);if(P&&be.files&&be.files.length){var ge=a.a.first(be.files);var ye=Object(c["getFileById"])(e,ge);_e=Object(d["getMessageRootText"])(be,ye)}var Oe=[];var Ee=0;if(be){if(be.reply_users)Oe=be.reply_users;else{var je=be.replies||[];Oe=a()(je).map("user").uniq().value()}Ee=be.reply_users_count?be.reply_users_count:Oe.length}var ke=be?be.reply_count:null;var we=a.a.includes(Oe,J);var Ce=Object(j["a"])(e,Oe);var Se=Object(k["a"])({names:Ce,replyCount:ke,replyUsersCount:Ee,repliersIncludesSelf:we});var Te=q(e,g.text);Z=Object(w["a"])()+" "+_e+" "+Se+" "+Te}else Z=U(e,{channelId:n,ts:g.ts});var Ie=Object(h["b"])(g,W);var Ne=Object(d["getMessageAttachments"])(g);var Ae=z(e,Ne,{messageSubtype:V,messageText:g.text});var Pe={name:"",time:Object(R["a"])(g.ts,{do24hrTime:Object(u["getUserPref"])(e,"time24"),includeSeconds:false}),text:Z,reactionCount:Object(s["getTotalReactionCountForKey"])(e,Ie),replyCount:g.reply_count,isPinned:Object(M["b"])(g,I),isStarred:Object(d["isStarred"])(g,W,$,P),attachmentCount:Ne?Ne.length:0,attachmentTexts:Ae};Pe.name=Object(T["a"])(e,{userId:Y.userId,botId:Y.botId,username:Y.username,botProfile:g.bot_profile});return Pe}},17959:function(e,t,r){"use strict";t["a"]=c;var n=r(16912);var a=r(16920);var i=r(16921);var o=r(16940);var s=new n["b"]("message");function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.message,r=e.channel,c=e.member,l=e.inSliChannelArchiveSuggestionsExperiment;if(!t||!r||!c)return"";var u=Object(o["getMessageSubtype"])(t);var p=Object(o["getMessageMemberId"])(t);var f=Object(o["getMessageTopic"])(t);var d=Object(o["getMessagePurpose"])(t);var v=Object(o["getMessageOldName"])(t);var h=Object(o["getMessageName"])(t);var m=Object(a["getDisplayName"])(r);var b=Object(a["getIsChannelMoved"])(r);var _=Object(i["h"])(c);var g=c.id;if("channel_topic"===u||"group_topic"===u){if(!f)return s.t("cleared the channel topic");return s.t("set the channel topic: {topic}",{topic:Object(n["l"])(f)})}if("channel_purpose"===u||"group_purpose"===u){if(!d)return s.t("cleared the channel purpose");return s.t("set the channel purpose: {purpose}",{purpose:Object(n["l"])(d)})}if("channel_name"===u||"group_name"===u)return s.t("renamed the channel from \u201c{old_name}\u201d to \u201c{new_name}\u201d",{old_name:v,new_name:h});if("channel_archive"===u){if(b)return s.t("moved #{channelName} to another {orgName} workspace. The contents up until this point are still browsable and available in search.",{channelName:m,orgName:_});if(g===p&&l)return s.t("archived #{channelName}. The contents will still be browsable and available in search. To undo this, choose *Channel Settings \u2192 Unarchive*.",{channelName:m});return s.t("archived #{channelName}. The contents will still be browsable and available in search.",{channelName:m})}if("group_archive"===u){if(b)return s.t("moved {channelName} to another {orgName} workspace. The contents up until this point are still browsable and available in search.",{channelName:m,orgName:_});if(g===p&&l)return s.t("archived {channelName}. The contents will still be browsable and available in search. To undo this, choose *Channel Settings \u2192 Unarchive*.",{channelName:m});return s.t("archived {channelName}. The contents will still be browsable and available in search.",{channelName:m})}if("channel_unarchive"===u)return s.t("un-archived #{channelName}",{channelName:m});if("group_unarchive"===u)return s.t("un-archived {channelName}",{channelName:m});return t.text||""}},17960:function(e,t,r){"use strict";t["a"]=i;var n=r(16912);var a=new n["b"]("message");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.plainText,r=e.isFollowup,i=e.fileMode,o=e.fileLink,s=e.userId,c=e.userName,l=e.userLink;var u={file:o,user:l,possessive:Object(n["k"])(c)};if(r){u.note="[sender] commented:";return a.t("commented:",u)}if(s){if("snippet"===i){u.note="[sender] commented on joe's snippet. Also, the possessive affix is localized, but please move it before or after the user name depending on whether possessives are prefixes or suffixes for your language.";return t?a.t("commented on {user}{possessive} snippet {file}",u):a.rt("commented on {user}{possessive} snippet {file}",u)}u.note="[sender] commented on joe's file. Also, the possessive affix is localized, but please move it before or after the user name depending on whether possessives are prefixes or suffixes for your language.";return t?a.t("commented on {user}{possessive} file {file}",u):a.rt("commented on {user}{possessive} file {file}",u)}u.note="[sender] commented on Kittens.gif";return t?a.t("commented on {file}",u):a.rt("commented on {file}",u)}},17961:function(e,t,r){"use strict";t["a"]=a;var n=r(17073);function a(e,t){if(!t||!e)return false;if(Object(n["b"])(t.subtype)&&"file_comment"===e.subtype&&t.file&&e.file&&t.file===e.file)return true;return false}},17962:function(e,t,r){"use strict";t["a"]=u;var n=r(1);var a=r.n(n);var i=r(16913);var o=r(16974);var s=r(16921);var c=r(16912);var l=new c["b"]("threads");function u(e,t){var r=Object(i["getCurrentUserId"])(e);var n=a.a.includes(t,r);var c=t;if(n){c=a.a.without(t,r);c.push(r)}return a.a.chain(c).uniq().without("U00").without("B00").map(function(t){var n=Object(s["r"])(e,t)||Object(o["getBotNameById"])(e,t);if(!n)return null;return t===r?l.t("you"):n}).compact().value()}},17963:function(e,t,r){"use strict";t["a"]=i;var n=r(16912);var a=new n["b"]("threads");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.names,r=e.replyCount,n=e.replyUsersCount,i=e.repliersIncludesSelf;if(!r||!n)return"";if(1===r)return a.t("1 reply");if(1===n){if(i)return a.t("{reply_count, plural, =1{1 reply} other{# replies}} from you",{reply_count:r});return a.t("{reply_count, plural, =1{1 reply} other{# replies}} from {user_name}",{reply_count:r,user_name:t[0]})}if(2===n){if(i)return a.t("{reply_count, plural, =1{1 reply} other{# replies}} from {user_name} and you",{reply_count:r,user_name:t[0]});return a.t("{reply_count, plural, =1{1 reply} other{# replies}} from {user_name1} and {user_name2}",{reply_count:r,user_name1:t[0],user_name2:t[1]})}if(3===n){if(i)return a.t("{reply_count, plural, =1{1 reply} other{# replies}} from {user_name1}, {user_name2}, and you",{reply_count:r,user_name1:t[0],user_name2:t[1]});return a.t("{reply_count, plural, =1{1 reply} other{# replies}} from {user_name1}, {user_name2}, and {user_name3}",{reply_count:r,user_name1:t[0],user_name2:t[1],user_name3:t[2]})}return a.t("{reply_count, plural, =1{1 reply} other{# replies}} from {user_name1}, {user_name2}, and {num_others, plural, =1{# other} other{# others}}",{reply_count:r,user_name1:t[0],user_name2:t[1],num_others:n-2})}},17964:function(e,t,r){"use strict";t["a"]=i;var n=r(16912);var a=new n["b"]("threads");function i(){return a.t("replied to a thread:")}},17965:function(e,t,r){"use strict";t["a"]=p;var n=r(16912);var a=r(1);var i=r.n(a);var o=r(16916);var s=r(16920);var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function l(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var u=new n["b"]("message");function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.plainText,r=e.rollup,n=e.channel,a=e.user,o=e.isAppUser,u=e.featureWtaClientSupport,p=e.i18nReplaceCallback,v=e.featureBetterJoinLeaveStrings;if(!r)return[];var h=Object(s["isPrivateChannel"])(n)?Object(s["getDisplayName"])(n):"#"+Object(s["getDisplayName"])(n);var m=[];var b=r[a];var _=d(r,a,b);var g=f({action:b.action,channel:h,user:{name:b.name,id:a},isAppUser:o,featureWtaClientSupport:u,others:_,inviter:{name:b.inviterName,id:b.inviter},first:true,i18nReplaceCallback:p,plainText:t,featureBetterJoinLeaveStrings:v});m.push(g);var y=true;i()(r).omit([].concat(l(_.map(function(e){return e.id})),[a])).mapValues(function(e,t){return c({},e,{id:t})}).groupBy("action").forEach(function(e,r){var n={name:e[0].name,id:e[0].id};var a=i.a.tail(e);m.push(" ");m.push(f({action:r,channel:h,user:n,isAppUser:o,others:a,also:y,i18nReplaceCallback:p,plainText:t,featureBetterJoinLeaveStrings:v}));y=false});return m}function f(e){var t=e.action,r=e.channel,n=e.user,a=void 0===n?{}:n,s=e.isAppUser,c=e.featureWtaClientSupport,l=e.others,p=void 0===l?[]:l,f=e.inviter,d=void 0===f?{}:f,v=e.first,h=e.also,m=e.i18nReplaceCallback,b=e.plainText,_=e.featureBetterJoinLeaveStrings;if(!t||!t.length)return Object(o["error"])("rollups missing actions???");var g=p.length;var y={user:a.name||"UNKNOWN",userA:a.name||"UNKNOWN",channel:r,inviter:d.name,userB:d.name,count:g,other:p.length&&p[0].name,userC:p.length&&p[0].name};var O=i.a.curry(m)(a,d,p);var E="no_name"===r;if(_)switch(t){case"join":if(s&&c)return u.rt("was added to this conversation by <inviter>{userB}</inviter>.",y,O);if(v&&d.id){if(0===y.count){if(b){if(E)return u.t("joined the channel by invitation from {userB}.",y);return u.t("joined {channel} by invitation from {userB}.",y)}if(E)return u.rt("joined the channel by invitation from <inviter>{userB}</inviter>.",y,O);return u.rt("joined {channel} by invitation from <inviter>{userB}</inviter>.",y,O)}if(1===y.count){if(b){if(E)return u.t("joined the channel by invitation from {userB}, along with {userC}.",y);return u.t("joined {channel} by invitation from {userB}, along with {userC}.",y)}if(E)return u.rt("joined the channel by invitation from <inviter>{userB}</inviter>, along with <other>{userC}</other>.",y,O);return u.rt("joined {channel} by invitation from <inviter>{userB}</inviter>, along with <other>{userC}</other>.",y,O)}if(b){if(E)return u.t("joined the channel by invitation from {userB}, along with {count, number} others.",y);return u.t("joined {channel} by invitation from {userB}, along with {count, number} others.",y)}if(E)return u.rt("joined the channel by invitation from <inviter>{userB}</inviter>, along with <others>{count, number} others</others>.",y,O);return u.rt("joined {channel} by invitation from <inviter>{userB}</inviter>, along with <others>{count, number} others</others>.",y,O)}if(v){if(b){if(E){if(g)return u.t("joined the channel {count, plural, =1 {along with {userC}} other {along with # others}}.",y);return u.t("joined the channel.")}if(g)return u.t("joined {channel} {count, plural, =1 {along with {userC}} other {along with # others}}.",y);return u.t("joined {channel}.",y)}if(E){if(g)return u.rt("joined the channel {count, plural, =1 {along with <other>{userC}</other>} other {along with <others># others</others>}}.",y,O);return u.rt("joined the channel.")}if(g)return u.rt("joined {channel} {count, plural, =1 {along with <other>{userC}</other>} other {along with <others># others</others>}}.",y,O);return u.rt("joined {channel}.",y)}if(h){if(b){if(g)return u.t("Also, {userA} {count, plural, =1 {and {userC}} other {and # others}} joined.",y);return u.t("Also, {userA} joined.",y)}if(g)return u.rt("Also, <user>{userA}</user> {count, plural, =1 {and <other>{userC}</other>} other {and <others># others</others>}} joined.",y,O);return u.rt("Also, <user>{userA}</user> joined.",y,O)}if(b){if(g)return u.t("{userA} {count, plural, =1 {and {userC}} other {and # others}} joined.",y);return u.t("{userA} joined.",y)}if(g)return u.rt("<user>{userA}</user> {count, plural, =1 {and <other>{userC}</other>} other {and <others># others</others>}} joined.",y,O);return u.rt("<user>{userA}</user> joined.",y,O);case"leave":if(s&&c){if(b)return u.t("was removed from this conversation by {userB}.",y);return u.rt("was removed from this conversation by <inviter>{userB}</inviter>.",y,O)}if(v){if(b){if(E){if(g)return u.t("left the channel {count, plural, =1 {along with {userC}} other {along with # others}}.",y);return u.t("left the channel.")}if(g)return u.t("left {channel} {count, plural, =1 {along with {userC}} other {along with # others}}.",y);return u.t("left {channel}.",y)}if(E){if(g)return u.rt("left the channel {count, plural, =1 {along with <other>{userC}</other>} other {along with <others># others</others>}}.",y,O);return u.rt("left the channel.")}if(g)return u.rt("left {channel} {count, plural, =1 {along with <other>{userC}</other>} other {along with <others># others</others>}}.",y,O);return u.rt("left {channel}.",y)}if(h){if(b){if(g)return u.t("Also, {userA} {count, plural, =1 {and {userC}} other {and # others}} left.",y);return u.t("Also, {userA} left.",y)}if(g)return u.rt("Also, <user>{userA}</user> {count, plural, =1 {and <other>{userC}</other>} other {and <others># others</others>}} left.",y,O);return u.rt("Also, <user>{userA}</user> left.",y,O)}if(b){if(g)return u.t("{userA} {count, plural, =1 {and {userC}} other {and # others}} left.",y);return u.t("{userA} left.",y)}if(g)return u.rt("<user>{userA}</user> {count, plural, =1 {and <other>{userC}</other>} other {and <others># others</others>}} left.",y,O);return u.rt("<user>{userA}</user> left.",y,O);case"join,leave":if(v){if(b){if(E){if(g)return u.t("joined and left the channel {count, plural, =1 {along with {userC}} other {along with # others}}.",y);return u.t("joined and left the channel.")}if(g)return u.t("joined and left {channel} {count, plural, =1 {along with {userC}} other {along with # others}}.",y);return u.t("joined and left {channel}.",y)}if(E){if(g)return u.rt("joined and left the channel {count, plural, =1 {along with <other>{userC}</other>} other {along with <others># others</others>}}.",y,O);return u.rt("joined and left the channel.")}if(g)return u.rt("joined and left {channel} {count, plural, =1 {along with <other>{userC}</other>} other {along with <others># others</others>}}.",y,O);return u.rt("joined and left {channel}.",y)}if(h){if(b){if(g)return u.t("Also, {userA} {count, plural, =1 {and {userC}} other {and # others}} joined and left.",y);return u.t("Also, {userA} joined and left.",y)}if(g)return u.rt("Also, <user>{userA}</user> {count, plural, =1 {and <other>{userC}</other>} other {and <others># others</others>}} joined and left.",y,O);return u.rt("Also, <user>{userA}</user> joined and left.",y,O)}if(b){if(g)return u.t("{userA} {count, plural, =1 {and {userC}} other {and # others}} joined and left.",y);return u.t("{userA} joined and left.",y)}if(g)return u.rt("<user>{userA}</user> {count, plural, =1 {and <other>{userC}</other>} other {and <others># others</others>}} joined and left.",y,O);return u.rt("<user>{userA}</user> joined and left.",y,O);case"leave,join":if(v&&d.id){if(0===y.count){if(b){if(E)return u.t("rejoined the channel by invitation from {userB}.",y);return u.t("rejoined {channel} by invitation from {userB}.",y)}if(E)return u.rt("rejoined the channel by invitation from <inviter>{userB}</inviter>.",y,O);return u.rt("rejoined {channel} by invitation from <inviter>{userB}</inviter>.",y,O)}if(1===y.count){if(b){if(E)return u.t("rejoined the channel by invitation from {userB}, along with {userC}.",y);return u.t("rejoined {channel} by invitation from {userB}, along with {userC}.",y)}if(E)return u.rt("rejoined the channel by invitation from <inviter>{userB}</inviter>, along with <other>{userC}</other>.",y,O);return u.rt("rejoined {channel} by invitation from <inviter>{userB}</inviter>, along with <other>{userC}</other>.",y,O)}if(b){if(E)return u.t("rejoined the channel by invitation from {userB}, along with {count, number} others.",y);return u.t("rejoined {channel} by invitation from {userB}, along with {count, number} others.",y)}if(E)return u.rt("rejoined the channel by invitation from <inviter>{userB}</inviter>, along with <others>{count, number} others</others>.",y,O);return u.rt("rejoined {channel} by invitation from <inviter>{userB}</inviter>, along with <others>{count, number} others</others>.",y,O)}if(v){if(b){if(E){if(g)return u.t("rejoined the channel, {count, plural, =1 {along with {userC}} other {along with # others}}.",y);return u.t("rejoined the channel.")}if(g)return u.t("rejoined {channel}, {count, plural, =1 {along with {userC}} other {along with # others}}.",y);return u.t("rejoined {channel}.",y)}if(E){if(g)return u.rt("rejoined the channel, {count, plural, =1 {along with <other>{userC}</other>} other {along with <others># others</others>}}.",y,O);return u.rt("rejoined the channel.")}if(g)return u.rt("rejoined {channel}, {count, plural, =1 {along with <other>{userC}</other>} other {along with <others># others</others>}}.",y,O);return u.rt("rejoined {channel}.",y)}if(h){if(b){if(g)return u.t("Also, {userA} {count, plural, =1 {and {userC}} other {and # others}} rejoined.",y);return u.t("Also, {userA} rejoined.",y)}if(g)return u.rt("Also, <user>{userA}</user> {count, plural, =1 {and <other>{userC}</other>} other {and <others># others</others>}} rejoined.",y,O);return u.rt("Also, <user>{userA}</user> rejoined.",y,O)}if(b){if(g)return u.t("{userA} {count, plural, =1 {and {userC}} other {and # others}} rejoined.",y);return u.t("{userA} rejoined.",y)}if(g)return u.rt("<user>{userA}</user> {count, plural, =1 {and <other>{userC}</other>} other {and <others># others</others>}} rejoined.",y,O);return u.rt("<user>{userA}</user> rejoined.",y,O);default:return Object(o["error"])("invalid rollup action???")}switch(t){case"join":if(s&&c)return u.rt("was added to this conversation by <inviter>{inviter}</inviter>.",y,O);if(v&&d.id){if(0===y.count){if(b)return u.t("joined {channel, select, no_name {the channel} other {{channel}}} by invitation from {inviter}.",y);return u.rt("joined {channel, select, no_name {the channel} other {{channel}}} by invitation from <inviter>{inviter}</inviter>.",y,O)}if(1===y.count){if(b)return u.t("joined {channel, select, no_name {the channel} other {{channel}}} by invitation from {inviter}, along with {other}.",y);return u.rt("joined {channel, select, no_name {the channel} other {{channel}}} by invitation from <inviter>{inviter}</inviter>, along with <other>{other}</other>.",y,O)}if(b)return u.t("joined {channel, select, no_name {the channel} other {{channel}}} by invitation from {inviter}, along with {count, number} others.",y);return u.rt("joined {channel, select, no_name {the channel} other {{channel}}} by invitation from <inviter>{inviter}</inviter>, along with <others>{count, number} others</others>.",y,O)}if(v){if(b)return u.t("joined {channel, select, no_name {the channel} other {{channel}}}{count, plural, =0 {} =1 { along with {other}} other { along with # others}}.",y);return u.rt("joined {channel, select, no_name {the channel} other {{channel}}}{count, plural, =0 {} =1 { along with <other>{other}</other>} other { along with <others># others</others>}}.",y,O)}if(h){if(b)return u.t("Also, {user}{count, plural, =0 {} =1 { and {other}} other { and # others}} joined.",y);return u.rt("Also, <user>{user}</user>{count, plural, =0 {} =1 { and <other>{other}</other>} other { and <others># others</others>}} joined.",y,O)}if(b)return u.t("{user}{count, plural, =0 {} =1 { and {other}} other { and # others}} joined.",y);return u.rt("<user>{user}</user>{count, plural, =0 {} =1 { and <other>{other}</other>} other { and <others># others</others>}} joined.",y,O);case"leave":if(s&&c){if(b)return u.t("was removed from this conversation by {inviter}.",y);return u.rt("was removed from this conversation by <inviter>{inviter}</inviter>.",y,O)}if(v){if(b)return u.t("left {channel, select, no_name {the channel} other {{channel}}}{count, plural, =0 {} =1 { along with {other}} other { along with # others}}.",y);return u.rt("left {channel, select, no_name {the channel} other {{channel}}}{count, plural, =0 {} =1 { along with <other>{other}</other>} other { along with <others># others</others>}}.",y,O)}if(h){if(b)return u.t("Also, {user}{count, plural, =0 {} =1 { and {other}} other { and # others}} left.",y);return u.rt("Also, <user>{user}</user>{count, plural, =0 {} =1 { and <other>{other}</other>} other { and <others># others</others>}} left.",y,O)}if(b)return u.t("{user}{count, plural, =0 {} =1 { and {other}} other { and # others}} left.",y);return u.rt("<user>{user}</user>{count, plural, =0 {} =1 { and <other>{other}</other>} other { and <others># others</others>}} left.",y,O);case"join,leave":if(v){if(b)return u.t("joined and left {channel, select, no_name {the channel} other {{channel}}}{count, plural, =0 {} =1 { along with {other}} other { along with # others}}.",y);return u.rt("joined and left {channel, select, no_name {the channel} other {{channel}}}{count, plural, =0 {} =1 { along with <other>{other}</other>} other { along with <others># others</others>}}.",y,O)}if(h){if(b)return u.t("Also, {user}{count, plural, =0 {} =1 { and {other}} other { and # others}} joined and left.",y);return u.rt("Also, <user>{user}</user>{count, plural, =0 {} =1 { and <other>{other}</other>} other { and <others># others</others>}} joined and left.",y,O)}if(b)return u.t("{user}{count, plural, =0 {} =1 { and {other}} other { and # others}} joined and left.",y);return u.rt("<user>{user}</user>{count, plural, =0 {} =1 { and <other>{other}</other>} other { and <others># others</others>}} joined and left.",y,O);case"leave,join":if(v&&d.id){if(0===y.count){if(b)return u.t("left and rejoined {channel, select, no_name {the channel} other {{channel}}} by invitation from {inviter}.",y);return u.rt("left and rejoined {channel, select, no_name {the channel} other {{channel}}} by invitation from <inviter>{inviter}</inviter>.",y,O)}if(1===y.count){if(b)return u.t("left and rejoined {channel, select, no_name {the channel} other {{channel}}} by invitation from {inviter}, along with {other}.",y);return u.rt("left and rejoined {channel, select, no_name {the channel} other {{channel}}} by invitation from <inviter>{inviter}</inviter>, along with <other>{other}</other>.",y,O)}if(b)return u.t("left and rejoined {channel, select, no_name {the channel} other {{channel}}} by invitation from {inviter}, along with {count, number} others.",y);return u.rt("left and rejoined {channel, select, no_name {the channel} other {{channel}}} by invitation from <inviter>{inviter}</inviter>, along with <others>{count, number} others</others>.",y,O)}if(v){if(b)return u.t("left and rejoined {channel, select, no_name {the channel} other {{channel}}}{count, plural, =0 {} =1 {, along with {other}} other {, along with # others}}.",y);return u.rt("left and rejoined {channel, select, no_name {the channel} other {{channel}}}{count, plural, =0 {} =1 {, along with <other>{other}</other>} other {, along with <others># others</others>}}.",y,O)}if(h){if(b)return u.t("Also, {user}{count, plural, =0 {} =1 { and {other}} other { and # others}} left and rejoined.",y);return u.rt("Also, <user>{user}</user>{count, plural, =0 {} =1 { and <other>{other}</other>} other { and <others># others</others>}} left and rejoined.",y,O)}if(b)return u.t("{user}{count, plural, =0 {} =1 { and {other}} other { and # others}} left and rejoined.",y);return u.rt("<user>{user}</user>{count, plural, =0 {} =1 { and <other>{other}</other>} other { and <others># others</others>}} left and rejoined.",y,O);default:return Object(o["error"])("invalid rollup action???")}}function d(e,t,r){var n=r.action,a=r.inviter;var o=[];i.a.forEach(e,function(e,r){if(r===t)return;if(e.action!==n)return;if(a&&e.inviter!==a)return;o.push({id:r,name:e.name})});return o}},17966:function(e,t,r){"use strict";t["a"]=o;var n=r(16921);var a=r(1);var i=r.n(a);function o(e,t){if(!t)return null;return Object(a["mapValues"])(t,function(t,r){var a=t.action,i=t.inviter;return{action:a,inviter:i,name:Object(n["r"])(e,r),inviterName:Object(n["r"])(e,i)}})}},17967:function(e,t,r){"use strict";t["a"]=i;var n=r(16912);var a=new n["b"]("calls");function i(e){var t=e.dateEnd,r=e.isDmCall,n=e.wasMissed,i=e.wasRejected,o=e.isCreator,s=e.isParticipant,c=e.dmCallName,l=e.participantsCount;var u=t&&r&&n&&i&&!o;var p=t&&r&&n&&i&&o;var f=t&&r&&n;var d=t&&r&&n&&o;var v=t;var h=!r&&s;var m=!r&&!s;var b=r&&2===l;var _=!t&&r&&o;var g=!t&&r;if(u)return a.t("You declined the call");if(p)return a.t("{dmCallName} declined the call",{dmCallName:c});if(d)return a.t("{dmCallName} missed the call",{dmCallName:c});if(f)return a.t("You missed the call");if(v)return a.t("This call has ended");if(h)return a.t("You are on this call");if(m)return a.t("Join this call");if(b)return a.t("On a call with {dmCallName}",{dmCallName:c});if(_)return a.t("Calling {dmCallName}",{dmCallName:c});if(g)return a.t("{dmCallName} is calling you",{dmCallName:c});return""}},17968:function(e,t,r){"use strict";t["a"]=p;var n=r(1);var a=r.n(n);var i=r(17672);var o=r(16919);var s=r(16913);var c=r(16923);var l=r(16921);var u=r(16920);function p(e,t){var r=Object(i["getCallById"])(e,t);if(!r)return"";if(!r.is_dm_call)return"";var a=Object(i["getParticipantsFromCall"])(r)||[];var p=a.map(function(t){return Object(o["getMemberById"])(e,t)});var f=Object(s["getCurrentUserId"])(e);var d=void 0;var v=Object(n["reject"])(p,{id:f});if(v.length)d=Object(n["head"])(v);else if(r.channels&&r.channels.length){var h=Object(c["getChannelById"])(e,r.channels[0]);h&&(d=Object(o["getMemberById"])(e,Object(u["getMemberIdFromIm"])(h)))}if(d)return Object(l["q"])(e,d);return""}},17969:function(e,t,r){"use strict";r.d(t,"d",function(){return a});r.d(t,"e",function(){return i});r.d(t,"c",function(){return o});r.d(t,"a",function(){return s});r.d(t,"b",function(){return c});r.d(t,"f",function(){return l});var n=r(16914);var a=Object(n["c"])("TS.newxp.slackbot_response_sent_sig.dispatch");var i=Object(n["c"])("TS.newxp.slackbot_skip_or_stop_sig.dispatch");var o=Object(n["c"])("TS.newxp.slackbot_continue_sig.dispatch");var s=Object(n["c"])("TS.newxp.cancelOnboarding");var c=Object(n["c"])("TS.newxp.resumeOnboarding");var l=Object(n["c"])("TS.newxp.startOnboardingClick")},17970:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"uploadStarting",function(){return l});r.d(t,"progressUpdate",function(){return u});r.d(t,"uploadCanceled",function(){return p});r.d(t,"uploadComplete",function(){return f});r.d(t,"uploadQueueEmptied",function(){return d});r.d(t,"IDLE",function(){return v});r.d(t,"UPLOADING",function(){return h});r.d(t,"COMPLETE",function(){return m});r.d(t,"CANCELED",function(){return b});r.d(t,"getFileUploadState",function(){return y});var n=r(3);var a=r.n(n);var i=r(16915);var o;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function c(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var l=Object(i["a"])("Started uploading a file");l.propTypes={fileName:a.a.string.isRequired,isRetry:a.a.bool.isRequired,cancelable:a.a.bool.isRequired};var u=Object(i["a"])("Update to the file upload % complete");u.propTypes={percentComplete:a.a.number.isRequired};var p=Object(i["a"])("Canceled the file upload");p.propTypes=null;var f=Object(i["a"])("Finished the file upload");f.propTypes=null;var d=Object(i["a"])("Done all uploads");d.propTypes=null;var v=0;var h=1;var m=2;var b=3;var _={status:v,fileName:null,percentComplete:0,cancelable:false,isRetry:false};var g=Object(i["c"])((o={},c(o,l,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.fileName,n=t.isRetry,a=t.cancelable;return{status:h,fileName:r,isRetry:n,percentComplete:0,cancelable:a}}),c(o,u,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.percentComplete;return s({},e,{percentComplete:r})}),c(o,p,function(e){return s({},e,{status:b})}),c(o,f,function(e){return s({},e,{status:m})}),c(o,d,function(e){return s({},e,{status:v})}),o),_);t["default"]=g;var y=Object(i["d"])(function(e){return e&&e.fileUpload})},17971:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"jumpToReply",function(){return m});r.d(t,"clearHighlight",function(){return b});r.d(t,"getStartTs",function(){return y});r.d(t,"getHighlight",function(){return O});r.d(t,"requestReplies",function(){return E});var n=r(3);var a=r.n(n);var i=r(1);var o=r.n(i);var s=r(16915);var c=r(16930);var l=r(17280);var u=r(17155);var p=r(17283);var f=function(){function e(e,t){var r=[];var n=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){a=true;i=e}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var d;var v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function h(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var m=Object(s["a"])("Jump to a reply timestamp");m.propTypes=a.a.string;var b=Object(s["a"])("Clears the active highlight");b.propTypes=null;var _={startTs:null,highlightTs:null,highlightKey:null};var g=Object(s["c"])((d={},h(d,m,function(e,t){return{startTs:t,highlightTs:t,highlightKey:Object(i["uniqueId"])("threads-flexpane-highlight")}}),h(d,b,function(e){return v({},e,{highlightTs:null,highlightKey:null})}),d),_);t["default"]=g;var y=Object(s["d"])(function(e){return e&&e.threadsFlexpane&&e.threadsFlexpane.startTs});var O=Object(s["d"])(function(e){return e&&e.threadsFlexpane&&{highlightTs:e.threadsFlexpane.highlightTs,highlightKey:e.threadsFlexpane.highlightKey}});var E=Object(s["e"])("gets thread replies from the API",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.channelId,a=r.threadTs,o=r.oldest,s=r.latest;var d=Object(u["a"])(n,a);if(o&&s)return Promise.all([e(Object(p["c"])({channelId:n,threadTs:a,latest:s})),e(Object(p["c"])({channelId:n,threadTs:a,oldest:o}))]).then(function(t){var r=f(t,2),n=r[0],a=r[1];var u=n.msgs.splice(0,1);var p=Object(i["uniqBy"])(n.msgs.concat(a.msgs.slice(1)),"ts");var v=p.map(function(e){return e.ts});e(Object(c["addMessages"])(u));e(Object(l["a"])({msgs:p,channelId:d,hasMore:{hasMoreStart:n.hasMore,hasMoreEnd:a.hasMore},oldest:Object(i["min"])([o,Object(i["min"])(v)]),latest:Object(i["max"])([s,Object(i["max"])(v)])}))});return e(Object(p["c"])({channelId:n,threadTs:a,oldest:o,latest:s})).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.msgs,n=t.hasMore;var a=r.splice(0,1);e(Object(c["addMessages"])([a]));e(Object(l["a"])({msgs:r,channelId:d,hasMore:n,oldest:o,latest:s}))})});E.propTypes={channelId:a.a.string.isRequired,threadTs:a.a.string.isRequired,oldest:a.a.string,latest:a.a.string}},17972:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16949);var c=r(16926);var l=r(17931);var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var p=Object(c["b"])("Opens app dialog",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=a.a.createElement(l["a"],u({},r,{onClose:function t(){return e(Object(s["closeModal"])())}}));e(Object(s["openModal"])({element:n}))});p.propTypes={appId:o.a.string.isRequired,id:o.a.string.isRequired,submitLabel:o.a.string,title:o.a.string.isRequired};t["a"]=p},17974:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);var a=r.n(n);var i=r(16915);var o=r(16923);var s=r(16920);var c;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function u(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function p(e){if(!e||!e.id)return false;if(Object(s["isIm"])(e)&&!e.name&&!Object(s["getMemberIdFromIm"])(e))return false;if(Object(s["isMpim"])(e)&&!e.name&&!e._internal_name)return false;if(!e.name)return false;return true}function f(e,t){if(!t||!t.id)return e;e=d(e,t.id);var r=t.id;var n=a.a.toLower(t.name);var i={};if(Object(s["isIm"])(t)&&Object(s["getMemberIdFromIm"])(t)){var o=Object(s["getMemberIdFromIm"])(t);e.ims[o]=r;e.ims[n]=r;i.ims=[o,n]}else if(Object(s["isMpim"])(t)&&t._internal_name){var c=t._internal_name;e.mpims[c]=r;e.mpims[n]=r;i.mpims=[c,n]}else{e.channelsAndGroups[n]=r;i.channelsAndGroups=[n]}e.reverseMap[r]=i;return e}function d(e,t){if(!t)return e;if(!e.reverseMap||!e.reverseMap[t]||a.a.isEmpty(e.reverseMap[t]))return e;var r=l({},e);var n=e.reverseMap[t];Object.keys(n).forEach(function(e){var t=n[e];if(!t||!t.length)return;t.forEach(function(t){delete r[e][t]})});r.reverseMap[t]={};return r}function v(e,t){if(!t||!t.length||!a.a.isArray(t))return e;var r=a.a.filter(t,p);if(!r.length)return e;var n={channelsAndGroups:l({},e.channelsAndGroups),ims:l({},e.ims),mpims:l({},e.mpims),reverseMap:l({},e.reverseMap)};r.forEach(function(e){f(n,e)});return n}var h={channelsAndGroups:{},ims:{},mpims:{},reverseMap:{}};var m=Object(i["c"])((c={},u(c,o["addOrReplaceChannels"],function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.channels,n=t.reason;if(!n)return e;return v(e,r)}),u(c,o["removeChannels"],function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.ids;if(!r||!r.length)return e;var n={channelsAndGroups:l({},e.channelsAndGroups),ims:l({},e.ims),mpims:l({},e.mpims),reverseMap:l({},e.reverseMap)};r.forEach(function(e){d(n,e)});return n}),c),h);t["default"]=m},17975:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"setMarkingState",function(){return f});r.d(t,"clearAllMarkingFlags",function(){return d});r.d(t,"clearMarkingFlagsForIds",function(){return v});r.d(t,"getAllIdsNeedingMarking",function(){return b});r.d(t,"getAllUnmutedIdsNeedingMarking",function(){return _});r.d(t,"getAllMutedIdsNeedingMarking",function(){return g});var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16915);var c=r(17057);var l;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function p(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var f=Object(s["a"])("Update the apiNeedsMarking flag for a channel");f.propTypes={id:o.a.string.isRequired,needsApiMarking:o.a.bool.isRequired};var d=Object(s["a"])("Wipe out all API needs marking flags when they are all completed");d.propTypes=null;var v=Object(s["a"])("Remove API needs marking flags for specified IDs");v.propTypes=o.a.arrayOf(o.a.string).isRequired;var h={};var m=Object(s["c"])((l={},p(l,f,function(e,t){if(t.needsApiMarking)return u({},e,p({},t.id,t.needsApiMarking));return a.a.omit(e,t.id)}),p(l,d,function(e){if(a.a.isEqual(e,h))return e;return h}),p(l,v,function(e,t){if(a.a.isEqual(e,h))return e;return a.a.omit(e,t)}),l),h);t["default"]=m;var b=Object(s["d"])(function(e){var t=e&&e.channelsMeta&&e.channelsMeta.needsApiMarking;if(!t)return[];return a.a.keys(t)});var _=Object(s["d"])(function(e){var t=b(e);return a.a.filter(t,function(t){return!Object(c["isChannelMutedById"])(e,t)})});var g=Object(s["d"])(function(e){var t=b(e);return a.a.filter(t,function(t){return Object(c["isChannelMutedById"])(e,t)})})},17976:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"getSlashCommand",function(){return w});r.d(t,"getSlashCommands",function(){return C});r.d(t,"addCommand",function(){return S});r.d(t,"bulkAddLocalCommands",function(){return T});r.d(t,"bulkAddServerCommands",function(){return I});r.d(t,"executeCommand",function(){return N});var n=r(3);var a=r.n(n);var i=r(1);var o=r.n(i);var s=r(16915);var c=r(16926);var l=r(20586);var u=r(20515);var p=r(20568);var f=r(16958);var d=r(16971);var v;var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function m(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var b=f["SLASH_COMMAND_ERRORS"].INVALID_PARAMS,_=f["SLASH_COMMAND_ERRORS"].RESTRICTED_COMMAND,g=f["SLASH_COMMAND_ERRORS"].UNKNOWN_API_ERROR,y=f["SLASH_COMMAND_ERRORS"].UNKNOWN_COMMAND,O=f["SLASH_COMMAND_ERRORS"].UNKNOWN_ERROR,E=f["SLASH_COMMAND_ERRORS"].UNSUPPORTED_IN_THREAD;var j=["/away","/beep","/color","/colors","/colour","/colours","/deletelast","/dm","/editlast","/feedback","/keys","/msg","/prefs","/s","/search","/shortcuts","/shrug","/slack_diagnostic_report","/star","/toggle_debugging_prefs","/togglethemes","/active"];var k=Object(s["d"])(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.isThread;if(!t)return{isEnabled:false,reason:y};if(n&&!Object(i["includes"])(j,t.name))return{isEnabled:false,reason:E};if(!t.isServer&&!Object(u["c"])(t.name,e))return{isEnabled:false,reason:y};return{isEnabled:true}});var w=Object(s["d"])(function(e,t){if(!e||!e.slashCommand)return null;var r=e.slashCommand[t];if(!r){var n=Object(i["values"])(e.slashCommand);r=Object(l["a"])(n,t)}return r});var C=Object(s["d"])(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.isThread;if(!e)return null;return Object(i["filter"])(e.slashCommand,function(t){var n=k(e,t,{isThread:r}),a=n.isEnabled;return a})});var S=Object(s["a"])("Adds a slash command");S.propTypes={command:a.a.object.isRequired};var T=Object(s["a"])("Adds an array of local slash commands");T.propTypes={commands:a.a.array.isRequired};var I=Object(s["a"])("Adds an array of slash commands from the server");I.propTypes={commands:a.a.array.isRequired};var N=Object(c["b"])("Run a local or server slash command",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.args,a=r.channelId,i=r.threadTs;if(!n||!a)return Promise.reject(new Error(b));var o=n.cmd,s=n.rest,c=n.disp;var l=t();var f=!!i;var v=w(l,o);if(!v)return Promise.reject(new Error(y));var m=k(l,v,{isThread:f}),E=m.isEnabled,j=m.reason;if(!E)return Promise.reject(new Error(j));if(v.isServer)return e(Object(p["a"])({channelId:a,threadTs:i,rest:s,name:o,displayName:c})).catch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.message;var r=void 0;if("restricted_action"===t)r=new Error(_);else if("unknown_command"===t)r=new Error(y);else{r=new Error(g);r.reason=t}throw r});var C=Object(u["b"])(o);if(!C){e(Object(d["error"])("SLASH-COMMAND",'Missing handler for local action "'+o+'"'));return Promise.reject(new Error(O))}return Promise.resolve(e(C(h({threadTs:i},n))))});N.propTypes={args:a.a.shape({cmd:a.a.string.isRequired,disp:a.a.string,rest:a.a.string}).isRequired,channelId:a.a.string.isRequired,threadTs:a.a.object};var A={};var P=Object(s["c"])((v={},m(v,S,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.command;if(Object(i["isEmpty"])(r))return e;return h({},e,m({},r.name,Object(i["omit"])(r,"action")))}),m(v,T,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.commands,n=void 0===r?[]:r;if(Object(i["isEmpty"])(n))return e;var a={};n.forEach(function(e){a[e.name]=Object(i["omit"])(e,"action")});return h({},e,a)}),m(v,I,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.commands,n=void 0===r?[]:r;if(Object(i["isEmpty"])(n))return e;return Object(l["c"])(e,Object(i["keyBy"])(n,"name"))}),v),A);t["default"]=P},17978:function(e,t,r){"use strict";t["a"]=l;var n=r(1);var a=r.n(n);var i=r(17100);var o=r(17671);var s=r(17724);var c=r(17725);function l(e,t){var r=Object(i["b"])(e,{shouldRenderEmojiAsText:t});return a.a.reduce(r.contents,function(e,t){if(t.attributes&&t.attributes.slackmention){var r=t.attributes.slackmention.id;if(Object(o["a"])(r))return e+"@"+Object(c["a"])(r);if(Object(s["a"])(r))return""+e+t.attributes.slackmention.label;return e+"@"+r}if(t.insert&&t.insert.slackemoji)return e+t.insert.slackemoji;return e+t.insert},"")}},17979:function(e,t,r){"use strict";r.d(t,"b",function(){return E});t["a"]=k;var n=r(3);var a=r.n(n);var i=r(18190);var o=r(16916);var s=r(17101);var c=r(17004);var l=r(16922);var u=r(16926);var p=r(17726);var f=r(16940);var d=r(16920);var v=r(17405);var h=r(16962);var m=r(17723);var b=r(16943);var _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var g={DEFAULT:5e3,LONG:1e4};var y=80;var O=Object(u["b"])("Switch primary or secondary view on notification click",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.modelObject,a=r.message;Object(f["isReply"])(a)?e(Object(c["d"])({channelId:n.id,threadTs:a.thread_ts,highlightTs:a.ts||a.msg})):e(Object(s["a"])({id:n.id}))});O.propTypes={modelObject:a.a.object.isRequired,message:a.a.object.isRequired};var E=Object(u["b"])("Show a desktop notification",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.message,a=r.modelObject,s=r.options;if(!n||!a||Object(d["isNonExistent"])(a)){Object(o["warn"])("NOTIFICATIONS","Cannot show notification, missing arguments");return}if(!Object(v["b"])()){Object(o["warn"])("NOTIFICATIONS","Cannot show notification, permission denied");return}if(Object(b["e"])()&&!s.is_call_notification){Object(o["warn"])("NOTIFICATIONS","Cannot show notification while screen-sharing");return}var c=t();var l=s||{};w(c);Object(b["b"])().then(function(t){var r="new_message";if(t)r="none";else if(!Object(h["shouldAttachSoundToNotification"])()){Object(m["c"])("new_message");r="none"}if(h["isDesktop"])Object(h["notify"])(_({},Object(i["c"])(c,a,n,l),Object(i["b"])(c,a,n,l,r)));else{var o=function t(){e(O({modelObject:a,message:n}))};j(_({},Object(i["c"])(c,a,n,l),Object(i["a"])(c,n)),o)}})});E.propTypes={modelObject:a.a.object.isRequired,message:a.a.object.isRequired,options:a.a.object};function j(e,t){var r=e.title,n=e.content,a=e.icon,i=e.tag;if(!window.Notification){Object(o["warn"])("NOTIFICATIONS","window.Notification is not supported");return}var s=new Notification(r,{body:n,icon:a,tag:i});var c=function e(){window.focus();t&&t();s.close()};var l=function e(){setTimeout(function(){return s.close()},n&&n.length>y?g.LONG:g.DEFAULT)};try{s.onclick=c;s.onshow=l}catch(e){Object(o["error"])("NOTIFICATIONS","Unable to assign Notification event handlers",e);l()}}function k(e,t){if(!v["a"]){t&&t(false,-1);return}var r=function r(){t&&t(Object(v["b"])(),Object(v["h"])());e(Object(p["setNotificationPermission"])(Object(v["h"])()))};window.webkitNotifications&&window.webkitNotifications.requestPermission&&window.webkitNotifications.checkPermission?window.webkitNotifications.requestPermission(r):window.Notification&&window.Notification.requestPermission(r)}function w(e){if(!h["isDesktop"])return;if(!Object(l["getUserPref"])(e,"mac_ssb_bounce"))return;"long"===Object(l["getUserPref"])(e,"mac_ssb_bounce")?Object(h["bounceIndefinitely"])():Object(h["bounceOnce"])()}},17980:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(3);var s=r.n(o);var c=r(8);var l=r.n(c);var u=r(16912);var p=r(16913);var f=r(17153);var d=r(16967);var v=r(16968);var h=r(16950);var m=r(17035);var b=r(16917);var _=r(16932);var g=r(18213);var y=r(18214);var O=r(20175);var E=r.n(O);var j=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function C(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=new u["b"]("do_not_disturb");var T={inDnd:s.a.bool.isRequired,currentChannel:s.a.object,className:s.a.string,menuPosition:s.a.string,menuOffsetX:s.a.number,menuOffsetY:s.a.number,tooltipOffsetX:s.a.number,tooltipOffsetY:s.a.number,featureSonicDnd:s.a.bool};var I={currentChannel:{},className:void 0,menuPosition:"bottom-left",menuOffsetX:-4,menuOffsetY:8,tooltipOffsetX:void 0,tooltipOffsetY:void 0,featureSonicDnd:false};var N=function(e){C(t,e);function t(e){k(this,t);var r=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.renderMenu=r.renderMenu.bind(r);return r}j(t,[{key:"renderMenu",value:function e(t){var r=this.props,n=r.inDnd,i=r.currentChannel,o=r.featureSonicDnd;if(!o)return null;if(n)return a.a.createElement(y["a"],{featureSonicDnd:o,currentChannel:i,menuProps:t});return a.a.createElement(g["a"],{featureSonicDnd:o,currentChannel:i,menuProps:t})}},{key:"render",value:function e(){var t=this.props,r=t.inDnd,n=t.className,i=t.menuPosition,o=t.menuOffsetX,s=t.menuOffsetY,c=t.tooltipOffsetX,u=t.tooltipOffsetY,p=t.featureSonicDnd;if(!p)return null;var f=r?"snooze-outline":"bell-o";return a.a.createElement(h["d"],{renderMenu:this.renderMenu,position:i,offsetX:o,offsetY:s},a.a.createElement(_["c"],{tip:S.t("Notifications"),position:"bottom",offsetX:c,offsetY:u},a.a.createElement(m["a"],{className:l()("p-dnd_button",n),"data-qa":"do_not_disturb_btn"},a.a.createElement(b["b"],{type:f}))))}}]);return t}(n["PureComponent"]);N.displayName="DndButton";N.propTypes=T;N.defaultProps=I;var A=function e(t){var r=Object(p["getCurrentUserId"])(t);var n=Object(d["getMessagePaneChannelId"])(t);return{inDnd:!!Object(f["getDndByMemberId"])(t,r),currentChannel:Object(v["e"])(t,n)||void 0,featureSonicDnd:Object(p["isFeatureEnabled"])(t,"feature_sonic_dnd")}};t["a"]=Object(i["connect"])(A)(N)},17981:function(e,t,r){"use strict";r.d(t,"c",function(){return l});r.d(t,"b",function(){return u});r.d(t,"a",function(){return p});var n=r(3);var a=r.n(n);var i=r(16926);var o=r(16929);var s=r(16971);var c="MODERN-DND";var l=Object(i["b"])("Snoozes notifications for a duration of time",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.duration;return e(Object(o["a"])({method:"dnd.setSnooze",args:{num_minutes:n}})).then(function(){e(Object(s["info"])(c,"User successfully snoozed their notifications for "+n+" minutes"))}).catch(function(){e(Object(s["error"])(c,"User was unable to snooze their notifications for "+n+" minutes"));e(Object(s["error"])(c,t().dnd))})});l.propTypes={duration:a.a.number.isRequired};var u=Object(i["b"])("Ends DND mode triggered by explicityly snoozing notifications",function(e,t){return e(Object(o["a"])({method:"dnd.endSnooze"})).then(function(){e(Object(s["info"])(c,"User successfully ended DND-SNOOZE"))}).catch(function(){e(Object(s["error"])(c,"User was unable to end DND-SNOOZE"));e(Object(s["error"])(c,t().dnd))})});var p=Object(i["b"])("Ends DND mode triggered by the DND schedule",function(e,t){return e(Object(o["a"])({method:"dnd.endDnd"})).then(function(){e(Object(s["info"])(c,"User successfully ended DND-SCHEDULE"))}).catch(function(){e(Object(s["error"])(c,"User was unable to end DND-SCHEDULE"));e(Object(s["error"])(c,t().dnd))})})},17983:function(e,t,r){"use strict";r.d(t,"b",function(){return w});r.d(t,"c",function(){return C});r.d(t,"a",function(){return S});var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16912);var u=r(16957);var p=r(17e3);var f=r(17676);var d=r(17097);var v=r(18234);var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function b(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function _(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=new l["b"]("enterprise_dashboard");var j={workspaceName:a.a.string,workspaceDomain:a.a.string,workspaceDesc:a.a.string,errors:a.a.object,onSubmit:a.a.func.isRequired};var k={workspaceName:null,workspaceDomain:null,workspaceDesc:null,errors:null,onSubmit:s["noop"]};var w=21;var C=255;var S=255;var T=function e(t){Object(d["b"])(Object(d["a"])().teams.setCreateTeamErrors(t))};var I=function e(t,r){Object(d["b"])(Object(d["a"])().teams.setCreateTeamError(t,r))};var N=function(e){O(t,e);function t(e){g(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={values:{workspaceDomain:r.props.workspaceDomain,workspaceName:r.props.workspaceName,workspaceDesc:r.props.workspaceDesc},errors:r.props.errors};return r}m(t,[{key:"onInputChanged",value:function e(t,r){this.setFormValue(t,r);I(t,"")}},{key:"setFormValue",value:function e(t,r){this.setState(function(e){return{values:h({},e.values,_({},t,r))}})}},{key:"bindArgs",value:function e(t){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return t.bind.apply(t,[this].concat(n))}},{key:"submit",value:function e(t){var r=Object(v["a"])(this.state.values);if(!Object(s["isEmpty"])(r)){T(r);return}this.props.onSubmit(this.state.values,t)}},{key:"renderTextInput",value:function e(t){var r=t.suffix,n=t.name,a=b(t,["suffix","name"]);return o.a.createElement(p["a"],h({},a,{name:n,suffix:r,onChange:this.bindArgs(this.onInputChanged,n)}))}},{key:"renderNameInput",value:function e(){var t=this.state.values.workspaceName;var r=Object(s["get"])(this.props.errors,"workspaceName");var n="workspace_input_name";var a={name:"workspaceName",inputLabel:E.t("Workspace Name"),maxCharacterLimit:C,value:t,id:n,labelId:n+"_label"};r&&(a=h({},a,{errorText:r}));return this.renderTextElement(a)}},{key:"renderDomainInput",value:function e(){var t=this.state.values.workspaceDomain;var r=Object(s["get"])(this.props.errors,"workspaceDomain");var n="workspace_input_domain";var a={name:"workspaceDomain",inputLabel:E.t("Workspace Domain"),hintText:E.t("Letters, numbers, and hyphens only."),maxCharacterLimit:w,suffix:E.t(".slack.com"),placeholder:E.t("workspace-url"),value:t,id:n,labelId:n+"_label"};r&&(a=h({},a,{errorText:r}));return this.renderTextElement(a)}},{key:"renderDescriptionInput",value:function e(){var t=this.state.values.workspaceDesc;var r=Object(s["get"])(this.props.errors,"workspaceDesc");var n="workspace_input_description";var a={name:"workspaceDesc",inputLabel:E.t("Workspace Description"),hintText:E.t("A detailed description can help members of your organization decide whether they should join this workspace."),maxCharacterLimit:S,value:t,id:n,labelId:n+"_label"};r&&(a=h({},a,{errorText:r}));return this.renderTextareaElement(a)}},{key:"renderTextareaElement",value:function e(t){var r=t.labelId,n=t.inputLabel,a=t.sublabelText,i=t.id,s=t.name,c=b(t,["labelId","inputLabel","sublabelText","id","name"]);return o.a.createElement(u["a"],{id:r,htmlFor:i,className:"p-ent_workspace_create__label",text:n,subtext:a},o.a.createElement(f["a"],h({},c,{id:i,name:s,onChange:this.bindArgs(this.onInputChanged,s),resize:"none"})))}},{key:"renderTextElement",value:function e(t){var r=t.inputLabel,n=t.labelId,a=t.sublabelText,i=t.id,s=b(t,["inputLabel","labelId","sublabelText","id"]);return o.a.createElement(u["a"],{id:n,htmlFor:i,className:"p-ent_workspace_create__label",text:r,subtext:a},this.renderTextInput(h({id:i},s)))}},{key:"render",value:function e(){return o.a.createElement("div",null,this.renderNameInput(),this.renderDomainInput(),this.renderDescriptionInput())}}]);return t}(i["Component"]);N.displayName="CreateWorkspaceModalNameForm";N.propTypes=j;N.defaultProps=k;t["d"]=N},17985:function(e,t,r){"use strict";var n=r(18246);t["a"]=n["a"]},17987:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16912);var u=r(16917);var p=r(17751);var f=r(16932);var d=r(17097);var v=r(16950);var h=r(16916);var m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=new l["b"]("enterprise_dashboard");var O={orgApps:a.a.array,orgAppsApiCursor:a.a.string,orgAppsLoading:a.a.bool,orgAppsApiTotal:a.a.number,headerItemOnClick:a.a.func,pageSize:a.a.number,sortBy:a.a.string,sortDir:a.a.string,searchQuery:a.a.string,rowHeaderItemClassName:a.a.string,rowClassName:a.a.string,featureEntAppManagementRestriction:a.a.bool};var E={orgApps:[],orgAppsApiCursor:null,orgAppsApiTotal:null,orgAppsLoading:false,headerItemOnClick:s["noop"],pageSize:50,sortBy:"name",sortDir:null,searchQuery:"",rowHeaderItemClassName:"p-app_management_table_view_header_item",rowClassName:"p-app_management_table_view_row",featureEntAppManagementRestriction:false};var j="asc";var k="desc";var w="caret_down";var C="caret_up";var S={};S[j]=w;S[k]=C;var T=function(e){g(t,e);function t(e){b(this,t);var r=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));var n=r.props,a=n.sortBy,i=n.sortDir;r.state={rowListItems:[],sortBy:a,sortDir:i,offset:0,height:null,activeMenuForAppId:null};r.tableViewControllerRef=null;r.headerItemOnClick=r.headerItemOnClick.bind(r);r.onToggleMenuClick=r.onToggleMenuClick.bind(r);r.maybeHideMenu=r.maybeHideMenu.bind(r);r.onRequestNextPage=r.onRequestNextPage.bind(r);r.refreshTableHeight=r.refreshTableHeight.bind(r);r.refreshTableHeightPolitely=r.refreshTableHeightPolitely.bind(r);r.nodeHasClass=r.nodeHasClass.bind(r);r.nodeIsChildOfClassName=r.nodeIsChildOfClassName.bind(r);r.appSources={internal:y.t("Internal"),"app directory":y.t("App Directory"),unknown:y.t("Unknown")};r.sourceTooltipStrings={"app directory":y.t("This app has been installed from the Slack App Directory."),internal:y.t("This app was created by someone within your organization."),unknown:y.t("This app was installed from an unknown external source.")};r.rowTemplate={items:[{value:function e(t){var n=t&&t.icons&&t.icons.image_72;return o.a.createElement("button",{className:"p-app_management_table_view_app_name",onClick:function e(){return r.onAppNameClick(t.id)}},n&&o.a.createElement("img",{src:n,style:{width:"36px",height:"36px",verticalAlign:"middle",marginRight:"1rem"},alt:t.name}),t.name)}},{value:function e(t){var r=t.teams_installed_on&&t.teams_installed_on.count||0;return y.t("{count, plural, =1 {# workspace} other {# workspaces}}",{count:r})}},{value:function e(t){var n=r.sourceTooltipStrings[t.source];var a=r.appSources[t.source]||r.appSources.unknown;return o.a.createElement("div",null,o.a.createElement(f["c"],{tip:n,position:"top"},o.a.createElement("span",null,a)))},className:"c-table_view_row_item_source"}]};r.props.featureEntAppManagementRestriction&&r.rowTemplate.items.push({value:function e(t){var n=r.state.activeMenuForAppId;var a={width:"15rem",kbNavActive:true,stripTerminalSeparators:true};var i=void 0;if(n&&n===t.id){var s=o.a.createElement("span",null,"Restrict this app...");var c=o.a.createElement("span",null,"View in App Directory ",o.a.createElement(u["b"],{type:"external-link",size:"inherit"}));i=o.a.createElement("div",{className:"c-app_management_menu_container"},o.a.createElement(v["e"],a,o.a.createElement(v["b"],{key:"org_app_menu_1",label:s,onSelected:function e(){r.onRestrictAppClick(t.id)}}),o.a.createElement(v["c"],{key:"org_app_menu_separator"}),o.a.createElement(v["b"],{key:"org_app_menu_2",label:c,href:"https://example.com",target:"_blank"})))}return o.a.createElement("div",null,o.a.createElement("button",{className:"c-app_management_menu_trigger",onClick:r.onToggleMenuClick,"data-app-id":t.id},"..."),i)},className:"p-app_management_table_menu"});r.emptyRowTemplate={items:[{value:function e(t){var r=t.searchQuery;var n=y.rt("No apps were found matching <b>{query}</b>",{query:r});return o.a.createElement("div",{className:"align_center"},n)}}]};r.headerData=[{id:"name",value:y.t("Name"),sortable:true,className:"p-app_management_table_header_name"},{id:"num_installed",value:y.t("Installed On"),sortable:true,className:"p-app_management_table_header_installed_on"},{id:"source",value:y.t("Source"),sortable:true,className:"p-app_management_table_header_source"}];r.props.featureEntAppManagementRestriction&&r.headerData.push({id:"menu",value:"",noHover:true,className:"p-app_management_table_header_menu"});return r}m(t,[{key:"componentWillMount",value:function e(){var t=this.props,r=t.orgApps,n=t.sortBy;var a=this.state.offset;if(r.length){this.updateRowListItemsData(a);Object(d["b"])(Object(d["a"])().apps.setOrgAppsLoading(false))}else Object(d["b"])(Object(d["a"])().apps.setOrgAppsLoading(true));Object(d["b"])(Object(d["a"])().apps.setOrgAppsSortBy(n))}},{key:"componentDidMount",value:function e(){this.refreshTableHeightPolitely();window.addEventListener("resize",this.refreshTableHeightPolitely);this.props.featureEntAppManagementRestriction&&window.addEventListener("click",this.maybeHideMenu)}},{key:"componentWillReceiveProps",value:function e(t){this.maybeUpdateSearchQuery(t)}},{key:"componentDidUpdate",value:function e(t,r){this.maybeUpdateListRowItems(t,r);this.maybeFetchNextPage(t)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("resize",this.refreshTableHeightPolitely);window.removeEventListener("click",this.maybeHideMenu)}},{key:"onRequestNextPage",value:function e(t){var r=this.props,n=r.orgApps,a=r.orgAppsApiTotal;if(a&&n.length>=a)return;this.fetchNewPage();var i={offset:t};this.setState(i)}},{key:"onRestrictAppClick",value:function e(t){Object(h["warn"])("onRestrictAppClick",t);this.hideMenu()}},{key:"onAppNameClick",value:function e(t){return Object(d["b"])(Object(d["a"])().router.navigateTo("/organization/apps/profile/"+t))}},{key:"onToggleMenuClick",value:function e(t){var r=t.target.getAttribute("data-app-id");var n=this.state.activeMenuForAppId;var a=r===n?null:r;var i={activeMenuForAppId:a};this.setState(i)}},{key:"maybeHideMenu",value:function e(t){if(!t)return false;var r=this.state.activeMenuForAppId;if(!r)return false;var n=t&&t.target;if(!n)return false;var a=this.nodeIsChildOfClassName(n,"c-app_management_menu_trigger")||this.nodeIsChildOfClassName(n,"c-menu");if(a)return false;this.hideMenu();return true}},{key:"hideMenu",value:function e(){var t={activeMenuForAppId:null};this.setState(t)}},{key:"nodeHasClass",value:function e(t,r){if(!t||void 0===r||!r.length)return false;if(t&&t.classList&&t.classList.contains)return t.classList.contains(r);return!!(t.className&&t.className.length&&t.className.split(" ").includes(r))}},{key:"nodeIsChildOfClassName",value:function e(t,r){var n=t;if(!n||!r)return false;if(this.nodeHasClass(n,r))return true;if(!n.parentNode)return false;while(!this.nodeHasClass(n,r)&&n.parentNode)n=n.parentNode;return this.nodeHasClass(n,r)}},{key:"maybeFetchNextPage",value:function e(t){var r=this.props.orgAppsLoading;r&&!t.orgAppsLoading&&this.fetchNewPage()}},{key:"maybeUpdateSearchQuery",value:function e(t){var r=this.props.searchQuery;if(t.searchQuery!==r){Object(d["b"])(Object(d["a"])().apps.setOrgAppsSearchQuery(t.searchQuery));this.resetOrgAppsState()}}},{key:"maybeUpdateListRowItems",value:function e(t,r){var n=this.state,a=n.offset,i=n.activeMenuForAppId;var o=this.props,s=o.searchQuery,c=o.orgApps,l=o.orgAppsLoading;t.orgApps===c&&t.searchQuery===s&&t.orgAppsLoading===l&&r.activeMenuForAppId===i||this.updateRowListItemsData(a)}},{key:"headerItemOnClick",value:function e(t){var r=this;var n=this.state,a=n.sortBy,i=n.sortDir;var e=this.props.headerItemOnClick;var o=a;var s=i;if(t.id===a){s=i&&i!==j?j:k;Object(d["b"])(Object(d["a"])().apps.setOrgAppsSortDir(s))}else{o=t.id;s=t.defaultSortType?t.defaultSortType===j?k:j:k;Object(d["b"])(Object(d["a"])().apps.setOrgAppsSortDir(s));Object(d["b"])(Object(d["a"])().apps.setOrgAppsSortBy(o))}var c={sortBy:o,sortDir:s};this.setState(function(){return c},function(){r.resetOrgAppsState();e&&e(t)})}},{key:"resetOrgAppsState",value:function e(){Object(d["b"])(Object(d["a"])().apps.setOrgAppsApiTotal(null));Object(d["b"])(Object(d["a"])().apps.resetOrgAppsApiCursor());Object(d["b"])(Object(d["a"])().apps.resetOrgApps());Object(d["b"])(Object(d["a"])().apps.setOrgAppsLoading(true))}},{key:"refreshTableHeightPolitely",value:function e(){window.requestAnimationFrame(this.refreshTableHeight)}},{key:"refreshTableHeight",value:function e(){var t=window.innerHeight;if(!this.tableViewControllerRef||!this.tableViewControllerRef.tableViewContainerNode)return;var r=this.tableViewControllerRef.tableViewContainerNode.querySelectorAll(".c-table_view_all_rows_container")[0];if(!r)return;var n=r.getBoundingClientRect();var a=0;var i=t-(n&&n.top);var o=64;var s=Math.max(o,i-a);var c={height:s+"px"};this.setState(c)}},{key:"makeHeader",value:function e(t){var r={id:t.id,value:t.value,noHover:t.noHover,className:t.className};if(t.sortable){r.iconType=this.determineSortState(t.id,t);r.onClick=this.headerItemOnClick;t.defaultSortType&&(r.defaultSortType=t.defaultSortType)}return r}},{key:"makeHeaders",value:function e(t){var r=this;var n=[];t.forEach(function(e){n.push(r.makeHeader(e))});return n}},{key:"determineSortState",value:function e(t,r){var n=this.state,a=n.sortBy,i=n.sortDir;var o=r.defaultSortType||j;var s=S[o];if(!a||a!==t)return s;var c=void 0;c=i?i===j?w:C:S[o];return c}},{key:"resetAPICursorMark",value:function e(){Object(d["b"])(Object(d["a"])().apps.setOrgAppsApiCursor(null))}},{key:"fetchNewPage",value:function e(){var t=this.state,r=t.sortBy,n=t.sortDir;var a=this.props,i=a.pageSize,o=a.searchQuery,c=a.orgAppsApiCursor;var l={limit:i};r&&(l.sort=r);n&&(l.sort_dir=n);null!==o&&void 0!==o&&Object(s["trim"])(o).length&&(l.query=o);c&&(l.cursor=c);Object(d["b"])(Object(d["a"])().apps.setOrgAppsLoading(true));Object(d["b"])(Object(d["a"])().apps.getOrgApps(l))}},{key:"updateRowListItemsData",value:function e(t){var r=this;var n=[];var a=t||0;var i=0;var o=this.props,s=o.orgApps,c=o.orgAppsLoading;var l={rowListItems:n};function u(){i+=1;return"row_"+a+"_item"+i}function p(e,t){var r={id:"row_"+a,items:[]};if(!t||!t.items)return[];t.items.forEach(function(t){var n={value:t.value(e),id:u()};t.className&&(n.className=t.className);r.items.push(n)});a+=1;return r}if(s&&s.length)s.forEach(function(e){n.push(p(e,r.rowTemplate))});else if(!c){var f=this.props.searchQuery;if(null===f||void 0===f||!f.length){this.setState(l);return}var d=[{searchQuery:f}];d.forEach(function(e){n.push(p(e,r.emptyRowTemplate))})}this.setState(l)}},{key:"render",value:function e(){var t=this;var r=this.state,n=r.sortBy,a=r.sortDir,i=r.height,s=r.rowListItems,c=r.offset;var l=this.props,u=l.orgAppsLoading,f=l.searchQuery,d=l.rowHeaderItemClassName,v=l.rowClassName;var h=this.makeHeaders(this.headerData);return o.a.createElement("div",null,o.a.createElement(p["a"],{rows:s,headers:h,rowHeaderItemClassName:d,rowClassName:v,headerItemOnClick:this.headerItemOnClick,onRequestNextPage:this.onRequestNextPage,sortBy:n,sortDir:a,searchQuery:f,height:i,isLoading:u,newQuery:!c,ref:function e(r){t.tableViewControllerRef=r}}))}}]);return t}(i["PureComponent"]);T.displayName="OrgAppsList";T.propTypes=O;T.defaultProps=E;t["a"]=T},17989:function(e,t,r){"use strict";var n=r(18288);t["a"]=n["a"]},17990:function(e,t,r){"use strict";var n=r(18318);var a=r(18331);r.d(t,"a",function(){return a["a"]});t["b"]=n["a"]},17992:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(17400);var c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f={additionalItemCopy:a.a.string,item:a.a.object};var d={additionalItemCopy:"",item:{}};var v=function(e){p(t,e);function t(){l(this,t);return u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}c(t,[{key:"render",value:function e(){var t=this.props,r=t.additionalItemCopy,n=t.item;var a=n.team.icon.image_44+" 1x, "+n.team.icon.image_88+" 2x";return o.a.createElement("div",{className:"c-lazy_filter_select__team_item",key:"team-list-item-"+n.id},o.a.createElement("img",{alt:"",className:"c-lazy_filter_select__team_list_icon",src:n.team.icon.image_44,srcSet:a}),o.a.createElement("div",{className:"c-lazy_filter_select__team_token_name"},Object(s["getTeamDisplayName"])(n.team)," ",r&&o.a.createElement("span",null," - ",r)))}}]);return t}(i["PureComponent"]);v.displayName="LazyFilterSelectTeamListItem";t["a"]=v;v.propTypes=f;v.defaultProps=d},17993:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(17400);var c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f={additionalItemCopy:a.a.string,item:a.a.object};var d={additionalItemCopy:"",item:{}};var v=function(e){p(t,e);function t(){l(this,t);return u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}c(t,[{key:"render",value:function e(){var t=this.props,r=t.additionalItemCopy,n=t.item;return o.a.createElement("div",{className:"c-lazy_filter_select__team_token",key:"team-token-"+n.id},o.a.createElement("img",{alt:"",className:"c-lazy_filter_select__team_token_icon",src:n.team.icon.image_44}),o.a.createElement("div",{className:"c-lazy_filter_select__team_token_name"},Object(s["getTeamDisplayName"])(n.team)," ",r&&o.a.createElement("span",null," - ",r)))}}]);return t}(i["PureComponent"]);v.displayName="LazyFilterSelectTeamToken";t["a"]=v;v.propTypes=f;v.defaultProps=d},17995:function(e,t,r){"use strict";r.d(t,"e",function(){return o});r.d(t,"f",function(){return s});r.d(t,"c",function(){return c});r.d(t,"a",function(){return l});r.d(t,"b",function(){return u});r.d(t,"g",function(){return p});r.d(t,"d",function(){return f});var n=r(1);var a=r.n(n);var i=r(16914);var o=Object(i["c"])("TS.ui.apps_browser.routeAppOpen",a.a.noop);var s=Object(i["c"])("TS.ui.apps_browser.showAppTutorial",a.a.noop);var c=Object(i["c"])("TS.ui.apps_browser.canAppBeAdded",a.a.noop);var l=Object(i["c"])("TS.ui.apps_browser.addAppToChannel",a.a.noop);var u=Object(i["c"])("TS.ui.apps_browser.buildAddAppsTitle",a.a.noop);var p=Object(i["c"])("TS.ui.apps_browser.startAddApps",a.a.noop);var f=Object(i["c"])("TS.ui.apps_browser.ensureAppMembershipIsKnown",a.a.noop)},17996:function(e,t,r){"use strict";t["a"]=p;t["b"]=f;var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(16954);var l=r(16927);var u=r(18361);function p(e,t,r){if(!e)throw new Error("mountChannelNotificationSettings must be called with a teamId parameter");Object(c["a"])(a.a.createElement(s["Provider"],{store:Object(l["c"])(e)},a.a.createElement(u["a"],r)),t)}function f(e){o.a.unmountComponentAtNode(e)}},17997:function(e,t,r){"use strict";var n=r(9);var a=r(3);var i=r.n(a);var o=r(12159);var s=r.n(o);var c=r(8);var l=r.n(c);var u=r(1);var p=r.n(u);var f=r(16913);var d=r(16923);var v=r(16922);var h=r(16920);var m=r(17405);var b=r(16917);var _=r(16912);var g=r(17172);var y=r(16932);var O=r(16918);var E=r(16957);var j=r(17014);var k=r(17384);var w=r(17184);var C=r(16994);var S=r(17580);var T=r(16933);var I=r(20211);var N=r.n(I);var A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var P=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var L=new _["b"]("prefs");var D={channelType:i.a.string,isGeneralChannel:i.a.bool,disableIgnoreAtChannelOption:i.a.bool,notificationsEnabled:i.a.bool,notificationDisabledType:i.a.oneOf(["not_allowed","not_yet_allowed","impossible",null]),onClose:i.a.func,desktop:i.a.string,mobile:i.a.string,muted:i.a.bool,suppressAtChannel:i.a.bool,channelId:i.a.string.isRequired,featureTurnMpdmNotifsOn:i.a.bool.isRequired,setChannelNotificationOverrideAndCallApi:i.a.func.isRequired};var F={channelType:"channel",isGeneralChannel:false,disableIgnoreAtChannelOption:false,notificationsEnabled:true,notificationDisabledType:null,onClose:p.a,desktop:"mentions_dms",mobile:"mentions_dms",muted:false,suppressAtChannel:false};var B=function(e){x(t,e);function t(e){R(this,t);var r=M(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));var n=r.props,a=n.desktop,i=n.mobile;r.state={shouldUseDifferentSettingsForMobile:a!==i};r.onMuteCheckboxClick=r.onMuteCheckboxClick.bind(r);r.onSuppressAtChannelClick=r.onSuppressAtChannelClick.bind(r);r.onDesktopEverythingRadioClick=r.onDesktopEverythingRadioClick.bind(r);r.onDesktopMentionsDmsRadioClick=r.onDesktopMentionsDmsRadioClick.bind(r);r.onDesktopNothingRadioClick=r.onDesktopNothingRadioClick.bind(r);r.onMobileSelectChange=r.onMobileSelectChange.bind(r);r.onMobileOverrideCheckboxClick=r.onMobileOverrideCheckboxClick.bind(r);r.onOpenPreferencesDialogLinkClick=r.onOpenPreferencesDialogLinkClick.bind(r);return r}P(t,[{key:"onMuteCheckboxClick",value:function e(){this.updateChannelNotificationSetting("muted",!this.props.muted)}},{key:"onSuppressAtChannelClick",value:function e(){this.updateChannelNotificationSetting("suppress_at_channel",!this.props.suppressAtChannel)}},{key:"onDesktopEverythingRadioClick",value:function e(){var t=!this.state.shouldUseDifferentSettingsForMobile;this.updateChannelNotificationSetting("desktop","everything",t)}},{key:"onDesktopMentionsDmsRadioClick",value:function e(){var t=!this.state.shouldUseDifferentSettingsForMobile;this.updateChannelNotificationSetting("desktop","mentions_dms",t)}},{key:"onDesktopNothingRadioClick",value:function e(){var t=!this.state.shouldUseDifferentSettingsForMobile;this.updateChannelNotificationSetting("desktop","nothing",t)}},{key:"onMobileSelectChange",value:function e(t){this.updateChannelNotificationSetting("mobile",t.target.value)}},{key:"onMobileOverrideCheckboxClick",value:function e(t){t.target.checked||this.updateChannelNotificationSetting("mobile",this.props.desktop);this.setState(function(e){return{shouldUseDifferentSettingsForMobile:!e.shouldUseDifferentSettingsForMobile}})}},{key:"onOpenPreferencesDialogLinkClick",value:function e(){this.props.onClose();Object(S["a"])("notifications","#growls_permission_div")}},{key:"updateChannelNotificationSetting",value:function e(t,r,n){var a=this.props.channelId;if(!a||!t||null==r)return null;return this.props.setChannelNotificationOverrideAndCallApi({name:t,value:r,channelId:a,sync:n}).then(function(){return null}).catch(function(e){Object(T["d"])(e);return null})}},{key:"getDisabledIgnoreAtChannelTooltipText",value:function e(){var t=this.props,r=t.isGeneralChannel,n=t.featureTurnMpdmNotifsOn;if(!n)return"";if(r)return L.rt("A Workspace Owner has restricted who can post to general and/or restricted the use of <b>{channel}</b> and/or <b>{everyone}</b> to admins and/or owners. These notifications can not be ignored.",{channel:Object(g["a"])({type:"channel"}),everyone:Object(g["a"])({type:"everyone"})});return L.rt("A Workspace Owner has restricted the use of <b>{channel}</b> to admins and/or owners. These notifications cannot be ignored.",{channel:Object(g["a"])({type:"channel"})})}},{key:"getIgnoreAtChannelQualifierText",value:function e(){var t=this.props,r=t.desktop,n=t.mobile,a=t.muted,i=t.disableIgnoreAtChannelOption,o=t.notificationsEnabled,s=t.featureTurnMpdmNotifsOn;if(!s)return"";if(i||a||!o)return"";if("mentions_dms"===r&&"everything"===n)return L.rt("(on desktop)");if("everything"===r&&"mentions_dms"===n)return L.rt("(on mobile)");return""}},{key:"getDisabledIgnoreAtChannelLabelSubtext",value:function e(){return s.a.createElement(y["c"],{tip:this.getDisabledIgnoreAtChannelTooltipText(),zIndex:"above_fs"},s.a.createElement("span",null,L.rt("Disabled by an admin")," ",s.a.createElement(b["a"],{type:"question_circle",inherit:true,align:"baseline"})))}},{key:"renderIgnoreAtChannelOption",value:function e(){var t=this.props,r=t.desktop,n=t.mobile,a=t.suppressAtChannel,i=t.disableIgnoreAtChannelOption,o=t.featureTurnMpdmNotifsOn;if(!o)return null;if("mentions_dms"!==r&&"mentions_dms"!==n)return"";var c=L.rt("Ignore notifications for <strong>@channel</strong> and <strong>@here</strong> {qualifier_text}",{qualifier_text:this.getIgnoreAtChannelQualifierText()});return s.a.createElement(E["a"],{htmlFor:"p-channel_notification_settings__suppress_checkbox",type:"inline",cursor:i?null:"pointer",disabled:i,text:c,subtext:i?this.getDisabledIgnoreAtChannelLabelSubtext():null},s.a.createElement(j["a"],{id:"p-channel_notification_settings__suppress_checkbox",checked:a&&!i,onChange:this.onSuppressAtChannelClick,disabled:i}))}},{key:"renderMutingOptions",value:function e(){var t=this.props,r=t.channelType,n=t.muted,a=t.featureTurnMpdmNotifsOn;if(!a)return null;var i="mpim"===r;var o=i?L.rt("group DM"):L.rt("channel");var c=L.rt("Mute this {channelTypeText}",{channelTypeText:o});var l=L.rt("You won't receive notifications for this {channelTypeText}, and it will appear grayed out in your channel list.",{channelTypeText:o});return s.a.createElement("div",{className:"margin_bottom_100"},s.a.createElement("h3",{className:"margin_bottom_50"},L.rt("Muting options")),s.a.createElement("div",{className:"margin_bottom_50"},s.a.createElement(E["a"],{htmlFor:"p-channel_notification_settings__mute_checkbox",cursor:"pointer",type:"inline",text:c,subtext:l},s.a.createElement(j["a"],{id:"p-channel_notification_settings__mute_checkbox",checked:n,onChange:this.onMuteCheckboxClick}))),this.renderIgnoreAtChannelOption())}},{key:"renderDisabledNotificationsWarning",value:function e(){var t=this;var r=this.props,n=r.notificationDisabledType,a=r.featureTurnMpdmNotifsOn;if(!a)return null;if("impossible"===n)return s.a.createElement(C["d"],{level:"warning"},L.rt("Your browser does not support desktop notifications. <a>Try one of our apps?</a>",null,function(e){var t=e.text;return s.a.createElement("a",{href:"/downloads",target:"_blank"},t)}));if("not_yet_allowed"===n)return s.a.createElement(C["d"],{level:"warning"},L.rt("You have not yet allowed desktop notification. Open the <a>Preferences Dialog</a> and follow the instructions to set them up.",null,function(e){var r=e.text;return s.a.createElement(O["a"],{type:"link",onClick:t.onOpenPreferencesDialogLinkClick},r)}));if("not_allowed"===n)return s.a.createElement(C["d"],{level:"warning"},L.rt("You\u2018ve disallowed notifications in your browser. You\u2018ll need to open your browser preferences to change that."));return null}},{key:"getRadioButtonLabelClassNames",value:function e(t){if(!t)return"";return l()("p-channel_notification_settings__notification_option",{selected:t===this.props.desktop})}},{key:"renderEnabledNotificationsOptions",value:function e(){var t=this.props,r=t.desktop,n=t.mobile;return s.a.createElement("div",null,s.a.createElement(k["a"],{className:"margin_bottom_25",legendId:"notification_options_title"},s.a.createElement(E["a"],{htmlFor:"p-channel_notification_settings__everything_checkbox",className:this.getRadioButtonLabelClassNames("everything"),cursor:"pointer",type:"inline",text:L.rt("All new messages")},s.a.createElement(w["a"],{name:"p-channel_notification_settings__notification_radio_buttons",value:"everything",id:"p-channel_notification_settings__everything_checkbox",checked:"everything"===r,onChange:this.onDesktopEverythingRadioClick})),s.a.createElement(E["a"],{htmlFor:"p-channel_notification_settings__mentions_checkbox",className:this.getRadioButtonLabelClassNames("mentions_dms"),cursor:"pointer",type:"inline",text:L.rt("Just mentions & keywords")},s.a.createElement(w["a"],{name:"p-channel_notification_settings__notification_radio_buttons",value:"mentions_dms",id:"p-channel_notification_settings__mentions_checkbox",checked:"mentions_dms"===r,onChange:this.onDesktopMentionsDmsRadioClick})),s.a.createElement(E["a"],{htmlFor:"p-channel_notification_settings__nothing_checkbox",className:this.getRadioButtonLabelClassNames("nothing"),cursor:"pointer",type:"inline",text:L.rt("Nothing")},s.a.createElement(w["a"],{name:"p-channel_notification_settings__notification_radio_buttons",value:"nothing",id:"p-channel_notification_settings__nothing_checkbox",checked:"nothing"===r,onChange:this.onDesktopNothingRadioClick}))),s.a.createElement(E["a"],{htmlFor:"p-channel_notification_settings__mobile_override_checkbox",className:"bold",cursor:"pointer",type:"inline",text:L.rt("Use different settings for my mobile device")},s.a.createElement(j["a"],{id:"p-channel_notification_settings__mobile_override_checkbox",checked:this.state.shouldUseDifferentSettingsForMobile,onChange:this.onMobileOverrideCheckboxClick})),this.state.shouldUseDifferentSettingsForMobile&&s.a.createElement(E["a"],{htmlFor:"channel_notification_settings__mobile_override_select",className:"select small inline_block"},s.a.createElement("select",{id:"p-channel_notification_settings__mobile_override_select",className:"small auto_width block",value:n,onChange:this.onMobileSelectChange,tabIndex:0},s.a.createElement("option",{value:"everything"},L.rt("All new messages")),s.a.createElement("option",{value:"mentions_dms"},L.rt("Just mentions & keywords")),s.a.createElement("option",{value:"nothing"},L.rt("Nothing")))))}},{key:"renderNotificationOptions",value:function e(){var t=this.props,r=t.muted,n=t.notificationsEnabled;if(r)return"";var a="en-us";var i="https://get.slack.help/hc/"+a+"/articles/201355156-Desktop-notifications";return s.a.createElement("div",null,s.a.createElement("h3",{className:"margin_bottom_50"},s.a.createElement("span",{id:"notification_options_title"},L.rt("Notify me about\u2026")),s.a.createElement("a",{className:"p-channel_notification_settings__about_link",href:i,target:"_blank",rel:"noopener noreferrer"},L.rt("About notifications")," ",s.a.createElement(b["a"],{type:"question_circle"}))),n?this.renderEnabledNotificationsOptions():this.renderDisabledNotificationsWarning())}},{key:"render",value:function e(){if(!this.props.featureTurnMpdmNotifsOn)return null;return s.a.createElement("div",{className:"p-channel_notification_settings"},this.renderMutingOptions(),this.renderNotificationOptions())}}]);return t}(o["Component"]);B.displayName="ChannelNotificationSettings";B.propTypes=D;B.defaultProps=F;function U(e,t){var r=Object(v["getTeamPref"])(e,"who_can_at_channel");var n=Object(v["getTeamPref"])(e,"who_can_at_everyone");var a=Object(v["getTeamPref"])(e,"who_can_post_general");if("admin"===r||"owner"===r)return true;if(t&&("admin"===a||"owner"===a||"admin"===n||"owner"===n))return true;return false}function H(e,t){var r=t.channelId,n=t.onClose;if(!r){Object(T["d"])(new Error("Could not render ChannelNotificationSettings: No channel ID found."));return{featureTurnMpdmNotifsOn:Object(f["isFeatureEnabled"])(e,"feature_turn_mpdm_notifs_on")}}var a=Object(d["getChannelById"])(e,r);if(!a){Object(T["d"])(new Error("Could not render ChannelNotificationSettings: No channel found."));return{featureTurnMpdmNotifsOn:Object(f["isFeatureEnabled"])(e,"feature_turn_mpdm_notifs_on")}}var i=Object(h["getChannelType"])(a);var o=Object(h["isGeneral"])(a);var s=U(e,o);var c=Object(m["g"])();var l=Object(m["c"])(e,r);var u=Object(m["d"])(e,r);var p=!!Object(v["getNotificationsChannelPref"])(e,r,"muted");var b=!!Object(v["getNotificationsChannelPref"])(e,r,"suppress_at_channel");return A({channelId:r,channelType:i,isGeneralChannel:o,disableIgnoreAtChannelOption:s},c,{onClose:n,desktop:l,mobile:u,muted:p,suppressAtChannel:b,featureTurnMpdmNotifsOn:Object(f["isFeatureEnabled"])(e,"feature_turn_mpdm_notifs_on")})}var q={setChannelNotificationOverrideAndCallApi:v["setChannelNotificationOverrideAndCallApi"]};t["a"]=Object(n["connect"])(H,q)(B)},17998:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16913);var p=r(16912);var f=r(17580);var d=r(16918);var v=r(16956);var h=r(16963);var m=r(17997);var b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=new p["b"]("prefs");var E=function(e){y(t,e);function t(e){_(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.closeAndOpenPreferences=r.closeAndOpenPreferences.bind(r);return r}b(t,[{key:"closeAndOpenPreferences",value:function e(){this.props.onClose();Object(f["a"])("notifications")}},{key:"render",value:function e(){var t=this;var r=this.props,n=r.channelId,i=r.onClose,o=r.featureTurnMpdmNotifsOn;if(!o)return null;var s=a.a.createElement(h["a"],{channelId:n,inline:true});var c=a.a.createElement("span",null,O.rt("Notification Preferences: {displayName}",{displayName:s}));var l=a.a.createElement("span",null,O.rt("Set your default notifications settings in your <Button>Account Preferences</Button>",null,function(e){var r=e.text;return a.a.createElement(d["a"],{type:"link",onClick:t.closeAndOpenPreferences},r)}));var u={title:c,contentLabel:O.t("Notification Preferences"),showCancelButton:false,goButtonText:O.t("Done"),onGo:i,onCancel:i,footerText:l};return a.a.createElement(v["a"],u,a.a.createElement(m["a"],{channelId:n,onClose:i}))}}]);return t}(n["PureComponent"]);E.displayName="ChannelNotificationSettingsDialog";E.propTypes={channelId:o.a.string.isRequired,onClose:o.a.func,featureTurnMpdmNotifsOn:o.a.bool};E.defaultProps={onClose:c["noop"],featureTurnMpdmNotifsOn:false};function j(e){return{featureTurnMpdmNotifsOn:Object(u["isFeatureEnabled"])(e,"feature_turn_mpdm_notifs_on")}}t["a"]=Object(s["connect"])(j)(E)},17999:function(e,t,r){"use strict";var n=r(18369);t["a"]=n["a"]},18000:function(e,t,r){"use strict";t["b"]=i;t["a"]=o;var n=r(1);var a=r.n(n);function i(e){var t=e.retentionType,r=e.retentionDuration;if(!Object(n["isInteger"])(t))return false;var a=36500;return 0===t||1===t&&Object(n["isInteger"])(r)&&r>0&&r<a}function o(e){var t=e.retentionDuration,r=e.retentionDurationUnit;if(!Object(n["isInteger"])(r))return t;return 0===r?t:365*t}},18001:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(2194);var u=r.n(l);var p=r(1);var f=r.n(p);var d=r(333);var v=r(16912);var h=r(16952);var m=r(18378);var b=r(18379);var _=r(18380);var g=r(20213);var y=r.n(g);var O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var E=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=new v["b"]("lazy_filter_select");var S={default:"normal",filter_in_list:"filter_in_list",normal:"normal",small:"small"};var T={allowItemUnselect:a.a.bool,allowListPositionAbove:a.a.bool,alwaysVisible:a.a.bool,approxDividerHeight:a.a.number,approxItemHeight:a.a.number,dataPromise:a.a.func,dataQaPrefix:a.a.string,disabled:a.a.bool,dividerTemplate:a.a.func,filter:a.a.func,items:a.a.array,listItemClass:a.a.func,maxHeightOfList:a.a.number,maxSelectedItems:a.a.number,noDefaultSelection:a.a.bool,noResultsTemplate:a.a.func,onInputBlur:a.a.func,onInputFocus:a.a.func,onItemAdded:a.a.func,onItemRemoved:a.a.func,onKeyDown:a.a.func,onKeyUp:a.a.func,onListHidden:a.a.func,onListShown:a.a.func,onMaxItemsSelected:a.a.func,onReady:a.a.func,onValueChange:a.a.func,placeholderText:a.a.string,restrictPreselectedItemRemoval:a.a.bool,scrollThreshold:a.a.number,single:a.a.bool,sluggifyEnabled:a.a.bool,sluggifyDelimiter:a.a.any,sluggifyKeyName:a.a.string,sluggifyValidator:a.a.func,styling:a.a.oneOf(Object(p["values"])(S)),tabToNav:a.a.bool,template:a.a.func,tokenTemplate:a.a.func};var I={alwaysVisible:false,allowItemUnselect:true,allowListPositionAbove:false,approxDividerHeight:30,approxItemHeight:30,dataPromise:null,dataQaPrefix:"lfs",disabled:false,dividerTemplate:function e(t){return t.label},filter:function e(t,r){return t.toLowerCase().indexOf(r)>-1},items:[],listItemClass:p["noop"],maxHeightOfList:250,maxSelectedItems:Infinity,noDefaultSelection:false,noResultsTemplate:function e(t){return C.rt("No items matched <strong>{query}</strong>",{query:t})},onInputBlur:p["noop"],onInputFocus:p["noop"],onItemAdded:p["noop"],onItemRemoved:p["noop"],onKeyDown:p["noop"],onKeyUp:p["noop"],onListHidden:p["noop"],onListShown:p["noop"],onMaxItemsSelected:p["noop"],onReady:p["noop"],onValueChange:p["noop"],placeholderText:C.t("Choose an option\u2026"),restrictPreselectedItemRemoval:false,scrollThreshold:1e3,single:false,sluggifyEnabled:false,sluggifyDelimiter:null,sluggifyKeyName:"",sluggifyValidator:p["noop"],styling:S.default,tabToNav:false,template:function e(t){return t.label},tokenTemplate:function e(t){return t.label}};var N=function(e){w(t,e);function t(e){j(this,t);var r=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.fetchInitialList=r.fetchInitialList.bind(r);r.filterItems=r.filterItems.bind(r);r.getSelectedValue=r.getSelectedValue.bind(r);r.handlePromiseReturn=r.handlePromiseReturn.bind(r);r.hideList=r.hideList.bind(r);r.isRunningPromisePending=r.isRunningPromisePending.bind(r);r.listItemRenderer=r.listItemRenderer.bind(r);r.listNoRowsRenderer=r.listNoRowsRenderer.bind(r);r.onBlurInput=r.onBlurInput.bind(r);r.onChangeInput=r.onChangeInput.bind(r);r.onClickContainer=r.onClickContainer.bind(r);r.onClickItem=r.onClickItem.bind(r);r.onFocusInput=r.onFocusInput.bind(r);r.onFocusInputContainer=r.onFocusInputContainer.bind(r);r.onKeyDownInput=r.onKeyDownInput.bind(r);r.onKeyUpInput=r.onKeyUpInput.bind(r);r.onListScroll=r.onListScroll.bind(r);r.onMouseDownListContainer=r.onMouseDownListContainer.bind(r);r.onMouseLeaveContainer=r.onMouseLeaveContainer.bind(r);r.onMouseLeaveItem=r.onMouseLeaveItem.bind(r);r.onMouseMoveItem=r.onMouseMoveItem.bind(r);r.onMouseUpListContainer=r.onMouseUpListContainer.bind(r);r.onTokenClick=r.onTokenClick.bind(r);r.onTokenHighlight=r.onTokenHighlight.bind(r);r.runQuery=r.runQuery.bind(r);r.setListRef=r.setListRef.bind(r);r.showList=r.showList.bind(r);r.inputIsFocused=r.props.alwaysVisible;r.mouse={};r.pageNumber=1;r.preventBlur=false;r.slugIdCounter=0;r.itemMapById={};var n=[];var a=[];if(!r.props.dataPromise){var i=r.processItems(r.props.items);n=i.currentItems;a=i.selected}r.state={activeItemKey:null,currentItems:n,cursorHighlightedItem:null,listVisible:r.props.alwaysVisible,previousVal:"",runningPromise:null,selected:a};return r}E(t,[{key:"componentDidMount",value:function e(){this.props.dataPromise&&this.fetchInitialList();this.inputIsFocused&&this.input.focus();this.props.onReady(this)}},{key:"componentDidUpdate",value:function e(){this.inputIsFocused&&this.input.focus()}},{key:"onClickContainer",value:function e(){this.input.focus();this.inputIsFocused=true;this.showList()}},{key:"onKeyDownInput",value:function e(t){if(this.props.disabled)return;var r=false;switch(u()(t)){case"down":t.preventDefault();r=true;this.selectDown();break;case"up":t.preventDefault();r=true;this.selectUp();break;case"enter":t.preventDefault();r=true;this.selectActiveItem();break;case"del":case"delete":case"backspace":if(""===this.state.previousVal){t.preventDefault();r=true;this.state.cursorHighlightedItem?this.removeSelected(this.state.cursorHighlightedItem):this.removeLastSelected()}break;case"tab":if(this.props.tabToNav){t.preventDefault();r=true;t.shiftKey?this.selectUp():this.selectDown()}break;case"esc":this.hideList();this.input.blur();break;default:break}this.props.onKeyDown(t,r)}},{key:"onKeyUpInput",value:function e(t){if(this.props.disabled)return;var r=false;var n=t.target,a=n.selectionStart,i=n.selectionEnd;var o=a===i&&0===a;switch(u()(t)){case"left":o&&this.maybeHighlightPreviousSelectedItem();break;case"right":o&&this.state.cursorHighlightedItem&&this.maybeHightlightNextSelectedItem();break;default:this.resetHighlightedSelectedItem();break}this.props.onKeyUp(t,r)}},{key:"onMouseDownListContainer",value:function e(){this.preventBlur=true}},{key:"onMouseLeaveContainer",value:function e(){this.preventBlur=false}},{key:"onMouseMoveItem",value:function e(t){if(this.props.disabled)return;var r=this.mouse;var n={lastX:t.clientX,lastY:t.clientY};if(Object(p["isEqual"])(r,n))return;var a=t.target.getAttribute("data-id");this.mouse=n;this.setState(function(){return{activeItemKey:a}});this.List.forceUpdateGrid()}},{key:"onMouseLeaveItem",value:function e(t){var r=null;var n=this.state.mouse;var a={lastX:t.clientX,lastY:t.clientY};if(Object(p["isEqual"])(n,a))return;this.setState(function(){return{activeItemKey:r}})}},{key:"onMouseUpListContainer",value:function e(){this.preventBlur&&this.input.focus()}},{key:"onBlurInput",value:function e(){this.preventBlur||this.hideList();this.inputIsFocused=false;this.props.onInputBlur()}},{key:"onFocusInput",value:function e(){if(this.inputIsFocused||this.props.disabled)return;this.showList();this.props.onInputFocus()}},{key:"onFocusInputContainer",value:function e(){this.input.focus();this.onFocusInput()}},{key:"onChangeInput",value:function e(t){var r=this;var n=null;var a=t.target.value;this.pageNumber=1;var i=void 0;if(Object(m["b"])(this.props)&&a.match(this.props.sluggifyDelimiter)){var o=a.split(this.props.sluggifyDelimiter);o.forEach(function(e){e.length&&r.addUserCreatedSlugFromString(e)});var s=false;var c=this.processItems(this.props.items,s);i=c.currentItems;a=""}else i=this.runQuery(a);this.setState(function(){return{activeItemKey:n,currentItems:i,previousVal:a}});this.List.forceUpdateGrid();this.List.scrollToRow(0)}},{key:"onClickItem",value:function e(t){if(this.props.disabled)return;if(!this.isItemSelectable(t.id))return;var r=this.state.selected.slice();if(!this.props.single&&this.props.allowItemUnselect&&this.isItemSelected(t)){this.removeSelected(t);return}if(!Object(m["a"])(this.state.selected.length,this.props.maxSelectedItems))return;this.props.single&&(r=[]);r.push(t);var n=!this.props.single||this.props.alwaysVisible;this.inputIsFocused=!this.props.single;var a="";this.preventBlur=false;this.setState(function(){return{listVisible:n,previousVal:a,selected:r}});this.List.forceUpdateGrid();this.props.onItemAdded(t);this.props.onValueChange(r);r.length>=this.props.maxSelectedItems&&this.props.onMaxItemsSelected()}},{key:"onListScroll",value:function e(t){var r=t.scrollTop;if(this.props.dataPromise){var n=this.calculateListHeight();var a=n-r;a<=this.props.scrollThreshold&&r>0&&this.loadMoreItems()}}},{key:"onTokenClick",value:function e(t){this.removeSelected(t)}},{key:"onTokenHighlight",value:function e(t){this.setState(function(e){var r=t;e.cursorHighlightedItem&&e.cursorHighlightedItem.id===t.id&&(r=null);return O({},e,{cursorHighlightedItem:r})})}},{key:"getSelectedValue",value:function e(){return this.state.selected}},{key:"setListRef",value:function e(t){this.List=t}},{key:"getItemById",value:function e(t){return this.itemMapById[t]||false}},{key:"maybeHightlightNextSelectedItem",value:function e(){var t=this.state.selected;if(!t.length)return;var r=this.state.cursorHighlightedItem;var n=0;if(r){n=Object(p["findIndex"])(t,function(e){return e.id===r.id&&e.slugId===r.slugId})+1;n>t.length&&(n=null)}if(null!==n){r=Object(p["findLast"])(t,function(e){return!e.group},n);Object(p["isEqual"])(this.state.cursorHighlightedItem,r)&&(r=null);r?this.setState(function(){return{cursorHighlightedItem:r}}):this.resetHighlightedSelectedItem()}else this.resetHighlightedSelectedItem()}},{key:"maybeHighlightPreviousSelectedItem",value:function e(){var t=this.state.selected;if(!t.length)return;var r=this.state.cursorHighlightedItem;var n=t.length-1;r&&(n=Object(p["findIndex"])(t,function(e){return e.id===r.id&&e.slugId===r.slugId})-1);if(n>=0){r=Object(p["findLast"])(t,function(e){return!e.group},n);r&&this.setState(function(){return{cursorHighlightedItem:r}})}}},{key:"resetHighlightedSelectedItem",value:function e(){this.setState(function(){return{cursorHighlightedItem:null}})}},{key:"handlePromiseReturn",value:function e(t){var r=t.items;this.setState(function(){return{runningPromise:null}});if(!r.length){this.List.forceUpdateGrid();return[]}t.replace_all_items||(r=Object(p["uniqBy"])(this.state.currentItems.concat(r),"id"));this.processItems(r);return r}},{key:"isRunningPromisePending",value:function e(){return this.state.runningPromise&&this.state.runningPromise.isPending()}},{key:"addUserCreatedSlugFromString",value:function e(t){if(!Object(m["b"])(this.props))return;if(!Object(m["a"])(this.state.selected.length,this.props.maxSelectedItems))return;var r=t.trim();if(!r)return;var n={};n[this.props.sluggifyKeyName]=r;n.id=null;n.label=r;n.slugId=String(this.slugIdCounter);this.slugIdCounter+=1;var a=this.props.sluggifyValidator(n);if(a||"undefined"===typeof a){var i=this.state.selected.slice();i.push(n);var o="";this.setState(function(){return{previousVal:o,selected:i}});this.props.onItemAdded(n);this.props.onValueChange(i);i.length>=this.props.maxSelectedItems&&this.props.onMaxItemsSelected()}}},{key:"removeUserCreatedSlug",value:function e(t){if(!Object(m["b"])(this.props))return;var r=this.state.selected.slice();var n=Object(p["reject"])(r,function(e){return e.slugId===t.slugId});this.setState(function(){return{selected:n}});this.List.forceUpdateGrid();this.props.onItemRemoved(t);this.props.onValueChange(n)}},{key:"unsluggifySlug",value:function e(t){if(!Object(m["b"])(this.props)||!Object(m["c"])(t))return;var r=t.label;this.removeUserCreatedSlug(t);this.setState(function(){return{previousVal:r}})}},{key:"processItems",value:function e(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var n={canSlug:Object(m["b"])(this.props),noDefaultSelection:this.props.noDefaultSelection};var a=Object(m["d"])(t,n),i=a.currentItems,o=a.itemMapById,s=a.preselected;this.itemMapById=Object(p["merge"])(this.itemMapById,o);var c=this.state&&this.state.selected?this.state.selected:[];var l=Object(p["uniqBy"])(s.concat(c),"id");this.props.single&&l.length&&(l=l.slice(0,1));this.state&&(r?this.setState(function(){return{currentItems:i,selected:l}}):this.setState(function(){return{currentItems:i}}));return{currentItems:i,selected:l}}},{key:"isItemSelectable",value:function e(t){var r=this.getItemById(t);if(r.group)return false;if(r.preselected&&this.props.restrictPreselectedItemRemoval)return false;if(this.props.allowItemUnselect)return true;return!this.isItemSelected(r)}},{key:"isItemSelected",value:function e(t){return this.state.selected.filter(function(e){if(t.slugId)return e.slugId===t.slugId;return e.id===t.id}).length>0}},{key:"listItemRenderer",value:function e(t){var r=t.index,n=t.key,a=t.style;var i=this.state.currentItems[r]||{};var s=this.state.activeItemKey===i.id;var c=i.preselected&&this.props.restrictPreselectedItemRemoval||i.disabled;var l=this.isItemSelected(i);var u=i.group?this.props.dividerTemplate:this.props.template;var p=this.props.listItemClass(i);return o.a.createElement(b["a"],{active:s,dataQaPrefix:this.props.dataQaPrefix,disabled:c,item:i,key:"rlfs-list-item-"+n,onClick:this.onClickItem,onMouseLeave:this.onMouseLeaveItem,onMouseMove:this.onMouseMoveItem,selected:l,style:a,template:u,customClasses:p})}},{key:"listNoRowsRenderer",value:function e(){if(this.isRunningPromisePending())return o.a.createElement("div",{className:"c-lazy_filter_select__status c-lazy_filter_select__status--loading"},o.a.createElement(h["a"],{size:"small",className:"inline_block"}));return o.a.createElement("div",{className:"c-lazy_filter_select__status"},this.props.noResultsTemplate(this.state.previousVal))}},{key:"calculateListHeight",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var r=this.props.maxHeightOfList;var n=this.state.currentItems.length;var a=this.props.approxItemHeight;var i=n*a;var o=30;if(t)return Math.min(Math.max(i,o),r);return i}},{key:"filterItems",value:function e(){var t=this;var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.previousVal;var n=r.toLowerCase();var a=this.props.items;var i=[];a.forEach(function(e){if(e.group){var r=e.children.filter(function(e){return t.props.filter(e.label,n)});r.length&&(i=i.concat(e,r))}else t.props.filter(e.label,n)&&i.push(e)});return i}},{key:"hideList",value:function e(){if(this.props.alwaysVisible)return;var t=false;this.setState(function(){return{listVisible:t}});this.props.onListHidden()}},{key:"loadMoreItems",value:function e(){if(!this.props.dataPromise)return this.state.currentItems;var t=this.state.runningPromise;this.isRunningPromisePending()&&t.cancel("Scrolling happened");this.pageNumber+=1;t=this.props.dataPromise(this.state.previousVal,this.pageNumber).then(this.handlePromiseReturn);this.setState(function(){return{runningPromise:t}});return t}},{key:"removeLastSelected",value:function e(){var t=this.state.selected.slice(-1)[0];if(Object(m["b"])(this.props)&&Object(m["c"])(t)){this.unsluggifySlug(t);return}this.removeSelected(t)}},{key:"removeSelected",value:function e(t){if(!t||t.disabled)return;var r=this.state.selected.slice();if(Object(m["c"])(t)){this.removeUserCreatedSlug(t);return}var n=Object(p["reject"])(r,function(e){return e.id===t.id});var a=this.state.currentItems.map(function(e){var r=e;r.id===t.id&&(r.preselected=false);return r});this.setState(function(){return{currentItems:a,cursorHighlightedItem:null,selected:n}});this.List.forceUpdateGrid();this.props.onItemRemoved(t);this.props.onValueChange(n)}},{key:"fetchInitialList",value:function e(){var t=this;if(!this.props.dataPromise)return;var r=this.state.runningPromise;this.isRunningPromisePending()&&r.cancel("Uhhh ... ?");r=this.props.dataPromise("",this.pageNumber).then(function(e){var r=e.items;var n=t.processItems(r);var a=n.currentItems,i=n.selected;t.setState(function(){return{currentItems:a,selected:i,runningPromise:null}})});this.setState(function(){return{runningPromise:r}})}},{key:"runQuery",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.previousVal;if(this.props.dataPromise){var r=this.state.runningPromise;this.isRunningPromisePending()&&r.cancel("User entered more text");this.pageNumber=1;r=this.props.dataPromise(t,this.pageNumber).then(this.handlePromiseReturn);this.setState(function(){return{runningPromise:r}});return[]}return this.filterItems(t)}},{key:"selectDown",value:function e(){if(this.props.disabled)return;this.state.listVisible||this.showList();var t=this.state.currentItems;if(!t)return;var r=this.state.activeItemKey;var n=0;if(r){n=Object(p["findIndex"])(t,function(e){return e.id===r})+1;n>t.length&&(n=t.length)}var a=Object(p["find"])(t,function(e){return!e.group},n);if(a){r=a.id;n=Object(p["findIndex"])(t,function(e){return e.id===a.id});this.setState(function(){return{activeItemKey:r}});this.List.forceUpdateGrid();this.List.scrollToRow(n)}}},{key:"selectUp",value:function e(){if(this.props.disabled)return;this.state.listVisible||this.showList();var t=this.state.currentItems;if(!t)return;var r=this.state.activeItemKey;var n=t.length-1;if(r){n=Object(p["findIndex"])(t,function(e){return e.id===r})-1;n<0&&(n=0)}var a=Object(p["findLast"])(t,function(e){return!e.group},n);if(a){r=a.id;n=Object(p["findIndex"])(t,function(e){return e.id===a.id});this.setState(function(){return{activeItemKey:r}});this.List.forceUpdateGrid();this.List.scrollToRow(n)}}},{key:"selectActiveItem",value:function e(){var t=this.state.activeItemKey;if(!t)return;if(!Object(m["a"])(this.state.selected.length,this.props.maxSelectedItems))return;if(!this.isItemSelectable(t))return;var r=this.getItemById(t);if(!this.props.single&&this.props.allowItemUnselect&&this.isItemSelected(r)){this.removeSelected(r);return}var n=this.state.selected.slice();this.props.single&&(n=[]);n.push(r);var a=!this.props.single;this.inputIsFocused=!this.props.single;var i="";this.preventBlur=false;this.setState(function(){return{listVisible:a,previousVal:i,selected:n}});this.List.forceUpdateGrid();this.props.onItemAdded(r);this.props.onValueChange(n);n.length>=this.props.maxSelectedItems&&this.props.onMaxItemsSelected()}},{key:"showList",value:function e(){if(this.state.listVisible||this.props.disabled)return;!this.props.dataPromise||this.state.previousVal||this.state.currentItems.length||this.fetchInitialList();this.inputIsFocused=true;var t=true;var r=this.state.previousVal;this.props.single&&!this.props.alwaysVisible&&(r="");this.setState(function(){return{listVisible:t,previousVal:r}});this.props.onListShown()}},{key:"renderSelected",value:function e(){var t=this;var r="";if(!(this.props.single&&this.state.listVisible)||this.props.alwaysVisible){var n=this.state.cursorHighlightedItem;r=this.state.selected.map(function(e){var r=e.id||e.slugId;var a=n&&n.id===e.id&&n.slugId===e.slugId;var i=e.preselected&&t.props.restrictPreselectedItemRemoval||e.disabled;return o.a.createElement(_["a"],{dataQaPrefix:t.props.dataQaPrefix,disabled:i,highlighted:a,item:e,key:"rlfs-token-"+r,onClick:t.onTokenClick,onHighlight:t.onTokenHighlight,single:t.props.single,template:t.props.tokenTemplate})})}return r}},{key:"render",value:function e(){var t=this;var r=c()("c-lazy_filter_select","c-lazy_filter_select--"+this.props.styling,{"c-lazy_filter_select--single":this.props.single});var n=c()("c-lazy_filter_select__input_container",{"c-lazy_filter_select__input_container--active":this.inputIsFocused,"c-lazy_filter_select__input_container--value":this.state.selected.length});var a=c()("c-lazy_filter_select__list_container",{"c-lazy_filter_select__list_container--visible":this.state.listVisible});var i=this.props.dataQaPrefix+"-value";var s=this.props.dataQaPrefix+"-input-value";var l={"aria-autocomplete":"list","aria-owns":"c-lazy_filter_select__list_container","aria-expanded":this.state.listVisible,role:"combobox"};if(this.state.cursorHighlightedItem){var u=this.state.cursorHighlightedItem;var p=u.id||u.slugId;l["aria-activedescendant"]="lfs-token-"+p}else this.state.activeItemKey&&(l["aria-activedescendant"]="lfs-item-"+this.state.activeItemKey);var f=this.state.selected.length?"":this.props.placeholderText;var v={};this.state.previousVal.length?v.size=this.state.previousVal.length+1:this.state.selected.length&&(v.size=1);return o.a.createElement("div",{className:r,"data-qa":this.props.dataQaPrefix,onClick:this.onClickContainer,onMouseLeave:this.onMouseLeaveContainer,role:"presentation"},o.a.createElement("div",{className:n,"data-qa":i,onFocus:this.onFocusInputContainer},o.a.createElement("div",{className:"c-lazy_filter_select__value"},this.renderSelected(),o.a.createElement("input",O({},l,v,{className:"c-lazy_filter_select__input c-input_text","data-qa":s,onBlur:this.onBlurInput,onChange:this.onChangeInput,onFocus:this.onFocusInput,onKeyDown:this.onKeyDownInput,onKeyUp:this.onKeyUpInput,placeholder:f,ref:function e(r){t.input=r},type:"text",value:this.state.previousVal})))),o.a.createElement(d["a"],null,function(e){var r=e.width;return o.a.createElement("div",{className:a,id:"c-lazy_filter_select__list_container",onMouseDown:t.onMouseDownListContainer,onMouseUp:t.onMouseUpListContainer,role:"listbox"},o.a.createElement("div",{className:"c-lazy_filter_select__list"},o.a.createElement(d["b"],{height:t.calculateListHeight(true),noRowsRenderer:t.listNoRowsRenderer,onScroll:t.onListScroll,ref:t.setListRef,rowCount:t.state.currentItems.length,rowHeight:t.props.approxItemHeight,rowRenderer:t.listItemRenderer,width:r-10})))}))}}]);return t}(i["PureComponent"]);N.displayName="LazyFilterSelect";t["a"]=N;N.propTypes=T;N.defaultProps=I},18002:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(16920);var u=r(16917);var p={channel:o.a.object.isRequired,channelName:o.a.string,strong:o.a.bool};var f={channel:{},channelName:"",strong:false};var d=function e(t){var r=t.channel,n=t.strong;var i=t.channelName||Object(l["getDisplayName"])(r);var o=null;if(Object(l["isPublicChannel"])(r)||Object(l["isPrivateChannel"])(r)){var s=c()({"c-icon--align-hashmark":!Object(l["isPrivateChannel"])(r)});o=a.a.createElement(u["a"],{className:s,align:"baseline",inherit:true,type:Object(l["isPrivateChannel"])(r)?"lock":"channel"})}var p=null;Object(l["isOrgSharedPublicOrPrivateChannel"])(r)?p=a.a.createElement(u["a"],{align:"baseline",inherit:true,type:"shared_channel"}):Object(l["isPendingExternallySharedChannel"])(r)?p=a.a.createElement(u["a"],{align:"baseline",inherit:true,type:"shared_channels_pending"}):Object(l["isSharedPublicOrPrivateChannel"])(r)&&(p=a.a.createElement(u["a"],{align:"baseline",inherit:true,type:"shared_channels"}));var f=c()({bold:n});return a.a.createElement("span",{className:f},o,i,p)};d.displayName="FormattedChannelName";d.propTypes=p;d.defaultProps=f;t["a"]=d},18003:function(e,t,r){"use strict";var n=r(18406);t["a"]=n["a"]},18004:function(e,t,r){"use strict";t["a"]=s;var n=r(1);var a=r.n(n);var i=r(16912);var o=new i["b"]("channel_sidebar");function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,r=e.displayName,n=e.isShared,i=e.isOrgShared,s=e.isYou,c=e.isMuted,l=e.hasUnreads,u=e.hasDraft,p=e.isArchived,f=e.unreadCount,d=e.badgeCount,v=e.isSelected,h=e.userActive,m=e.isTyping;var b=[v?o.t("selected"):null];if("channel"===t)b.push(n||i?o.t("shared channel"):o.t("channel"));else if("private"===t)b.push(o.t("private channel"));else if("mpim"===t)b.push(o.t("group direct message",{fallbackHash:"e50045943dfaafc5cbbee9a7d1aba5fb2ce026da"}));else if("im"===t){b.push(o.t("direct message"));b.push(h?o.t("active"):o.t("away"))}p&&b.push(o.t("archived"));c&&b.push(o.t("muted"));l&&f&&!d&&b.push(o.t("{count} unread {count, plural, =1 {message} other {messages}}",{count:f}));d&&b.push(o.t("{count} {count, plural, =1 {unread highlight} other {unread highlights}}",{count:d}));u&&b.push(o.t("has draft"));m&&b.push(o.t("typing"));var _=s?o.t("{name} (you)",{name:r}):r;var g=a()(b).filter(a.a.identity).join(", ");return _+" ("+g+")"}},18005:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(45);var c=r(8);var l=r.n(c);var u=r(20214);var p=r.n(u);var f={className:a.a.string,count:a.a.number.isRequired,maxCount:a.a.number};var d={className:void 0,maxCount:9};var v=function e(t,r){return t>r?r+"+":String(t)};var h=function e(t){var r=t.className,n=t.count,a=t.maxCount;if(!n||n<0)return null;var i=l()(r,"c-mention_badge");return o.a.createElement("span",{className:i},v(n,a))};h.displayName="MentionBadge";h.propTypes=f;h.defaultProps=d;t["a"]=Object(s["pure"])(h)},18006:function(e,t,r){"use strict";r.d(t,"a",function(){return l});r.d(t,"b",function(){return u});var n=r(17070);var a=r(17211);var i=r(17694);var o=r(16912);var s=function(){function e(e,t){var r=[];var n=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){a=true;i=e}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var c=new o["b"]("menu");var l=function e(t){var r=t.id,o=t.name,s=t.isChannel,l=t.isStarred,u=t.canMute,p=t.canLeave;var f=void 0;var d=void 0;var v=void 0;var h=void 0;var m=void 0;if(s){f=c.t("Star Channel");d=c.t("Unstar Channel");v=c.t("Mute {channel}",{channel:"#"+o});h=c.t("Unmute {channel}",{channel:"#"+o});m=c.t("Leave {channel}",{channel:"#"+o})}else{f=c.t("Star Conversation");d=c.t("Unstar Conversation");v=c.t("Mute Conversation");h=c.t("Unmute Conversation");m=c.t("Leave Conversation")}var b=[{label:l?d:f,click:function e(){return Object(i["a"])(null,r)},id:"star:"+r}];p&&b.push({label:m,click:function e(){return Object(n["n"])(r)},id:"leave:"+r});u&&b.push({label:Object(a["b"])(r)?h:v,click:function e(){return Object(a["c"])(r)},id:"mute:"+r});return b};var u=function e(t){var r=t.split(":"),o=s(r,2),c=o[0],l=o[1];switch(c){case"star":Object(i["a"])(null,l);break;case"mute":Object(a["c"])(l);break;case"leave":Object(n["n"])(l);break;default:break}}},18007:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.ui.jumper.start",function(){return null});var i={start:a}},18009:function(e,t,r){"use strict";r.d(t,"c",function(){return o});r.d(t,"a",function(){return s});r.d(t,"b",function(){return c});var n=r(1);var a=r.n(n);var i=r(16914);var o=Object(i["c"])("TS.ui.channel_browser.start",a.a.noop);var s=Object(i["c"])("TS.ui.channel_browser.highlightPendingInvitationsOnNextOpen",a.a.noop);var c=Object(i["c"])("TS.ui.channel_browser.openConnectedWorkspacesModal",a.a.noop)},18011:function(e,t,r){"use strict";r.d(t,"b",function(){return a});r.d(t,"a",function(){return i});var n=r(16914);var a=Object(n["c"])("TS.templates.builders.formatPostsForModern",function(e){return e});var i=Object(n["c"])("TS.templates.builders.formatEmailsForModern",function(e){return e})},18012:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(9);var o=r(16946);var s=r(17679);var c=r(16922);var l=r(18013);function u(e,t){var r=t.fileId,n=t.ts,i=t.channelId,l=t.clogLinkClick;var u=Object(o["getFileById"])(e,r);if(!u)return{};var p=true;var f=p&&Object(s["isFileExpanded"])(e,{fileId:r,ts:n,channelId:i});var d=Object(s["isFileExpanding"])(e,{fileId:r,ts:n,channelId:i});return{sentToSelf:u.sent_to_self,sender:a.a.first(u.from),to:u.to,cc:u.cc,title:u.title,subject:u.subject,timestamp:u.timestamp,attachments:u.attachments,previewPlainText:u.preview_plain_text,simplifiedHtml:u.simplified_html,do24hrTime:Object(c["getUserPref"])(e,"time24"),showActions:true,isExpandable:p,isExpanded:f,isExpanding:d,channelId:i,file:u,clogLinkClick:l}}function p(e){var t=e.fileId,r=e.ts,n=e.channelId;return function(e,a){var i=Object(o["getFileById"])(a(),t);if(!i)return;i.simplified_html?e(Object(s["expandFile"])({fileId:t,ts:r,channelId:n})):e(Object(s["fetchAndExpand"])({fileId:t,ts:r,channelId:n}))}}var f={expand:p,collapse:s["collapseAndEnsureInView"]};t["a"]=Object(i["connect"])(u,f)(l["a"])},18013:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(17146);var f=r(17264);var d=r(16917);var v=r(16912);var h=r(17250);var m=r(17147);var b=r(18011);var _=r(17079);var g=r(20222);var y=r.n(g);var O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var E=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=new v["b"]("files");var S=o.a.shape({name:o.a.string,address:o.a.string});var T={sentToSelf:o.a.bool,sender:S,to:o.a.arrayOf(S),cc:o.a.arrayOf(S),title:o.a.string,subject:o.a.string,timestamp:o.a.number,attachments:o.a.arrayOf(o.a.shape({mimetype:o.a.string,url:o.a.string,filename:o.a.string,size:o.a.number})),previewPlainText:o.a.string,simplifiedHtml:o.a.string,isExpanded:o.a.bool,do24hrTime:o.a.bool,file:o.a.object.isRequired,channelId:o.a.string,ts:o.a.string,collapse:o.a.func,clogLinkClick:o.a.func,showActions:o.a.bool};var I={sentToSelf:false,sender:null,to:[],cc:[],title:"",subject:"",timestamp:null,attachments:null,previewPlainText:"",simplifiedHtml:"",isExpanded:false,do24hrTime:false,channelId:null,ts:null,collapse:u.a.noop,clogLinkClick:u.a.noop,showActions:false};function N(e,t){if(u.a.isEmpty(e))return null;var r=u.a.map(e,function(t,r){var n=t.name,i=t.address;var o=""+r;var s=r<e.length-1;var c=null;n&&(c=a.a.createElement("span",{className:"c-email__header_name"},n));var l=null;i&&(l=a.a.createElement("span",{className:"c-email__header_address"},"<"+i+">"));return a.a.createElement("span",{key:o},c,l,s&&", ")});return a.a.createElement("div",{className:"c-email__to_expanded"},a.a.createElement("span",{className:"c-email__header_label"},t),a.a.createElement("span",null,r))}N.displayName="renderNamesWithLabel";var A=function(e){w(t,e);function t(e){j(this,t);var r=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.collapse=r.collapse.bind(r);r.onClick=r.onClick.bind(r);return r}E(t,[{key:"onClick",value:function e(t,r){t.preventDefault();var n=this.props,a=n.ts,i=n.channelId;this.props.clogLinkClick({subtype:"msg_photo_expand"});Object(m["a"])({modal_class:"fs_modal_file_viewer",show_control_btns:false,current_external_link:{src:r,ts:a,channel:i}})}},{key:"collapse",value:function e(){var t=this.props,r=t.file,n=t.ts,a=t.channelId,e=t.collapse;if(!n||!a)return;e({fileId:r.id,ts:n,channelId:a})}},{key:"renderCollapsed",value:function e(){var t=this.props,r=t.sentToSelf,n=t.sender,i=t.title,o=t.previewPlainText,s=t.attachments;var c=null;!r&&n&&(c=n.name||n.address);var l=null;if(i){var p={title:i,name:"",id:""};l=a.a.createElement(f["a"],{file:p})}var v=!u.a.isEmpty(s);var h=null;v&&(h=a.a.createElement(d["a"],{type:"paperclip",inherit:true,align:"top"}));var m=o;o||(m=C.t("(No content)"));return a.a.createElement("div",{className:"c-email"},a.a.createElement("div",{className:"c-email__header"},a.a.createElement("div",{className:"c-email__sender_collapsed"},c),a.a.createElement("div",{className:"c-email__title_collapsed"},l,h)),a.a.createElement("div",{className:"c-email__preview_collapsed"},m))}},{key:"renderSenderExpanded",value:function e(){var t=this.props,r=t.sentToSelf,n=t.sender;var i=n.name,o=n.address;if(r||!n)return null;return a.a.createElement("div",{className:"c-email__sender_expanded"},a.a.createElement("span",{className:"c-email__header_label"},C.t("From",{note:"Followed by a name, email address, or both."})),a.a.createElement("span",null,a.a.createElement("span",{className:"c-email__header_name"},i&&i),a.a.createElement("span",{className:"c-email__header_address"},"<"+o+">")))}},{key:"renderSubject",value:function e(){var t=this.props.subject;var r=t||C.t("(No Subject)");return a.a.createElement("div",{className:"c-email__subject"},a.a.createElement("span",{className:"c-email__header_label"},C.t("Subject")),a.a.createElement("span",{className:"c-email__subject_text"},r))}},{key:"renderTimestamp",value:function e(){var t=this.props,r=t.timestamp,n=t.do24hrTime;if(!r)return null;var i=Object(h["a"])(r,{do24hrTime:n,uncapitalized:false});return a.a.createElement("div",{className:"c-email__timestamp"},a.a.createElement("span",{className:"c-email__header_label"},C.t("Date")),a.a.createElement("span",{className:"c-email__timestamp_text"},i))}},{key:"renderBody",value:function e(){var t=this.props.simplifiedHtml;var r=Object(b["a"])(t)||C.t("(No content)");return a.a.createElement("div",{className:"c-email__body"},a.a.createElement("div",{className:"c-email__content",dangerouslySetInnerHTML:{__html:r}}))}},{key:"renderAttachments",value:function e(){var t=this;var r=this.props.attachments;if(u.a.isEmpty(r))return null;var n=u.a.map(r,function(e,r){var n=""+r;var i=e.mimetype,o=e.url,s=e.filename,l=e.size;var u=i&&0===i.indexOf("image/");var p=c()("c-email__attachment",{"c-email__attachment--image":u,"c-email__attachment--file":!u});if(u)return a.a.createElement("div",{key:n},a.a.createElement("a",{href:o,className:p,target:"_blank",rel:"noopener noreferrer",onClick:function e(r){return t.onClick(r,o)}},a.a.createElement("img",{src:o,alt:s})));var f=Object(_["a"])(l);return a.a.createElement("div",{key:n,className:p},a.a.createElement(d["a"],{type:"paperclip",inherit:true,align:"top",className:"c-email__attachment_paperclip"}),a.a.createElement("a",{href:o,className:"c-email__attachment_link",target:"_blank",rel:"noopener noreferrer"},s,a.a.createElement(d["a"],{type:"cloud_download",align:"baseline",className:"c-email__attachment_download"})),a.a.createElement("span",{className:"c-email__attachment_filesize"},f," ",i))});return a.a.createElement("div",{className:"c-email__attachments"},a.a.createElement("div",{className:"c-email__attachments_label"},C.t("{numAttachments, plural, =1{attachment}other{attachments}}",{numAttachments:r.length})),n)}},{key:"renderExpanded",value:function e(){var t=this.props,r=t.to,n=t.cc,i=t.attachments;var o=c()("c-email",{"c-email--expanded":true,"c-email--has_attachments":!u.a.isEmpty(i)});return a.a.createElement("div",{className:o},a.a.createElement("div",{className:"c-email__header"},this.renderSenderExpanded(),N(r,C.t("To",{note:"Followed by a name, email address, or both."})),N(n,C.t("CC",{note:"Followed by a name, email address, or both."})),this.renderSubject(),this.renderTimestamp()),this.renderBody(),this.renderAttachments())}},{key:"render",value:function e(){var t=this.props,r=t.isExpanded,n=t.file,i=t.channelId,o=t.clogLinkClick,s=t.showActions;if(!n)return null;var c=r?this.renderExpanded():this.renderCollapsed();var l=s&&a.a.createElement(p["b"],{file:n,channelId:i,isEmail:true,isExpanded:r,collapse:this.collapse,clogLinkClick:o});return a.a.createElement(p["a"],O({},this.props,{noGradient:true}),c,l)}}]);return t}(n["PureComponent"]);A.displayName="Email";A.propTypes=T;A.defaultProps=I;t["a"]=A},18014:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(17607);var u=r(16947);var p=r(17146);var f=r(20167);var d=r.n(f);var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _={file:u["a"].File(["permalink","title","thumb_360_w","thumb_360_h"]).isRequired,channelId:o.a.string.isRequired,clogLinkClick:o.a.func};var g={clogLinkClick:s["noop"]};var y=function(e){b(t,e);function t(){h(this,t);return m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}v(t,[{key:"render",value:function e(){var t=this.props,r=t.file,n=t.channelId,i=t.clogLinkClick;return a.a.createElement("div",{className:"c-message__image_container",style:{width:r.thumb_360_w,height:r.thumb_360_h}},a.a.createElement(l["a"],{file:r,maxSize:360,clogLinkClick:i}),a.a.createElement(p["b"],{file:r,channelId:n,imageWidth:r.thumb_360_w,imageHeight:r.thumb_360_h,isImage:true,clogLinkClick:i}))}}]);return t}(n["PureComponent"]);y.displayName="InlineFileImage";t["a"]=y;y.propTypes=_;y.defaultProps=g},18015:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(17480);var u=r(17113);var p=r(17249);var f=r(17051);var d=r(17142);var v=r(20536);var h=r(16912);var m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=new h["b"]("message");var O={name:a.a.string,theme:a.a.string,color:a.a.string,userId:a.a.string,botId:a.a.string,botTeamId:a.a.string,href:a.a.string,isUnknown:a.a.bool,isNonExistent:a.a.bool,isInteractive:a.a.bool,showAppLabel:a.a.bool,clogLinkClick:a.a.func,featureBetterWebAppModel:a.a.bool,featureAppProfileCardTriggerSharedChannels:a.a.bool};var E={name:null,ts:null,color:null,theme:"light",userId:null,botId:null,botTeamId:null,href:null,isUnknown:true,isNonExistent:false,isInteractive:true,showAppLabel:false,clogLinkClick:s["noop"],featureBetterWebAppModel:false,featureAppProfileCardTriggerSharedChannels:false};var j=function(e){g(t,e);function t(e){b(this,t);var r=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onClick=r.onClick.bind(r);return r}m(t,[{key:"onClick",value:function e(t){if(Object(v["a"])(t))return;var r=this.props,n=r.userId,a=r.botId,i=r.botTeamId,o=r.clogLinkClick,s=r.featureBetterWebAppModel,c=r.featureAppProfileCardTriggerSharedChannels;if(!n&&!a)return;t.preventDefault();t.persist();if(a){if(c&&s)return;Object(d["a"])(t,a,i)}else Object(f["a"])(t,this.props.userId);o()}},{key:"renderBotLabel",value:function e(){if(!this.props.showAppLabel)return null;return o.a.createElement("span",{className:"c-app_label","data-stringify-suffix":" "},y.t("APP"))}},{key:"render",value:function e(){var t=this.props,r=t.botId,n=t.botTeamId,a=t.featureBetterWebAppModel,i=t.featureAppProfileCardTriggerSharedChannels;if(this.props.isUnknown)return o.a.createElement(u["a"],{type:"unknown"});if(this.props.isNonExistent)return o.a.createElement(u["a"],{type:"non-existent"});var c={};"dense"===this.props.theme&&this.props.color&&(c.color="#"+this.props.color);var f=void 0;if(this.props.href&&this.props.isInteractive){var d=r&&a&&i;f=o.a.createElement("a",{className:"c-message__sender_link",style:c,href:this.props.href,target:"_blank",rel:"noopener noreferrer",onClick:d?s["noop"]:this.onClick,"data-stringify-suffix":" ","data-message-sender":this.props.userId},this.props.name);d&&(f=o.a.createElement(l["a"],{serviceId:r,homeWorkspaceId:n,onClick:this.onClick},f))}else f=o.a.createElement("span",{"data-stringify-suffix":" "},this.props.name);return o.a.createElement("span",{className:"c-message__sender",style:c},f,o.a.createElement(p["a"],{memberId:this.props.userId}),this.renderBotLabel())}}]);return t}(i["PureComponent"]);j.displayName="MessageSender";j.propTypes=O;j.defaultProps=E;t["a"]=j},18016:function(e,t,r){"use strict";t["a"]=a;var n=/^F[A-Z0-9]{8,}$/;function a(e){return n.test(e)}},18017:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(16934);var l=r(16922);var u=r(16913);var p=r(16912);var f=r(17094);var d=r(16970);var v=r(17705);var h=r(16938);var m=r(20225);var b=r.n(m);var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=new p["b"]("comments");var j={featureFileThreads:o.a.bool,time24:o.a.bool,comment:o.a.shape({id:o.a.string,user:o.a.string,timestamp:o.a.number,comment:o.a.string}).isRequired};var k={featureFileThreads:true,time24:false};var w=function(e){O(t,e);function t(){g(this,t);return y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}_(t,[{key:"render",value:function e(){var t=this.props,r=t.comment,n=t.time24,i=t.featureFileThreads;if(!i&&!Object(c["a"])())return null;var o=r.user,s=r.timestamp,l=r.comment;return a.a.createElement("div",{className:"p-comment"},a.a.createElement("div",{className:"p-comment__header"},o?a.a.createElement(v["a"],{userId:o}):null,a.a.createElement("span",{className:"p-comment__timestamp"},E.t("{date} at {time}",{date:Object(f["a"])(s,{shortenMonth:true}),time:Object(d["a"])(s,{do24hrTime:n})}))),a.a.createElement("div",{className:"p-comment__body"},a.a.createElement(h["a"],{text:l,memberId:o})))}}]);return t}(n["PureComponent"]);w.displayName="Comment";w.propTypes=j;w.defaultProps=k;function C(e){return{featureFileThreads:Object(u["isFeatureEnabled"])(e,"feature_file_threads"),time24:Object(l["getUserPref"])(e,"time24")}}t["a"]=Object(s["connect"])(C)(w)},18019:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(3);var c=r.n(s);var l=r(9);var u=r(16939);var p=r(16913);var f=r(16922);var d=r(16912);var v=r(17085);var h=r(16917);var m=r(20228);var b=r.n(m);var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function g(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j=new d["b"]("files");var k={filetype:c.a.string,onChange:c.a.func,featureArugula:c.a.bool,showEmail:c.a.bool};var w={filetype:"",onChange:n["noop"],featureArugula:false,showEmail:false};var C=function(e){E(t,e);function t(){y(this,t);return O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}_(t,[{key:"render",value:function e(){return o.a.createElement(v["d"],{className:"p-file_list__select p-file_list__file_type_select",optionClassName:"p-file_list__option",placeholder:o.a.createElement(i["Fragment"],null,j.rt("Show <strong>all file types</strong>",{fallbackHash:"30266588dc5ca2b69979f4afa079509cd409568e"})),onChange:this.props.onChange,value:this.props.filetype,maxOptionsListHeight:Infinity,useFilteredInput:false,useFullWidthOptions:true,wrapperClassName:"p-file_list__select_wrapper",options:[{label:o.a.createElement(i["Fragment"],null,o.a.createElement(h["b"],{type:"create-post"}),j.t("Posts",{fallbackHash:"a0ca0c3198947ded7419101f3e83d48a9cb41f2a"})),value:"posts"}].concat(g(this.props.featureArugula?[{label:o.a.createElement("span",null,o.a.createElement(h["b"],{type:"emoji-nature"}),"Arugula"),value:"docs"}]:[]),[{label:o.a.createElement(i["Fragment"],null,o.a.createElement(h["b"],{type:"create-snippet"}),j.t("Snippets",{fallbackHash:"ae05fb5b1e39e29b396e03c2efe053196e3b9456"})),value:"snippets"}],g(this.props.showEmail?[{label:o.a.createElement(i["Fragment"],null,o.a.createElement(h["b"],{type:"envelope-o"}),j.t("Emails",{fallbackHash:"473558393914486d8e60b9968e5443e40be433e0"})),value:"emails"}]:[]),[{label:o.a.createElement(i["Fragment"],null,o.a.createElement(h["b"],{type:"image"}),j.t("Images",{fallbackHash:"09e871c98fef3b901a775def173e4126aaf73b42"})),value:"images"},{label:o.a.createElement(i["Fragment"],null,o.a.createElement(h["b"],{type:"play"}),j.t("Videos",{fallbackHash:"56b71e89fb1079caaadefd0889e9a22e8b0560e3"})),value:"videos"},{label:o.a.createElement(i["Fragment"],null,o.a.createElement(h["b"],{type:"book"}),j.t("PDF Files",{fallbackHash:"fc3989fcc658f040ec5e0ef8d939fbdee62504ee"})),value:"pdfs"},{label:o.a.createElement(i["Fragment"],null,o.a.createElement(h["b"],{type:"file"}),j.t("Spreadsheets",{fallbackHash:"e8a0fe95bcd9c07d210920e52baa1560871c11ad"})),value:"spreadsheets"},{label:o.a.createElement(i["Fragment"],null,o.a.createElement(h["b"],{type:"google-drive"}),j.t("Google Docs",{fallbackHash:"f87b0e163c24d4d015e972ff48d4014602f5a503"})),value:"gdocs"}])})}}]);return t}(i["PureComponent"]);C.displayName="FileTypeSelect";C.propTypes=k;C.defaultProps=w;t["a"]=Object(l["connect"])(function(e){return{featureArugula:Object(p["isFeatureEnabled"])(e,"feature_docs"),showEmail:Object(u["getCurrentTeam"])(e).plan&&!Object(f["getTeamPref"])(e,"disable_email_ingestion")}})(C)},18020:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.ui.prefs_dialog.start",function(){return null});var i={start:a}},18021:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.help_modal.start")},18022:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(8);var l=r.n(c);var u=r(1);var p=r.n(u);var f=r(17101);var d=r(17004);var v=r(17122);var h=r(17328);var m=r(17730);var b=r(17121);var _=r(20500);var g=r(17044);var y=r(17329);var O=r(16917);var E=r(17035);var j=r(16912);var k=r(16960);var w=r(17325);var C=r(18519);var S=r(18528);var T=r(18530);var I=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function P(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=new j["b"]("search");var M={interfaceMode:o.a.string.isRequired,autocompleteSuggestions:o.a.array,autocompleteSelectedIndex:o.a.number,displayModelOrViewById:o.a.func.isRequired,displayQuery:o.a.string,previewFile:o.a.func.isRequired,request:b["requestPropType"],searchPrecache:o.a.func.isRequired,setEditableRequestQueryThenRequest:o.a.func.isRequired,setRequestFromEditableRequest:o.a.func.isRequired,setSearchInputBoxDisplayQuery:o.a.func.isRequired,setSearchInputBoxUserQuery:o.a.func.isRequired,setInterfaceMode:o.a.func.isRequired,userQuery:o.a.string.isRequired,visible:o.a.bool.isRequired,clogAutocompleteAccept:o.a.func};var x={autocompleteSuggestions:[],autocompleteSelectedIndex:null,displayQuery:"",request:null,clogAutocompleteAccept:u["noop"]};var L=function(e){P(t,e);function t(e){N(this,t);var r=A(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(u["bindAll"])(r,["onSearchAutocompleteSuggestionAccept","onSearchInputBoxEscape","onUserQueryChange","onClickRefreshSearch"]);r.onSearchInputBoxFocus=Object(u["throttle"])(function(){return r.props.searchPrecache()},6e4);return r}I(t,[{key:"componentDidUpdate",value:function e(t){t.request!==this.props.request&&this.onRequestChange();t.userQuery!==this.props.userQuery&&this.onUserQueryChange()}},{key:"onUserQueryChange",value:function e(){this.props.setInterfaceMode({interfaceMode:v["interfaceModes"].EDIT})}},{key:"onSearchAutocompleteSuggestionAccept",value:function e(){var t=this.props.autocompleteSuggestions[this.props.autocompleteSelectedIndex||0];if(!t)return;this.props.clogAutocompleteAccept({suggestion:t});if(t.is_type_query_completion)this.acceptQuery(t.suggestion_replacement);else if(t.is_type_navigational){t.is_type_file?this.props.previewFile({fileId:t.file.id}):this.props.displayModelOrViewById({id:t.id});this.clear();Object(y["c"])()}}},{key:"onSearchInputBoxEscape",value:function e(){Object(y["c"])()}},{key:"onRequestChange",value:function e(){this.props.setInterfaceMode({interfaceMode:v["interfaceModes"].SEARCH_RESULTS})}},{key:"onClickRefreshSearch",value:function e(){this.props.setRequestFromEditableRequest({fetchSuggestions:true})}},{key:"clear",value:function e(){this.props.setSearchInputBoxUserQuery({userQuery:""})}},{key:"acceptQuery",value:function e(t){this.props.setEditableRequestQueryThenRequest({query:t});this.props.setSearchInputBoxDisplayQuery({displayQuery:t});this.props.setInterfaceMode({interfaceMode:v["interfaceModes"].SEARCH_RESULTS})}},{key:"renderMode",value:function e(){switch(this.props.interfaceMode){case v["interfaceModes"].SEARCH_RESULTS:return this.renderSearchResults();case v["interfaceModes"].EDIT:default:return this.renderQueryEdit()}}},{key:"renderSearchResults",value:function e(){return a.a.createElement(T["a"],{onClickRefreshSearch:this.onClickRefreshSearch})}},{key:"renderQueryEdit",value:function e(){return a.a.createElement("div",{className:"c-search-autocomplete"},a.a.createElement(C["a"],{userQuery:this.props.userQuery,onAccept:this.onSearchAutocompleteSuggestionAccept}))}},{key:"render",value:function e(){var t={top:0,left:0,bottom:0,right:0};var r=l()("c-popover","c-search_modal",{"c-search_modal--autocomplete":this.props.interfaceMode===v["interfaceModes"].EDIT});return a.a.createElement(k["a"],{enabled:["feature_react_search"]},a.a.createElement(g["a"],{ariaRole:"dialog",ariaLabel:R.t("Search"),isOpen:this.props.visible,position:"top-left",targetBounds:t,onClose:y["c"],shouldFade:false,overlayClassName:r,allowanceX:0,allowanceY:0,shouldFocusAfterRender:true,shouldReturnFocusAfterClose:false},a.a.createElement("div",{className:"c-search__input_and_close"},a.a.createElement(S["a"],{displayQuery:this.props.displayQuery,onEnter:this.onSearchAutocompleteSuggestionAccept,onEscape:this.onSearchInputBoxEscape,onFocus:this.onSearchInputBoxFocus}),a.a.createElement(E["a"],{className:"c-search__input_and_close__close",onClick:y["c"],ariaLabel:R.t("Cancel")},a.a.createElement(O["b"],{type:"times"}))),this.renderMode()))}}]);return t}(n["PureComponent"]);L.displayName="Search";L.propTypes=M;L.defaultProps=x;var D=function e(t){return{interfaceMode:Object(v["getInterfaceMode"])(t),autocompleteSuggestions:Object(m["getSearchAutocompleteSuggestions"])(t),autocompleteSelectedIndex:Object(m["getSearchAutocompleteSelectedIndex"])(t),displayQuery:Object(h["getSearchInputBoxDisplayQuery"])(t),request:Object(b["getRequest"])(t),userQuery:Object(h["getSearchInputBoxUserQuery"])(t),visible:Object(v["getVisible"])(t)}};var F={clogAutocompleteAccept:_["a"],displayModelOrViewById:f["a"],previewFile:d["b"],searchPrecache:w["i"],setEditableRequestQueryThenRequest:b["setEditableRequestQueryThenRequest"],setInterfaceMode:v["setInterfaceMode"],setRequestFromEditableRequest:b["setRequestFromEditableRequest"],setSearchInputBoxDisplayQuery:h["setSearchInputBoxDisplayQuery"],setSearchInputBoxUserQuery:h["setSearchInputBoxUserQuery"]};t["a"]=Object(s["connect"])(D,F)(L)},18023:function(e,t,r){"use strict";t["b"]=v;t["a"]=h;var n=r(17072);var a=r(17121);var i=r(16927);var o=r(16925);var s=r(16920);var c=r(17406);var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var u=function(){var e=p(regeneratorRuntime.mark(function e(t,r,n){var a,i;return regeneratorRuntime.wrap(function e(o){while(1)switch(o.prev=o.next){case 0:a=[];t.replace(r,function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=n.apply(void 0,[e].concat(r));a.push(o)});o.next=4;return Promise.all(a);case 4:i=o.sent;return o.abrupt("return",t.replace(r,function(){return i.shift()}));case 6:case"end":return o.stop()}},e,this)}));return function t(r,n,a){return e.apply(this,arguments)}}();function p(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,i){try{var o=t[a](i);var s=o.value}catch(e){r(e);return}if(!o.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}function f(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function d(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function v(e,t){var r=new RegExp("("+c["g"].in+"|in):(#[^\\s]+)","g");return u(t,r,function(t,r,u){var p=c["d"].getChannelByName(e,u)||c["d"].getFilterChannelObjectByName(e,u);if(p){if(Object(s["isIm"])(p)){var v=Object(s["getMemberIdFromIm"])(p);return Promise.resolve(r+":<@"+v+">")}return Promise.resolve(r+":<#"+p.id+">")}return Object(n["a"])(u,{limit:150,channels:{include_archived:false},members:{include_self:true,include_org:true,include_slackbot:true,include_deleted:true},mpims:true,groups:true,enterprise_channels:true,sort:{frecency:false}}).then(function(t){var n=Object(o["getTeamId"])(e);var s=Object(i["b"])(n);var c=u&&u.replace("#","");var p=t.find(function(e){return e.name===c});var v=Object(a["getEditableRequestChannelObjects"])(s)||{};Object(i["a"])(n,Object(a["setEditableRequestChannelObjects"])({channels:l({},v,d({},p.id,p))}));var h=Object(a["getEditableRequest"])(s).queryFilter;h.in=Array.from(new Set([].concat(f(h.in),[p.id])));Object(i["a"])(n,Object(a["setEditableRequestQueryFilterOnly"])({queryFilter:h}));return r+":<#"+p.id+">"})})}function h(e,t){return t.replace(new RegExp("("+c["g"].in+"|in):(#[^\\s]+)","g"),function(t,r,n){var a=c["d"].getChannelByName(e,n);if(a)return r+":<#"+a.id+">";return t})}},18024:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(8);var l=r.n(c);var u=r(1);var p=r.n(u);var f=r(16947);var d=r(17004);var v=r(17188);var h=r(17194);var m=r(17642);var b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O={file:f["a"].File().isRequired,index:o.a.number,clogLinkClick:o.a.func,className:o.a.string,fullWidth:o.a.bool,onClick:o.a.func,previewFile:o.a.func,hasHighlightMarkers:o.a.bool};var E={index:null,clogLinkClick:u["noop"],className:null,fullWidth:false,onClick:u["noop"],previewFile:u["noop"],hasHighlightMarkers:false};var j=function(e){y(t,e);function t(e){_(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onClick=r.onClick.bind(r);return r}b(t,[{key:"onClick",value:function e(t){t.preventDefault();this.props.onClick(t,{file:this.props.file,index:this.props.index});this.props.previewFile({fileId:this.props.file.id})}},{key:"render",value:function e(){var t=this.props,r=t.file,n=t.clogLinkClick,i=t.fullWidth,o=t.hasHighlightMarkers;var s=l()("p-search_file",this.props.className);return a.a.createElement(v["a"],{file:r,className:s,fullWidth:i,clogLinkClick:n,onClick:this.onClick},a.a.createElement(h["a"],{file:r,hasHighlightMarkers:o},a.a.createElement(m["a"],{file:r,excludeTime:true})))}}]);return t}(n["PureComponent"]);j.displayName="SearchFile";j.propTypes=O;j.defaultProps=E;t["a"]=Object(s["connect"])(null,{previewFile:d["b"]})(j)},18025:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(45);var c=r(8);var l=r.n(c);var u=r(20146);var p=r.n(u);var f={children:a.a.node,className:a.a.string,ariaLabel:a.a.string};var d={children:null,className:null,ariaLabel:null};var v=function e(t){var r=t.className,n=t.children,a=t.ariaLabel;return o.a.createElement("div",{className:l()("c-message_actions__container",r),role:"group","aria-label":a},n)};v.displayName="MessageActionContainer";v.propTypes=f;v.defaultProps=d;t["a"]=Object(s["pure"])(v)},18027:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(45);var f=r(16918);var d=r(16917);var v=r(16932);var h=r(20146);var m=r.n(h);var b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O={className:a.a.string,iconType:a.a.string,label:a.a.string.isRequired,tooltipPosition:a.a.string,onClick:a.a.func,ariaHasPopup:a.a.bool,"data-qa":a.a.string};var E={className:"",onClick:c.a.noop,iconType:null,tooltipPosition:"top",ariaHasPopup:true,"data-qa":void 0};var j=function(e){y(t,e);function t(){_(this,t);return g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}b(t,[{key:"render",value:function e(){var t=u()("c-message_actions__button",this.props.className);return o.a.createElement(v["c"],{tip:this.props.label,position:this.props.tooltipPosition,delay:v["b"]},o.a.createElement(f["c"],{className:t,onClick:this.props.onClick,"aria-label":this.props.label,"aria-haspopup":this.props.ariaHasPopup,"data-qa":this.props["data-qa"]},o.a.createElement(d["b"],{type:this.props.iconType})))}}]);return t}(i["PureComponent"]);j.displayName="MessageActionButton";j.propTypes=O;j.defaultProps=E;t["a"]=Object(p["pure"])(j)},18028:function(e,t,r){"use strict";var n=r(16960);var a=r(16912);var i=r(16942);var o=r(3);var s=r.n(o);var c=r(12159);var l=r.n(c);var u=r(17018);var p=r(16917);var f={visible:s.a.bool,currentPageOffset:s.a.number.isRequired,totalPageCount:s.a.number.isRequired,maxPerPageItemCount:s.a.number.isRequired,pageItemCount:s.a.number.isRequired,totalItemCount:s.a.number.isRequired,itemType:s.a.oneOf(["message","file"]).isRequired,onBack:s.a.func.isRequired,onForward:s.a.func.isRequired};var d={visible:true};var v=new a["b"]("search");function h(e){var t=e.visible,r=e.currentPageOffset,a=e.totalPageCount,o=e.maxPerPageItemCount,s=e.pageItemCount,c=e.totalItemCount,f=e.itemType,d=e.onBack,h=e.onForward;if(!t)return null;var m=1===r;var b=r===a;var _=o*(r-1)+1;var g=_+s-1;var y=c>g?g:c;var O="";var E={pageItemOffset:Object(u["a"])(_),pageEndItemOffset:Object(u["a"])(y),totalItemCount:c};"message"===f?O=l.a.createElement(n["a"],{enabled:["feature_react_search"]},v.t("{pageItemOffset} - {pageEndItemOffset} of {totalItemCount, plural, =1 {# message result} other {# message results}}",E)):"file"===f&&(O=l.a.createElement(n["a"],{enabled:["feature_react_search"]},v.t("{pageItemOffset} - {pageEndItemOffset} of {totalItemCount, plural, =1 {# message result} other {# message results}}",E)));var j=l.a.createElement(i["a"],{className:"c-search__pager__button_forward",onClick:h,disabled:b},l.a.createElement(n["a"],{enabled:["feature_react_search"]},m&&v.t("See more")||v.t("Next")),l.a.createElement(p["a"],{type:"chevron-right",className:""}));var k=l.a.createElement(i["a"],{className:"c-search__pager__button__back",onClick:d,disabled:m},l.a.createElement(p["a"],{type:"chevron-left",className:""}),l.a.createElement(n["a"],{enabled:["feature_react_search"]},v.t("Previous")));return l.a.createElement("div",{className:"c-search__pager"},m||k,l.a.createElement("span",{className:"c-search__pager__details"},O),b||j)}h.displayName="Pager";h.propTypes=f;h.defaultProps=d;t["a"]=h},18029:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(8);var p=r.n(u);var f=r(17121);var d=r(17122);var v=r(16923);var h=r(16919);var m=r(16939);var b=r(16922);var _=r(16980);var g=r(17707);var y=r(16913);var O=r(16981);var E=r(17029);var j=r(20397);var k=r(17072);var w=r(18538);var C=r(16921);var S=r(16912);var T=r(16960);var I=r(16987);var N=r(18019);var A=r(16963);var P=r(17035);var R=r(16985);var M=r(17060);var x=r(16917);var L=r(11);var D=r.n(L);var F=r(19779);var B=r(20049);var U=r(20600);var H=r(20233);var q=r.n(H);var G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var W=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function V(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function Q(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Y=new S["b"]("search");var J={showOnlyActiveFilters:o.a.bool,showFileFilters:o.a.bool,filters:o.a.object.isRequired,suggestions:o.a.object.isRequired,toggleEditableRequestQueryFilterFromItem:o.a.func.isRequired,toggleEditableRequestQueryFilterInItem:o.a.func.isRequired,isEnterpriseOrg:o.a.bool.isRequired,orgName:o.a.string,setEditableRequestQueryFilterAfter:o.a.func.isRequired,setEditableRequestQueryFilterBefore:o.a.func.isRequired,setEditableRequestQueryFilterFileType:o.a.func.isRequired,searchPrefs:o.a.shape({searchOnlyCurrentTeam:o.a.bool.isRequired,searchExcludeBots:o.a.bool.isRequired,searchOnlyMyChannels:o.a.bool.isRequired}).isRequired,setUserPrefByApi:o.a.func.isRequired,setEditableRequestChannelObjects:o.a.func.isRequired,channelObjects:o.a.object.isRequired,imToUserMap:o.a.object.isRequired,loading:o.a.bool.isRequired};var X={showOnlyActiveFilters:false,showFileFilters:false,orgName:""};var Z=function(e){Q(t,e);function t(e){K(this,t);var r=z(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={channelSelectIsVisible:false,memberSelectIsVisible:false};Object(c["bindAll"])(r,["onChannelSelect","onChannelQuery","onMemberQuery","onMemberSelect","showChannelSelect","hideChannelSelect","showMemberSelect","hideMemberSelect","onEndDateSelect","onStartDateSelect","onFileTypeChange"]);r.itemsFromChannelSearch={};r.onStartDateSelect=r.onStartDateSelect.bind(r);r.onEndDateSelect=r.onEndDateSelect.bind(r);return r}W(t,[{key:"onChannelQuery",value:function e(t){var r=this;if(!t)return Promise.resolve({options:[]});return Object(k["a"])(t,{limit:150,channels:{include_archived:true,only_if_member:this.props.searchPrefs.searchOnlyMyChannels},members:{include_self:true,include_org:true,include_slackbot:!this.props.searchPrefs.searchExcludeBots,include_bots:!this.props.searchPrefs.searchExcludeBots,include_deleted:true},mpims:true,groups:true,enterprise_channels:!this.props.searchPrefs.searchOnlyCurrentTeam}).then(function(e){var t=e.map(function(e){return e.model_ob});r.props.searchPrefs.searchOnlyMyChannels&&(t=Object(c["filter"])(t,"is_member"));t=t.filter(function(e){var t=Object(c["findIndex"])(r.props.suggestions.in,function(t){return t.id===e.id});return-1===t});r.itemsFromChannelSearch=Object(c["keyBy"])(t,"id");return{options:t.map(function(e){return{label:Object(C["I"])(e)?a.a.createElement(M["a"],{id:e.id}):a.a.createElement(A["a"],{channel:e,showTeamIconForXwsChannels:true}),value:e.id}})}})}},{key:"onMemberQuery",value:function e(t){var r=this;if(!t)return Promise.resolve({options:[]});return Object(k["a"])(t,{members:{include_self:true,include_slackbot:!this.props.searchPrefs.searchExcludeBots,include_bots:!this.props.searchPrefs.searchExcludeBots,include_deleted:true}}).then(function(e){return{options:e.filter(function(e){return-1===r.props.suggestions.from.indexOf(e.model_ob.id)}).map(function(e){return{label:a.a.createElement("span",{className:"p-search_filter__option p-search_filter__option--suggestion"},a.a.createElement(R["b"],{userId:e.model_ob.id,size:18,ariaHidden:"true",tabIndex:-1}),a.a.createElement(M["a"],{id:e.model_ob.id})),value:e.model_ob.id}})}})}},{key:"onChannelSelect",value:function e(t,r){if(!t)return;this.itemsFromChannelSearch[t]&&this.props.setEditableRequestChannelObjects({channels:G({},this.props.channelObjects,V({},t,this.itemsFromChannelSearch[t]))});var n=t;this.props.imToUserMap[t]&&(n=this.props.imToUserMap[t]);this.props.toggleEditableRequestQueryFilterInItem({channelId:n});this.itemsFromChannelSearch={};true!==r&&this.hideChannelSelect()}},{key:"onMemberSelect",value:function e(t,r){if(!t)return;this.props.toggleEditableRequestQueryFilterFromItem({memberId:t});true!==r&&this.hideMemberSelect()}},{key:"onEndDateSelect",value:function e(t){var r=t&&t.add(1,"days").format(F["a"]);this.props.setEditableRequestQueryFilterBefore({dateString:r})}},{key:"onStartDateSelect",value:function e(t){var r=t&&t.subtract(1,"days").format(F["a"]);this.props.setEditableRequestQueryFilterAfter({dateString:r})}},{key:"onSearchPrefChange",value:function e(t){var r=this.props.searchPrefs,n=r.searchOnlyCurrentTeam,a=r.searchExcludeBots,i=r.searchOnlyMyChannels;switch(t){case"search_only_current_team":this.props.setUserPrefByApi({pref:"search_only_current_team",value:!n});break;case"search_exclude_bots":this.props.setUserPrefByApi({pref:"search_exclude_bots",value:!a});break;case"search_only_my_channels":this.props.setUserPrefByApi({pref:"search_only_my_channels",value:!i});break;default:break}}},{key:"onFileTypeChange",value:function e(t){this.props.setEditableRequestQueryFilterFileType({fileType:t})}},{key:"showChannelSelect",value:function e(){this.setState(function(){return{channelSelectIsVisible:true}})}},{key:"hideChannelSelect",value:function e(){this.setState(function(){return{channelSelectIsVisible:false}})}},{key:"showMemberSelect",value:function e(){this.setState(function(){return{memberSelectIsVisible:true}})}},{key:"hideMemberSelect",value:function e(){this.setState(function(){return{memberSelectIsVisible:false}})}},{key:"shouldRenderDateFilter",value:function e(){var t=this.props,r=t.filters,n=t.showOnlyActiveFilters;if(Object(w["a"])(r)&&n)return false;return!n||r.before&&r.after}},{key:"renderInFilter",value:function e(){var t=this;var r=this.props,n=r.filters,i=r.suggestions,o=r.loading;var s=this.state.channelSelectIsVisible;if(o)return this.renderInPlaceholder();return a.a.createElement(T["a"],{enabled:["feature_react_search"]},a.a.createElement("div",{className:"p-search_filter"},a.a.createElement("div",{className:"p-search_filter__title"},a.a.createElement("h3",{className:"p-search_filter__title_text"},Y.t("Channels & direct messages"))),a.a.createElement("div",{className:"p-search_filter__controls"},i.in.map(function(e){return a.a.createElement("label",{key:e.id,htmlFor:"universal-search-channel-filter-"+e.id,className:"p-search_filter__option "+(-1===n.in.indexOf(e.id)?"p-search_filter__option--suggestion":"")},a.a.createElement(A["a"],{channel:e,showTeamIconForXwsChannels:true}),a.a.createElement("input",{type:"checkbox",className:"flex_shrink_none",tabIndex:"0",id:"universal-search-channel-filter-"+e.id,checked:n.in.indexOf(e.id)>-1,onChange:function r(){return t.onChannelSelect(e.id)}}))}),!s&&a.a.createElement(P["a"],{className:"p-search_filter__more_link",onClick:this.showChannelSelect},Y.t("More\u2026")),s&&a.a.createElement("div",{className:"p-search_filter__select"},a.a.createElement(I["a"],{id:"channel-select",name:"channel-select",optionsFetcher:this.onChannelQuery,onChange:this.onChannelSelect,minQueryLength:2,value:null,useFullWidthOptions:true,placeholder:Y.t("e.g. #general"),selectPlaceholder:Y.t("Enter a channel or direct message."),usePlaceholderOption:false,autoSelectFirstOption:true,focusInputOnMount:true}),a.a.createElement(P["a"],{className:"p-search_filter__close",onClick:this.hideChannelSelect},a.a.createElement(x["b"],{type:"times-small"}))))))}},{key:"renderInPlaceholder",value:function e(){return a.a.createElement(T["a"],{enabled:["feature_react_search"]},a.a.createElement("div",{className:"p-search_filter"},a.a.createElement("div",{className:"p-search_filter__title"},a.a.createElement("h3",{className:"p-search_filter__title_text"},Y.t("Channels & direct messages"))),a.a.createElement("div",{className:"p-search_filter__controls"},a.a.createElement(U["a"],{variation:0}),a.a.createElement(U["a"],{variation:1}),a.a.createElement(P["a"],{className:"p-search_filter__more_link",disabled:true},Y.t("More\u2026")))))}},{key:"renderFromFilter",value:function e(){var t=this;var r=this.props,n=r.filters,i=r.suggestions,o=r.loading;var s=this.state.memberSelectIsVisible;if(o)return this.renderFromPlaceholder();return a.a.createElement(T["a"],{enabled:["feature_react_search"]},a.a.createElement("div",{className:"p-search_filter"},a.a.createElement("div",{className:"p-search_filter__title"},a.a.createElement("h3",{className:"p-search_filter__title_text"},Y.t("People"))),a.a.createElement("div",{className:"p-search_filter__controls"},i.from.map(function(e){return a.a.createElement("label",{key:e,htmlFor:"universal-search-member-filter-"+e,className:"p-search_filter__option "+(-1===n.from.indexOf(e)?"p-search_filter__option--suggestion":"")},a.a.createElement(R["b"],{userId:e,size:18,ariaHidden:"true",tabIndex:-1}),a.a.createElement(M["a"],{id:e}),a.a.createElement("input",{id:"universal-search-member-filter-"+e,className:"flex_shrink_none",tabIndex:"0",type:"checkbox",checked:n.from.indexOf(e)>-1,onChange:function r(){return t.onMemberSelect(e,true)}}))}),!s&&a.a.createElement(P["a"],{className:"p-search_filter__more_link",onClick:this.showMemberSelect},Y.t("More\u2026")),s&&a.a.createElement("div",{className:"p-search_filter__select"},a.a.createElement(I["a"],{id:"member-select",name:"member-select",optionsFetcher:this.onMemberQuery,onChange:this.onMemberSelect,minQueryLength:2,value:null,useFullWidthOptions:true,placeholder:Y.t("e.g. Shannon"),selectPlaceholder:Y.t("Enter a teammate's name"),usePlaceholderOption:false,autoSelectFirstOption:true,focusInputOnMount:true}),a.a.createElement(P["a"],{className:"p-search_filter__close",onClick:this.hideMemberSelect},a.a.createElement(x["b"],{type:"times-small"}))))))}},{key:"renderFromPlaceholder",value:function e(){return a.a.createElement(T["a"],{enabled:["feature_react_search"]},a.a.createElement("div",{className:"p-search_filter"},a.a.createElement("div",{className:"p-search_filter__title"},a.a.createElement("h3",{className:"p-search_filter__title_text"},Y.t("People"))),a.a.createElement("div",{className:"p-search_filter__controls"},a.a.createElement(U["a"],{includeAvatar:true,variation:0}),a.a.createElement(U["a"],{includeAvatar:true,variation:1}),a.a.createElement(P["a"],{className:"p-search_filter__more_link",disabled:true},Y.t("More\u2026")))))}},{key:"renderFileTypeFilter",value:function e(){var t=this.props,r=t.filters,n=t.showOnlyActiveFilters,i=t.showFileFilters;if(!i||n&&!r.fileType)return null;return a.a.createElement(T["a"],{enabled:["feature_react_search"]},a.a.createElement("div",{className:"p-search_filter"},a.a.createElement("div",{className:"p-search_filter__title"},a.a.createElement("h3",{className:"p-search_filter__title_text"},Y.t("File type"))),a.a.createElement(N["a"],{filetype:r.fileType,onChange:this.onFileTypeChange})))}},{key:"renderPrefs",value:function e(){var t=this;var r=this.props,n=r.showOnlyActiveFilters,i=r.isEnterpriseOrg,o=r.orgName;var s=this.props.searchPrefs,c=s.searchOnlyCurrentTeam,l=s.searchExcludeBots,u=s.searchOnlyMyChannels;if(n)return null;return a.a.createElement(T["a"],{enabled:["feature_react_search"]},a.a.createElement("div",{className:"p-search_filter"},a.a.createElement("div",{className:"p-search_filter__title"},a.a.createElement("h3",{className:"p-search_filter__title_text"},Y.t("Include results from\u2026"))),a.a.createElement("div",{className:"p-search_filter__controls"},i&&a.a.createElement("label",{className:p()("p-search_filter__checkbox_label",{"p-search_filter__checkbox_label--selected":!c}),htmlFor:"search_only_current_team"},Y.t("Other {orgName} workspaces",{orgName:o})," ",a.a.createElement("input",{type:"checkbox",id:"search_only_current_team",checked:!c,onChange:function e(){return t.onSearchPrefChange("search_only_current_team")}})),a.a.createElement("label",{className:p()("p-search_filter__checkbox_label",{"p-search_filter__checkbox_label--selected":!l}),htmlFor:"search_exclude_bots"},Y.t("Apps and bots")," ",a.a.createElement("input",{type:"checkbox",id:"search_exclude_bots",checked:!l,onChange:function e(){return t.onSearchPrefChange("search_exclude_bots")}})),a.a.createElement("label",{className:p()("p-search_filter__checkbox_label",{"p-search_filter__checkbox_label--selected":!u}),htmlFor:"search_only_my_channels"},Y.t("Channels I\u2019m not a member of")," ",a.a.createElement("input",{type:"checkbox",id:"search_only_my_channels",checked:!u,onChange:function e(){return t.onSearchPrefChange("search_only_my_channels")}})))))}},{key:"render",value:function e(){var t=this.props.filters.after&&D()(this.props.filters.after,F["a"]).add(1,"days").format(F["a"]);var r=this.props.filters.before&&D()(this.props.filters.before,F["a"]).subtract(1,"days").format(F["a"]);return a.a.createElement("div",{className:"p-search_filters"},this.renderFromFilter(),this.renderInFilter(),this.renderFileTypeFilter(),this.shouldRenderDateFilter()&&a.a.createElement(B["a"],{onStartDateChange:this.onStartDateSelect,onEndDateChange:this.onEndDateSelect,startDate:t,endDate:r}),this.renderPrefs())}}]);return t}(n["PureComponent"]);Z.displayName="MessagesFilterUI";Z.propTypes=J;Z.defaultProps=X;var $=function e(t){var r=Object(f["getEditableRequestQueryFilter"])(t)||{};var n=Object(f["getEditableRequestChannelObjects"])(t)||{};var a=Object(f["getFilterSuggestions"])(t)||{};var i=Object(y["getCurrentUserId"])(t);var o=Object(m["getCurrentTeam"])(t);var s=!!o.enterprise_id;var c=s?Object(_["getEnterpriseOrgName"])(t):"";var l=te(t,r.in);var u=Object(d["getModuleState"])(t,"relevantMessages")||{};var p=1===u.page&&u.loading;return{suggestions:{in:(a.in||[]).map(function(e){return n[e]||ee(t,e)}).filter(function(e){return!!e}),from:a.from||[]},isEnterpriseOrg:s,orgName:c,myUserId:i,filters:{in:r.in||[],from:r.from||[],before:r.before,after:r.after,fileType:r.fileType},channelObjects:n,imToUserMap:l,searchPrefs:{searchOnlyCurrentTeam:Object(b["getUserPref"])(t,"search_only_current_team"),searchExcludeBots:Object(b["getUserPref"])(t,"search_exclude_bots"),searchOnlyMyChannels:Object(b["getUserPref"])(t,"search_only_my_channels")},loading:p}};function ee(e,t){if(Object(E["a"])(t)){var r=Object(j["a"])(e,t)||Object(v["getChannelById"])(e,t);if(r.isUnknown||r.isNonExistent)return null;return r}if(Object(O["a"])(t))return Object(h["getMemberById"])(e,t);return null}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.reduce(function(t,r){if(Object(O["a"])(r)){var n=Object(v["getImIdByMemberId"])(e,r);n&&(t[n]=r)}return t},{})}var re={setEditableRequestQueryFilterAfter:f["setEditableRequestQueryFilterAfter"],setEditableRequestQueryFilterBefore:f["setEditableRequestQueryFilterBefore"],setEditableRequestChannelObjects:f["setEditableRequestChannelObjects"],setEditableRequestQueryFilterFileType:f["setEditableRequestQueryFilterFileType"],setUserPrefByApi:g["b"],toggleEditableRequestQueryFilterFromItem:f["toggleEditableRequestQueryFilterFromItem"],toggleEditableRequestQueryFilterInItem:f["toggleEditableRequestQueryFilterInItem"]};t["a"]=Object(s["connect"])($,re)(Z)},18030:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(9);var u=r(16912);var p=r(16942);var f=r(16913);var d=r(16917);var v=r(20234);var h=r.n(v);var m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=new u["b"]("search");var O={featureReactSearch:a.a.bool.isRequired};var E={};var j=function(e){g(t,e);function t(e){b(this,t);var r=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(s["bindAll"])(r,["onClickRecommendation"]);return r}m(t,[{key:"onClickRecommendation",value:function e(){Object(s["noop"])()}},{key:"render",value:function e(){var t=this;if(!this.props.featureReactSearch)return null;var r=[];return o.a.createElement("div",{className:"c-search_no_results"},o.a.createElement("h2",{className:"c-search__section_header"},y.t("No results")),o.a.createElement("p",null,y.t("Slack couldn\u2019t find any results related to your search."),r.length>0&&y.t("Instead you might want to try:")),o.a.createElement("ul",{className:"c-search_no_results__query_suggestion_list"},r.map(function(e){return o.a.createElement("li",null,o.a.createElement(p["a"],{onClick:t.onClickRecommendation},o.a.createElement(d["b"],{type:"search-medium",inline:true}),e.label))})))}}]);return t}(i["PureComponent"]);j.displayName="NoResults";j.propTypes=O;j.defaultProps=E;var k=function e(t){return{featureReactSearch:Object(f["isFeatureEnabled"])(t,"feature_react_search")}};var w={};t["a"]=Object(l["connect"])(k,w)(j)},18033:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16950);var p=r(16923);var f=r(17057);var d=r(16913);var v=r(16920);var h=r(16912);var m=r(18034);var b=r(18546);var _=r(18547);var g=r(18548);var y=r(17354);var O=r(18549);var E=r(18550);var j=r(16969);var k=r(17092);var w=r(17211);var C=r(17070);var S=r(18551);var T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var I=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function P(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=new h["b"]("global_nav");var M={channelId:o.a.string.isRequired,channel:o.a.object.isRequired,actions:o.a.object,displayName:o.a.string,isMuted:o.a.bool,joinChannel:o.a.func,featureGlobalNav:o.a.bool};var x={actions:void 0,displayName:void 0,isMuted:false,joinChannel:c["noop"],featureGlobalNav:false};var L=function(e){P(t,e);function t(e){N(this,t);var r=A(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.getMuteLabel=r.getMuteLabel.bind(r);r.getItems=r.getItems.bind(r);return r}I(t,[{key:"getMuteLabel",value:function e(){var t=this.props,r=t.isMuted,n=t.channel,a=t.displayName,i=t.featureGlobalNav;var o="mpim"===Object(v["getChannelType"])(n);if(!i)return null;if(r&&o)return R.t("Unmute this conversation");if(r&&!o)return R.t("Unmute {channelName}",{channelName:a});if(!r&&o)return R.t("Mute this conversation");if(!r&&!o)return R.t("Mute {channelName}",{channelName:a});return null}},{key:"getItems",value:function e(){var t=this.props,r=t.channelId,n=t.channel,a=t.actions,i=t.displayName,o=t.joinChannel,s=t.featureGlobalNav;var c=Object(v["getChannelType"])(n);var l=Object(v["getMemberIdFromIm"])(n);if(!a||!c||!s)return[];var u="mpim"===c;var p="channel"===c;var f="private"===c;var d=p||f;var S=[{label:R.t("Jump to date\u2026"),show:a.jump,key:"jump"},{label:u?R.t("Invite another member\u2026"):R.t("Invite new members to join\u2026"),show:a.invite,key:"invite",click:function e(){return Object(m["a"])(r)}},{label:R.t("Edit your profile"),show:a.editProfile,key:"editProfile",click:function e(){return Object(b["a"])()}},{label:R.t("View {userPossesive} profile",{userPossesive:Object(h["c"])(i)}),show:a.viewProfile,key:"viewProfile",click:function e(){return Object(j["g"])(l)}},{label:R.t("Add {userName} to a channel\u2026",{userName:i}),show:a.addMember,key:"addMember",click:function e(){return Object(y["a"])(l)}},{label:d?R.t("View channel details"):R.t("View conversation details"),show:a.details,key:"details",click:function e(){return Object(k["c"])("details")}},{label:R.t("Additional options\u2026"),show:a.options,key:"options",click:function e(){return Object(_["a"])(r)}},{label:R.t("Convert to a private channel\u2026"),show:a.convertToPrivate,key:"convertToPrivate",click:function e(){return Object(O["a"])(n)}},{label:R.t("Edit message retention\u2026"),show:a.retention,key:"retention",click:function e(){return Object(_["a"])(r,"retention")}},{type:"separator",key:"separator-1"},{label:R.t("Notification preferences\u2026"),show:a.notifications,key:"notifications",click:function e(){return Object(g["a"])(r)}},{label:this.getMuteLabel(),show:a.mute,key:"mute",click:function e(){return Object(w["c"])(r)}},{type:"separator",key:"separator-2"},{label:R.t("Add an app"),show:a.apps,key:"apps",click:function e(){return Object(E["a"])()}},{label:u?R.t("Send email to this conversation\u2026"):R.t("Send email to {channelName}\u2026",{channelName:i}),show:a.email,key:"email",href:"/services/new/email",target:"_blank"},{type:"separator",key:"separator-3"},{label:R.t("Leave {channelName}",{channelName:i}),show:a.leave,key:"leave",click:function e(){return Object(C["n"])(r)}},{label:R.t("Join {channelName}",{channelName:i}),show:a.join,key:"join",click:function e(){return o({channelId:r})}},{type:"separator",key:"separator-4"},{label:R.t("Export message history\u2026"),show:a.exportHistory,key:"exportHistory",click:function e(){return Object(_["a"])(r,"export")}}];return S.filter(function(e){return e&&(e.show||"separator"===e.type)})}},{key:"render",value:function e(){return a.a.createElement(u["a"],T({},this.props,{template:this.getItems(),stripTerminalSeparators:true}))}}]);return t}(n["Component"]);L.displayName="Menu";L.propTypes=M;L.defaultProps=x;var D=function e(t,r){var n=r.channelId;var a=Object(p["getChannelById"])(t,n);return{channel:a,actions:Object(S["a"])(t,n),displayName:Object(v["getDisplayNameForChannel"])(t,a,{imIncludeAtSign:false}),isMuted:Object(f["isChannelMutedById"])(t,n),featureGlobalNav:Object(d["isFeatureEnabled"])(t,"feature_global_nav")}};var F={joinChannel:p["joinConversationApi"]};t["a"]=Object(s["connect"])(D,F)(L)},18034:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(1);var a=r.n(n);var i=r(16914);var o=Object(i["c"])("TS.ui.channel_invite_modal.startInviteToChannelModal",a.a.noop)},18035:function(e,t,r){"use strict";var n=r(18564);var a=r(18565);var i=r(18566);r.d(t,"a",function(){return n["a"]});r.d(t,"b",function(){return a["a"]});t["c"]=i["a"]},18037:function(e,t,r){"use strict";r.d(t,"g",function(){return l});r.d(t,"a",function(){return u});r.d(t,"f",function(){return p});r.d(t,"b",function(){return f});r.d(t,"d",function(){return d});t["e"]=v;r.d(t,"c",function(){return m});r.d(t,"i",function(){return b});r.d(t,"j",function(){return _});r.d(t,"h",function(){return g});var n=r(194);var a=r.n(n);var i=r(1);var o=r.n(i);var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var c=function e(t){var r=t.value,n=t.min,a=t.max;return Math.max(n,Math.min(a,r))};var l=function e(t){var r=t.value,n=t.min,a=t.max;return(r-n)/(a-n)};var u=function e(t){var r=t.value,n=t.min,a=t.max;return r*(a-n)+n};var p=function e(t,r){return{left:Math.min(t.x,r.x),top:Math.min(t.y,r.y),width:Math.abs(t.x-r.x),height:Math.abs(t.y-r.y)}};var f=function e(t){return{x:t.left+t.width/2,y:t.top+t.height/2}};var d=function e(t,r){return s({},t,{left:t.left-r.left,top:t.top-r.top})};function v(e){if(a.a.mac)return e.metaKey;return e.ctrlKey}var h=function e(t){var r=t.scale,n=t.translate,a=t.minScale,i=t.size;var o=s({},n);Math.abs(n.y)>i.height/2*(r-a)&&(o.y=Math.sign(n.y)*(i.height/2)*(r-a));Math.abs(n.x)>i.width/2*(r-a)&&(o.x=Math.sign(n.x)*(i.width/2)*(r-a));return o};var m=function e(t){var r=t.value,n=t.direction,a=t.steps;var o=1===n;var s=o?a:a.slice().reverse();var c=function e(t,r){return(o?t<r:t>r)&&t!==r};return Object(i["find"])(s,function(e){return c(r,e)})};var b=function e(t){var r=t.point,n=t.containerRect,a=t.targetRect,i=t.prevScale,o=t.newScale,s=t.prevTranslate,l=t.minScale,u=t.maxScale;var p=c({value:o,min:l,max:u});var d=p-i;var v=f(n);var m={x:(r.x-s.x-v.x)/i,y:(r.y-s.y-v.y)/i};var b=h({scale:p,translate:{x:s.x-m.x*d,y:s.y-m.y*d},minScale:l,size:a});return{scale:p,translate:b}};var _=function e(t){var r=t.rect,n=t.prevScale,a=t.prevTranslate,i=t.minScale,o=t.maxScale,s=t.containerRect,l=t.targetRect;var u=f(s);var p=f(r);var d=Math.min(s.width/r.width,s.height/r.height);var v=c({value:n*d,min:i,max:o});var m=h({scale:v,translate:{x:a.x*(v/n)-(p.x-u.x)*(v/n),y:a.y*(v/n)-(p.y-u.y)*(v/n)},minScale:i,size:l});return{scale:v,translate:m}};var g=function e(t){var r=t.delta,n=t.targetRect,a=t.prevScale,i=t.prevTranslate,o=t.minScale;var s=h({scale:a,translate:{x:i.x+r.x,y:i.y+r.y},minScale:o,size:n});return{translate:s}}},18038:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(18039);var u=r(18040);var p=r(20238);var f=r.n(p);var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b={os:o.a.oneOf(["windows","mac","linux"]),browser:o.a.string,keyboardLocale:o.a.string,id:o.a.string,title:o.a.string,shortcuts:o.a.arrayOf(o.a.shape({os:o.a.oneOf(["windows","mac","linux"]),browser:o.a.string,title:o.a.string,keys:o.a.array,keysLinux:o.a.array,keysWin:o.a.array,hasInfoButton:o.a.bool,infoButtonMessage:o.a.string,id:o.a.string,isSsbOnly:o.a.bool,browserBlackList:o.a.array,localeBlackList:o.a.array}))};var _={os:null,browser:null,keyboardLocale:null,title:null,id:null,shortcuts:[]};var g=function(e){m(t,e);function t(){v(this,t);return h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}d(t,[{key:"renderShortcuts",value:function e(){var t=this;return c.a.map(this.props.shortcuts,function(e){return a.a.createElement(u["a"],{os:t.props.os,browser:t.props.browser,keyboardLocale:t.props.keyboardLocale,localeBlackList:e.localeBlackList,key:e.title+e.keys,title:e.title,isSsbOnly:e.isSsbOnly,keys:e.keys,keysLinux:e.keysLinux,keysWin:e.keysWin,hasInfoButton:e.hasInfoButton,infoButtonMessage:e.infoButtonMessage,id:e.id,browserBlackList:e.browserBlackList})})}},{key:"render",value:function e(){if("all_unreads"===this.props.id&&!Object(l["b"])())return null;if("workspaces"===this.props.id&&"ssb"!==this.props.os)return null;return a.a.createElement("div",{className:"p-shortcuts_flexpane__section_container"},a.a.createElement("h3",{className:"p-shortcuts_flexpane__title"},this.props.title),a.a.createElement("ul",{className:"p-shortcuts_flexpane__list"},this.renderShortcuts()))}}]);return t}(a.a.PureComponent);g.displayName="ShortcutsSection";g.propTypes=b;g.defaultProps=_;t["a"]=g},18039:function(e,t,r){"use strict";r.d(t,"a",function(){return a});r.d(t,"b",function(){return i});var n=r(16914);var a=Object(n["c"])("TS.ui.react_keyboard_shortcuts.executeShortcut",function(){return null});var i=Object(n["c"])("TS.client.unread.isEnabled",function(){return null})},18040:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(16932);var f=r(16917);var d=r(18039);var v=r(20405);var h=r(20236);var m=r.n(h);var b=r(20286);var _=r.n(b);var g=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j={os:o.a.oneOf(["windows","mac","linux"]),browser:o.a.string,keyboardLocale:o.a.string,localeBlackList:o.a.array,title:o.a.string,keys:o.a.array,keysLinux:o.a.array,keysWin:o.a.array,hasInfoButton:o.a.bool,infoButtonMessage:o.a.string,id:o.a.string,isSsbOnly:o.a.bool,browserBlackList:o.a.array};var k={os:null,browser:null,keyboardLocale:null,localeBlackList:null,title:"Basic",keys:[],keysLinux:null,keysWin:null,hasInfoButton:false,infoButtonMessage:"",id:null,isSsbOnly:false,browserBlackList:[]};var w={"\u2191":"arrow_up_medium","\u2193":"arrow_down_medium","\u2190":"arrow_left_medium","\u2192":"arrow_right_medium"};var C=function(e){E(t,e);function t(){y(this,t);return O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}g(t,[{key:"getKeys",value:function e(){var t=this.props,r=t.keys,n=t.keysWin,a=t.keysLinux,i=t.os;if(null!=n&&"windows"===i)return n;if(null!=a&&"linux"===i)return a;return r}},{key:"execShortcut",value:function e(t){Object(d["a"])(t);Object(v["c"])("clicked_keyboard_shortcut")}},{key:"renderKeyLabel",value:function e(t){var r=this.props.os;var n="windows"===r||"linux"===r;if(w[t])return a.a.createElement(f["a"],{type:w[t]});if(("Cmd"===t||"Control"===t)&&n)return"Ctrl";if("Option"===t&&n)return"Alt";if("CtrlAlternative"===t)return"Ctrl";if("ShiftAlternative"===t)return"Shift";return t}},{key:"renderKeys",value:function e(){var t=this;return this.getKeys().map(function(e){var r=e.split("key_")[1];if(!r)return e;var n=!!w[r];var i=c()({"p-shortcuts_flexpane__arrow_key":n,"c-keyboard_key":true});return a.a.createElement("div",{key:t.props.title+" "+e,className:i},t.renderKeyLabel(r))})}},{key:"renderInfoButton",value:function e(){if(this.props.hasInfoButton)return a.a.createElement(p["c"],{tip:this.props.infoButtonMessage,delay:p["b"]},a.a.createElement(f["a"],{align:"top",className:"p-shortcuts_flexpane__tip",type:"question_circle"}));return null}},{key:"renderTitle",value:function e(){var t=this;if(null==this.props.id)return a.a.createElement("div",{className:"p-shortcuts_flexpane__shortcut_title"},a.a.createElement("div",{className:"p-shortcuts_flexpane__shortcut_title",key:"title "+this.props.title},this.props.title,this.renderInfoButton()));var r=c()("p-shortcuts_flexpane__shortcut_title","btn_link",this.props.id);return a.a.createElement("div",{className:"p-shortcuts_flexpane__shortcut_title"},a.a.createElement("button",{type:"button",onClick:function e(){return t.execShortcut(t.props.id)},className:r,key:this.props.title+" shortcut_title"},this.props.title,this.renderInfoButton()))}},{key:"render",value:function e(){var t="ssb"===this.props.browser;if(this.props.isSsbOnly&&!t)return null;var r=null==this.props.browserBlackList?[]:this.props.browserBlackList;var n=Object(l["includes"])(r,this.props.browser)||Object(l["includes"])(r,this.props.os);if(n)return null;var i=null==this.props.localeBlackList?[]:this.props.localeBlackList;var o=Object(l["includes"])(i,this.props.keyboardLocale);if(o)return null;if("open_all_unreads"===this.props.id&&!Object(d["b"])())return null;var s=null==this.props.id?"":"p-shortcuts_flexpane__shortcut_hoverable";var u=c()("p-shortcuts_flexpane__shortcut",s);return a.a.createElement("li",{className:u,key:this.props.title+" shortcut"},this.renderTitle(),a.a.createElement("span",{className:"p-shortcuts_flexpane__shortcut_keys",key:this.props.title+" shortcut_keys"},this.renderKeys()))}}]);return t}(a.a.PureComponent);C.displayName="Shortcut";C.propTypes=j;C.defaultProps=k;t["a"]=C},18041:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(9);var u=r(17736);var p=r(16941);var f=r(16912);var d=r(17834);var v=r(17020);var h=r(17123);var m=r(16913);var b=r(17082);var _=r(16956);var g=r(16952);var y=r(17088);var O=r(18050);var E=r(18051);var j=r(16949);var k=r(16947);var w=r(20436);var C=r(18643);var S=r(20242);var T=r.n(S);var I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var N=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function A(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function M(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=h["selectMessageActions"];var L=new f["b"]("app_actions");var D=64;var F="/apps/collection/actions?utm_source=overflow&utm_medium=inprod&utm_content=overflow-more actions&utm_campaign=inprod";var B={channelId:o.a.string.isRequired,onClose:o.a.func,ts:o.a.string.isRequired,onSelectAction:o.a.func,slackActions:o.a.arrayOf(k["a"].MessageAction).isRequired,appActions:o.a.arrayOf(k["a"].AppAction),isLoading:o.a.bool.isRequired,onLoad:o.a.func.isRequired,handleMessageAction:o.a.func.isRequired,closeModal:o.a.func.isRequired,featureAppActionsFe:o.a.bool.isRequired};var U={appActions:[],onClose:n["noop"],onSelectAction:n["noop"]};var H=function(e){M(t,e);function t(e){P(this,t);var r=R(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={filterQuery:"",normalizedFilterQuery:""};Object(n["bindAll"])(r,["onFilterUpdate","onFooterLinkClick","onSelectAction","filterAction","formatSlackAction","renderSingleAction","handleSelectEvent"]);return r}N(t,[{key:"componentDidMount",value:function e(){Object(p["b"])(u["b"].MSG_ACTION,{contexts:{ui_context:{action:u["g"].IMPRESSION,step:u["i"].MESSAGE_ACTION_DIALOG,ui_element:u["h"].MESSAGE_ACTION_DIALOG},platform:{app_actions_showing:this.props.appActions.length}}});this.props.onLoad()}},{key:"shouldComponentUpdate",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.channelId,n=t.ts,a=t.isLoading;var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.normalizedFilterQuery;if(this.state.normalizedFilterQuery!==o)return true;if(this.props.isLoading&&!a)return true;if(this.props.channelId!==r)return true;if(this.props.ts!==n)return true;return false}},{key:"onFooterLinkClick",value:function e(){Object(p["b"])(u["b"].MSG_ACTION,{contexts:{ui_context:{action:u["g"].CLICK,step:u["i"].MESSAGE_ACTION_DIALOG,ui_element:u["h"].GET_MORE_APP_ACTIONS},platform:{app_actions_showing:this.props.appActions.length}}})}},{key:"onSelectAction",value:function e(t,r){var n=this.props,a=n.ts,i=n.channelId,o=n.closeModal,s=n.handleMessageAction,e=n.onSelectAction;o();this.props.onClose&&this.props.onClose(t);var c=e(t,r,{ts:a,channelId:i});c||s(t,r,{ts:a,channelId:i});Object(v["b"])(r,this.state.normalizedFilterQuery);var l={ui_context:{action:u["g"].CLICK,step:u["i"].MESSAGE_ACTION_DIALOG,ui_element:r.uiElement}};r.appId&&(l.platform={app_id:r.appId,action_id:r.id});Object(p["b"])(u["b"].MSG_ACTION,{contexts:l})}},{key:"onFilterUpdate",value:function e(t){var r=Object(d["a"])(t);this.setState(function(){return{filterQuery:t,normalizedFilterQuery:r}})}},{key:"getActions",value:function e(){var t=[].concat(A(Object(n["map"])(this.props.slackActions,this.formatSlackAction)),A(Object(n["map"])(this.props.appActions,E["a"])));t=Object(n["filter"])(t,this.filterAction);t=Object(v["c"])(t,this.state.normalizedFilterQuery);return t}},{key:"handleSelectEvent",value:function e(t,r,n){this.onSelectAction(n,r.props.action)}},{key:"filterAction",value:function e(t){return Object(E["b"])(t,this.state.normalizedFilterQuery)}},{key:"formatSlackAction",value:function e(t){var r=this.props.featureAppActionsFe;return I({},t,{danger:false,description:r?L.t("Slack",{fallbackHash:"430b38bf6daa7f9164b164b2ffd540b5a3afe2fd"}):""})}},{key:"renderTitle",value:function e(t){return c.a.createElement("div",{className:"p-app_actions_dialog__title","data-qa-app-actions-dialog-title":true},c.a.createElement("div",{className:"p-app_actions_dialog__title_text"},t))}},{key:"renderMessagePreview",value:function e(){var t=this.props,r=t.channelId,n=t.ts;return c.a.createElement("div",{className:"p-app_actions_dialog__message","data-qa-app-actions-dialog-message":true},c.a.createElement(C["a"],{channelId:r,ts:n}))}},{key:"renderLoading",value:function e(){return c.a.createElement("div",{className:"p-app_actions_dialog__loader"},c.a.createElement(g["a"],null))}},{key:"renderSingleAction",value:function e(t){var r=c.a.createElement(w["a"],{key:t.id,pillarClassName:"p-app_actions_dialog_option",action:t});return{label:r,value:t.id}}},{key:"renderSelect",value:function e(){var t=this.props.featureAppActionsFe;var r=t?L.t("Search message actions\u2026"):"";return c.a.createElement(y["b"],{"data-qa":"app-actions-dialog-list",isAlwaysOpen:true,usePlaceholderOption:false,autoSelectFirstOption:true,focusInputOnMount:true,placeholder:r,icon:"search",id:"p-app_actions_dialog__select",className:"p-app_actions_dialog__select",pillarClassName:"p-app_actions_dialog",onChange:this.handleSelectEvent,onFilterInputChange:this.onFilterUpdate,options:Object(n["map"])(this.getActions(),this.renderSingleAction),optionsRowHeight:D})}},{key:"render",value:function e(){var t=this.props,r=t.isLoading,n=t.featureAppActionsFe;var a=n?L.t("Get more message actions"):"";var i=n?L.t("Use an action"):"";return c.a.createElement(_["a"],{contentLabel:i,className:"p-app_actions_dialog",overlayClassName:"p-app_actions_dialog__overlay",footerIcon:"external-link",footerLink:F,onFooterLinkClick:this.onFooterLinkClick,footerText:a,goOnEnterPressed:false,onCancel:this.props.onClose,showCancelButton:false,showGoButton:false,title:this.renderTitle(i),ariaContent:{describedby:"p-app_actions_pillow__body"},useSlackScrollbar:false},this.renderMessagePreview(),r?this.renderLoading():this.renderSelect())}}]);return t}(s["Component"]);H.displayName="AppActionsDialog";H.propTypes=B;H.defaultProps=U;function q(e,t){var r=x(e),a=r.loading,i=r.actions;var o=Object(n["filter"])([O["a"](e,t),O["b"](e,t),O["c"](e,t),O["d"](e,t),O["e"](e,t),O["f"](e,t),O["g"](e,t),O["i"](e,t),O["j"](e,t),O["k"](e,t),O["l"](e,t)]);var s=!!(a||Object(n["find"])(o,"isLoading"));return{slackActions:o,appActions:i,isLoading:s,featureAppActionsFe:Object(m["isFeatureEnabled"])(e,"feature_app_actions_fe")}}var G=function e(t){return{closeModal:function e(){return t(Object(j["closeModal"])())},onLoad:function e(){return t(Object(h["ensureFresh"])())},handleMessageAction:function e(){for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return b["b"].apply(void 0,n.concat([t]))}}};var W={};Object.defineProperty(W,"selectMessageActions",{get:function e(){return x},set:function e(t){x=t}});t["a"]=Object(l["connect"])(q,G)(H)},18042:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(18590);var o=r(16915);var s=r(16992);var c=r(16930);var l=r(17059);var u=r(16940);var p=Object(o["e"])("Animate a message deletion as well as calling the delete API endpoint",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.channelId,a=r.ts,o=r.broadcastDelete,p=void 0!==o&&o;var f=t();var d=Object(c["getMessageByTimestamp"])(f,n,a);if(!d)return Promise.resolve();e(Object(l["animateDeleteMessage"])({channelId:n,ts:a}));if(Object(u["isTempTs"])(a)||Object(u["isEphemeral"])(d))return Promise.resolve();return Object(i["a"])({channelId:n,ts:a,broadcastDelete:p}).catch(function(t){if("message_not_found"!==t.message){e(Object(l["animateDeleteMessage"])({channelId:n,ts:a,isDeleting:false}));if(p)e(Object(c["showThreadBroadcast"])({channelId:n,ts:a}));else{e(Object(s["addTimestamps"])({channelId:n,timestamps:[a]}));e(Object(c["addMessages"])([d]))}}throw t})});p.propTypes={channelId:a.a.string.isRequired,ts:a.a.string.isRequired,broadcastDelete:a.a.bool};t["a"]=p;var f={animateAndDeleteMessageApi:p}},18043:function(e,t,r){"use strict";t["a"]=f;var n=r(1);var a=r.n(n);var i=r(20405);var o=r(17086);var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var c=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;if(void 0===o)return;return o.call(n)};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function f(e){return function(t){p(r,t);function r(t){l(this,r);var a=u(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t));a.uniqueId=Object(n["uniqueId"])();a.name=Object(n["snakeCase"])(e.name);a.logMetrics=Object(o["a"])(1);return a}s(r,[{key:"componentWillMount",value:function e(){var t;this.logMetrics&&i["d"]("react_"+this.name+"_mount_mark_"+this.uniqueId);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];c(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"componentWillMount",this)&&(t=c(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"componentWillMount",this)).call.apply(t,[this].concat(a))}},{key:"componentDidMount",value:function e(){var t;for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];c(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"componentDidMount",this)&&(t=c(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"componentDidMount",this)).call.apply(t,[this].concat(a));this.logMetrics&&i["f"]("react_"+this.name+"_mount","react_"+this.name+"_mount_mark_"+this.uniqueId)}},{key:"componentWillUpdate",value:function e(){var t;this.logMetrics&&i["d"]("react_"+this.name+"_update_mark_"+this.uniqueId);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];c(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"componentWillUpdate",this)&&(t=c(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"componentWillUpdate",this)).call.apply(t,[this].concat(a))}},{key:"componentDidUpdate",value:function e(){var t;for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];c(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"componentDidUpdate",this)&&(t=c(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"componentDidUpdate",this)).call.apply(t,[this].concat(a));this.logMetrics&&i["f"]("react_"+this.name+"_update","react_"+this.name+"_update_mark_"+this.uniqueId)}}]);return r}(e)}},18044:function(e,t,r){"use strict";r.d(t,"b",function(){return E});var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(45);var c=r(8);var l=r.n(c);var u=r(1);var p=r.n(u);var f=r(16912);var d=r(18598);var v=r(16972);var h=r(16918);var m=r(16998);var b=r(16932);var _=r(18599);var g=r(20186);var y=r.n(g);var O=new f["b"]("reactions");var E={count:a.a.number.isRequired,name:a.a.string.isRequired,users:a.a.arrayOf(a.a.string).isRequired,url:a.a.string,currentUser:a.a.string,onClick:a.a.func,emojiMode:a.a.string};var j={url:null,currentUser:null,onClick:p.a.noop,emojiMode:null};function k(e){var t=":"+e+":";var r=f["n"]!==f["b"].DEFAULT_LOCALE?Object(v["o"])(t):t;return O.t("React with {emojiName}",{emojiName:Object(d["a"])(r),note:"Screenreader: Label for blind users"})}var w=function e(t){var r=t.count,n=t.name,a=t.users,i=t.url,s=t.currentUser,c=t.onClick,u=t.emojiMode;var f=p.a.includes(a,s);var d=o.a.createElement(_["a"],{users:a,count:r,emoji:n,reacted:f});var v=k(n);return o.a.createElement(b["c"],{tip:d,delay:b["a"]},o.a.createElement(h["c"],{className:l()("c-reaction",{"c-reaction--reacted":f}),onClick:function e(t){t.preventDefault();c(n,f)},"aria-label":v},o.a.createElement(m["a"],{text:":"+n+":",url:i,showTooltip:false,emojiMode:u}),o.a.createElement("span",{className:"c-reaction__count"},r)))};w.displayName="Reaction";w.propTypes=E;w.defaultProps=j;t["a"]=Object(s["pure"])(w)},18046:function(e,t,r){"use strict";t["a"]=d;var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(16918);var c=r(16912);var l=r(16917);var u=r(16932);var p=new c["b"]("emoji");var f={onClick:a.a.func.isRequired};function d(e){var t=e.onClick;return o.a.createElement(u["c"],{tip:p.t("Add reaction..."),delay:u["a"]},o.a.createElement(s["c"],{className:"c-reaction_add",onClick:t,"aria-label":p.t("Add reaction..."),"data-qa":"add_reaction_button"},o.a.createElement("div",{className:"c-reaction_add__container"},o.a.createElement(l["b"],{type:"small-reaction-bg",className:"c-reaction_add__icon c-reaction_add__icon--bg","aria-hidden":true}),o.a.createElement(l["b"],{type:"small-reaction",className:"c-reaction_add__icon c-reaction_add__icon--fg","aria-hidden":true}))))}d.displayName="ReactionAddButton";d.propTypes=f},18047:function(e,t,r){"use strict";t["a"]=a;var n=r(16929);function a(e){return Object(n["c"])("reminders.addFromMessage",e)}},18048:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.ui.share_message_dialog.start",function(){return null});var i={start:a}},18049:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(16915);var o=r(18619);var s=r(16930);var c=r(16913);var l=r(17120);var u=new Error("unknown_error");var p=Object(i["e"])("Optimistically save edits to a message",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.channelId,a=r.text,i=r.ts,p=r._commitMessageEdit,f=void 0===p?o["a"]:p;e(Object(l["stopEditingMessage"])({channelId:n,ts:i}));var d=t();var v=Object(c["getCurrentUserId"])(d);var h=Object(s["getMessageByTimestamp"])(d,n,i)||{};e(Object(s["editMessage"])({ts:i,channelId:n,text:a,memberId:v}));return f({channelId:n,text:a,ts:i}).catch(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;if("message_not_found"===t.message)e(Object(s["removeMessage"])({channel:n,ts:i}));else{var r=h.edited||{};e(Object(s["editMessage"])({ts:i,channelId:n,text:h.text,memberId:r.user,editTs:r.ts}))}throw t})});p.propTypes={channelId:a.a.string.isRequired,text:a.a.string,ts:a.a.string,_commitMessageEdit:a.a.func};t["a"]=p},18050:function(e,t,r){"use strict";var n=r(18628);var a=r(18629);var i=r(18630);var o=r(18631);var s=r(18632);var c=r(18633);var l=r(18634);var u=r(18635);var p=r(18637);var f=r(18638);var d=r(18639);var v=r(18640);r.d(t,"a",function(){return n["a"]});r.d(t,"b",function(){return a["a"]});r.d(t,"c",function(){return i["a"]});r.d(t,"d",function(){return o["a"]});r.d(t,"e",function(){return s["a"]});r.d(t,"f",function(){return c["a"]});r.d(t,"g",function(){return l["a"]});r.d(t,"h",function(){return u["a"]});r.d(t,"i",function(){return p["a"]});r.d(t,"j",function(){return f["a"]});r.d(t,"k",function(){return d["a"]});r.d(t,"l",function(){return v["a"]})},18051:function(e,t,r){"use strict";var n=r(18641);var a=r(18642);r.d(t,"a",function(){return n["a"]});r.d(t,"b",function(){return a["a"]})},18053:function(e,t,r){"use strict";var n=r(18653);r.d(t,"a",function(){return n["a"]});t["b"]=n["b"]},18054:function(e,t,r){"use strict";var n=r(18654);var a=r(18055);var i=r(18059);var o=r(18060);var s=r(18659);var c=r(18061);var l=r(18660);var u=r(18063);var p=r(17839);r.d(t,"a",function(){return a["a"]});r.d(t,"b",function(){return i["a"]});r.d(t,"c",function(){return o["a"]});r.d(t,"d",function(){return s["a"]});r.d(t,"e",function(){return c["a"]});r.d(t,"h",function(){return u["a"]});r.d(t,"i",function(){return l["a"]});r.d(t,"f",function(){return p["b"]});r.d(t,"g",function(){return p["a"]});t["j"]=n["a"]},18055:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(8);var l=r.n(c);var u=r(16923);var p=r(16919);var f=r(16912);var d=r(17052);var v=r(16920);var h=r(16921);var m=r(17113);var b=r(17139);var _=r(16963);var g=r(18056);var y=r(18058);var O=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=new f["b"]("message_pane_foreword");var C={channelId:a.a.string,purpose:a.a.string,creatorIsYou:a.a.bool,createdById:a.a.string,dateCreated:a.a.number,isPrivate:a.a.bool,isUserRestricted:a.a.bool};var S={channelId:null,purpose:null,creatorIsYou:false,createdById:null,dateCreated:null,isPrivate:false,isUserRestricted:false};var T=function(e){k(t,e);function t(){E(this,t);return j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}O(t,[{key:"renderTitle",value:function e(){var t=this.props.channelId;var r={inherit:true,align:"baseline"};return o.a.createElement("h1",{className:"p-message_pane__foreword__title"},o.a.createElement(_["a"],{channelId:t,inline:true,iconProps:r}))}},{key:"renderDescription",value:function e(){var t=this.props,r=t.channelId,n=t.createdById,a=t.creatorIsYou,i=t.dateCreated,s=t.isPrivate,c=t.purpose,l=t.isUserRestricted;var u=void 0;if(i){u=Object(d["f"])(i);u=Object(d["b"])(i)||Object(d["c"])(i)?u.toLowerCase():w.t("on {date}",{date:u})}else u=w.rt("on {date}",{date:o.a.createElement(m["a"],{type:"unknown"})});var p={inherit:true,align:"baseline"};var f=o.a.createElement(_["a"],{channelId:r,inline:true,iconProps:p,className:"bold"});var v=void 0;if(a)v=s?w.rt("You created this private channel {date}. This is the very beginning of the {name} channel.",{date:u,name:f}):w.rt("You created this channel {date}. This is the very beginning of the {name} channel.",{date:u,name:f});else{var h=n?o.a.createElement(b["a"],{id:n}):o.a.createElement(m["a"],{type:"unknown"});v=s?w.rt("{creator} created this private channel {date}. This is the very beginning of the {name} channel.",{creator:h,date:u,name:f}):w.rt("{creator} created this channel {date}. This is the very beginning of the {name} channel.",{creator:h,date:u,name:f})}return o.a.createElement(y["a"],{channelId:r,description:v,purpose:c,isUserRestricted:l})}},{key:"render",value:function e(){var t=this.props,r=t.channelId,n=t.isPrivate;var a=l()("p-message_pane__foreword",{"p-message_pane__foreword--private":n});return o.a.createElement("div",{className:a},this.renderTitle(),this.renderDescription(),o.a.createElement(g["a"],{channelId:r}))}}]);return t}(i["PureComponent"]);T.displayName="ChannelForeword";T.propTypes=C;T.defaultProps=S;function I(e,t){var r=t.channelId;var n=Object(u["getChannelById"])(e,r);if(!n)return{};var a=Object(p["getCurrentMember"])(e);var i=n.purpose?n.purpose.value:null;var o=Object(v["isPrivateChannel"])(n);return{purpose:i,creatorIsYou:a&&a.id===n.creator,createdById:n.creator,dateCreated:n.created,isPrivate:o,isUserRestricted:Object(h["O"])(a)}}t["a"]=Object(s["connect"])(I)(T)},18056:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(16923);var l=r(16919);var u=r(16920);var p=r(16921);var f=r(18057);var d=r(18034);var v=r(17995);var h=r(17674);var m=r(16943);var b=r(18655);var _=r(18656);var g=r(18657);var y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k={channelId:a.a.string,purpose:a.a.string,isUserRestricted:a.a.bool,isUserUltraRestricted:a.a.bool,isOrgShared:a.a.bool,channelType:a.a.string};var w={channelId:null,purpose:null,isUserRestricted:false,isUserUltraRestricted:false,isOrgShared:false,channelType:null};var C=function(e){j(t,e);function t(e){O(this,t);var r=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onPurposeButtonClick=r.onPurposeButtonClick.bind(r);r.onInviteButtonClick=r.onInviteButtonClick.bind(r);r.onAppButtonClick=r.onAppButtonClick.bind(r);return r}y(t,[{key:"onPurposeButtonClick",value:function e(){var t=this.props.channelId;Object(f["a"])(t)}},{key:"onInviteButtonClick",value:function e(){var t=this.props.channelId;Object(d["a"])(t)}},{key:"onAppButtonClick",value:function e(){var t=this.props.channelId;Object(h["a"])()?Object(v["g"])():Object(m["g"])("/apps/new?channel="+t,"new")}},{key:"render",value:function e(){var t=this.props,r=t.channelId,n=t.isOrgShared,a=t.isUserRestricted,i=t.isUserUltraRestricted,s=t.purpose,c=t.channelType;var l=void 0;s||a||(l=o.a.createElement(g["a"],{channelId:r,onClick:this.onPurposeButtonClick}));var u=void 0;n||a||(u=o.a.createElement(b["a"],{onClick:this.onAppButtonClick}));var p=void 0;(!i||"channel"===c&&"private"===c)&&(p=o.a.createElement(_["a"],{onClick:this.onInviteButtonClick,isPrivate:"private"===c}));return o.a.createElement("div",{className:"p-message_pane__foreword__buttons"},l,u,p)}}]);return t}(i["PureComponent"]);C.displayName="ChannelForewordButtons";C.propTypes=k;C.defaultProps=w;function S(e,t){var r=t.channelId;var n=Object(c["getChannelById"])(e,r);if(!n)return{};var a=Object(l["getCurrentMember"])(e);var i=n.purpose?n.purpose.value:null;var o=Object(u["isOrgSharedPublicOrPrivateChannel"])(n);return{purpose:i,isUserRestricted:Object(p["O"])(a),isUserUltraRestricted:Object(p["T"])(a),isOrgShared:o,channelType:Object(u["getChannelType"])(n)}}t["a"]=Object(s["connect"])(S)(C)},18057:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(1);var a=r.n(n);var i=r(16914);var o=Object(i["c"])("TS.ui.purpose_dialog.start",a.a.noop)},18058:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(16938);var c=r(16918);var l=r(16912);var u=r(18057);var p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=new l["b"]("message_pane_foreword");var m={channelId:a.a.string,description:a.a.node,purpose:a.a.string,isUserRestricted:a.a.bool};var b={channelId:null,description:null,purpose:null,isUserRestricted:false};var _=function(e){v(t,e);function t(e){f(this,t);var r=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onPurposeButtonClick=r.onPurposeButtonClick.bind(r);return r}p(t,[{key:"onPurposeButtonClick",value:function e(){var t=this.props.channelId;Object(u["a"])(t)}},{key:"maybeRenderPurpose",value:function e(){var t=this.props.purpose;if(!t)return null;return o.a.createElement("span",null," ",h.t("Purpose:")," ",o.a.createElement(s["a"],{text:t}))}},{key:"maybeRenderPurposeEditLink",value:function e(){var t=this.props,r=t.purpose,n=t.isUserRestricted;if(!r||n)return null;return o.a.createElement("span",{className:"no_wrap"}," ","(",o.a.createElement(c["a"],{type:"link",onClick:this.onPurposeButtonClick},h.t("edit")),")")}},{key:"render",value:function e(){var t=this.props.description;return o.a.createElement("div",{className:"p-message_pane__foreword__description"},t,this.maybeRenderPurpose(),this.maybeRenderPurposeEditLink())}}]);return t}(i["PureComponent"]);_.displayName="ChannelForewordDescription";_.propTypes=m;_.defaultProps=b;t["a"]=_},18059:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(16923);var l=r(16913);var u=r(16919);var p=r(16920);var f=r(16921);var d=r(17710);var v=r(16912);var h=r(17164);var m=r(16969);var b=r(16938);var _=r(20034);var g=r(18658);var y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=new v["b"]("message_pane_foreword");var w={isAppSpaceEnabled:a.a.bool.isRequired,memberId:a.a.string,type:a.a.oneOf(["self","bot","member"]).isRequired};var C={memberId:null};var S=function(e){j(t,e);function t(e){O(this,t);var r=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onMemberClick=r.onMemberClick.bind(r);return r}y(t,[{key:"onMemberClick",value:function e(t){t.preventDefault();var r=this.props.memberId;Object(m["g"])(r)}},{key:"renderAvatar",value:function e(){var t=this.props.memberId;return o.a.createElement("div",{className:"p-message_pane__foreword__avatars"},o.a.createElement(_["a"],{id:t,size:"large",onClick:this.onMemberClick,showPresence:true,showStatus:true,showAvatar:true}))}},{key:"renderDescription",value:function e(){var t=this.props,r=t.memberId,n=t.type;if("self"===n)return o.a.createElement("div",{className:"p-message_pane__foreword__description","data-qa":"im_foreword_description"},k.rt("<b>This is your space.</b> Draft messages, list your to-dos, or keep links and files handy. You can also talk to yourself here, but please bear in mind you\u2019ll have to supply both sides of the conversation."));var a=k.t("This is the very beginning of your direct message history with {name}",{name:Object(v["l"])(Object(d["b"])(r))});return o.a.createElement("div",{className:"p-message_pane__foreword__description","data-qa":"im_foreword_description"},o.a.createElement(b["a"],{text:a}))}},{key:"renderButtons",value:function e(){var t=this.props,r=t.isAppSpaceEnabled,n=t.memberId,a=t.type;if("bot"===a&&r)return o.a.createElement("div",{className:"p-message_pane__foreword__buttons"},o.a.createElement(g["a"],{botId:n}));return null}},{key:"render",value:function e(){return o.a.createElement("div",{className:"p-message_pane__foreword"},this.renderAvatar(),this.renderDescription(),this.renderButtons())}}]);return t}(i["PureComponent"]);S.displayName="BaseImForeword";S.propTypes=w;S.defaultProps=C;function T(e,t){var r=t.channelId;var n=Object(c["getChannelById"])(e,r);if(!n)return{};var a=Object(u["getMemberById"])(e,Object(p["getMemberIdFromIm"])(n));var i=Object(l["getCurrentUserId"])(e);var o=void 0;o=Object(p["getMemberIdFromIm"])(n)===i?"self":Object(f["y"])(a)?"bot":"member";return{isAppSpaceEnabled:Object(h["isAppSpaceEnabled"])(e),memberId:Object(p["getMemberIdFromIm"])(n),type:o}}var I=Object(s["connect"])(T)(S);I.propTypes={channelId:a.a.string};I.defaultProps={channelId:null};t["a"]=I},18060:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(16923);var l=r(16919);var u=r(16939);var p=r(16920);var f=r(16921);var d=r(16938);var v=r(20034);var h=r(17710);var m=r(16912);var b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=new m["b"]("message_pane_foreword");var E={memberId:a.a.string,teamName:a.a.string};var j={memberId:null,teamName:null};var k=function(e){y(t,e);function t(){_(this,t);return g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}b(t,[{key:"renderAvatar",value:function e(){var t=this.props.memberId;return o.a.createElement("div",{className:"p-message_pane__foreword__avatars"},o.a.createElement(v["a"],{id:t,size:"large",showPresence:true,showStatus:true,showAvatar:true}))}},{key:"renderDescription",value:function e(){var t=this.props,r=t.teamName,n=t.memberId;var a=O.t("{name} is from {team} and not a member of your team, so share files and information with care.",{name:Object(m["l"])(Object(h["b"])(n)),team:Object(m["l"])(Object(h["a"])(r))});return o.a.createElement("div",{className:"p-message_pane__foreword__description"},o.a.createElement(d["a"],{text:a,noTeamIcon:true}))}},{key:"render",value:function e(){return o.a.createElement("div",{className:"p-message_pane__foreword"},this.renderAvatar(),this.renderDescription())}}]);return t}(i["PureComponent"]);k.displayName="ImSharedForeword";k.propTypes=E;k.defaultProps=j;function w(e,t){var r=t.channelId;var n=Object(c["getChannelById"])(e,r);if(!n)return{};var a=Object(l["getMemberById"])(e,Object(p["getMemberIdFromIm"])(n));var i=Object(f["o"])(a);var o=Object(u["getTeamById"])(e,i);var s=Object(h["c"])(o.id);return{memberId:Object(p["getMemberIdFromIm"])(n),teamName:s}}t["a"]=Object(s["connect"])(w)(k)},18061:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(263);var l=r.n(c);var u=r(16913);var p=r(16923);var f=r(17726);var d=r(16919);var v=r(16939);var h=r(16920);var m=r(17405);var b=r(16921);var _=r(17400);var g=r(16985);var y=r(16918);var O=r(16938);var E=r(16912);var j=r(17744);var k=r(17580);var w=r(17710);var C=r(18062);var S=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function N(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A=new E["b"]("message_pane_foreword");var P={channelId:a.a.string.isRequired,members:a.a.arrayOf(a.a.shape({id:a.a.string,name:a.a.string})),teamNames:a.a.arrayOf(a.a.string),notificationPermission:a.a.string,notificationSetting:a.a.oneOf(["everything","mentions_dms","nothing"]),featureReactMessages:a.a.bool};var R={members:[],teamNames:null,notificationPermission:"na",notificationSetting:"everything",featureReactMessages:true};var M=function(e){N(t,e);function t(e){T(this,t);var r=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.openPrefsDialog=r.openPrefsDialog.bind(r);r.openChannelPrefsDialog=r.openChannelPrefsDialog.bind(r);r.state=Object(m["g"])();return r}S(t,[{key:"componentWillReceiveProps",value:function e(t){this.props.notificationPermission!==t.notificationPermission&&this.setState(function(){return Object(m["g"])()})}},{key:"getNotificationWarningText",value:function e(){var t=this;var r=this.state,n=r.notificationsEnabled,a=r.notificationDisabledType;if(n)return null;switch(a){case"not_yet_allowed":return A.rt("You have not yet allowed desktop notifications. Open the <button>Preferences Dialog</button> and follow the instructions to set them up.",null,function(e){var r=e.key,n=e.text;return o.a.createElement(y["a"],{onClick:t.openPrefsDialog,key:r,type:"link"},n)});case"not_allowed":return A.t("You\u2019ve disallowed notifications in your browser. You\u2019ll need to open your browser preferences to change that.");case"impossible":return A.rt("Your browser does not support desktop notifications. <a>Try one of our apps?</a>",{},function(e){var t=e.key,r=e.text;return o.a.createElement("a",{target:"_blank",key:t,href:"/downloads"},r)});default:return null}}},{key:"openPrefsDialog",value:function e(){Object(k["a"])("notifications")}},{key:"openChannelPrefsDialog",value:function e(){Object(j["a"])(this.props.channelId)}},{key:"renderAvatars",value:function e(){var t=this.props.members;var r=t.map(function(e){var t=e.id;return o.a.createElement(g["b"],{key:t,className:"p-message_pane__foreword__avatar",userId:t,size:56})});return o.a.createElement("div",{className:"p-message_pane__foreword__avatars"},r)}},{key:"renderDescription",value:function e(){var t=this.props,r=t.members,n=t.teamNames,a=t.featureReactMessages;if(n&&a){var i=Object(E["e"])(n.map(w["a"]));var s=A.t("This conversation includes people from {teams}, so share files and information with care.",{teams:i.join("")});return o.a.createElement("div",{className:"p-message_pane__foreword__description"},o.a.createElement(O["a"],{text:s}),this.renderDescriptionActions())}var c=r.map(function(e){var t=e.id;return Object(w["b"])(t)});var l=Object(E["e"])(c,{noEscape:true});var u=A.t("This is the very beginning of your direct message history with {names}",{names:Object(E["l"])(l.join(""))});return o.a.createElement("div",{className:"p-message_pane__foreword__description"},o.a.createElement(O["a"],{text:u}),this.renderDescriptionActions())}},{key:"renderDescriptionActions",value:function e(){var t=this.getNotificationWarningText();if(t)return o.a.createElement("div",{className:"p-message_pane__foreword__notification_warning"},t);if(!this.props.featureReactMessages)return null;var r=this.props.notificationSetting;if("everything"===r)return o.a.createElement("div",{className:"p-message_pane__foreword__notification_setting"},A.rt("You\u2019ll be notified for <strong>every new message</strong>.")," ",this.renderEditButton());if("mentions_dms"===r)return o.a.createElement("div",{className:"p-message_pane__foreword__notification_setting"},A.rt("You\u2019ll be notified when <strong>a teammate mentions you or uses one of your keywords</strong>.")," ",this.renderEditButton());return o.a.createElement("div",{className:"p-message_pane__foreword__notification_setting"},A.rt("You won\u2019t receive notifications.")," ",this.renderEditButton())}},{key:"renderEditButton",value:function e(){if(!this.props.featureReactMessages)return null;return o.a.createElement(y["a"],{onClick:this.openChannelPrefsDialog,type:"link"},A.rt("Edit"))}},{key:"render",value:function e(){return o.a.createElement("div",{className:"p-message_pane__foreword"},this.renderAvatars(),this.renderDescription())}}]);return t}(i["PureComponent"]);M.displayName="BaseMpimForeword";M.propTypes=P;M.defaultProps=R;var x=function e(t){return function(e){return Object(b["q"])(t,e)}};var L=Object(c["createSelector"])(function(e,t){var r=t.channelId;return Object(p["getChannelById"])(e,r)},d["getAllMembers"],u["getCurrentUserId"],function(e){return x(e)},function(e,t,r,n){if(!e||!Object(h["getMemberIdsFromMpim"])(e)||!t)return[];var a=Object(h["getMemberIdsFromMpim"])(e).filter(function(e){return e!==r});var i=Object(C["a"])(t,a);return i.map(function(e){return{id:e.id,name:n(e)}})});var D=Object(c["createSelector"])(function(e,t){var r=t.channelId;return Object(p["getChannelById"])(e,r)},v["getAllTeams"],function(e,t){var r=t.channelId;var n=Object(p["getChannelById"])(e,r);Object(h["isExternallySharedChannel"])(n)&&Object(v["getTeamsById"])(e,Object(h["getSharedTeamIds"])(n))},function(e,t){if(!Object(h["isExternallySharedChannel"])(e)||!Object(h["getSharedTeamIds"])(e))return null;var r=Object(h["getSharedTeamIds"])(e);return r.map(function(e){var r=t[e];return Object(_["getTeamDisplayName"])(r)})});function F(e,t){return{members:L(e,t),teamNames:D(e,t),notificationPermission:Object(f["getNotificationPermission"])(e),notificationSetting:Object(m["c"])(e,t.channelId),featureReactMessages:Object(u["isFeatureEnabled"])(e,"feature_react_messages")}}var B=Object(s["connect"])(F)(M);B.propTypes={channelId:a.a.string};B.defaultProps={channelId:null};t["a"]=B},18062:function(e,t,r){"use strict";t["a"]=i;var n=r(1);var a=r.n(n);function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.doCompact,i=void 0===n||n;if(a.a.isEmpty(e)||a.a.isEmpty(t))return[];var o=[];var s=t.length;for(var c=0;c<s;c+=1){var l=t[c];var u=e[l];!u&&i||o.push(u)}return o}},18063:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(9);var f=r(263);var d=r.n(f);var v=r(16923);var h=r(16939);var m=r(16925);var b=r(16919);var _=r(16920);var g=r(17400);var y=r(16912);var O=r(20398);var E=r(16963);var j=r(16993);var k=r(18056);var w=r(18058);var C=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function S(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function N(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A=new y["b"]("message_pane_foreword");var P={channel:o.a.object,channelId:o.a.string,isPrivate:o.a.bool,isPendingShared:o.a.bool,currentTeam:o.a.shape({id:o.a.string.isRequired,name:o.a.string.isRequired}),sharedTeams:o.a.arrayOf(o.a.shape({id:o.a.string.isRequired,name:o.a.string})),purpose:o.a.string,isUserRestricted:o.a.bool};var R={channel:null,channelId:null,isPrivate:false,isPendingShared:false,currentTeam:null,sharedTeams:[],purpose:null,isUserRestricted:false};var M=function(e){N(t,e);function t(){T(this,t);var e=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.renderTeamName=e.renderTeamName.bind(e);return e}C(t,[{key:"renderTitle",value:function e(){var t=this.props.channel;var r={inherit:true,align:"baseline"};return c.a.createElement("h1",{className:"p-message_pane__foreword__title"},c.a.createElement(E["a"],{channel:t,inline:true,iconProps:r}))}},{key:"renderAvatars",value:function e(){var t=this.props,r=t.sharedTeams,n=t.currentTeam,i=t.isPendingShared;if(a.a.isEmpty(r))return null;var o=a.a.uniqBy([n].concat(S(r)),"id");var s=o.map(function(e){var t=e.id;var r=n.id!==t&&i;return c.a.createElement(j["b"],{key:t,id:t,size:56,isPendingShared:r,className:"p-message_pane__foreword__avatar"})});return c.a.createElement("div",{className:"p-message_pane__foreword__avatars"},s)}},{key:"renderTeamName",value:function e(t){if(Object(g["isUnknown"])(t))return c.a.createElement(O["a"],{type:"unknown"});return Object(g["getTeamDisplayName"])(t)}},{key:"renderDescription",value:function e(){var t=this.props,r=t.channelId,n=t.purpose,a=t.currentTeam,i=t.sharedTeams,o=t.isPendingShared,s=t.isUserRestricted;var l=[a].concat(S(i));var u=l.map(this.renderTeamName);1===u.length&&u.push(c.a.createElement(O["a"],{type:"unknown"}));var p=Object(y["e"])(u,{noEscape:true,react:true,strong:true});var f=o?A.rt("This is a shared channel. Waiting for {names} to join...",{names:p}):A.rt("This is a shared channel between {names}.",{names:p});return c.a.createElement(w["a"],{channelId:r,description:f,purpose:n,isUserRestricted:s})}},{key:"render",value:function e(){var t=this.props,r=t.channelId,n=t.isPrivate;var a=u()("p-message_pane__foreword",{"p-message_pane__foreword--private":n});return c.a.createElement("div",{className:a},this.renderAvatars(),this.renderTitle(),this.renderDescription(),c.a.createElement(k["a"],{channelId:r}))}}]);return t}(s["PureComponent"]);M.displayName="SharedForeword";M.propTypes=P;M.defaultProps=R;var x=function e(t){return function(e){return Object(h["getTeamById"])(t,e)}};var L=Object(f["createSelector"])(m["getTeamId"],function(e,t){var r=t.channelId;return Object(v["getChannelById"])(e,r)},function(e){return x(e)},function(e,t,r){var n=[].concat(S(Object(_["getSharedTeamIds"])(t)),S(t.pending_shared));return a()(n).map(function(e){return r(e)}).compact().value()});function D(e,t){var r=t.channelId;var n=Object(v["getChannelById"])(e,r);if(!n)return null;var a=Object(b["getCurrentMember"])(e);var i=n.purpose?n.purpose.value:null;var o=Object(_["isPrivateChannel"])(n);var s=Object(_["isPendingExternallySharedChannel"])(n);var c=L(e,t);var l=Object(h["getTeamById"])(e,Object(m["getTeamId"])(e));return{currentTeam:l,channel:n,purpose:i,isPrivate:o,isPendingShared:s,sharedTeams:c,isUserRestricted:a.is_restricted}}t["a"]=Object(p["connect"])(D)(M)},18064:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(17828);var u=r(17145);var p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var f=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;if(void 0===o)return;return o.call(n)};var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function b(e){var t={};for(var r=0;r<e.length;r++)t[e[r].key]={index:e[r].index,next:c.a.get(e[r+1],"key")};return t}var _=d({},l["a"].propTypes,{stickyItems:o.a.arrayOf(o.a.shape({key:o.a.string,index:o.a.number})),stickyOffsetTop:o.a.number,stickyZIndex:o.a.number});var g=d({},l["a"].defaultProps,{stickyItems:[],stickyOffsetTop:0,stickyZIndex:null});var y=function(e){m(t,e);function t(e){v(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.stickyItems=b(e.stickyItems);return r}p(t,[{key:"componentWillReceiveProps",value:function e(r){f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillReceiveProps",this).call(this,r);this.stickyItems=b(r.stickyItems)}},{key:"renderItem",value:function e(r,n){if(!(r in this.stickyItems))return f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"renderItem",this).call(this,r,n);var i=0===n?-100:this.getTop(r);var o=this.layout.getHeight(r);var s=this.layout.getHeightValidity(r);var c=this.getContentHeight();var l=this.stickyItems[r].next;var p=l?this.getTop(l):c;var d=Math.max(0,c-p);var v=this.props.getAriaLabelForRow;var h=v&&v(n);return a.a.createElement("div",{key:""+r+i+d,className:"c-virtual_list__sticky_container",role:"presentation",style:{top:i,bottom:d}},a.a.createElement(u["a"],{id:r,height:o,validity:s,className:"c-virtual_list__item--sticky",style:{top:this.props.stickyOffsetTop,zIndex:this.props.stickyZIndex},onHeightChange:this.setHeight,ariaLabel:h},this.props.rowRenderer(n)))}},{key:"renderItems",value:function e(){var r=f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"renderItems",this).call(this);var n=this.state.start;var a=c.a.sortedIndexBy(this.props.stickyItems,{index:n},function(e){return e.index})-1;var i=this.props.stickyItems[a];i&&r.unshift(this.renderItem(i.key,i.index));return r}}]);return t}(l["a"]);t["a"]=y;y.propTypes=_;y.defaultProps=g},18065:function(e,t,r){"use strict";var n=r(17836);t["a"]=n["a"]},18066:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(45);var c=r(8);var l=r.n(c);var u=r(16912);var p=new u["b"]("messages");var f={ghost:a.a.bool};var d={ghost:false};function v(e){var t=e.ghost;return o.a.createElement("div",{className:l()({"c-message_list__unread_divider":true,"c-message_list__unread_divider--ghost":t})},o.a.createElement("hr",{className:"c-message_list__unread_divider__separator","aria-hidden":"true"}),o.a.createElement("span",{className:"c-message_list__unread_divider__label"},p.t("new messages")))}v.displayName="UnreadDivider";v.propTypes=f;v.defaultProps=d;t["a"]=Object(s["pure"])(v)},18068:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);function i(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var o=["channel_join","channel_leave","group_join","group_leave"];var s=["app_conversation_join","app_conversation_leave"];var c=function e(t){return"channel_join"===t||"group_join"===t};var l=function e(t){var r={};var n=[];for(var l=0;l<t.length;l++){var u=t[l];n.push(u);a.a.includes(s,u.subtype)&&(r[u.ts]=i({},u.user,{action:"app_conversation_join"===u.subtype?"join":"leave",inviter:u.inviter,ts:u.ts}));if(a.a.includes(o,u.subtype)){r[u.ts]=i({},u.user,{actions:[u.subtype],inviter:u.inviter,ts:u.ts});while(l+1<t.length){var p=t[l+1];if(!a.a.includes(o,p.subtype))break;var f=r[u.ts][p.user]&&r[u.ts][p.user].actions;if(f&&f.length){if(1===f.length&&p.subtype!==f[0]){f.push(p.subtype);p.inviter&&(r[u.ts][p.user].inviter=p.inviter)}else if(2===f.length&&p.subtype!==f[1]){r[u.ts][p.user].actions=[f[1],p.subtype];p.inviter&&(r[u.ts][p.user].inviter=p.inviter)}}else r[u.ts][p.user]={actions:[p.subtype],inviter:p.inviter,ts:p.ts};l+=1}r[u.ts]=a.a.mapValues(r[u.ts],function(e){var t=e.actions,r=e.inviter,n=e.ts;return{action:t.map(function(e){return c(e)?"join":"leave"}).join(","),inviter:r,ts:n}})}}return{messages:n,rollups:r}};t["a"]=l},18070:function(e,t,r){"use strict";t["b"]=I;var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16917);var u=r(17596);var p=r(16943);var f=r(16912);var d=r(18728);var v=r(18729);var h=r(17845);var m=r(20188);var b=r.n(m);var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function j(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var k=new f["b"]("imports");var w={userMapping:a.a.shape({id:a.a.oneOfType([a.a.string,a.a.number]).isRequired,name:a.a.string.isRequired,import_email:a.a.string.isRequired,email:a.a.string.isRequired,email_state:a.a.string.isRequired,mapping:a.a.string.isRequired}).isRequired,allMembers:a.a.object.isRequired,onUserMappingChange:a.a.func};var C={onUserMappingChange:s["noop"]};var S=[{label:k.t("Choose one:"),value:"-",id:"-"},{label:k.t("Create & invite user"),value:"invite",id:"invite"},{label:k.t("Create a disabled user, without inviting them"),value:"create",id:"create"},{label:k.t("Do not create a user, just import messages"),value:"bot",id:"bot"},{label:k.t("Skip user completely, importing no messages"),value:"0",id:"0"}];function T(e){return[].concat(S,j(Object.values(e.allMembers).map(h["a"]))).map(function(t){return t.value===e.userMapping.mapping?g({},t,{preselected:true}):t})}function I(e){return-1===["-","invite","create","bot","0"].indexOf(e)}var N=function(e){E(t,e);function t(e){y(this,t);var r=O(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onEmailChange=r.onEmailChange.bind(r);r.onMappingChange=r.onMappingChange.bind(r);return r}_(t,[{key:"componentWillReceiveProps",value:function e(t){t.userMapping.mapping!==this.props.userMapping.mapping&&this.lazyFilterSelect&&this.lazyFilterSelect.processItems(T(t))}},{key:"onEmailChange",value:function e(t){this.props.onUserMappingChange(g({},this.props.userMapping,{email:t}))}},{key:"onMappingChange",value:function e(t){var r=void 0;var n=this.props.allMembers[t];r=n&&n.profile&&n.profile.email?n.profile.email:this.props.userMapping.import_email;this.props.onUserMappingChange(g({},this.props.userMapping,{mapping:t,email:r}))}},{key:"maybeRenderEmailInput",value:function e(){var t=this;var r=this.props.userMapping,n=r.mapping,a=r.email,i=r.email_state,s=r.import_email,c=r.id;if(a===s&&"ok"===i)return null;if(a===s&&"create"!==n&&"invite"!==n)return null;if(I(n))return null;return o.a.createElement("input",{type:"email",name:"email_"+c,defaultValue:a,onChange:function e(r){return t.onEmailChange(r.target.value)},placeholder:Object(p["a"])(),className:"small small_top_margin"})}},{key:"renderErrors",value:function e(){var t=void 0;switch(this.props.userMapping.email_state){case"duped":t=k.t("Another user has this email.");break;case"empty":t=k.t("An email address is required.");break;case"invalid":t=k.t("This address is invalid.");break;case"ok":default:break}var r=["control-group","small_top_margin",{error:!I(this.props.userMapping.mapping)&&"ok"!==this.props.userMapping.email_state}];return o.a.createElement("div",{className:r},t&&o.a.createElement("span",{className:"small_left_margin help-inline"},o.a.createElement(l["a"],{type:"warning",className:"moscow_red"})," ",t),this.maybeRenderEmailInput())}},{key:"renderUserSelect",value:function e(){var t=this;return o.a.createElement(u["a"],{ref:function e(r){t.lazyFilterSelect=r},items:T(this.props),template:d["a"],tokenTemplate:v["a"],onValueChange:function e(r){return t.onMappingChange(r[0].value)},single:true})}},{key:"renderAction",value:function e(){return o.a.createElement("div",{className:"col span_3_of_6"},this.renderUserSelect(),this.renderErrors())}},{key:"render",value:function e(){return o.a.createElement("div",{className:"p-service_import_mapping_form--user-mapping-row"},o.a.createElement("div",{className:"col span_3_of_6 break_all"},this.props.userMapping.import_email||k.t("no email")),this.renderAction())}}]);return t}(i["PureComponent"]);N.displayName="ServiceImportUserMapping";N.propTypes=w;N.defaultProps=C;t["a"]=N},18072:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(45);var l=r(1);var u=r.n(l);var p=r(16913);var f=r(16932);var d=r(16912);var v=r(17962);var h=new d["b"]("threads");var m={participantNames:a.a.arrayOf(a.a.string).isRequired,replyUsersCount:a.a.number.isRequired,replyCount:a.a.number,prefixWithReplyCount:a.a.bool,includesSelf:a.a.bool,broadcastPreabmle:a.a.bool};var b={replyCount:0,prefixWithReplyCount:false,includesSelf:false,broadcastPreabmle:false};function _(e){var t=e.participantNames,r=e.includesSelf,n=e.replyCount,a=e.replyUsersCount,i=e.prefixWithReplyCount,o=e.broadcastPreabmle;if(o&&1===n)return h.rt("1 reply");if(r)switch(a){case 1:if(i)return h.rt("{replyCount} {replyCount, plural, =1 {reply} other {replies}} from you",{replyCount:n});return h.t("Just you");case 2:if(i)return h.rt("{replyCount} {replyCount, plural, =1 {reply} other {replies}} from {userName} and you",{replyCount:n,userName:t[0]});return h.rt("{userName} and you",{userName:t[0]});default:if(i)return h.rt("{replyCount} {replyCount, plural, =1 {reply} other {replies}} from {userName1}, {userName2}, and you",{replyCount:n,userName1:t[0],userName2:t[1]});return h.rt("{userName1}, {userName2}, and you",{userName1:t[0],userName2:t[1]})}var s=Object(d["e"])(t,{noEscape:true}).join("");if(i)return h.rt("{replyCount} {replyCount, plural, =1 {reply} other {replies}} from {names}",{replyCount:n,names:s});return s}function g(e){var t=e.participantNames,r=e.replyUsersCount,n=e.replyCount,a=e.prefixWithReplyCount;var i=r-2;var s=Object(l["drop"])(t,2);s.length<i&&s.push(h.rt("others"));var c=Object(d["e"])(s,{noEscape:true}).join("");if(a)return h.rt("{replyCount} {replyCount, plural, =1 {reply} other {replies}} from {userName1}, {userName2}, and <span>{numOthers,plural,=1{# other}other{# others}}</span>",{replyCount:n,userName1:t[0],userName2:t[1],numOthers:i},function(e){var t=e.text;return o.a.createElement(f["c"],{tip:c},o.a.createElement("span",null,t))});return h.rt("{userName1}, {userName2}, and <span>{numOthers,plural,=1{# other}other{# others}}</span>",{userName1:t[0],userName2:t[1],numOthers:i},function(e){var t=e.text;return o.a.createElement(f["c"],{tip:c},o.a.createElement("span",null,t))})}function y(e){var t=e.participantNames,r=e.replyUsersCount,n=e.replyCount,a=e.prefixWithReplyCount,i=e.includesSelf,s=e.broadcastPreabmle;return o.a.createElement("span",{className:"p-thread_participant_list"},r<=3?_({participantNames:t,replyCount:n,replyUsersCount:r,prefixWithReplyCount:a,includesSelf:i,broadcastPreabmle:s}):g({participantNames:t,replyCount:n,replyUsersCount:r,prefixWithReplyCount:a}))}y.displayName="ThreadParticipantList";y.propTypes=m;y.defaultProps=b;var O=Object(c["pure"])(y);function E(e,t){var r=t.replyUsers;var n=t.replyUsersCount;var a=Object(p["getCurrentUserId"])(e);var i=Object(l["includes"])(r,a);var o=Object(v["a"])(e,r);n||(n=r.length);return{participantNames:o,replyUsersCount:n,includesSelf:i}}t["a"]=Object(s["connect"])(E)(y)},18107:function(e,t,r){"use strict";t["a"]=a;var n=r(16929);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n["d"])("ublockworkaround.history",e)}},18108:function(e,t,r){"use strict";var n=r(16914);var a=Object(n["c"])("TS.ms.msg_handlers",function(){return{}});t["a"]=a},18109:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(16919);var o=r(16913);var s=r(16923);var c=r(16925);var l=r(16927);var u=r(16974);var p=r(16939);var f=r(17046);var d=r(17061);var v=r(17087);var h=r(16920);var m=r(17941);var b=r(17942);var _=r(17943);var g=r(17944);var y=r(16977);var O=r(16940);var E=r(16978);var j=r(17404);var k=r(17154);var w=r(16991);var C=this;var S=function(){var e=I(regeneratorRuntime.mark(function e(t,r,a,i){var s,c,u,p,f,d,v;return regeneratorRuntime.wrap(function e(h){while(1)switch(h.prev=h.next){case 0:if(!Object(o["isFeatureEnabled"])(a(),"feature_modern_files_info")){h.next=5;break}h.next=3;return Object(l["a"])(r,A({fileIds:t,reason:i}));case 3:s=h.sent;return h.abrupt("return",Object(n["keyBy"])(s,"id"));case 5:if(!(1===t.length)){h.next=12;break}c=t[0];u=null;h.next=10;return P(c,u,i);case 10:p=h.sent;return h.abrupt("return",T({},c,p));case 12:h.next=14;return R(t);case 14:f=h.sent;d=f.data;v={};d.files.forEach(function(e){v[e.id]=e});return h.abrupt("return",v);case 19:case"end":return h.stop()}},e,this)}));return function t(r,n,a,i){return e.apply(this,arguments)}}();function T(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function I(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,i){try{var o=t[a](i);var s=o.value}catch(e){r(e);return}if(!o.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}var N=w["b"];var A=v["d"];var P=y["f"];var R=y["h"];var M=s["getActiveChannel"];var x=s["getChannelById"];var L=y["i"];var D=i["isMemberKnown"];var F=j["a"];var B=j["b"];var U=y["m"];var H=f["getOrFetchMemberCounts"];var q=100;var G=["file_deleted","file_private","message","file_comment_added","file_comment_deleted","file_comment_edited"];var W=["file_public","file_private","file_change","file_shared","file_unshared","star_added","star_removed"];var V=["pin_added","pin_removed"];var K=["member_joined_channel"];var z=["channel_joined","group_joined","mpim_joined","dnd_updated","dnd_updated_user","manual_presence_change","member_left_channel","presence_change","status_change","subteam_created","subteam_updated","user_removed_from_team","user_change","message","channel_created","channel_deleted"];var Q=function e(t,r){var n=ae(r)||{},a=n.objectWithFile;if(!a)return;a.file=t;r._file_attached=true};var Y=function e(t,r,n){if(!r)return true;if(B()&&F(r))return false;var a=Object(o["getCurrentUserId"])(n());if("file_created"===t.type&&t.user_id===a)return false;return!L(r)};function J(e,t){var r=M(t());if(!r)return true;return!Object(h["isIm"])(r)&&!Object(h["isMpim"])(r)&&e!==r.id}function X(e,t){var r=e.type;if(G.indexOf(r)>=0)return true;if(Object(o["isFeatureEnabled"])(t(),"feature_no_files_info")&&W.indexOf(r)>=0)return true;if(Object(o["isFeatureEnabled"])(t(),"feature_less_pins")&&V.indexOf(r)>=0)return true;return false}function Z(e){return Object(o["isFeatureEnabled"])(e,"feature_less_preprocess_fetching")&&Object(o["isFeatureEnabled"])(e,"feature_lazy_channels")&&Object(o["isFeatureEnabled"])(e,"feature_lazy_teams")}function $(e){var t=e.type;return K.indexOf(t)>=0}function ee(e){var t=e.type;return z.indexOf(t)>=0}var te=function e(t,r){var n=[];N(function(e){if(X(e,r))return;var t=ae(e)||{},a=t.fileId;a&&n.indexOf(a)<0&&!Y(e,a,r)&&n.push(a)},t);return n};var re=function(){var e=I(regeneratorRuntime.mark(function e(t,r,n,a){var i;return regeneratorRuntime.wrap(function e(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return S(t,r,n,a);case 2:i=o.sent;N(function(e){if(X(e,n))return;var t=ae(e)||{},r=t.fileId;r&&i[r]&&!Y(e,r,n)&&Q(i[r],e)},r);case 4:case"end":return o.stop()}},e,C)}));return function t(r,n,a,i){return e.apply(this,arguments)}}();var ne=function e(t,r){var n=ae(t)||{},a=n.objectWithFile,i=n.fileId;a&&a.file&&U(a.file);if(!i)return Promise.resolve();var o=r();if(X(t,r))return Promise.resolve();if(t._file_attached)return Promise.resolve();if(Y(t,i,r)){t._should_dispatch=false;return Promise.resolve()}var s=Object(c["getTeamId"])(o);var l=te(s,r).slice(0,q);if(!l.length)return Promise.resolve();var u=t.subtype?"preprocess-rtm-message/ensureFilesInMessageArePresent for type: "+t.type+" and subtype: "+t.subtype:"preprocess-rtm-message/ensureFilesInMessageArePresent for type: "+t.type;return re(l,s,r,u).catch(function(){t._should_dispatch=false})};function ae(e){if(e.file&&e.file.id)return{objectWithFile:e,fileId:e.file.id};if(e.file_id)return{objectWithFile:e,fileId:e.file_id};if(e.item){if(e.item.file&&e.item.file.id)return{objectWithFile:e.item,fileId:e.item.file.id};if(e.item.file_id)return{objectWithFile:e.item,fileId:e.item.file_id}}return null}function ie(e,t,r){if("message"!==e.type||!e.text)return Promise.resolve();var a=O["atHereRegExp"].test(e.text)||O["atChannelRegExp"].test(e.text)||O["atEveryoneRegExp"].test(e.text)||O["atGroupRegExp"].test(e.text);if(!a)return Promise.resolve();var i=false;var o=x(r(),e.channel,i);if(!o)return Promise.resolve();var s=t(H({channelId:o.id}));return s.promise?s.promise.catch(n["noop"]):Promise.resolve()}var oe=function(){var e=I(regeneratorRuntime.mark(function e(t,r){var a,i,o,f,v,h,y,O,j,w,S,T,I,N,A;return regeneratorRuntime.wrap(function e(C){while(1)switch(C.prev=C.next){case 0:if(!(false===t._should_dispatch)){C.next=2;break}return C.abrupt("return");case 2:a=r();i=function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return l["a"].apply(void 0,[Object(c["getTeamId"])(a)].concat(r))};o=Z(a);f=o||$(t);v=o?[]:Object(_["a"])(t);h=o?[]:Object(b["a"])(t);y=o?[]:Object(m["a"])(t);O=f?[]:Object(g["a"])(t);j=v.filter(function(e){return!Object(s["isChannelKnown"])(a,e)});w=h.filter(function(e){return!D(a,e)});S=y.filter(function(e){return!Object(u["isBotKnown"])(a,e)});T=O.filter(function(e){return!Object(p["isTeamKnown"])(a,e)});I=t.subtype?"preprocess-rtm-message/ensureModelObsInMessageArePresent for type: "+t.type+" and subtype: "+t.subtype:"preprocess-rtm-message/ensureModelObsInMessageArePresent for type: "+t.type;N=!!(j.length||w.length||S.length||T.length);A=N?Promise.join(Object(E["e"])(j,I).catch(n["noop"]),i(Object(d["a"])({ids:w,reason:"ensureModelObsArePresent"})).catch(n["noop"]),Object(u["ensureBotsArePresent"])(a,i,S).catch(n["noop"]),Object(k["b"])(T,I).catch(n["noop"])):Promise.resolve();C.next=19;return A.catch(n["noop"]);case 19:C.next=21;return ie(t,i,r).then(n["noop"]);case 21:case"end":return C.stop()}},e,C)}));return function t(r,n){return e.apply(this,arguments)}}();var se=function(){var e=I(regeneratorRuntime.mark(function e(t,r){var n,a;return regeneratorRuntime.wrap(function e(i){while(1)switch(i.prev=i.next){case 0:n=r();a=["message","channel_created","mpim_joined","group_joined"];if(!(Object(o["isFeatureEnabled"])(n,"feature_lazy_channels")&&ee(t))){i.next=6;break}return i.abrupt("return");case 6:if(!(a.indexOf(t.type)<0&&ee(t))){i.next=8;break}return i.abrupt("return");case 8:if(!("user_typing"===t.type&&!D(n,t.user)&&J(t.channel,r))){i.next=11;break}t._should_dispatch=false;return i.abrupt("return");case 11:i.prev=11;i.next=14;return ne(t,r);case 14:i.next=16;return oe(t,r);case 16:i.next=20;break;case 18:i.prev=18;i.t0=i["catch"](11);case 20:case"end":return i.stop()}},e,C,[[11,18]])}));return function t(r,n){return e.apply(this,arguments)}}();t["a"]=function(){var e=I(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function e(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return se(t,r);case 2:n=false!==t._should_dispatch;delete t._should_dispatch;return a.abrupt("return",n);case 5:case"end":return a.stop()}},e,this)}));function t(t,r){return e.apply(this,arguments)}return t}();var ce={NO_FETCH_MISSING_FILE_TYPES:G,NO_FETCH_MISSING_OBJECT_TYPES:z,NO_FILES_INFO_FETCH_MISSING_FILE_TYPES:W,canIgnoreUserTypingMessage:J,getFileInfoFromMessage:ae,maybeEnsureMemberCount:ie,canSkipObjectFetchForMessage:ee};Object.defineProperty(ce,"applyFunctionToPendingMessagesForTeam",{get:function e(){return N},set:function e(t){N=t}});Object.defineProperty(ce,"attachFileObjectToMessage",{get:function e(){return Q},set:function e(t){Q=t}});Object.defineProperty(ce,"canIgnoreFileMessage",{get:function e(){return Y},set:function e(t){Y=t}});Object.defineProperty(ce,"ensureDataIsPresent",{get:function e(){return se},set:function e(t){se=t}});Object.defineProperty(ce,"ensureFilesInMessageArePresent",{get:function e(){return ne},set:function e(t){ne=t}});Object.defineProperty(ce,"ensureModelObsInMessageArePresent",{get:function e(){return oe},set:function e(t){oe=t}});Object.defineProperty(ce,"fetchAndAttachFilesForMessagesInQueue",{get:function e(){return re},set:function e(t){re=t}});Object.defineProperty(ce,"fetchFilesById",{get:function e(){return A},set:function e(t){A=t}});Object.defineProperty(ce,"fetchFileInfoRaw",{get:function e(){return P},set:function e(t){P=t}});Object.defineProperty(ce,"fetchMultipleFilesRaw",{get:function e(){return R},set:function e(t){R=t}});Object.defineProperty(ce,"getActiveChannel",{get:function e(){return M},set:function e(t){M=t}});Object.defineProperty(ce,"getFileById",{get:function e(){return L},set:function e(t){L=t}});Object.defineProperty(ce,"getFileIdsToFetchFromQueue",{get:function e(){return te},set:function e(t){te=t}});Object.defineProperty(ce,"isMemberKnown",{get:function e(){return D},set:function e(t){D=t}});Object.defineProperty(ce,"getChannelById",{get:function e(){return x},set:function e(t){x=t}});Object.defineProperty(ce,"isFileRelevantToPost",{get:function e(){return F},set:function e(t){F=t}});Object.defineProperty(ce,"isOnPostPage",{get:function e(){return B},set:function e(t){B=t}});Object.defineProperty(ce,"maybePruneChannels",{get:function e(){return U},set:function e(t){U=t}});Object.defineProperty(ce,"getOrFetchMemberCounts",{get:function e(){return H},set:function e(t){H=t}})},18110:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.mentions.maybeUpdateMentions")},18111:function(e,t,r){"use strict";t["a"]=u;var n=r(1);var a=r.n(n);var i=r(17406);var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){return d.fromSuggestion(e)}var p={testing:{frecency:.01,type_navigation_user:4,type_navigation_channel:4},e1_lr:{frecency:.7387,type_navigation_user:.1258,file_suggestion_score:.0405,active_token_string:.0097,active_token_member:3e-4,active_token_phrase:-0,active_token_filter_on:-2e-4,query_suggestion_score_v2:-3e-4,active_token_filter_has:-7e-4,type_navigation_file:-8e-4,active_token_filter_during:-.0013,active_token_filter_after:-.0014,active_token_filter_before:-.0014,active_token_filter_in:-.0015,active_token_filter_to:-.0058,type_navigation_channel:-.0107,active_token_filter_from:-.0227,active_token_query_suggestion:-.023,type_query:-.0482,type_navigation_mpim:-.0661,type_navigation_expert_channel:-.1,bm25_score:1e-4},e2_unified:{frecency:1.1233,type_navigation_channel:-.0209,type_navigation_file:-7e-4,type_navigation_mpim:-.0676,type_navigation_user:-.9167,type_query:1.0322,active_token_filter_in:3e-4,active_token_filter_from:1.0586,active_token_filter_to:-.0065,active_token_filter_before:-.0014,active_token_filter_during:-.0011,active_token_filter_on:-1e-4,active_token_filter_after:-.001,active_token_filter_has:-6e-4,active_token_member:3e-4,active_token_string:.0079,active_token_phrase:0,string_exact_match:1e-4,string_exact_prefix_match:-.0105,string_normal_match:-3e-4,string_normal_prefix_match:-.0047,string_same_number_words:-.0082,excess_string_length:.0828,active_token_query_suggestion:-.0244,query_suggestion_score_v2:1,file_suggestion_score:1,type_navigation_expert_channel:-.1,bm25_score:1e-4,type_query_history:0},e3_unified:{frecency:.1119,type_navigation_channel:-.0044,type_navigation_file:-.0036,type_navigation_mpim:-.0466,type_navigation_user:.0979,type_query:-.0432,active_token_filter_in:2e-4,active_token_filter_from:-.0151,active_token_filter_to:-.001,active_token_filter_before:-.0014,active_token_filter_during:-8e-4,active_token_filter_on:-2e-4,active_token_filter_after:-.001,active_token_filter_has:-7e-4,active_token_member:0,active_token_string:.014,active_token_phrase:0,string_exact_match:-1e-4,string_exact_prefix_match:-.0228,string_normal_match:-.001,string_normal_prefix_match:-.02,string_same_number_words:-.0158,excess_string_length:-.005,active_token_query_suggestion:-.0374,query_suggestion_score_v2:1,file_suggestion_score:1,type_navigation_expert_channel:-.1,bm25_score:1e-4,type_query_history:0}};var f=function(){function e(t){l(this,e);this.featureList=t}o(e,[{key:"weightForFeature",value:function e(t,r){return 1}},{key:"score",value:function e(t){var r=this;return Object(n["reduce"])(this.featureList,function(e,n){return e+r.weightForFeature(n,t)*n.numericValue},0)}},{key:"featuresVersion",get:function e(){return"0"}},{key:"serialized",get:function e(){var t=Object(n["join"])(Object(n["map"])(this.featureList,function(e){return e.serialized}),",");return this.featuresVersion+":"+t}}]);return e}();var d=function(e){c(t,e);function t(e){l(this,t);var r=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));window.AutocompleteModelWeightsMap=p;return r}o(t,[{key:"weightForFeature",value:function e(t,r){return p[r][t.name]?p[r][t.name]:0}},{key:"featuresVersion",get:function e(){return"v4"}}],[{key:"fromSuggestion",value:function e(t){return new this([new y(t),new h("query_suggestion_score"),new _("type_navigation_channel",i["b"].CHANNEL_NAVIGATION,t),new _("type_navigation_file",i["b"].FILE_NAVIGATION,t),new _("type_navigation_mpim",i["b"].MPIM_NAVIGATION,t),new _("type_navigation_user",i["b"].USER_NAVIGATION,t),new _("type_query",i["b"].QUERY,t),new _("type_query_history",i["b"].QUERY_HISTORY,t),new g("active_token_filter_in",i["a"].FILTER_IN,t),new g("active_token_filter_from",i["a"].FILTER_FROM,t),new g("active_token_filter_to",i["a"].FILTER_TO,t),new g("active_token_filter_before",i["a"].FILTER_BEFORE,t),new g("active_token_filter_during",i["a"].FILTER_DURING,t),new g("active_token_filter_on",i["a"].FILTER_ON,t),new g("active_token_filter_after",i["a"].FILTER_AFTER,t),new g("active_token_filter_has",i["a"].FILTER_HAS,t),new g("active_token_member",i["a"].MEMBER,t),new g("active_token_string",i["a"].STRING,t),new g("active_token_phrase",i["a"].PHRASE,t),new w("string_exact_match",t,C),new w("string_exact_prefix_match",t,S),new w("string_normal_match",t,T),new w("string_normal_prefix_match",t,I),new w("string_same_number_words",t,N),new k("excess_string_length",t,A),new m(t),new E(t),new g("active_token_query_suggestion",i["a"].API,t),new O(t),new _("type_navigation_expert_channel",i["b"].EXPERT_CHANNEL_NAVIGATION,t),new j(t)])}}]);return t}(f);var v=function(){function e(t,r){l(this,e);this._name=t;this._valueOrNull=r}o(e,[{key:"name",get:function e(){return this._name}},{key:"numericValue",get:function e(){var t=parseFloat(this._valueOrNull);if(null===this._valueOrNull||isNaN(t))return 0;return t}},{key:"stringValue",get:function e(){if(null===this._valueOrNull||void 0===this._valueOrNull)return"";return this._valueOrNull.toString()}},{key:"serialized",get:function e(){return this.stringValue}}]);return e}();var h=function(e){c(t,e);function t(e){l(this,t);return s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,null))}return t}(v);var m=function(e){c(t,e);function t(e){l(this,t);return s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"id",e.logId))}return t}(v);var b=function(e){c(t,e);function t(e,r){l(this,t);return s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r?1:0))}o(t,[{key:"serialized",get:function e(){if(!this._valueOrNull)return"";return"1"}}]);return t}(v);var _=function(e){c(t,e);function t(e,r,n){l(this,t);return s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n.type===r))}return t}(b);var g=function(e){c(t,e);function t(e,r,n){l(this,t);return s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n.lastSuggestionToken&&n.lastSuggestionToken.type===r))}return t}(b);var y=function(e){c(t,e);function t(e){l(this,t);var r=null;e.type===i["b"].QUERY?r=e.lastSuggestionToken&&"number"===typeof e.lastSuggestionToken.frecencyScore?e.lastSuggestionToken.frecencyScore:null:e.type!==i["b"].CHANNEL_NAVIGATION&&e.type!==i["b"].MPIM_NAVIGATION&&e.type!==i["b"].USER_NAVIGATION||(r=e.frecencyScore);return s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"frecency",r))}return t}(v);var O=function(e){c(t,e);function t(e){l(this,t);var r=null;r=e.type===i["b"].QUERY&&e.lastSuggestionToken&&e.lastSuggestionToken.type===i["a"].API?e.lastSuggestionToken.querySuggestionScore:e.querySuggestionScore||r;return s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"query_suggestion_score_v2",r))}return t}(v);var E=function(e){c(t,e);function t(e){l(this,t);var r=null;e.type===i["b"].FILE_NAVIGATION&&(r=e.rawScore);return s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"file_suggestion_score",r))}return t}(v);var j=function(e){c(t,e);function t(e){l(this,t);return s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"bm25_score",e.bm25Score||null))}return t}(v);var k=function(e){c(t,e);function t(e,r,n){l(this,t);var a=t.textOrNullFromSuggestion(r);if(!a){var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,null));return s(i)}var o=t.clean(r.query);return s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n(a,o)))}o(t,null,[{key:"clean",value:function e(t){return String(t)}},{key:"normalized",value:function e(r){return t.clean(r).toLowerCase().replace(/[^a-z0-9]/g," ").replace(/\s+/g," ")}},{key:"lastSuggestionTokenString",value:function e(r){return r&&r.lastSuggestionToken?t.clean(r.lastSuggestionToken.toString()):""}},{key:"textOrNullFromSuggestion",value:function e(r){if(t.isActiveTokenStringLike(r))return t.lastSuggestionTokenString(r);if(r.type===i["b"].FILE_NAVIGATION)return r.toString();return null}},{key:"isActiveTokenStringLike",value:function e(t){if(!t.lastSuggestionToken)return false;return t.lastSuggestionToken.type===i["a"].STRING||t.lastSuggestionToken.type===i["a"].PHRASE||t.lastSuggestionToken.type===i["a"].API}}]);return t}(v);var w=function(e){c(t,e);function t(e,r,n){l(this,t);return s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,function(e,t){return n(e,t)?1:0}))}o(t,[{key:"serialized",get:function e(){if(!this._valueOrNull)return"";return"1"}}]);return t}(k);function C(e,t){return e===t}function S(e,t){return Object(n["startsWith"])(e,t)}function T(e,t){return k.normalized(e)===k.normalized(t)}function I(e,t){return Object(n["startsWith"])(k.normalized(e),k.normalized(t))}function N(e,t){return Object(n["words"])(e).length+Object(n["endsWith"])(e," ")===Object(n["words"])(t).length}function A(e,t){return Math.max(0,e.length-t.length)}},18112:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(1);var a=r.n(n);var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(t,r){o(this,e);this.call=t;this.timeoutMs=r;this.update_date=null;this.cached_data=null;this.pending_promise=null;this.pending_promise_request_date=null}i(e,[{key:"get",value:function e(){if(!this.update_date||new Date-this.update_date>this.timeoutMs||!this.cached_data)return this._callCacheGet();return Promise.resolve(this.cached_data)}},{key:"flushAll",value:function e(){this.update_date=null;this.cached_data=null;this.pending_promise&&this.pending_promise.cancel();this.pending_promise=null;this.pending_promise_request_date=null}},{key:"onCacheData",value:function e(t){Object(n["noop"])()}},{key:"_callCacheGet",value:function e(){var t=this;if(this.pending_promise&&new Date-this.pending_promise_request_date<3e4)return this.pending_promise;this.pending_promise_request_date=new Date;this.pending_promise=this.call.apply(this).then(function(e){t.cached_data=e;t.update_date=new Date;t.pending_promise=null;t.onCacheData(e);return t.cached_data});return this.pending_promise}}]);return e}()},18113:function(e,t,r){"use strict";t["a"]=n;function n(e){function t(e,t){return e<<t|e>>>32-t}function r(e,t){var r=2147483648&e;var n=2147483648&t;var a=1073741824&e;var i=1073741824&t;var o=(1073741823&e)+(1073741823&t);if(a&i)return 2147483648^o^r^n;if(a|i){if(1073741824&o)return 3221225472^o^r^n;return 1073741824^o^r^n}return o^r^n}function n(e,t,r){return e&t|~e&r}function a(e,t,r){return e&r|t&~r}function i(e,t,r){return e^t^r}function o(e,t,r){return t^(e|~r)}function s(e,a,i,o,s,c,l){var u=r(e,r(r(n(a,i,o),s),l));return r(t(u,c),a)}function c(e,n,i,o,s,c,l){var u=r(e,r(r(a(n,i,o),s),l));return r(t(u,c),n)}function l(e,n,a,o,s,c,l){var u=r(e,r(r(i(n,a,o),s),l));return r(t(u,c),n)}function u(e,n,a,i,s,c,l){var u=r(e,r(r(o(n,a,i),s),l));return r(t(u,c),n)}function p(e){var t=e.length;var r=t+8;var n=(r-r%64)/64;var a=16*(n+1);var i=Array(a-1);var o=0;var s=0;var c=0;while(c<t){o=(c-c%4)/4;s=c%4*8;i[o]|=e.charCodeAt(c)<<s;c++}o=(c-c%4)/4;s=c%4*8;i[o]|=128<<s;i[a-2]=t<<3;i[a-1]=t>>>29;return i}function f(e){var t="";var r="";for(var n=0;n<=3;n++){var a=e>>>8*n&255;r="0"+a.toString(16);t+=r.substr(r.length-2,2)}return t}function d(e){var t=e.replace(/\r\n/g,"\n");var r="";for(var n=0;n<t.length;n++){var a=t.charCodeAt(n);if(a<128)r+=String.fromCharCode(a);else if(a>127&&a<2048){r+=String.fromCharCode(a>>6|192);r+=String.fromCharCode(63&a|128)}else{r+=String.fromCharCode(a>>12|224);r+=String.fromCharCode(a>>6&63|128);r+=String.fromCharCode(63&a|128)}}return r}var v=[];var h=7;var m=12;var b=17;var _=22;var g=5;var y=9;var O=14;var E=20;var j=4;var k=11;var w=16;var C=23;var S=6;var T=10;var I=15;var N=21;v=p(d(e));var A=1732584193;var P=4023233417;var R=2562383102;var M=271733878;var x=A;var L=P;var D=R;var F=M;for(var B=0;B<v.length;B+=16){x=A;L=P;D=R;F=M;A=s(A,P,R,M,v[B+0],h,3614090360);M=s(M,A,P,R,v[B+1],m,3905402710);R=s(R,M,A,P,v[B+2],b,606105819);P=s(P,R,M,A,v[B+3],_,3250441966);A=s(A,P,R,M,v[B+4],h,4118548399);M=s(M,A,P,R,v[B+5],m,1200080426);R=s(R,M,A,P,v[B+6],b,2821735955);P=s(P,R,M,A,v[B+7],_,4249261313);A=s(A,P,R,M,v[B+8],h,1770035416);M=s(M,A,P,R,v[B+9],m,2336552879);R=s(R,M,A,P,v[B+10],b,4294925233);P=s(P,R,M,A,v[B+11],_,2304563134);A=s(A,P,R,M,v[B+12],h,1804603682);M=s(M,A,P,R,v[B+13],m,4254626195);R=s(R,M,A,P,v[B+14],b,2792965006);P=s(P,R,M,A,v[B+15],_,1236535329);A=c(A,P,R,M,v[B+1],g,4129170786);M=c(M,A,P,R,v[B+6],y,3225465664);R=c(R,M,A,P,v[B+11],O,643717713);P=c(P,R,M,A,v[B+0],E,3921069994);A=c(A,P,R,M,v[B+5],g,3593408605);M=c(M,A,P,R,v[B+10],y,38016083);R=c(R,M,A,P,v[B+15],O,3634488961);P=c(P,R,M,A,v[B+4],E,3889429448);A=c(A,P,R,M,v[B+9],g,568446438);M=c(M,A,P,R,v[B+14],y,3275163606);R=c(R,M,A,P,v[B+3],O,4107603335);P=c(P,R,M,A,v[B+8],E,1163531501);A=c(A,P,R,M,v[B+13],g,2850285829);M=c(M,A,P,R,v[B+2],y,4243563512);R=c(R,M,A,P,v[B+7],O,1735328473);P=c(P,R,M,A,v[B+12],E,2368359562);A=l(A,P,R,M,v[B+5],j,4294588738);M=l(M,A,P,R,v[B+8],k,2272392833);R=l(R,M,A,P,v[B+11],w,1839030562);P=l(P,R,M,A,v[B+14],C,4259657740);A=l(A,P,R,M,v[B+1],j,2763975236);M=l(M,A,P,R,v[B+4],k,1272893353);R=l(R,M,A,P,v[B+7],w,4139469664);P=l(P,R,M,A,v[B+10],C,3200236656);A=l(A,P,R,M,v[B+13],j,681279174);M=l(M,A,P,R,v[B+0],k,3936430074);R=l(R,M,A,P,v[B+3],w,3572445317);P=l(P,R,M,A,v[B+6],C,76029189);A=l(A,P,R,M,v[B+9],j,3654602809);M=l(M,A,P,R,v[B+12],k,3873151461);R=l(R,M,A,P,v[B+15],w,530742520);P=l(P,R,M,A,v[B+2],C,3299628645);A=u(A,P,R,M,v[B+0],S,4096336452);M=u(M,A,P,R,v[B+7],T,1126891415);R=u(R,M,A,P,v[B+14],I,2878612391);P=u(P,R,M,A,v[B+5],N,4237533241);A=u(A,P,R,M,v[B+12],S,1700485571);M=u(M,A,P,R,v[B+3],T,2399980690);R=u(R,M,A,P,v[B+10],I,4293915773);P=u(P,R,M,A,v[B+1],N,2240044497);A=u(A,P,R,M,v[B+8],S,1873313359);M=u(M,A,P,R,v[B+15],T,4264355552);R=u(R,M,A,P,v[B+6],I,2734768916);P=u(P,R,M,A,v[B+13],N,1309151649);A=u(A,P,R,M,v[B+4],S,4149444226);M=u(M,A,P,R,v[B+11],T,3174756917);R=u(R,M,A,P,v[B+2],I,718787259);P=u(P,R,M,A,v[B+9],N,3951481745);A=r(A,x);P=r(P,L);R=r(R,D);M=r(M,F)}var U=f(A)+f(P)+f(R)+f(M);return U.toLowerCase()}},18114:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(16926);var o=r(16929);var s=Object(i["b"])("Sends a message",function(e,t,r){return Object(o["d"])("chat.postMessage",r)});s.propTypes={channel:a.a.string.isRequired,client_msg_id:a.a.string};t["a"]=s},18115:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.client.stats.isEnabled",function(){return false})},18116:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(1);var a=r.n(n);var i=r(16914);var o=Object(i["c"])("TS.channels.read_only.stashAndFetchChannelPostingUpdates",n["noop"])},18117:function(e,t,r){"use strict";t["a"]=a;var n=r(16929);function a(){return Object(n["c"])("promo.banner").then(function(e){if(!e.data.message_pane)return{};return{name:e.data.message_pane.name,data:e.data.message_pane.data||{}}})}},18118:function(e,t,r){"use strict";var n=r(16915);var a=r(17719);var i=r(17720);var o=r(17930);var s;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function l(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var u={activeCurrency:null,activeTerm:i["b"].yearly,activePlanLevel:null,apiError:false,availablePlans:{},activePlanCost:{},cachedCost:{},isPlansAndCostDataLoaded:false};var p=Object(n["c"])((s={},l(s,o["i"],function(e,t){if(t.currency){var r=Object(a["b"])(e).includes(t.currency);if(!r)return e}else if(t.term&&!t.term===i["b"].monthly&&!t.term===i["b"].monthly)return e;var n=t.currency?t.currency:e.activeCurrency;var o=t.term?t.term:e.activeTerm;return c({},e,{activeCurrency:n,activeTerm:o})}),l(s,o["f"],function(e,t){var r=Object.keys(t.availablePlans)[0];var n=c({},e,{activeCurrency:r,availablePlans:c({},t.availablePlans),apiError:false});return n}),l(s,o["b"],function(e,t){var r=c({},e,{activePlanCost:c({},e.activePlanCost,t.activePlanCost),cachedCost:c({},e.cachedCost,l({},t.activePlanCost.id,t.activePlanCost)),apiError:false});return r}),l(s,o["g"],function(e){var t=c({},e,{apiError:true});return t}),l(s,o["e"],function(e){var t=c({},e,{isPlansAndCostDataLoaded:true});return t}),l(s,o["h"],function(e,t){var r=c({},e,{activePlanLevel:t});return r}),s),u);t["a"]=p},18119:function(e,t,r){"use strict";r.d(t,"a",function(){return o});r.d(t,"b",function(){return s});var n=r(16929);var a=r(17063);var i=r(17720);var o=Object(a["a"])("Fetch Available Plans",function(e,t,r){return e(Object(n["a"])({method:"retail.plans",args:r})).then(function(e){return Object(i["d"])(e.plans)})});var s=Object(a["a"])("Fetch Available Plans",function(e,t,r){return e(Object(n["a"])({method:"retail.cost",args:r})).then(function(e){return Object(i["c"])(e.plan_cost)})})},18121:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(9);var u=r(16956);var p=r(16961);var f=r(17932);var d=r(17281);var v=r(16913);var h=r(16941);var m=r(17089);var b=r(16912);var _=r(18123);var g=r(20153);var y=r.n(g);var O=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=new b["b"]("app_dialog");var C={appId:o.a.string.isRequired,featureAppDialogsNotifyOnCancel:o.a.bool,fetcher:o.a.func,id:o.a.string.isRequired,notifyCancel:o.a.func.isRequired,onClose:o.a.func,submitLabel:o.a.string,submitter:o.a.func,title:o.a.string.isRequired};var S={featureAppDialogsNotifyOnCancel:false,fetcher:null,onClose:n["noop"],submitLabel:w.t("Submit"),submitter:null};var T=function(e){k(t,e);function t(e){E(this,t);var r=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={goButtonIsDisabled:true,goButtonIsPending:false,shouldNotifyOnCancel:false};Object(n["bindAll"])(r,["getShouldShowSpeedBump","onFetchResolved","onSubmitRejected","onSubmitResolved","onCancel","onGo","onKeyPressedCmdEnter","renderTitle","setElementsContainerRef"]);return r}O(t,[{key:"componentDidMount",value:function e(){this.track("opened");this.keyCommands=new p["a"];this.keyCommands.bindAll([{keys:["command+enter"],handler:this.onKeyPressedCmdEnter}])}},{key:"componentWillUnmount",value:function e(){this.keyCommands.reset()}},{key:"onFetchResolved",value:function e(t){var r=t.notifyOnCancel;this.setState(function(){return{goButtonIsDisabled:false,shouldNotifyOnCancel:r}})}},{key:"onSubmitRejected",value:function e(){this.setState(function(){return{goButtonIsPending:false}})}},{key:"onSubmitResolved",value:function e(){this.setState(function(){return{goButtonIsPending:false}},this.props.onClose)}},{key:"onCancel",value:function e(){var t=this.props,r=t.onClose,a=t.id,i=t.featureAppDialogsNotifyOnCancel,o=t.notifyCancel;var s=this.state.shouldNotifyOnCancel;s&&i&&o(a);this.track("cancelled");Object(n["defer"])(r)}},{key:"onKeyPressedCmdEnter",value:function e(){this.onGo()}},{key:"onGo",value:function e(){this.setState(function(){return{goButtonIsPending:true}});this.elementsContainer.submit().then(this.onSubmitResolved).catch(this.onSubmitRejected)}},{key:"getShouldShowSpeedBump",value:function e(){return!!this.elementsContainer&&this.elementsContainer.getShouldShowSpeedBump()}},{key:"setElementsContainerRef",value:function e(t){this.elementsContainer=t&&t.getWrappedInstance()}},{key:"track",value:function e(t){var r=this.props,n=r.appId,a=r.id;Object(h["b"])("APP_DIALOG_"+t.toUpperCase(),{app_id:n,dialog_id:a,contexts:{core:{app_id:n}}})}},{key:"renderTitle",value:function e(){var t=Object(d["a"])(this.props.appId);var r=Object(m["a"])(t,72);var n=w.t("Header Icon");return c.a.createElement("div",{className:"p-app_dialog__title"},c.a.createElement("img",{alt:n,className:"p-app_dialog__title_icon",src:r}),c.a.createElement("div",{className:"p-app_dialog__title_text"},this.props.title))}},{key:"render",value:function e(){var t=this.props.appId;var r=Object(d["a"])(t);var n="/apps/"+t;var a=r?r.name:"this app";var i=w.t("Learn more about {appName}",{appName:a});var o=this.props,s=o.fetcher,l=o.id,p=o.submitLabel,f=o.submitter,v=o.title;var h=this.state,m=h.goButtonIsDisabled,b=h.goButtonIsPending;return c.a.createElement(u["a"],{contentLabel:v,className:"p-app_dialog",footerIcon:"question-circle",footerLink:n,footerText:i,getShouldShowSpeedBump:this.getShouldShowSpeedBump,goButtonIsDisabled:m,goButtonIsPending:b,goButtonText:p,goOnEnterPressed:false,onCancel:this.onCancel,onGo:this.onGo,shouldCloseOnGo:false,title:this.renderTitle()},c.a.createElement(_["a"],{fetcher:s,id:l,onFetchResolved:this.onFetchResolved,onSubmitRetried:this.onGo,ref:this.setElementsContainerRef,submitter:f}))}}]);return t}(s["Component"]);T.displayName="AppDialog";T.propTypes=C;T.defaultProps=S;var I=function e(t){return{featureAppDialogsNotifyOnCancel:Object(v["isFeatureEnabled"])(t,"feature_app_dialogs_notify_on_cancel")}};var N={notifyCancel:f["d"]};t["a"]=Object(l["connect"])(I,N)(T)},18122:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function e(){n(this,e);var t={};t.promise=new Promise(function(e,r){t.resolve=e;t.reject=r});return t};t["a"]=a},18123:function(e,t,r){"use strict";var n=r(18124);t["a"]=n["a"]},18124:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(9);var u=r(17932);var p=r(18125);var f=r(18126);var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b={fetcher:o.a.func.isRequired,id:o.a.string.isRequired,onFetchRejected:o.a.func,onFetchResolved:o.a.func,onSubmitRetried:o.a.func,submitter:o.a.func.isRequired};var _={onFetchRejected:n["noop"],onFetchResolved:n["noop"],onSubmitRetried:n["noop"]};var g=function(e){m(t,e);function t(e){v(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={errors:{},isLoading:true};Object(n["bindAll"])(r,["onFetchRejected","onFetchResolved","onSubmit","onSubmitRejected","onSubmitResolved","retryLoad"]);return r}d(t,[{key:"componentDidMount",value:function e(){this.load()}},{key:"onFetchRejected",value:function e(){this.setState(function(){return{isLoading:false,loadingFailed:true}},this.props.onFetchRejected)}},{key:"onFetchResolved",value:function e(t){var r=this;this.setState(function(){return{elements:t.elements,isLoading:false}},function(){r.props.onFetchResolved(t)})}},{key:"onSubmitRejected",value:function e(t){var r=t.data||{};var n={isSubmitting:false};r.error===u["a"].invalidSubmission?n.errors=Object(p["a"])(r.dialogErrors):n.submittingFailed=true;this.setState(function(){return n});throw t}},{key:"onSubmitResolved",value:function e(){this.setState(function(){return{errors:{},isSubmitting:false,submittingFailed:false}})}},{key:"onSubmit",value:function e(t,r){this.setState(function(){return{isSubmitting:true}});return this.props.submitter({dialogId:t,submission:r}).then(this.onSubmitResolved).catch(this.onSubmitRejected)}},{key:"getShouldShowSpeedBump",value:function e(){return!!this.dialogElements&&this.dialogElements.getShouldShowSpeedBump()}},{key:"load",value:function e(){this.props.fetcher(this.props.id).then(this.onFetchResolved).catch(this.onFetchRejected)}},{key:"retryLoad",value:function e(){this.setState(function(){return{isLoading:true}},this.load)}},{key:"submit",value:function e(){return this.dialogElements.submit()}},{key:"render",value:function e(){var t=this;return c.a.createElement(f["a"],{id:this.props.id,elements:this.state.elements,serverErrors:this.state.errors,isLoading:this.state.isLoading,isSubmitting:this.state.isSubmitting,loadingFailed:this.state.loadingFailed,onLoadRetried:this.retryLoad,onSubmitRetried:this.props.onSubmitRetried,onSubmit:this.onSubmit,ref:function e(r){t.dialogElements=r},submittingFailed:this.state.submittingFailed})}}]);return t}(s["Component"]);g.displayName="AppDialogElementsContainer";var y=function e(t,r){var n=r.fetcher,a=r.submitter;return{fetcher:n||function(e){return t(Object(u["b"])(e))},submitter:a||function(e){return t(Object(u["e"])(e))}}};g.propTypes=b;g.defaultProps=_;t["a"]=Object(l["connect"])(null,y,null,{withRef:true})(g)},18125:function(e,t,r){"use strict";t["a"]=i;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function a(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.reduce(function(e,t){return n({},e,a({},t.name,t.error))},{})}var o={formatErrors:i}},18126:function(e,t,r){"use strict";var n=r(18127);t["a"]=n["a"]},18127:function(e,t,r){"use strict";var n=r(8);var a=r.n(n);var i=r(1);var o=r.n(i);var s=r(3);var c=r.n(s);var l=r(12159);var u=r.n(l);var p=r(50);var f=r.n(p);var d=r(16912);var v=r(16952);var h=r(18128);var m=r(17933);var b=r(18133);var _=r(20152);var g=r.n(_);var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var O=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function E(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=new d["b"]("app_dialog");var S={id:c.a.string.isRequired,elements:c.a.array,isLoading:c.a.bool,isSubmitting:c.a.bool,loadingFailed:c.a.bool,serverErrors:c.a.object,submittingFailed:c.a.bool,onLoadRetried:c.a.func.isRequired,onSubmit:c.a.func.isRequired,onSubmitRetried:c.a.func.isRequired};var T={elements:[],serverErrors:{},isLoading:false,isSubmitting:false,loadingFailed:false,submittingFailed:false};var I=300;var N=3;var A=function(e){w(t,e);function t(e){j(this,t);var r=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={errors:{},lastActiveElementName:null,touchedElements:{},values:{}};Object(i["bindAll"])(r,["onInputBlurred","onInputChanged","onInputFocused","setFirstElementRef","submit","updateErrors"]);r.updateErrors=Object(i["debounce"])(r.updateErrors,I);return r}O(t,[{key:"componentWillReceiveProps",value:function e(t){var r=!t.isLoading&&this.props.isLoading;if(r){var n=t.elements.reduce(function(e,t){return y({},e,E({},t.name,t.value))},{});this.setState(function(){return{values:n}})}}},{key:"componentDidUpdate",value:function e(t){var r=!this.props.isLoading&&t.isLoading;var n=!this.props.isSubmitting&&t.isSubmitting;if(this.firstElement&&(r||n)){var a=Object(p["findDOMNode"])(this.firstElement);a&&a.focus()}}},{key:"onInputBlurred",value:function e(){this.setState(function(){return{lastActiveElementName:null}})}},{key:"onInputFocused",value:function e(){var t=this;this.setState(function(e){return{errors:Object(b["a"])({elements:t.props.elements,lastActiveElementName:e.lastActiveElementName,touchedElements:e.touchedElements,values:e.values})}})}},{key:"onInputChanged",value:function e(t,r){var n=this;var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a.setTouched,o=void 0===i||i;this.setState(function(e){var a=t;var i=y({},e.touchedElements,E({},t,o));var s=y({},e.values,E({},t,r));var c=Object(b["a"])({elements:n.props.elements,lastActiveElementName:a,touchedElements:i,values:s});var l={lastActiveElementName:a,touchedElements:i,values:s};return c[t]?l:y({},l,{errors:c})});this.updateErrors()}},{key:"getElementError",value:function e(t){var r=!this.state.touchedElements[t]&&this.props.serverErrors[t];return r||this.state.errors[t]||null}},{key:"getGeneralError",value:function e(t){return C.rt("We had some trouble connecting. <a>Try again?</a>",null,function(e){var r=e.text;return u.a.createElement("button",{className:"c-deprecated_button--link",onClick:t},r)})}},{key:"getShouldShowSpeedBump",value:function e(){var t=this.state,r=t.touchedElements,n=t.values;return Object(i["some"])(this.props.elements,function(e){var t=e.name,a=e.type;if(!r[t])return false;var o=n[t];if(a===m["a"].text||a===m["a"].textarea)return Object(i["get"])(o,"length",0)>=N;return!!o})}},{key:"setFirstElementRef",value:function e(t){this.firstElement=t&&t.getWrappedInstance?t.getWrappedInstance():t}},{key:"bindArgs",value:function e(t){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return t.bind.apply(t,[this].concat(n))}},{key:"updateErrors",value:function e(){var t=this;this.setState(function(e){return{errors:Object(b["a"])({elements:t.props.elements,lastActiveElementName:e.lastActiveElementName,touchedElements:e.touchedElements,values:e.values})}})}},{key:"maybeRenderGeneralError",value:function e(){if(this.props.submittingFailed)return u.a.createElement(h["a"],{message:this.getGeneralError(this.props.onSubmitRetried)});return null}},{key:"submit",value:function e(){var t=this;var r=null;var n=this.props.elements.reduce(function(e,t){return y({},e,E({},t.name,true))},{});var a=Object(b["a"])({elements:this.props.elements,lastActiveElementName:r,touchedElements:n,values:this.state.values});this.setState(function(){return{errors:a,lastActiveElementName:r,touchedElements:n}});if(!Object(i["isEmpty"])(a)){var o=new Error("Validation failed.");return Promise.reject(o)}return this.props.onSubmit(this.props.id,this.state.values).finally(function(){return t.setState(function(){return{touchedElements:{}}})})}},{key:"renderDialogElements",value:function e(){var t=this;return u.a.createElement("form",{onSubmit:function e(t){t.preventDefault()}},this.props.elements.map(function(e,r){return u.a.createElement(m["b"],{error:t.getElementError(e.name),dialogId:t.props.id,input:e,isSubmitting:t.props.isSubmitting,key:e.name,onBlur:t.onInputBlurred,onChange:t.bindArgs(t.onInputChanged,e.name),onFocus:t.onInputFocused,ref:0===r?t.setFirstElementRef:null,value:t.state.values[e.name]})}))}},{key:"render",value:function e(){var t=this.props,r=t.isLoading,n=t.isSubmitting,i=t.loadingFailed,o=t.onLoadRetried;var s=a()("p-app_dialog_elements",{"p-app_dialog_elements--empty":r||i},{"p-app_dialog_elements--submitting":n});var c=void 0;c=r?u.a.createElement(v["a"],{size:"medium"}):i?u.a.createElement(h["a"],{message:this.getGeneralError(o),align:"center"}):this.renderDialogElements();return u.a.createElement("div",{className:s},this.maybeRenderGeneralError(),c)}}]);return t}(l["Component"]);A.displayName="AppDialogElements";t["a"]=A;A.propTypes=S;A.defaultProps=T},18128:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(45);var c=r(1);var l=r.n(c);var u=r(16994);var p={align:a.a.oneOf(Object(c["values"])(u["a"])),message:a.a.node.isRequired,type:a.a.oneOf(Object(c["values"])(u["c"]))};var f={align:u["a"].left,type:u["c"].boxed};function d(e){var t=e.align,r=e.message,n=e.type;return o.a.createElement(u["d"],{type:n,align:t,level:u["b"].error},r)}d.displayName="AppDialogError";d.propTypes=p;d.defaultProps=f;t["a"]=Object(s["pure"])(d)},18129:function(e,t,r){"use strict";var n=r(8);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(9);var u=r(16957);var p=r(17160);var f=r(17932);var d=r(17721);var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _={dialogId:o.a.string.isRequired,error:o.a.string,input:o.a.object.isRequired,isSubmitting:o.a.bool,onBlur:o.a.func.isRequired,onChange:o.a.func.isRequired,onFocus:o.a.func.isRequired,optionsFetcher:o.a.func.isRequired,value:o.a.string};var g={error:null,isSubmitting:false,value:""};var y=function(e){b(t,e);function t(){h(this,t);return m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}v(t,[{key:"getLabelId",value:function e(){var t=this.props,r=t.dialogId,n=t.input;return Object(d["a"])(r,n,"label")}},{key:"renderSelect",value:function e(){var t=this.props,r=t.dialogId,n=t.error,a=t.input,i=t.isSubmitting,o=t.onBlur,s=t.onChange,l=t.onFocus,u=t.optionsFetcher,f=t.value;var v=Object(d["b"])(r,a);var h=this.getLabelId();var m={id:v,isSubmitting:i,labelId:h,onBlur:o,onChange:s,onFocus:l,value:f,dialogId:r,dataSource:a.data_source,minQueryLength:a.min_query_length,optionsFetcher:u,options:a.options,optionGroups:a.option_groups,isDisabled:a.is_disabled,isRequired:a.is_required,hintText:a.hint,errorText:n,name:a.name,placeholder:a.placeholder,ref:this.setRef,selectedOptions:a.selected_options};return c.a.createElement(p["a"],m)}},{key:"render",value:function e(){var t=this.props,r=t.dialogId,n=t.input,i=t.isSubmitting;var o=Object(d["b"])(r,n);var s=this.getLabelId();var l=a()({"c-label--disabled":n.disabled||i});return c.a.createElement(u["a"],{className:l,htmlFor:o,id:s,key:n.name,text:n.label,optional:!!n.optional},this.renderSelect())}}]);return t}(c.a.Component);y.displayName="AppDialogInputSelect";var O=function e(t,r){var n=r.dialogId,a=r.input;var i=function e(r){return t(Object(f["c"])({dialogId:n,inputName:a.name,value:r}))};return{optionsFetcher:i}};y.propTypes=_;y.defaultProps=g;t["a"]=Object(l["connect"])(null,O,null,{withRef:true})(y)},18131:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(16957);var u=r(17e3);var p=r(17721);var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m={error:a.a.string,dialogId:a.a.string.isRequired,input:a.a.object.isRequired,isSubmitting:a.a.bool,onBlur:a.a.func.isRequired,onChange:a.a.func.isRequired,onFocus:a.a.func.isRequired,value:a.a.string};var b={error:null,isSubmitting:false,value:""};var _=function(e){h(t,e);function t(){d(this,t);return v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}f(t,[{key:"render",value:function e(){var t=this.props,r=t.error,n=t.dialogId,a=t.input,i=t.isSubmitting,s=t.onBlur,f=t.onChange,d=t.onFocus,v=t.value;var h=Object(p["b"])(n,a);var m=Object(p["a"])(n,a,"label");var b=c()({"c-label--disabled":a.disabled||i});return o.a.createElement(l["a"],{className:b,htmlFor:h,id:m,key:a.name,text:a.label,optional:!!a.optional},o.a.createElement(u["a"],{autoComplete:"off",labelId:m,disabled:a.disabled||i,errorText:r,hintText:a.hint,id:h,isRequired:!a.optional,name:a.name,onBlur:s,onChange:f,onFocus:d,placeholder:a.placeholder,type:"text",value:v}))}}]);return t}(o.a.Component);_.displayName="AppDialogInputText";t["a"]=_;_.propTypes=m;_.defaultProps=b},18132:function(e,t,r){"use strict";t["a"]=v;var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(16957);var u=r(17676);var p=r(17721);var f={dialogId:a.a.string.isRequired,error:a.a.string,input:a.a.object.isRequired,isSubmitting:a.a.bool,onBlur:a.a.func.isRequired,onChange:a.a.func.isRequired,onFocus:a.a.func.isRequired,value:a.a.string};var d={error:null,isSubmitting:false,value:""};function v(e){var t=e.dialogId,r=e.error,n=e.input,a=e.isSubmitting,i=e.onBlur,s=e.onChange,f=e.onFocus,d=e.value;var v=Object(p["b"])(t,n);var h=Object(p["a"])(t,n,"label");var m=c()({"c-label--disabled":n.disabled||a});return o.a.createElement(l["a"],{className:m,htmlFor:v,key:n.name,id:h,text:n.label,optional:!!n.optional},o.a.createElement(u["a"],{autoComplete:"off",labelId:h,disabled:n.disabled||a,errorText:r,hintText:n.hint,id:v,isRequired:!n.optional,name:n.name,maxCharacterLimit:n.max_length,onBlur:i,onChange:s,onFocus:f,placeholder:n.placeholder,value:d}))}v.displayName="AppDialogInputTextarea";v.propTypes=f;v.defaultProps=d},18133:function(e,t,r){"use strict";t["a"]=v;var n=r(1);var a=r.n(n);var i=r(16912);var o=r(17933);var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var c;function l(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var u=new i["b"]("app_dialog");var p=(c={},l(c,o["a"].text,150),l(c,o["a"].textarea,3e3),c);var f={maxLength:"maxLength",minLength:"minLength",required:"required"};function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case f.maxLength:return u.t("You can't enter more than {maxLength, plural, =1 {# character} other {# characters}}.",t);case f.minLength:return u.t("You must enter at least {minLength, plural, =1 {# character} other {# characters}}.",t);case f.required:return u.t("This field is required.");default:break}return null}function v(e){var t=e.elements,r=e.lastActiveElementName,a=e.touchedElements,i=e.values;return t.reduce(function(e,t){var c=i[t.name];var u=r===t.name;var v=!t.optional&&!c&&!u;var h=Object(n["includes"])([o["a"].text,o["a"].textarea],t.type);var m=Math.max(t.min_length,0);var b=Object(n["isNumber"])(m)&&Object(n["get"])(c,"length",0)<m;var _=!c&&u;var g=!c&&t.optional;var y=h&&b&&!_&&!g;var O=Math.min(t.max_length,p[t.type]);var E=O&&Object(n["get"])(c,"length")>O;var j=h&&E;if(!a[t.name])return e;if(v)return s({},e,l({},t.name,d(f.required)));if(y)return s({},e,l({},t.name,d(f.minLength,{minLength:m})));if(j)return s({},e,l({},t.name,d(f.maxLength,{maxLength:O})));return e},{})}var h={validate:v}},18136:function(e,t,r){"use strict";t["a"]=w;var n=r(1);var a=r.n(n);var i=r(295);var o=r(3031);var s=r(17040);var c=r(16971);var l=r(16925);var u=r(16927);var p=r(18137);var f=r(16934);var d=r(17086);var v=r(20405);var h=r(18138);var m=r(20558);var b=r(18144);var _=r(20561);var g=r(16926);var y=r(17340);var O=r(17342);var E=r(17341);var j=r(17007);var k=Object(d["a"])(100);function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.teamId,r=e.reducers,a=void 0===r?m:r,d=e.middlewares,g=void 0===d?b["a"]:d,y=e.customEnhancers,O=void 0===y?_["a"]:y,E=e.initialState,j=void 0===E?{}:E;if(!t)throw new Error("configureStore must be called with a teamId parameter");var w=Object(h["a"])({teamId:t,customEnhancers:O,middlewares:g});var C=Object(i["combineReducers"])(a);var S=void 0;if(Object(f["a"])()){var T=Object(p["c"])(t);C=Object(o["persistReducer"])(T,C);S=Object(o["createPersistoid"])(T)}var I=Object(i["createStore"])(C,j,w);Object(f["a"])()&&I.subscribe(Object(n["throttle"])(function(){Object(u["a"])(t,Object(c["info"])(p["d"],"Persisting state to storage"));k&&Object(v["d"])(p["a"]+"_persistence_write_mark");var e=void 0;S.update(I.getState());if(k){e=Object(v["f"])(p["a"],p["a"]+"_persistence_write_mark");Object(u["a"])(t,Object(c["info"])(p["d"],"Persisted state"+(e?": "+e.toFixed(1)+"ms":"")))}},p["b"]));I._initStore=function e(){I.dispatch(Object(l["setTeamId"])(t))};I._initStore();Object(u["d"])(t,I);Object(s["c"])(t,"redux",I);return I}var C=void 0;Object(s["b"])("redux",function(){if(C)return C;var e=function e(t,r){var a=t.replace("@slack/redux/","").replace(/\.js$/,"").replace(/-middleware$/,"").replace(/\//,"_");return Object(n["camelCase"])(a+"_"+r)};var t=function t(r){var n={};Object.values(r).forEach(function(t){n[e(t.meta.file,t.meta.name)]=t});return n};var r=function e(t){var r={};Object.values(t).forEach(function(e){r[e.meta.name]=e});return r};C={actions:t(Object(y["a"])()),middlewares:r(Object(j["a"])()),reducers:t(Object(E["a"])()),selectors:t(Object(O["a"])()),thunks:t(Object(g["a"])())};return C})},18137:function(e,t,r){"use strict";r.d(t,"d",function(){return v});r.d(t,"a",function(){return h});r.d(t,"b",function(){return b});t["c"]=y;var n=r(3031);var a=r(13677);var i=r.n(a);var o=r(5160);var s=r.n(o);var c=r(17670);var l=r(16916);var u=r(20405);var p=r(17086);var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var d="slack-";var v="PERSIST";var h="sonic_data_persistence";var m=Object(p["a"])(100);var b=3e4;var _=s()();var g={key:d,storage:i.a,blacklist:["error","incrementalBoot","lastNetworkSend","route","socket","typing","window"],transforms:[_]};function y(e){var t=""+d+e;var r=f({},g,{key:t});return r}function O(e){var t=y(e);Object(l["info"])(v,"("+e+") Getting persisted model...");m&&Object(u["d"])(h+"_get_stored_model_mark");return Object(n["getStoredState"])(t).then(function(t){if(t==={}){Object(l["info"])(v,"("+e+") No persisted model found");m&&Object(u["a"])(h+"_get_stored_model_mark")}else{var r=void 0;m&&(r=Object(u["f"])(h,h+"_get_stored_model_mark"));Object(l["info"])(v,"("+e+") Got persisted model"+(r?": "+r+"ms":""))}return t})}function E(e){if(!Object(c["a"])("localStorage"))return;Object(l["info"])(v,"("+e+") Purging persisted model...");m&&Object(u["d"])(h+"_purge_stored_model_mark");var t=y(e);var r=""+n["KEY_PREFIX"]+t.key;localStorage.removeItem(r);var a=void 0;m&&(a=Object(u["f"])(h,h+"_purge_stored_model_mark"));Object(l["info"])(v,"("+e+") Purged model"+(a?": "+a+"ms":""))}var j={persistConfigKeyPrefix:d,persistNamespace:n["KEY_PREFIX"]}},18138:function(e,t,r){"use strict";t["a"]=u;var n=r(1);var a=r.n(n);var i=r(295);var o=r(17945);var s=r(18139);var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function l(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.teamId,r=e.customEnhancers,a=e.middlewares;var u=void 0;var p=window.TS&&Object(n["get"])(window,"TS.boot_data.feature_redux_dev_tools",false);if(p)u=i["compose"].apply(void 0,[i["applyMiddleware"].apply(void 0,l(a))].concat(l(r),[o["a"].instrument()]));else{var f=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(c({},s["a"],{name:"Slack-"+t})):i["compose"];u=f.apply(void 0,[i["applyMiddleware"].apply(void 0,l(a))].concat(l(r)))}return u}},18139:function(e,t,r){"use strict";var n=r(20388);var a=r(16934);var i=r(16923);var o=r(16979);var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var c=function e(t){switch(t.type){case i["addOrReplaceChannels"].getType():return s({},t,{payload:"Channel bulk add payload is too big to output to redux devtools"});case o["socketMessageReceived"].getType():return s({},t,{payload:"View raw WebSocket frames for details, but this was a "+(t.payload.subtype?[t.payload.type,t.payload.subtype].join("."):t.payload.type)+" message"});default:return t}};var l=Object(a["a"])()||n["a"]?void 0:function(){return{apologies:"Serializing our large state kept crashing redux devtools. I hope to bring it back someday, but for now you can see the state by using `TS.redux.getState()` in the console"}};var u={autoPause:true,actionSanitizer:c,stateSanitizer:l,maxAge:1e3,features:{pause:true}};t["a"]=u},18140:function(e,t,r){"use strict";var n=r(295);var a=r(17974);var i=r(17727);var o=r(17057);var s=r(17975);var c=r(17210);var l=r(17165);var u=Object(n["combineReducers"])({channelNamesToIds:a["default"],inviters:i["default"],mutedChannels:o["default"],needsApiMarking:s["default"],needsCreatedMessage:c["default"],prqMetrics:l["default"]});t["a"]=u},18141:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"noopAction",function(){return i});var n=r(16915);function a(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var i=Object(n["a"])("NOOP");i.propTypes=null;var o=0;var s=Object(n["c"])(a({},i,function(e){return e+1}),o);t["default"]=s},18144:function(e,t,r){"use strict";var n=r(1594);var a=r.n(n);var i=r(17161);var o=r(18145);var s=r(18146);var c=r(18211);var l=r(17099);var u=r(16971);var p=r(17287);var f=[i["b"],a.a,s["a"],l["default"],u["default"],c["a"],p["a"]];"undefined"!==typeof window.__karma__&&f.unshift(o["b"]);t["a"]=f},18145:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n="_testOnlySpyableDispatch";t["b"]=function(){return function(e){var t=function e(t){return e[n](t)};t[n]=e;return t}}},18146:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(17007);var o=r(16966);var s=Object(i["b"])("Handle side effects",function(e,t,r){var n=o["c"][r.type];n&&Promise.resolve().then(function(){n.forEach(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.sideEffect,i=void 0===n?a.a.noop:n,o=t.reasons,s=void 0===o?[]:o;if(s.length){var c=r&&r.payload&&r.payload.reason;if(!a.a.includes(s,c))return}i(r,e.dispatch,e.getState)})});return t(r)});t["a"]=s},18147:function(e,t,r){"use strict";var n=r(16913);var a=r(16967);var i=r(16923);var o=r(16919);var s=r(16920);var c=r(17333);var l=r(16966);function u(e,t){if(!Object(s["isIm"])(e))return false;var r=Object(o["getMemberById"])(t(),Object(s["getMemberIdFromIm"])(e));return r&&r.deleted}function p(e){return Object(s["isPublicChannel"])(e)&&!Object(s["isMemberOfChannel"])(e)}function f(e,t){Object(c["c"])();(p(e)||Object(s["isArchived"])(e)||u(e,t))&&Object(c["a"])(e)}function d(e,t,r){var o=r();if(!Object(n["useReactMessages"])(o))return;var s=Object(a["getMessagePaneChannelId"])(o);var c=Object(i["getChannelById"])(o,s);if(!c)return;f(c,r)}function v(e,t,r){var o=r();if(!Object(n["useReactMessages"])(o))return;var s=Object(a["getMessagePaneChannelId"])(o);var c=false;var l=e&&e.payload&&e.payload.channels;if(!l||!l.length)return;l.forEach(function(e){e&&e.id===s&&(c=true)});if(!c)return;var u=Object(i["getChannelById"])(o,s);if(!u)return;f(u,r)}function h(e,t,r){var o=r();if(!Object(n["useReactMessages"])(o))return;var c=e.payload;var l=Object(a["getMessagePaneChannelId"])(o);var u=Object(i["getChannelById"])(o,l);var p=Object(s["getMemberIdFromIm"])(u);if(!Object(s["isIm"])(u)||!p)return;p===c.id&&f(u,r)}Object(l["b"])({actions:[a["setActiveChannel"]],sideEffect:d});Object(l["b"])({actions:[o["addMember"]],sideEffect:h});Object(l["b"])({actions:[i["addOrReplaceChannels"]],sideEffect:v,reasons:[i["CHANNEL_ACTION_REASONS"].ADD_CHANNEL,i["CHANNEL_ACTION_REASONS"].ARCHIVE_CHANNEL,i["CHANNEL_ACTION_REASONS"].UNARCHIVE_CHANNEL,i["CHANNEL_ACTION_REASONS"].LEAVE_CHANNEL,i["CHANNEL_ACTION_REASONS"].UPSERT_CHANNEL]})},18148:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(16923);var o=r(17039);var s=r(16922);var c=r(17279);var l=r(17149);var u=r(18149);var p=r(16966);var f=10;var d=5;function v(e,t,r){var n=r();if(Object(s["getUserPref"])(n,"show_sidebar_quickswitcher_button"))return;if(Object(s["getUserPref"])(n,"k_key_omnibox_auto_hide_count")===d)return;if(Object(u["a"])())return;if(Object(i["getCountOfOpenChannels"])(n)>=f){Object(c["b"])({name:"show_sidebar_quickswitcher_button",value:true});t(Object(o["setJumperCoachmarkState"])("SHOW_BUTTON"))}}function h(e,t,r){var n=r();var i=Object(o["getSections"])(n);i&&!a.a.isEmpty(i)&&Object(l["e"])(i)}Object(p["b"])({actions:[i["addOrReplaceChannels"]],sideEffect:v,reasons:[i["CHANNEL_ACTION_REASONS"].ADD_CHANNEL,i["CHANNEL_ACTION_REASONS"].UPSERT_CHANNEL]});Object(p["b"])({actions:[o["toggleSectionFilter"]],sideEffect:h})},18149:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.onboarding.inOnboarding")},18150:function(e,t,r){"use strict";var n=r(16979);var a=r(16991);var i=r(16966);var o=i["b"];var s={};Object.defineProperty(s,"addSideEffect",{get:function e(){return o},set:function e(t){o=t}});o({actions:[n["socketMessageReceived"]],sideEffect:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.payload;var n=arguments[1];var i=arguments[2];return Object(a["e"])(r,n,i)}})},18151:function(e,t,r){"use strict";var n=r(16979);var a=r(17940);var i=r(16934);var o=r(16966);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.payload;var r=arguments[1];var n=arguments[2];if(Object(i["a"])())return;Object(a["c"])(n,t)}function c(e,t,r){if(Object(i["a"])())return;Object(a["d"])(r)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.payload;var r=arguments[1];var n=arguments[2];if(Object(i["a"])())return;Object(a["e"])(n,t)}Object(o["a"])([{actions:[n["connected"]],sideEffect:s},{actions:[n["disconnected"]],sideEffect:c},{actions:[n["socketMessageReceived"]],sideEffect:l}])},18152:function(e,t,r){"use strict";var n=r(17016);var a=r(17149);var i=r(16966);function o(e,t,r){var i=r();Object(a["d"])(Object(n["getExpandables"])(i))}Object(i["b"])({actions:[n["setExpanded"],n["bulkSetExpanded"]],sideEffect:o})},18153:function(e,t,r){"use strict";var n=r(17151);var a=r(16946);var i=r(17678);var o=r(16966);function s(e,t,r){var a=r();var o=e.payload.id;var s=Object(n["getFileRefreshState"])(a,o);if(s!==n["STATE"].REFRESHING)return;var c=Object(n["getFileRefreshTimeout"])(a,o);c&&clearTimeout(c);var l=setTimeout(function(){return t(Object(n["refreshReset"])({fileId:o,timeout:l}))},i["a"]);t(Object(n["refreshDone"])({fileId:o}))}Object(o["b"])({actions:[a["addFile"]],sideEffect:s})},18154:function(e,t,r){"use strict";var n=r(16913);var a=r(16946);var i=r(17205);var o=r(16948);var s=r(16977);var c=r(16966);function l(e,t,r){var n=r();e.forEach(function(e){var r=Object(o["fileNeedsUpdate"])(n,e);t(Object(i["setFileUpdated"])({fileId:e}));var c=Object(a["getFileById"])(n,e);if(!c||!r)return;Object(s["c"])(c)})}function u(e,t){e.forEach(function(e){t(Object(i["clearFileUpdate"])({fileId:e}))})}function p(e,t,r){if(!Object(n["isFeatureEnabled"])(r(),"feature_no_files_info"))return;var a=e.payload;if(!a)return;l([a.id],t,r)}function f(e,t,r){if(!Object(n["isFeatureEnabled"])(r(),"feature_no_files_info"))return;var a=e.payload;if(!a)return;l(a.map(function(e){return e.id}),t,r)}function d(e,t,r){if(!Object(n["isFeatureEnabled"])(r(),"feature_no_files_info"))return;var a=e.payload;a&&u([a],t,r)}function v(e,t,r){if(!Object(n["isFeatureEnabled"])(r(),"feature_no_files_info"))return;var a=e.payload;a&&u(a,t,r)}function h(e,t,r){if(!Object(n["isFeatureEnabled"])(r(),"feature_no_files_info"))return;t(Object(i["clearFileUpdate"])())}Object(c["b"])({actions:[a["addFile"]],sideEffect:p});Object(c["b"])({actions:[a["bulkAddFiles"]],sideEffect:f});Object(c["b"])({actions:[a["removeFile"]],sideEffect:d});Object(c["b"])({actions:[a["bulkRemoveFiles"]],sideEffect:v});Object(c["b"])({actions:[a["clearFiles"]],sideEffect:h})},18155:function(e,t,r){"use strict";var n=r(16923);var a=r(16920);var i=r(17070);var o=r(16966);var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function c(e,t,r){var a=r();var o=e&&e.payload&&e.payload.channels;if(!o||!o.length)return;o.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id;var r=Object(n["getChannelById"])(a,t);Object(i["a"])(r)})}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.payload;var r=arguments[1];var a=arguments[2];var o=a();var s=Object(n["getChannelById"])(o,t.id);Object(i["e"])(s)}function u(e,t,r){var o=r();var c=e&&e.payload&&e.payload.channels;if(!c||!c.length)return;c.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(a["isPrivateChannel"])(e))Object(i["f"])(s({},e,{is_member:false}));else{var t=Object(n["getChannelById"])(o,e.id);Object(i["f"])(t)}})}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.payload;var r=t.ids;if(!r||!r.length)return;r.forEach(function(e){Object(i["d"])(e)})}function f(e){var t=e&&e.payload&&e.payload.channels;if(!t||!t.length)return;t.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(i["j"])(e)})}function d(e,t,r){var a=r();var o=e&&e.payload&&e.payload.channels;if(!o||!o.length)return;o.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=Object(n["getChannelById"])(a,e.id);Object(i["i"])(t,e.purpose.creator,e.purpose.value)})}function v(e,t,r){var a=r();var o=e&&e.payload&&e.payload.channels;if(!o||!o.length)return;o.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=Object(n["getChannelById"])(a,e.id);Object(i["k"])(t,e.topic.userId,e.topic.value)})}function h(e,t,r){var a=r();var o=e&&e.payload&&e.payload.channels;if(!o||!o.length)return;o.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=Object(n["getChannelById"])(a,e.id);Object(i["l"])(t)})}Object(o["a"])([{actions:[n["addOrReplaceChannels"]],sideEffect:c,reasons:[n["CHANNEL_ACTION_REASONS"].ARCHIVE_CHANNEL]},{actions:[n["joinChannel"]],sideEffect:l},{actions:[n["addOrReplaceChannels"]],sideEffect:u,reasons:[n["CHANNEL_ACTION_REASONS"].LEAVE_CHANNEL]},{actions:[n["removeChannels"]],sideEffect:p},{actions:[n["addOrReplaceChannels"]],sideEffect:f,reasons:[n["CHANNEL_ACTION_REASONS"].RENAME_CHANNEL]},{actions:[n["addOrReplaceChannels"]],sideEffect:d,reasons:[n["CHANNEL_ACTION_REASONS"].SET_PURPOSE]},{actions:[n["addOrReplaceChannels"]],sideEffect:v,reasons:[n["CHANNEL_ACTION_REASONS"].SET_TOPIC]},{actions:[n["addOrReplaceChannels"]],sideEffect:h,reasons:[n["CHANNEL_ACTION_REASONS"].UNARCHIVE_CHANNEL]}])},18156:function(e,t,r){"use strict";var n=r(16979);var a=r(18157);var i=r(16966);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.payload;Object(a["a"])(t)}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.payload;Object(a["c"])(t)}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.payload;Object(a["d"])(t)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.payload;Object(a["e"])(t)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.payload;Object(a["g"])(t)}function p(){a["b"].apply(void 0,arguments)}function f(){a["f"].apply(void 0,arguments)}Object(i["a"])([{actions:[n["connected"]],sideEffect:o},{actions:[n["disconnected"]],sideEffect:p},{actions:[n["provisionallyConnected"]],sideEffect:s},{actions:[n["socketErrorMessageReceived"]],sideEffect:c},{actions:[n["socketMessageReceived"]],sideEffect:l},{actions:[n["troubleConnecting"]],sideEffect:f},{actions:[n["waitingForRateLimit"]],sideEffect:u}])},18157:function(e,t,r){"use strict";r.d(t,"a",function(){return a});r.d(t,"b",function(){return i});r.d(t,"c",function(){return o});r.d(t,"d",function(){return s});r.d(t,"e",function(){return c});r.d(t,"f",function(){return l});r.d(t,"g",function(){return u});var n=r(16914);var a=Object(n["c"])("TS.redux.socket.connectedSig.dispatch");var i=Object(n["c"])("TS.redux.socket.disconnectedSig.dispatch");var o=Object(n["c"])("TS.redux.socket.provisionallyConnectedSig.dispatch");var s=Object(n["c"])("TS.redux.socket.socketErrorMessageReceivedSig.dispatch");var c=Object(n["c"])("TS.redux.socket.socketMessageReceivedSig.dispatch");var l=Object(n["c"])("TS.redux.socket.troubleConnectingSig.dispatch");var u=Object(n["c"])("TS.redux.socket.waitingForRateLimitSig.dispatch")},18158:function(e,t,r){"use strict";var n=r(16920);var a=r(16923);var i=r(16919);var o=r(17046);var s=r(16967);var c=r(16979);var l=r(17937);var u=r(16921);var p=r(16966);var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.payload;var r=arguments[1];var i=arguments[2];if(!t.prevChannelId||t.channelId===t.prevChannelId)return;var s=i();var c=false;var l=Object(a["getChannelById"])(s,t.prevChannelId,c);!Object(n["isMemberOfChannel"])(l)&&Object(n["isPublicChannel"])(l)&&r(Object(o["clearMemberCounts"])(t.prevChannelId))}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.payload;var r=arguments[1];var n=arguments[2];if(t)return;var a=n();var i=Object(s["getMessagePaneChannelId"])(a);var c=Object(o["getCachedMemberCounts"])(a,i);r(Object(o["clearAllMemberCounts"])());i&&c&&r(Object(o["addOrReplaceMemberCounts"])({channelId:i,countInfo:f({},c,{should_refetch:true})}));Object(l["a"])()}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.payload;var r=arguments[1];var n=arguments[2];var a=n();r(Object(o["updateAndInvalidateMemberCounts"])({channelId:t.id,memberCountDelta:1,restrictedMemberCountDelta:Object(u["O"])(Object(i["getCurrentMember"])(a))?1:0,appCountDelta:0}))}function m(e,t){var r=e&&e.payload&&e.payload.channels;if(!r||!r.length)return;r.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(Object(o["clearMemberCounts"])(e.id))})}Object(p["a"])([{actions:[s["setActiveChannel"]],sideEffect:d},{actions:[c["connected"]],sideEffect:v},{actions:[a["joinChannel"]],sideEffect:h},{actions:[a["addOrReplaceChannels"]],sideEffect:m,reasons:[a["CHANNEL_ACTION_REASONS"].LEAVE_CHANNEL]}])},18159:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(16923);var o=r(16919);var s=r(16921);var c=r(16920);var l=r(16966);function u(e,t,r){var n=r();var l=void 0;if(e.type===i["addOrReplaceChannels"].getType()){l=e&&e.payload&&e.payload.channels;if(!l||!l.length)return}else e.type===i["joinChannel"].getType()&&(l=[e&&e.payload]);l.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Object(c["isExternallySharedChannel"])(e)||Object(s["w"])(Object(o["getCurrentMember"])(n)))return;var r=Object(c["getSharedTeamIds"])(e).reduce(function(e,t){return e.concat(a.a.filter(Object(o["getAllMembers"])(n),{team_id:t}))},[]);r.length&&t(Object(o["bulkRemoveMembers"])(r))})}Object(l["a"])([{actions:[i["joinChannel"]],sideEffect:u},{actions:[i["addOrReplaceChannels"]],sideEffect:u,reasons:[i["CHANNEL_ACTION_REASONS"].LEAVE_CHANNEL]}])},18160:function(e,t,r){"use strict";var n=r(16920);var a=r(16923);var i=r(17119);var o=r(16967);var s=r(16979);var c=r(16913);var l=r(16966);function u(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.payload;var r=arguments[1];var o=arguments[2];if(!t.prevChannelId||t.channelId===t.prevChannelId)return;var s=o();var c=false;var l=Object(a["getChannelById"])(s,t.prevChannelId,c);!Object(n["isMemberOfChannel"])(l)&&Object(n["isPublicChannel"])(l)&&r(Object(i["clearChannelMembershipInfo"])(t.prevChannelId))}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.payload;var r=arguments[1];t||r(Object(i["clearAllMembershipInfo"])())}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.payload;var r=arguments[1];var n=arguments[2];r(Object(i["clearChannelMembershipInfo"])(t.id));r(Object(i["setChannelMembershipInfoForUsers"])({channelId:t.id,membershipInfo:u({},Object(c["getCurrentUserId"])(n()),true)}))}function v(e,t){var r=e&&e.payload&&e.payload.channels;if(!r||!r.length)return;r.forEach(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(Object(i["clearChannelMembershipInfo"])(e.id))})}Object(l["a"])([{actions:[o["setActiveChannel"]],sideEffect:p},{actions:[s["connected"]],sideEffect:f},{actions:[a["joinChannel"]],sideEffect:d},{actions:[a["addOrReplaceChannels"]],sideEffect:v,reasons:[a["CHANNEL_ACTION_REASONS"].LEAVE_CHANNEL]}])},18161:function(e,t,r){"use strict";var n=r(16923);var a=r(16992);var i=r(16930);var o=r(16913);var s=r(16979);var c=r(16967);var l=r(17042);var u=r(16999);var p=r(16920);var f=r(16934);var d=r(18162);var v=r(16966);function h(e,t,r){var n=r();if(!Object(o["useReactMessages"])(n))return;var i=Object(s["wasLastConnectFast"])(n);if(i)return;var c=Object(s["isFirstConnection"])(n);if(c&&!Object(f["a"])())return;if(Object(f["a"])()&&false===navigator.onLine)return;t(Object(a["resetReachedEnd"])())}function m(e,t,r){var n=r();if(!Object(o["useReactMessages"])(n))return;var i=e.payload,s=i.channelId,l=i.append;var u=Object(c["getMessagePaneChannelId"])(n);if(!l)return;s!==u&&t(Object(a["truncateChannelHistory"])({channelId:s}))}function b(e,t,r){var i=r();if(!Object(o["useReactMessages"])(i))return;var s=e.payload.prevChannelId;if(!s)return;var f=Object(c["getMessagePaneChannelId"])(i);if(f===s)return;var v=Object(n["getChannelById"])(i,s);if(!v)return;var h=Object(n["getChannelById"])(i,f);if(Object(p["isPublicChannel"])(h)&&!Object(p["isMemberOfChannel"])(h)&&Object(o["isFeatureEnabled"])(i,"feature_lazy_channels")){var m=[f];t(Object(u["e"])({ids:m})).then(function(){return Object(d["b"])()})}else if(Object(p["isPublicChannel"])(h)&&!Object(p["isMemberOfChannel"])(h)){var b="message-history/onChannelChange";t(Object(u["i"])({channelId:f,noMembers:true,reason:b})).then(function(e){if(!e||!e.channel)return;t(Object(l["H"])({channel:e.channel}));Object(d["b"])()})}Object(p["isArchived"])(v)||Object(p["isPublicChannel"])(v)&&!Object(p["isMemberOfChannel"])(v)?t(Object(a["removeAllTimestamps"])({channelId:s})):t(Object(a["truncateChannelHistory"])({channelId:s}))}function _(e,t,r){var n=r();if(!Object(o["useReactMessages"])(n))return;var i=e&&e.payload&&e.payload.channels;if(!i||!i.length)return;i.forEach(function(e){if(!e)return;t(Object(a["removeAllTimestamps"])({channelId:e.id}))})}function g(e,t,r){var s=void 0;e.type===n["removeChannels"].getType()?s=e&&e.payload&&e.payload.ids:e.type===l["r"].getType()&&(s=[e&&e.payload&&e.payload.id]);if(!s||!s.length)return;var c=r();if(!Object(o["useReactMessages"])(c))return;s.forEach(function(e){if(!e)return;t(Object(a["removeAllTimestamps"])({channelId:e}));t(Object(i["removeAllMessages"])({channelId:e}))})}Object(v["b"])({actions:[a["addTimestamps"]],sideEffect:m});Object(v["b"])({actions:[c["setActiveChannel"]],sideEffect:b});Object(v["b"])({actions:[n["addOrReplaceChannels"]],sideEffect:_,reasons:[n["CHANNEL_ACTION_REASONS"].ARCHIVE_CHANNEL,n["CHANNEL_ACTION_REASONS"].LEAVE_CHANNEL]});Object(v["b"])({actions:[n["removeChannels"],l["r"]],sideEffect:g});Object(v["b"])({actions:[s["connected"]],sideEffect:h})},18162:function(e,t,r){"use strict";r.d(t,"b",function(){return o});r.d(t,"a",function(){return s});var n=r(1);var a=r.n(n);var i=r(16914);var o=Object(i["c"])("TS.client.channel_header.start",a.a.noop);var s=Object(i["c"])("TS.client.channel_header.openTopicInput",a.a.noop)},18163:function(e,t,r){"use strict";var n=r(17120);var a=r(17742);var i=r(16966);function o(){Object(a["a"])()}Object(i["b"])({actions:[n["stopEditingMessage"]],sideEffect:o})},18164:function(e,t,r){"use strict";var n=r(20618);var a=r(15852);var i=r(15861);var o=r(16913);var s=r(16939);var c=r(17400);var l=r(17950);var u=r(16966);function p(e,t,r){var n=r();if(!Object(o["isFeatureEnabled"])(n,"feature_global_nav"))return;var a=e.payload&&e.payload.history;if(!a)return;window.winssb&&window.winssb.deviceStorage&&window.winssb.deviceStorage.setItem("navigation-history",JSON.stringify(a))}function f(e,t,r){var i=r();if(!Object(o["isFeatureEnabled"])(i,"feature_global_nav"))return;var u=Object(n["getPrimaryView"])(i);var p=Object(s["getCurrentTeam"])(i);var f=e.payload;if(!p||p.id!==f){t(Object(a["setLoaded"])(false));return}t(Object(l["f"])()).then(function(){t(Object(l["e"])({viewId:u,teamId:p.id,teamName:Object(c["getTeamDisplayName"])(p)}))})}Object(u["b"])({actions:[a["updateNavigationHistory"]],sideEffect:p});Object(u["b"])({actions:[i["setActiveTeam"]],sideEffect:f})},18165:function(e,t,r){"use strict";var n=r(16979);var a=r(17008);var i=r(16966);function o(){Object(a["f"])()}Object(i["b"])({actions:[n["unexpectedSocketClosure"]],sideEffect:o})},18166:function(e,t,r){"use strict";var n=r(16991);var a=r(17123);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.is_uninstall,r=e.app_id;var n=arguments[1];n(t&&r?Object(a["uninstallAppActions"])([r]):Object(a["markAsStale"])())}Object(n["a"])("app_actions_updated",i)},18167:function(e,t,r){"use strict";var n=r(17736);var a=r(16991);var i=r(17972);var o=r(16913);var s=r(17206);var c=r(16941);var l=r(16934);var u=function e(t,r,a){if(!Object(o["isFeatureEnabled"])(a(),"feature_dialog_opened_rtm_m11n")&&!Object(l["a"])())return;var u=t.app_id,p=t.client_token,f=t.dialog_id,d=t.dialog_submit_label,v=t.dialog_title,h=t.timeout_range;if(!s["a"].check(p))return;var m=s["a"].getTimeDelta(p),b=m.delta,_=m.nowTs,g=m.tokenTs;Object(c["b"])(n["b"].APP_DIALOG_OPEN_ATTEMPTED,{app_id:u,dialog_id:f,dialog_client_token_ts:g,dialog_ms_event_received_ts:_});if(b>=h)return;r(Object(i["a"])({appId:u,id:f,submitLabel:d,title:v}))};Object(a["a"])("dialog_opened",u)},18168:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(16991);var o=r(17674);var s=r(17119);var c=r(17046);var l=r(16923);var u=r(16920);var p=r(16967);var f=r(17937);var d=r(17056);var v=r(17206);var h=r(20319);var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var b="app_wildcard_added";var _="app_wildcard_removed";var g="app_permission_request";var y="app_permission_user_request";function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.app_user,r=e.type;var a=arguments[1];var i=arguments[2];var v=i();var h=r===b;a(Object(s["clearAllMembershipInfoForUser"])(t));var _=Object(p["getMessagePaneChannelId"])(v);var g=Object(l["getChannelById"])(v,_);var y=Object(n["cloneDeep"])(Object(c["getCachedMemberCounts"])(v,_));a(Object(c["clearAllMemberCounts"])());if(Object(u["isPublicChannel"])(g)&&y&&y.counts){var O=Object(n["get"])(y,"counts.app_count",0);var E=O+(h?1:-1);y.counts.app_count=E;a(Object(c["addOrReplaceMemberCounts"])({channelId:_,countInfo:m({},y,{should_refetch:true})}))}Object(f["a"])();a(Object(d["maybeUpdateAppPermissionsAfterWildcardChange"])({appUserId:t,wildcardEnabled:h}));Object(o["c"])(h)}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.app_user,r=e.client_token,n=e.scope_info,a=e.scope_type,i=e.timeout_range,o=e.trigger_id,s=e.type;var c=arguments[1];if(!v["a"].check(r))return;var l=v["a"].getTimeDelta(r),u=l.delta;if(u>=i)return;c(Object(h["a"])({appUserId:t,scopeInfo:n,triggerId:o,isUserRequest:s===y,scopeType:a}))}Object(i["a"])(b,O);Object(i["a"])(_,O);Object(i["a"])(g,E);Object(i["a"])(y,E)},18169:function(e,t,r){"use strict";var n=r(16991);var a=r(16913);var i=r(17048);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.app_id;var r=arguments[1];var n=arguments[2];Object(a["isFeatureEnabled"])(n(),"feature_better_web_app_model")&&r(Object(i["markAppProfilesForAppAsStale"])(t))}Object(n["a"])("apps_uninstalled",o)},18170:function(e,t,r){"use strict";var n=r(16991);var a=r(18171);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.m,r=e.pct,n=e.lt,i=e.a,o=e.id;Math.floor(100*Math.random())<r&&Object(a["a"])(t,n,i,o)}Object(n["a"])("benchmark",i)},18171:function(e,t,r){"use strict";t["a"]=o;var n=r(1);var a=r.n(n);var i=r(16929);function o(e,t,r,n){return Object(i["d"])("api.benchmark",{m:e,id:n,lt:t,a:r}).catch(a.a.noop)}},18172:function(e,t,r){"use strict";var n=r(16991);var a=r(16913);var i=r(18173);var o=r(16974);var s=r(17048);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bot;var r=arguments[1];var n=arguments[2];Object(a["useReactMessages"])(n())?r(Object(o["upsertBot"])(t)):Object(i["a"])([t])}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bot;var r=arguments[1];var n=arguments[2];Object(a["isFeatureEnabled"])(n(),"feature_better_web_app_model")&&r(Object(s["markAppProfileAsStale"])(t.id))}Object(n["a"])("bot_added",c);Object(n["a"])("bot_changed",c);Object(n["a"])("bot_changed",l)},18173:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(16914);var a=Object(n["c"])("TS.bots.ensureBotsArePresent");var i=Object(n["c"])("TS.bots.legacyBatchUpsertAndSignal")},18174:function(e,t){},18175:function(e,t,r){"use strict";var n=r(16991);var a=r(16913);var i=r(17156);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.canvas_id;var r=arguments[1];var n=arguments[2];var o=n();if(!Object(a["isFeatureEnabled"])(o,"feature_canvases"))return;r(Object(i["mountModal"])({canvasId:t}))}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.canvas_id;var r=arguments[1];var n=arguments[2];var o=n();if(!Object(a["isFeatureEnabled"])(o,"feature_canvases"))return;r(Object(i["getCanvasContent"])({canvasId:t}))}Object(n["a"])("canvas_mounted",o);Object(n["a"])("canvas_changed",s)},18176:function(e,t,r){"use strict";t["a"]=I;t["b"]=A;var n=r(16971);var a=r(16923);var i=r(16992);var o=r(16919);var s=r(17681);var c=r(17934);var l=r(16921);var u=r(16920);var p=r(16991);var f=r(17288);var d=r(16934);var v=r(17101);var h=r(17323);var m=r(17070);var b=r(17002);var _=r(17054);var g=r(16913);var y=r(16967);function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channel,r=e.is_moved;var i=arguments[1];var s=arguments[2];var c=s();var p=false;var f=Object(a["getChannelById"])(c,t,p);if(!f){i(Object(n["warn"])("Received archive event for an unknown channel: "+t));return}if(Object(u["isArchived"])(f))return;i(Object(n["info"])("Archived channel "+t));var d=void 0;if(Object(u["isPublicChannel"])(f)){var v=Object(o["getCurrentMember"])(c);d=!Object(l["O"])(v)&&Object(u["isMemberOfChannel"])(f)}else Object(u["isPrivateChannel"])(f)&&(d=!!Object(u["isOpen"])(f));i(Object(a["archiveChannel"])({id:t,isMoved:!!r,wasArchivedThisSession:d}))}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channel;var r=arguments[1];var i=arguments[2];if(Object(u["isIm"])(t)){r(Object(a["upsertIm"])({im:t}));Object(_["e"])();r(Object(a["updateOneKeyForChannel"])({id:t.id,opened_this_session:true}));return}if(Object(l["O"])(Object(o["getCurrentMember"])(i())))return;r(Object(n["info"])("Created channel "+t.id));var s=r(Object(a["upsertChannel"])({channel:t}));Object(m["c"])(s)}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channel,r=e.user;var i=arguments[1];var l=arguments[2];var p=false;var f=Object(a["getChannelById"])(l(),t,p);if(!f){i(Object(n["error"])("Unknown channel "+t));return}i(Object(a["updateOneKeyForChannel"])({id:t,is_open:true}));if(Object(u["isIm"])(f)){var d=Object(o["isMemberKnown"])(l(),r)&&Object(o["getMemberById"])(l(),r);if(!d){i(Object(n["error"])("Unknown member "+r));return}}if(Object(c["getShouldBecomeActive"])(l(),r||t)){var h=Object(c["getPendingMsgForChannel"])(l(),r||t);h&&i(Object(s["b"])({channelId:t,text:h}));i(Object(v["a"])({id:t}));i(Object(c["clearPendingOpenChannel"])({memberId:r,channelId:t}))}i(Object(a["updateOneKeyForChannel"])({id:t,opened_this_session:true}));Object(u["isIm"])(f)&&Object(b["b"])(Object(a["getChannelById"])(l(),t))}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channel,r=e.converted_to;var i=arguments[1];var o=arguments[2];if(!Object(g["isFeatureEnabled"])(o(),"feature_m11n_channel_close_rtm_handlers"))return;var s=false;var c=Object(a["getChannelById"])(o(),t,s);if(!c){i(Object(n["error"])("Unknown channel "+t));return}i(Object(a["updateOneKeyForChannel"])({id:t,is_open:false}));var l=void 0;if(r){i(Object(a["updateOneKeyForChannel"])({id:t,latest:null}));l=r}if(t===Object(y["getMessagePaneChannelId"])(o())){var p=Object(g["isClientApp"])(o());if(Object(d["a"])()||p&&l){l=l||Object(y["getPrevChannelIdWithFallback"])(o());i(Object(v["a"])({id:l}))}else p&&Object(h["a"])()}Object(u["isIm"])(c)&&Object(b["a"])(Object(a["getChannelById"])(o(),t))}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channel;var r=arguments[1];var i=arguments[2];var o=i();var s=false;var c=Object(a["getChannelById"])(o,t,s);if(!c){r(Object(n["warn"])("Received deleted event for an unknown channel: "+t));return}r(Object(n["info"])("Deleted channel "+t));r(Object(a["removeChannels"])({ids:[t]}))}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channel;var r=arguments[1];var i=arguments[2];r(Object(n["info"])("You joined channel "+t.id));if((Object(u["isMpim"])(t)||Object(u["isPrivateChannel"])(t))&&!Object(u["isExternallySharedChannel"])(t)){var o=i();var s=false;var c=Object(a["getChannelById"])(o,t.id,s);if(c){r(Object(n["warn"])("Received join event for an mpim or group we already know about ("+t.id+"); ignoring it."));return}}var l=void 0;l=Object(u["isMpim"])(t)&&!Object(u["isExternallySharedChannel"])(t)?r(Object(a["upsertMpim"])({mpim:t})):Object(u["isPrivateChannel"])(t)&&!Object(u["isPrivateExternalSharedChannel"])(t)?r(Object(a["upsertGroup"])({group:t})):r(Object(a["upsertChannel"])({channel:t}));r(Object(a["joinChannel"])(l))}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channel;var r=arguments[1];var i=arguments[2];r(Object(n["info"])("You left channel "+t));var o=i();var s=false;var c=Object(a["getChannelById"])(o,t,s);if(!c){Object(m["m"])(t)||r(Object(n["warn"])("Received left event for a channel we don't know about ("+t+"); ignoring it."));return}r(Object(a["leaveChannel"])(c));Object(u["isPrivateChannel"])(c)&&r(Object(a["removeChannels"])({ids:[c.id]}))}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channel;var r=arguments[1];var i=arguments[2];var o=i();var s=false;if(!Object(a["getChannelById"])(o,t.id,s)){r(Object(n["warn"])("Received rename event for an unknown channel: "+t.id));return}r(Object(n["info"])("Renamed channel "+t.id));r(Object(a["renameChannel"])({id:t.id,name:t.name,name_normalized:t.name_normalized,_name_lc:t.name.toLowerCase()}))}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channel,r=e.user,i=e.ts,o=e.purpose;var s=arguments[1];var c=arguments[2];var l=c();var u=false;if(!Object(a["getChannelById"])(l,t,u)){s(Object(n["warn"])("Received channel purpose change event for an unknown channel: "+t));return}s(Object(n["info"])(r+" changed purpose for channel "+t));var p={creator:r,last_set:i,value:o};s(Object(a["setChannelPurpose"])({id:t,purpose:p}))}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channel,r=e.is_moved;var i=arguments[1];var o=arguments[2];var s=o();var c=false;var l=Object(a["getChannelById"])(s,t,c);if(!l){i(Object(n["warn"])("Received unarchive event for an unknown channel: "+t));return}if(!Object(u["isArchived"])(l))return;i(Object(n["info"])("Unarchived channel "+t));Object(u["isPublicChannel"])(l)&&l.was_archived_this_session&&i(Object(a["joinConversationApi"])({channelId:t,inBackground:true}));i(Object(a["unarchiveChannel"])({id:t,isMoved:!!r}))}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channel,r=e.user,i=e.ts,o=e.topic;var s=arguments[1];var c=arguments[2];var l=c();var u=false;var p=Object(a["getChannelById"])(l,t,u);if(!p){s(Object(n["warn"])("Received topic change event for an unknown channel: "+t));return}s(Object(n["info"])(r+" changed topic for "+t));var f={creator:r,last_set:i,value:o};s(Object(a["setChannelTopic"])({id:t,topic:f}))}function P(e,t,r){var i=Object(g["isFeatureEnabled"])(r(),"feature_sonic_rtm_marked_events");if(!i&&!Object(d["a"])())return;var o=e.channel,s=e.ts,c=e.type;var l=false;var p=Object(a["getChannelById"])(r(),o,l);if("group_marked"===c&&Object(u["isMpim"])(p))return;if(!p||Object(u["isNonExistent"])(p)){t(Object(n["error"])("The channel model object was not found for the channel id ("+o+") we received in the "+c+" event"));return}t(Object(f["c"])({id:o,ts:s}))}function R(e,t,r){if(!Object(g["isFeatureEnabled"])(r(),"feature_channel_converted_to_shared_rtm_handler"))return;var i=e&&e.channel&&e.channel.id;if(!i){t(Object(n["warn"])("RTM channel_converted_to_shared: message missing channel ID."));return}var o=false;var s=Object(a["getChannelById"])(r(),i,o);if(!s){t(Object(n["warn"])("Received channel_converted_to_shared for an unknown channel: "+i));return}t(Object(n["info"])("Received channel_converted_to_shared for "+i));t(Object(a["convertToShared"])({channel:s}))}function M(e,t,r){if(!Object(g["isFeatureEnabled"])(r(),"feature_history_changed_modern_rtm_handlers"))return;var o=e&&e.type;var s=e&&e.channel;if(!s){t(Object(n["warn"])("Received "+o+" without a 'channel' id."));return}var c=false;var l=Object(a["getChannelById"])(r(),s,c);if(!l){t(Object(n["warn"])("Received "+o+" for an unknown channel: "+s));return}t(Object(i["removeAllTimestamps"])({channelId:s}))}Object(p["a"])("channel_archive",O);Object(p["a"])("channel_created",E);Object(p["a"])("channel_deleted",w);Object(p["a"])("channel_joined",C);Object(p["a"])("channel_left",S);Object(p["a"])("channel_rename",T);Object(p["a"])("channel_unarchive",N);Object(p["a"])("group_archive",O);Object(p["a"])("group_deleted",w);Object(p["a"])("group_joined",C);Object(p["a"])("group_left",S);Object(p["a"])("group_rename",T);Object(p["a"])("group_unarchive",N);Object(p["a"])("mpim_joined",C);Object(p["a"])("mpim_open",j);Object(p["a"])("im_created",E);Object(p["a"])("im_open",j);Object(p["a"])("mpim_close",k);Object(p["a"])("im_close",k);Object(p["a"])("message.channel_purpose",I);Object(p["a"])("message.group_purpose",I);Object(p["a"])("message.channel_topic",A);Object(p["a"])("message.group_topic",A);Object(p["a"])("channel_marked",P);Object(p["a"])("group_marked",P);Object(p["a"])("mpim_marked",P);Object(p["a"])("im_marked",P);Object(p["a"])("channel_converted_to_shared",R);Object(p["a"])("channel_history_changed",M);Object(p["a"])("im_history_changed",M);Object(p["a"])("mpim_history_changed",M);Object(p["a"])("group_history_changed",M)},18177:function(e,t){},18178:function(e,t){},18179:function(e,t,r){"use strict";var n=r(16991);var a=r(17947);var i=r(16925);var o=r(16971);var s=r(16934);var c=r(20578);function l(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var u=function e(t,r,n){if(!t||!Object(s["a"])())return;var u=t.name,p=t.names,f=t.subtype,d=t.value,v=t.old_name,h=t.new_name;var m=n();var b=Object(i["getTeamId"])(m);if("add"===f){if(u&&d){var _=Object(c["b"])(l({},u,d)),g=_.emojis,y=_.aliases;r(Object(a["bulkAddCustomEmoji"])({teamId:b,emojis:g,aliases:y}))}else r(Object(o["warn"])("RTM",'emoji_changed: "add" subtype missing "name" or "value"'));return}if("remove"===f){Array.isArray(p)?r(Object(a["bulkRemoveCustomEmoji"])({teamId:b,names:p})):r(Object(o["warn"])("RTM",'emoji_changed: "remove" subtype missing "names"'));return}if("rename"===f){r(v&&h?Object(a["renameCustomEmoji"])({teamId:b,prevName:v,nextName:h}):Object(o["warn"])("RTM",'emoji_changed: "rename" subtype missing "old_name" or "new_name"'));return}r(Object(o["warn"])("RTM","emoji_changed: unknown or missing subtype"))};Object(n["a"])("emoji_changed",u);var p={handleEmojiChanged:u}},18180:function(e,t,r){"use strict";var n=r(16991);var a=r(16913);var i=r(17205);var o=r(16946);var s=r(16977);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.file_id;var r=arguments[1];var n=arguments[2];if(!t)return;var c=n();if(!Object(a["isFeatureEnabled"])(c,"feature_no_files_info"))return;var l=Object(o["getFileById"])(c,t);if(!l)return;r(Object(i["setFileChanged"])({fileId:t}));Object(s["c"])(l)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.file_id,r=e.file_ids;var n=r||[t];n.forEach(function(e){return Object(s["o"])(e)})}Object(n["a"])("file_public",c);Object(n["a"])("file_private",c);Object(n["a"])("file_change",c);Object(n["a"])("file_shared",c);Object(n["a"])("file_unshared",c);Object(n["a"])("file_deleted",l)},18181:function(e,t,r){"use strict";var n=r(16991);var a=r(16913);var i=r(17677);var o=r(16934);function s(e,t,r){if(!Object(o["a"])()&&"client"!==Object(a["getFromBootData"])(r(),"app"))return;Object(i["b"])()}Object(n["a"])("shared_invite_code_created",s);Object(n["a"])("shared_invite_code_disabled",s)},18182:function(e,t){},18183:function(e,t,r){"use strict";var n=r(16991);var a=r(18184);var i=r(16971);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.payload;var r=t.user_lessons;Object(a["c"])(r)}function s(e,t){var r=e.user_event;switch(e.user_event){case"channel_created":Object(a["a"])(e);break;case"message_sent":Object(a["d"])(e);break;case"file_share":Object(a["b"])(e);break;default:t(Object(i["info"])("Received lesson_user_action event with an user_event value of '"+r+"'; ignoring it"))}}Object(n["a"])("lesson_assigned",o);Object(n["a"])("lesson_user_action",s)},18184:function(e,t,r){"use strict";r.d(t,"a",function(){return a});r.d(t,"b",function(){return i});r.d(t,"c",function(){return o});r.d(t,"d",function(){return s});var n=r(16914);var a=Object(n["c"])("TS.lessons.channel_created_sig.dispatch");var i=Object(n["c"])("TS.lessons.file_uploaded_sig.dispatch");var o=Object(n["c"])("TS.lessons.lesson_assigned_sig.dispatch");var s=Object(n["c"])("TS.lessons.message_sent_sig.dispatch")},18185:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(16919);var o=r(17119);var s=r(17046);var c=r(17127);var l=r(16923);var u=r(17727);var p=r(16913);var f=r(17403);var d=r(16922);var v=r(16971);var h=r(16920);var m=r(16921);var b=r(16991);var _=r(16934);var g=r(17674);var y=r(17054);var O=r(18186);var E=r(17070);var j=r(17056);function k(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function w(e,t,r){var n=e.channel_type,c=e.user,f=e.channel,d=e.inviter;var b=r();var _=Object(i["isMemberKnown"])(b,c)&&Object(i["getMemberById"])(b,c);var w=false;var C=Object(l["getChannelById"])(b,f,w);var S=Object(i["getCurrentMember"])(b);var T=true;if(Object(p["isFeatureEnabled"])(b,"feature_less_preprocess_fetching")&&Object(p["isFeatureEnabled"])(b,"feature_lazy_channels")&&Object(p["isFeatureEnabled"])(b,"feature_lazy_teams")){var I=t(Object(o["setChannelMembershipInfoForUsers"])({channelId:f,membershipInfo:k({},c,T)}));if(I){t(Object(s["updateAndInvalidateMemberCounts"])({channelId:f}));t(Object(j["maybeUpdateAppPermissionsAfterChannelAdd"])({appUserId:c,channelId:f}));Object(m["z"])(_)&&Object(g["b"])(C,T)}if(C&&!Object(h["isIm"])(C)&&!Object(h["isMpim"])(C)){if(!Object(h["isMemberOfChannel"])(C)){t(Object(v["info"])(c+" joined channel "+f+" but we are not a member; ignoring"));return}t(Object(v["info"])(c+" joined channel "+f));d&&c===S.id&&t(Object(u["addInviter"])({channelId:f,inviter:d}));if(I){if("C"===n){Object(E["g"])(C,c);Object(m["w"])(S)||Object(m["E"])(_)&&Object(m["R"])(_)&&t(Object(i["removeMember"])(_))}if("G"===n){_&&Object(y["e"])();Object(O["a"])(C,c)}}}return}if(Object(m["z"])(_)){var N=t(Object(o["setChannelMembershipInfoForUsers"])({channelId:f,membershipInfo:k({},c,T)}));if(N){t(Object(s["updateAndInvalidateMemberCounts"])({channelId:f,memberCountDelta:0,restrictedMemberCountDelta:0,appCountDelta:1}));t(Object(j["maybeUpdateAppPermissionsAfterChannelAdd"])({appUserId:_.id,channelId:f}))}Object(g["b"])(C,T)}else if(C&&!Object(h["isIm"])(C)&&!Object(h["isMpim"])(C)){if(!Object(h["isMemberOfChannel"])(C)){t(Object(v["info"])(c+" joined channel "+f+" but we are not a member; ignoring"));return}t(Object(v["info"])(c+" joined channel "+f));d&&c===S.id&&t(Object(u["addInviter"])({channelId:f,inviter:d}));if("G"===n){var A=C.members||[];a.a.includes(A,c)||t(Object(l["updateOneKeyForChannel"])({id:C.id,members:A.concat(c)}))}var P=t(Object(o["setChannelMembershipInfoForUsers"])({channelId:f,membershipInfo:k({},c,T)}));if(_&&P){t(Object(s["updateAndInvalidateMemberCounts"])({channelId:f,memberCountDelta:1,restrictedMemberCountDelta:Object(m["O"])(_)?1:0,appCountDelta:0}));if("C"===n){Object(E["g"])(C,c);Object(m["w"])(S)||Object(m["E"])(_)&&Object(m["R"])(_)&&t(Object(i["removeMember"])(_))}if("G"===n){Object(y["e"])();Object(O["a"])(C,c)}}}}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channel_type,r=e.user,n=e.channel;var c=arguments[1];var u=arguments[2];var f=u();var d=false;var b=Object(l["getChannelById"])(f,n,d);var _=Object(i["isMemberKnown"])(f,r)&&Object(i["getMemberById"])(f,r);var w=false;if(Object(p["isFeatureEnabled"])(f,"feature_less_preprocess_fetching")&&Object(p["isFeatureEnabled"])(f,"feature_lazy_channels")&&Object(p["isFeatureEnabled"])(f,"feature_lazy_teams")){var C=c(Object(o["setChannelMembershipInfoForUsers"])({channelId:n,membershipInfo:k({},r,w)}));if(C){c(Object(s["updateAndInvalidateMemberCounts"])({channelId:n}));c(Object(j["maybeUpdateAppPermissionsAfterChannelRemove"])({appUserId:r,channelId:n}));Object(m["z"])(_)&&Object(g["b"])(b,w)}if(b&&!Object(h["isIm"])(b)&&!Object(h["isMpim"])(b)){if(!Object(h["isMemberOfChannel"])(b)){c(Object(v["info"])(r+" left channel "+n+" but we are not a member; ignoring"));return}c(Object(v["info"])(r+" left channel "+n));if(C){if("C"===t){Object(E["h"])(b,r);Object(m["w"])(Object(i["getCurrentMember"])(f))||Object(m["E"])(_)&&!Object(m["R"])(_)&&c(Object(i["removeMember"])(_))}if("G"===t){_&&Object(y["e"])();Object(O["b"])(b,r)}}}return}if(Object(m["z"])(_)){c(Object(o["setChannelMembershipInfoForUsers"])({channelId:n,membershipInfo:k({},r,w)}));c(Object(s["updateAndInvalidateMemberCounts"])({channelId:n,memberCountDelta:0,restrictedMemberCountDelta:0,appCountDelta:-1}));c(Object(j["maybeUpdateAppPermissionsAfterChannelRemove"])({appUserId:_.id,channelId:n}));Object(g["b"])(b,w)}else if(b&&!Object(h["isIm"])(b)&&!Object(h["isMpim"])(b)){if(!Object(h["isMemberOfChannel"])(b)){c(Object(v["info"])(r+" left channel "+n+" but we are not a member; ignoring"));return}c(Object(v["info"])(r+" left channel "+n));if("G"===t){var S=b.members||[];a.a.includes(S,r)&&c(Object(l["updateOneKeyForChannel"])({id:b.id,members:a.a.reject(function(e){return e.id===r})}))}var T=c(Object(o["setChannelMembershipInfoForUsers"])({channelId:n,membershipInfo:k({},r,w)}));if(_&&T){c(Object(s["updateAndInvalidateMemberCounts"])({channelId:n,memberCountDelta:-1,restrictedMemberCountDelta:Object(m["O"])(_)?-1:0,appCountDelta:0}));if("C"===t){Object(E["h"])(b,r);Object(m["w"])(Object(i["getCurrentMember"])(f))||Object(m["E"])(_)&&!Object(m["R"])(_)&&c(Object(i["removeMember"])(_))}if("G"===t){Object(y["e"])();Object(O["b"])(b,r)}}}}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.user;var r=arguments[1];var n=arguments[2];if(!t)return;var a=n();var o=Object(i["isMemberKnown"])(a,t.id);if(!o)return;var s=Object(i["getMemberById"])(a,t.id);if(s.id===Object(p["getCurrentUserId"])(a)&&t.profile&&!t.profile.email&&!Object(d["getTeamPref"])(a,"display_email_addresses")){var l=s.profile&&s.profile.email;if(l){r(Object(v["info"])("user_change: email hidden via team pref. appending email from model for local user, so it is not lost in upsert."));t.profile.email=l}}Object(_["a"])()?r(Object(c["a"])({members:[t]})):Object(y["f"])(t)}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.user,r=e.channel;var n=arguments[1];var a=arguments[2];var o=a();var s=Object(i["isMemberKnown"])(o,t);if(!s){n(Object(v["error"])("user_typing event from user ("+t+") not in model; ignoring"));return}var c=false;var u=Object(l["getChannelById"])(o,r,c);if(!u){n(Object(v["error"])("user_typing event for channel ("+r+") not in model; ignoring"));return}n(Object(f["memberStartedTyping"])({channelId:r,memberId:t}))}Object(b["a"])("member_joined_channel",w);Object(b["a"])("member_left_channel",C);Object(b["a"])("user_change",S);Object(b["a"])("user_typing",T)},18186:function(e,t,r){"use strict";r.d(t,"b",function(){return a});r.d(t,"a",function(){return i});var n=r(16914);var a=Object(n["c"])("TS.groups.member_left_sig.dispatch");var i=Object(n["c"])("TS.groups.member_joined_sig.dispatch")},18187:function(e,t,r){"use strict";var n=r(16930);var a=r(17209);var i=r(16992);var o=r(16913);var s=r(16968);var c=r(17681);var l=r(17155);var u=r(16940);var p=r(17126);var f=r(16967);var d=r(17282);var v=r(17055);var h=r(16922);var m=r(16962);var b=r(16916);var _=r(16991);var g=r(16934);var y=r(16965);var O=r(17723);var E=r(18176);var j=r(18189);var k=r(18200);var w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function C(e,t,r){if(!e)return;switch(e.subtype){case"message_changed":T(e,t,r);return;case"message_deleted":I(e,t,r);return;case"message_replied":Object(k["a"])(e,t,r);return;case"channel_history_changed":case"group_history_changed":case"im_history_changed":case"mpim_history_changed":return;case"channel_purpose":case"group_purpose":Object(E["a"])(e,t,r);break;case"channel_topic":case"group_topic":Object(E["b"])(e,t,r);break;default:break}S(e,t,r);Object(j["a"])(e,t,r);N(e,t,r)}function S(e,t,r){if(!Object(g["a"])())return;if(!e||!e.channel)return;var s=r();var p=e.channel;var f={channelId:p,timestamps:[e.ts],oldest:e.ts,hasMore:false,append:true};var d=t(Object(a["a"])({imsgs:[e],channelId:e.channel}));t(Object(n["addMessages"])(d));t(Object(i["addTimestamps"])(f));if(Object(u["isReply"])(e)){var v=Object(l["a"])(p,e.thread_ts);t(Object(i["addTimestamps"])(w({},f,{channelId:v})))}var h=Object(o["isFeatureEnabled"])(s,"feature_http_sendmsg")&&!Object(g["a"])();h&&Object(c["c"])(r,t,d[0],e)}function T(e,t,r){var c=r();if(!Object(g["a"])()){var l=Object(o["isFeatureEnabled"])(c,"feature_modern_process_imsg");if(!l)return;var u=Object(o["isFeatureEnabled"])(c,"feature_modern_message_changed");if(!u)return}var p=false;var f=e.message,d=e.channel,v=e._from_evt_log;var h=Object(s["e"])(c,d,p);if(!f){Object(b["error"])("no message?");return}if(!f.ts){Object(b["error"])("no message ts?");return}if(!h){Object(b["error"])("unknown msg.channel:"+d);return}Object(y["i"])(e);var m=t(Object(a["a"])({imsgs:[f],channelId:d}));t(Object(n["addMessages"])(m));var _={channelId:d,timestamps:[f.ts],fromEvtLog:!!v};t(Object(i["addTimestamps"])(_));Object(y["k"])(h,f,true,false)}function I(e,t,r){var a=r();if(!Object(g["a"])()){var i=Object(o["isFeatureEnabled"])(a,"feature_modern_message_deleted");if(!i)return}var c=e.deleted_ts,l=e.channel,v=e._from_evt_log;if(!c){Object(b["error"])("Error in messageDeleted: no deleted_ts");return}var h=Object(s["e"])(a,l);if(!h){Object(b["error"])("Unknown channelId: "+l);return}Object(y["j"])(h,e);var m=Object(n["getMessageByTimestamp"])(a,l,c);m&&Object(u["isReply"])(m)&&!Object(u["isThreadBroadcast"])(m)?t(Object(p["a"])({channelId:l,ts:c,fromEvtLog:v})):t(Object(f["maybeAnimateDeleteMessage"])({channel:l,ts:c},v));t(Object(d["recordMessageDeleted"])({channelId:l,ts:c}))}function N(e,t,r){var n=r();var a=Object(o["getCurrentUserId"])(n);if(!Object(o["isFeatureEnabled"])(n,"feature_ally_sounds"))return;if(!Object(v["isWindowFocused"])(n))return;if(!Object(m["isScreenReaderEnabled"])())return;if(Object(u["isFromCurrentUser"])(e,a))return;if(Object(u["isReply"])(e))return;if(!Object(u["isFromChannel"])(e,Object(f["getMessagePaneChannelId"])(n)))return;var i=Object(u["containsMention"])(e,a,Object(h["getUserHighlightWords"])(n));Object(O["b"])(i)}Object(_["a"])("message",C);Object(g["a"])()&&Object(_["a"])("message.file_share",S);Object(_["a"])("message.message_changed",T);Object(_["a"])("message.message_deleted",I)},18188:function(e,t,r){"use strict";var n=r(16991);var a=r(17969);Object(n["a"])("slackbot_continue",a["c"]);Object(n["a"])("slackbot_response_sent",a["d"]);Object(n["a"])("slackbot_skip_or_stop",a["e"])},18189:function(e,t,r){"use strict";t["a"]=m;var n=r(16916);var a=r(20409);var i=r(16991);var o=r(16934);var s=r(16913);var c=r(16968);var l=r(16930);var u=r(16920);var p=r(17405);var f=r(15762);var d=r(17979);var v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var h=new Set;function m(e,t,r){var i=r();if(!Object(s["isFeatureEnabled"])(i,"feature_growls_m11n"))return;var l=false;var v=Object(c["e"])(i,e.channel,l);var b=_(e);var g=void 0;g="desktop_notification"===e.type?Object(p["j"])(i,e):Object(u["isIm"])(v)?Object(p["k"])(i,e,v):Object(p["i"])(i,e,v);g===f["a"].NONE&&h.has(b)&&(g=f["a"].ALREADY_SHOWN);if(Object(o["a"])()&&g===f["a"].PERMISSION_DENIED)Object(d["a"])(t,function(n){n&&m(e,t,r)});else if(g!==f["a"].NONE){var y=Object(f["b"])(g,v&&v.id,e.ts);if(y){Object(n["warn"])("Notification ("+e.type+") suppressed because:\n"+y);Object(a["a"])(i,{channel:v.id,timestamp:e.ts||e.msg,description:y})}}else{t(Object(d["b"])({message:e,modelObject:v,options:"desktop_notification"===e.type?{skip_formatting:true,launch_uri:e.launchUri,image_uri:e.imageUri,avatar_image:e.avatarImage}:{}}));h.add(b);Object(a["a"])(i,{channel:v.id,timestamp:e.ts||e.msg,description:"Notification shown"})}}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channel,r=e.timestamp;var n=arguments[1];var a=arguments[2];var i=a();if(!Object(s["isFeatureEnabled"])(i,"feature_growls_m11n"))return;var o=Object(l["getMessageByTimestamp"])(i,t,r);if(!o)return;if(o._ignore_dnd)return;n(Object(l["addMessages"])([v({},o,{_ignore_dnd:true})]));var c=Object(l["getMessageByTimestamp"])(a(),t,r);m(c,n,a)}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channel,r=e.msg,n=e.ts;return t&&(n||r)?t+":"+(n||r):Date.now().toString()}Object(i["a"])("desktop_notification",m);Object(i["a"])("dnd_override",b)},18190:function(e,t,r){"use strict";t["c"]=y;t["b"]=O;t["a"]=E;var n=r(16913);var a=r(16919);var i=r(16922);var o=r(16939);var s=r(16925);var c=r(16920);var l=r(16921);var u=r(16940);var p=r(17400);var f=r(17073);var d=r(16962);var v=r(16924);var h=r(16912);var m=r(17958);var b=r(16953);var _=r(17723);var g=new h["b"]("growl");function y(e,t,r,n){var a=k(e,t,r._ignore_dnd);var i=w(e,t);var o=n.skip_formatting?r.content:Object(b["e"])(j(e,t,r),r,{for_growl:true});return{title:a,subtitle:i,content:o}}function O(e,t,r,n,i){var o={msg:r&&r.ts||"",channel:t.id||"",thread_ts:r&&r.thread_ts,ssbFilename:Object(_["a"])(i),launchUri:n.launch_uri||C(e,t,r),imageUri:n.image_uri||Object(u["getMessageAttachmentImage"])(e,r),avatarImage:n.avatar_image||Object(a["getProfileImageForMember"])(e,r.user)};!o.ssbFilename&&Object(v["isSSBAndAtLeastVersion"])("3.0.0")&&(o.silent=true);if(Object(v["isSSBAndAtLeastVersion"])("3.3.0")){o.channelName=Object(c["getDisplayNameForChannel"])(e,t,{imIncludeAtSign:false})||"";o.authorName=r&&Object(l["r"])(e,r.user)}return o}function E(e,t){var r="tag_"+(t&&(t.id||t.ts)||Date.now());var a=Object(n["getFromBootData"])(e,"img");var i=a&&a.app_icon;return{icon:i,tag:r}}function j(e,t,r){var n=Object(i["getUserPref"])(e,"no_text_in_notifications");var a=n?"":S(e,r);if(Object(c["isIm"])(t))return a;var o=Object(l["r"])(e,r.user)||"";var s="";o&&(s+=n?g.t("a message from {name}",{name:o}):o+": ");s+=a;return s}function k(e,t,r){if(!t)return"";var a=Object(h["l"])(Object(c["getDisplayNameForChannel"])(e,t,{imIncludeAtSign:false}));if(Object(n["signedIntoOtherAccounts"])(e)&&d["isDesktop"]){var i=Object(o["getCurrentTeam"])(e);if(Object(v["isMac"])())return Object(p["getTeamDisplayName"])(i);if(Object(c["isIm"])(t))return r?g.t("{name} is trying to reach you",{name:a}):g.t("[{team_domain}] from {name}",{team_domain:i.domain,name:a});return g.t("[{team_domain}] in {channel}",{team_domain:i.domain,channel:a})}if(Object(c["isIm"])(t))return r?g.t("{name} is trying to reach you",{name:a}):g.t("New message from {name}",{name:a});return g.t("New message in {channel}",{channel:a})}function w(e,t){if(!t||!Object(v["isMac"])()||!d["isDesktop"]||!Object(n["signedIntoOtherAccounts"])(e))return"";return Object(c["getDisplayNameForChannel"])(e,t,{imIncludeAtSign:false})}function C(e,t,r){if(!t||!r||!r.ts)return null;return["slack://channel","?id="+t.id,"&message="+r.ts,"&team="+Object(s["getTeamId"])(e),r.thread_ts?"&thread_ts="+r.thread_ts:""].join("")}function S(e,t){if(!t)return"";var r=Object(u["shouldRenderFileThread"])(t,{featureFileThreads:Object(n["isFeatureEnabled"])(e,"feature_file_threads"),featureFileThreadsDarkLaunch:Object(n["isFeatureEnabled"])(e,"feature_file_threads_dark_launch")});var a=r&&t.files&&t.files.length?t.files[0]:t.file;var i=a&&r&&!t.text||Object(f["b"])(t.subtype);var o=void 0;o=i?Object(m["b"])(e,t,a):t.text?t.text:t.attachments&&t.attachments.length?T(t.attachments)||o:t.type+" "+t.subtype+" "+g.t("(message missing text)");return I(o)}function T(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(r.fallback)return r.fallback;if(r.text)return r.text;if(r.pretext)return r.pretext;if(r.footer)return r.footer}return null}function I(e){return e.replace(":simple_smile:",":)")}},18191:function(e,t){},18192:function(e,t){},18193:function(e,t,r){"use strict";var n=r(16991);var a=r(16922);var i=r(16913);var o=r(17207);var s=r(17015);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=e.value;var n=arguments[1];var c=arguments[2];var l=c();var u=Object(i["isFeatureEnabled"])(l,"feature_prefs_modernization");if(!u)return;if(Object(i["isFeatureEnabled"])(l,"feature_react_search")&&"sli_universal_search"===Object(s["a"])("sli_universal_search")&&("search_only_my_channels"===t||"search_only_current_team"===t||"search_exclude_bots"===t)){n(Object(a["setSearchPref"])({pref:t,value:r}));return}Object(o["b"])({name:t,value:r})}Object(n["a"])("pref_change",c)},18194:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(16991);var o=r(16971);var s=r(16919);var c=r(17069);var l=r(17054);var u=r(16913);var p=r(16934);var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var d="PRESENCE";function v(e,t,r){var n=Object(u["isFeatureEnabled"])(r(),"feature_sonic_rtm_presence");if(!n&&!Object(p["a"])())return;var a=e.presence,i=e.type;if("away"!==a&&"active"!==a){t(Object(o["error"])("An unknown presence was received in the '"+i+"' event: '"+a+"'"));return}var c=Object(s["getCurrentMember"])(r());if(!c)return;var d=f({},c,{manual_presence:a,presence:a});t(Object(s["addMember"])(d));Object(l["a"])(d)}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.presence,r=e.type,a=e.users;var i=arguments[1];var v=arguments[2];var h=Object(u["isFeatureEnabled"])(v(),"feature_sonic_rtm_presence");if(!h&&!Object(p["a"])())return;if("away"!==t&&"active"!==t){i(Object(o["error"])("An unknown presence was received in the '"+r+"' event: '"+t+"'"));return}if(Object(n["isEmpty"])(a)){i(Object(o["error"])("The '"+r+"' event did not contain an array of users to update the presence for"));return}a.forEach(function(e){var n=Object(s["isMemberKnown"])(v(),e)&&Object(s["getMemberById"])(v(),e);if(!n){i(Object(o["info"])(d,"Received a '"+r+"' event for a user we don't yet have in the local model: "+e));return}if(Object(c["getPresenceByMemberId"])(v(),e)===t)return;i(Object(s["addMember"])(f({},n,{presence:t})));Object(l["a"])(f({},n,{presence:t}))})}Object(i["a"])("manual_presence_change",v);Object(i["a"])("presence_change",h)},18195:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(16991);var o=r(16971);var s=r(16933);var c=r(17131);var l=r(16965);var u=r(16946);var p=r(16930);var f=r(15312);var d=r(16913);var v=r(17105);var h=r(16934);function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,r=e.ts,n=e.file,a=e.comment;switch(t){case"message":return!!r;case"file":return"string"===typeof n;case"file_comment":return"string"===typeof n&&!!a;default:return false}}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.type,n=t.ts,a=t.channel,i=t.file,o=t.comment;switch(r){case"message":return Object(p["getMessageByTimestamp"])(e,a,n)||Object(l["e"])(n,a)||void 0;case"file":return Object(u["getFileById"])(e,i)||void 0;case"file_comment":return Object(u["getFileCommentById"])(e,i,o)||void 0;default:return}}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.item,r=e.reaction,a=e.user,i=e.url,s=e._from_evt_log,l=e.event_ts;var u=arguments[1];var p=arguments[2];if(!Object(h["a"])()&&!Object(d["isFeatureEnabled"])(p(),"feature_m11n_reactions"))return;if(!Object(n["isObject"])(t)){u(Object(o["error"])("reaction_added has no item"));return}if(!m(t))return;var _=b(p(),t);if(!_)return;var g=t.channel,y=t.type,O=t.ts,E=t.file,j=t.comment;var k=O||j||E;var w=Object(v["d"])(y,k,g);var C=Object(d["getCurrentUserId"])(p());var S=u(Object(f["addReaction"])({key:w,name:r,userId:a,url:i}));if(C!==a&&C===_.user){var T=true;var I=!s&&"message"===y;Object(c["f"])({adding:T,name:r,key:w,userId:a,eventTs:l,shouldAlert:I,channelId:g,url:i})}if(S){var N=s||a!==Object(d["getCurrentUserId"])(p());Object(c["g"])({key:w,name:r,userId:a,type:y,shouldThrottle:N})}}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.item,r=e.reaction,a=e.user,i=e.url,s=e._from_evt_log,l=e.event_ts;var u=arguments[1];var p=arguments[2];if(!Object(h["a"])()&&!Object(d["isFeatureEnabled"])(p(),"feature_m11n_reactions"))return;if(!Object(n["isObject"])(t)){u(Object(o["error"])("reaction_removed has no item"));return}if(!m(t))return;var _=b(p(),t);if(!_)return;var g=t.channel,y=t.type,O=t.ts,E=t.file,j=t.comment;var k=O||j||E;var w=Object(v["d"])(y,k,g);var C=Object(d["getCurrentUserId"])(p());var S=u(Object(f["removeReaction"])({key:w,name:r,userId:a,url:i}));if(C!==a&&C===_.user){var T=false;var I=!s&&"message"===y;Object(c["f"])({adding:T,name:r,key:w,userId:a,eventTs:l,shouldAlert:I,channelId:g,url:i})}if(S){var N=s||a!==C;Object(c["g"])({key:w,name:r,userId:a,type:y,shouldThrottle:N})}}function y(e,t,r){if(Object(h["a"])()||Object(d["isFeatureEnabled"])(r(),"feature_m11n_reactions"))return;if(!Object(n["isObject"])(e.item)){t(Object(o["error"])(e.type+" has no item"));return}Object(s["c"])(2006,"rxn updated from imsg by "+e.user);Object(c["b"])(e)}Object(i["a"])("reaction_added",y);Object(i["a"])("reaction_removed",y);Object(i["a"])("reaction_added",_);Object(i["a"])("reaction_removed",g)},18196:function(e,t){},18197:function(e,t){},18198:function(e,t){},18199:function(e,t,r){"use strict";var n=r(17154);var a=r(16991);var i=r(16971);var o=r(17054);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.team_id;var r=arguments[1];r(Object(i["info"])("User was added to team "+t));Object(o["g"])(t)}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.team_id;var r=arguments[1];r(Object(i["info"])("User was removed from team "+t));Object(o["h"])(t)}Object(a["a"])("user_added_to_team",s);Object(a["a"])("user_removed_from_team",c);Object(a["a"])("team_plan_change",n["e"])},18200:function(e,t,r){"use strict";r.d(t,"a",function(){return v});var n=r(1);var a=r.n(n);var i=r(16934);var o=r(16971);var s=r(16991);var c=r(16930);var l=r(16923);var u=r(17209);var p=r(16913);var f=r(17733);var d=r(16965);var v=function e(t,r,n){var s=Object(p["isFeatureEnabled"])(n(),"feature_sonic_rtm_message_replied");var f=Object(p["isFeatureEnabled"])(n(),"feature_modern_process_imsg");if(!(s&&f)&&!Object(i["a"])())return;var v=t.channel,h=t.message;var m=Object(l["getChannelById"])(n(),v);var b=Object(c["getMessageByTimestamp"])(n(),v,h.ts);var _="RTM-HANDLER";var g=void 0;h&&h.latest_reply?g=h.latest_reply:h&&h.replies&&h.replies.length&&(g=a.a.maxBy(h.replies,"ts").ts);if(b&&b.reply_count){var y=void 0;b&&b.latest_reply?y=b.latest_reply:b&&b.replies&&b.replies.length&&(y=a.a.maxBy(b.replies,"ts").ts);if(g<y){r(Object(o["info"])(_,"Not processing an older message_replied event, "+g+" < "+y+", in "+v));return}}Object(d["i"])(t);var O=r(Object(u["a"])({imsgs:[h],channelId:v}));r(Object(c["addMessages"])(O));Object(d["k"])(m,h,true,false)};function h(e,t,r){var n=Object(p["isFeatureEnabled"])(r(),"feature_react_threads");if(!n)return;var a=e.subscription||{},i=a.channel,o=a.thread_ts,s=a.last_read;if(!i||!o)return;t(Object(f["setSubscription"])({channelId:i,ts:o,subscribed:true,lastRead:s}))}function m(e,t,r){var n=Object(p["isFeatureEnabled"])(r(),"feature_react_threads");if(!n)return;var a=e.subscription||{},i=a.channel,o=a.thread_ts,s=a.last_read;if(!i||!o)return;t(Object(f["setSubscription"])({channelId:i,ts:o,subscribed:false,lastRead:s}))}function b(e,t,r){var n=Object(p["isFeatureEnabled"])(r(),"feature_react_threads");if(!n)return;var a=e.subscription||{},i=a.channel,o=a.thread_ts,s=a.last_read;if(!i||!o)return;t(Object(f["setSubscription"])({channelId:i,ts:o,lastRead:s}))}Object(s["a"])("message.message_replied",v);Object(s["a"])("thread_subscribed",h);Object(s["a"])("thread_unsubscribed",m);Object(s["a"])("thread_marked",b)},18201:function(e,t,r){"use strict";var n=r(17208);var a=r(17121);var i=r(17122);var o=r(16913);var s=r(17325);var c=r(17329);var l=r(16922);var u=r(16967);var p=r(20427);var f=r(16966);Object(f["b"])({actions:[l["setSearchPref"]],sideEffect:function e(t,r,n){var c=n();if(!Object(o["isFeatureEnabled"])(c,"feature_react_search")||!Object(i["getVisible"])(c))return;var l=Object(a["getRequest"])(c),u=l.query;r(Object(a["clearResponse"])());r(Object(s["a"])({query:u,fetchSuggestions:true}));u&&Object(s["j"])(u)}});Object(f["b"])({actions:[l["setSearchPref"]],sideEffect:function e(t,r){r(Object(a["setRequestFromEditableRequest"])({fetchSuggestions:true}));r(Object(i["setQuerySessionId"])({querySessionId:Object(n["a"])()}));r(Object(p["a"])())}});Object(f["b"])({actions:[u["setActiveChannel"]],sideEffect:function e(t,r,n){var a=n();if(!Object(o["isFeatureEnabled"])(a,"feature_react_search"))return;Object(i["getVisible"])(a)&&Object(c["c"])()}})},18202:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(17059);var o=r(16967);var s=r(16913);var c=r(16923);var l=r(17338);var u=r(18203);var p=r(16966);function f(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function d(e){Object(u["a"])(e.payload);Object(l["c"])(e.payload)}function v(e,t,r){if(!e.payload.prevChannelId||e.payload.channelId===e.payload.prevChannelId)return;var n=r();if(!Object(s["useReactMessages"])(n))return;var o=false;var l=Object(c["getChannelById"])(n,e.payload.prevChannelId,o);if(!l||!l.last_read)return;var u=Object(i["getHighlightedTimestampsPriorToTimestamp"])(n,{channelId:e.payload.prevChannelId,beforeTs:l.last_read});if(!u.length)return;var p=a.a.reduce(u,function(e,t){e[t]={sliHighlight:{isHighlight:false}};return e},{});t(Object(i["setHighlightsForMessages"])(f({},e.payload.prevChannelId,p)))}Object(p["b"])({actions:[i["setFeedbackForHighlight"]],sideEffect:d});Object(p["b"])({actions:[o["setActiveChannel"]],sideEffect:v})},18203:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.highlights_briefing.handleFeedback",function(){return false})},18204:function(e,t,r){"use strict";var n=r(16934);var a=r(16966);var i=r(16979);var o=r(17099);function s(e,t){if(!Object(n["a"])())return;t(Object(o["finalizeProvisionalConnection"])())}Object(a["b"])({actions:[i["provisionallyConnected"]],sideEffect:s})},18205:function(e,t,r){"use strict";var n=r(16925);var a=r(17403);var i=r(16966);var o={};function s(e,t,r){var i=r();var s=Object(n["getTeamId"])(i);if(o[s])return;o[s]=setInterval(function(){t(Object(a["checkTypingMap"])())},1e3)}function c(e,t,r){var a=r();var i=Object(n["getTeamId"])(a);if(!o[i])return;clearInterval(o[i]);delete o[i]}Object(i["b"])({actions:[a["updateTyping"]],sideEffect:s});Object(i["b"])({actions:[a["clearTypingCleanupInterval"]],sideEffect:c})},18206:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(16967);var o=r(17280);var s=r(16913);var c=r(17069);var l=r(16979);var u=r(16923);var p=r(16992);var f=r(16930);var d=r(16919);var v=r(16922);var h=r(17104);var m=r(16925);var b=r(17935);var _=r(18207);var g=r(17283);var y=r(16999);var O=r(16940);var E=r(16920);var j=r(16916);var k=r(20405);var w=r(18208);var C=r(16988);var S=r(16965);var T=r(17952);var I=r(17015);var N=r(16934);var A=r(16966);var P=r(17936);var R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function M(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state,r=e.channel,n=e.messages,a=e.userIsAway,i=e.userPresenceLastChanged,o=e.currentUserId,c=e.highlightWords;var l=0;var u=0;n.forEach(function(e){if(!e)return;if(Object(O["isMessageUnread"])(e,Object(E["getLastReadTs"])(r),o)){l+=1;Object(O["shouldMessageBadgeChannel"])({msg:e,channel:r,currentUserId:o,userIsAway:a,userPresenceLastChanged:i,highlightWords:c,isAppMsg:Object(O["isAppMessage"])(t,e),featureWtaNotifications:Object(s["isFeatureEnabled"])(t,"feature_wta_notifications")})&&(u+=1)}});return{unreadCnt:l,unreadHighlightCnt:u}}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state,r=e.start,n=e.reachedStart,a=e.reachedEnd,i=e.initialCounts,o=e.messages,s=e.channel,c=e.currentUser,l=e.userIsAway,u=e.userPresenceLastChanged,p=e.highlightWords;var f=0;var d=0;var v=true;if(a){var h=x({state:t,channel:s,messages:o,userIsAway:l,userPresenceLastChanged:u,currentUserId:c.id,highlightWords:p});f=h.unreadCnt;d=h.unreadHighlightCnt;if(r<=Object(E["getLastReadTs"])(s))v=false;else{i&&f<i.unreadCnt&&(f=i.unreadCnt);i&&d<i.unreadHighlightCnt&&(d=i.unreadHighlightCnt);v=o.length<42&&!n}}else if(i){f=i.unreadCnt;d=i.unreadHighlightCnt}return{unreadCnt:f,unreadHighlightCnt:d,needFetch:v}}function D(e){if(!e.was_archived_this_session){if(Object(E["isArchived"])(e))return false;if(Object(E["isPublicChannel"])(e)&&!Object(E["isMemberOfChannel"])(e))return false}return true}function F(e,t,r){var n=r();Object(s["isFeatureEnabled"])(n,"feature_tinyspeck")&&Object(k["d"])("rmsgs_updateUnreadCounts");var i=false;var o=Object(u["getChannelById"])(n,e,i);if(!o)return true;if(!D(o))return true;var l=Object(p["getTimestampsByChannelId"])(n,e,null),h=l.timestamps,m=l.start,_=l.reachedStart,g=l.reachedEnd;var y=Object(b["getInitialUnreadCountsByChannelId"])(n,e);var O=a.a.map(h||[],function(e){return Object(f["getMessageByTimestamp"])(n,o.id,e)});var j=Object(d["getCurrentMember"])(n);var w="away"===Object(c["getPresenceByMemberId"])(n,j.id);var C=j._presence_last_changed||Object(s["getFromBootData"])(n,"start_ms");var S=L({state:n,start:m,reachedStart:_,reachedEnd:g,initialCounts:y,messages:O,channel:o,currentUser:j,userIsAway:w,userPresenceLastChanged:C,highlightWords:Object(v["getUserHighlightWords"])(n)}),T=S.unreadCnt,I=S.unreadHighlightCnt,N=S.needFetch;if(T!==Object(E["getUnreadCount"])(o)){re("Updated unread_cnt for "+o.id+": "+T);t(Object(u["updateOneKeyForChannel"])({id:o.id,unread_cnt:T}))}if(I!==o.unread_highlight_cnt){re("Updated unread_highlight_cnt for "+o.id+": "+I);t(Object(u["updateOneKeyForChannel"])({id:o.id,unread_highlight_cnt:I}))}Object(s["isFeatureEnabled"])(n,"feature_tinyspeck")&&Object(k["f"])("rmsgs_updateUnreadCounts","rmsgs_updateUnreadCounts");return!N}var B={};function U(e){B[e]||H(e);return B[e]}function H(e){B[e]={}}var q={};function G(e){q[e]||(q[e]={});return q[e]}function W(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"unread-counts/fetchHistoryForCounting";var s=r();var c=Object(m["getTeamId"])(s);var l=U(c);if(l[e.id]){Object(j["warn"])("Ignoring new unread counting history request for "+e.id);return}var u=G(c);var p=u[e.id];if(p){if(!n||!a.a.isNumber(p)){re("Dropping unread history request for "+e.id+" since there is already one pending");return}re("Cancelling timer and making history request for "+e.id+" now");clearTimeout(u[e.id])}var f=n?0:a.a.random(2500,1e4);re("Fetching history for unread counting: "+e.id+", waiting "+f+" ms");u[e.id]=setTimeout(function(){var s=!n&&F(e.id,t,r);if(s){delete u[e.id];return}Object(j["info"])("HISTORY-FETCH","Fetching history for unread counting: "+e.id);u[e.id]=t(Object(g["b"])({channelId:e.id,type:Object(E["getChannelType"])(e),oldest:null,latest:null,reason:i})).then(function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.msgs,i=r.hasMore,s=r.pinCount;l[e.id]=true;var c=a.a.map(n,"ts");t(Object(o["a"])({msgs:n,channelId:e.id,latest:a.a.max(c),oldest:a.a.min(c),hasMore:{hasMoreStart:i,hasMoreEnd:false},forceUnreadCount:true}));a.a.isNumber(s)&&t(Object(h["updatePinCount"])({channelId:e.id,count:s}))}).finally(function(){delete u[e.id]})},f)}function V(e,t,r){var n=[];var i=r();var o={};e.forEach(function(e){var t=false;var r=Object(u["getChannelById"])(i,e.id,t);if(!r){Object(C["d"])(a.a.omit(e,["name","name_normalized"]),"updateWithCountsFromApi_missing_channel");return}if(Object(E["isArchived"])(r))return;if(Object(E["isPublicChannel"])(r)&&!Object(E["isMemberOfChannel"])(r))return;var c={};var l=e.latest;l&&l!==r.latest&&!Object(I["a"])("flannel_start_latest")&&(c.latest=l);var f=Object(p["getTimestampsByChannelId"])(i,r.id),d=f.timestamps,v=f.reachedEnd;var h=Object(s["isFeatureEnabled"])(i,"feature_never_skip_unread_counts");if(h||!v||a.a.isEmpty(d)){var m=e.has_unreads;var b=m?1:0;var _=0;var g=0;var y=false;if(Object(E["isIm"])(r))_=e.dm_count||b;else if(Object(E["isMpim"])(r))_=e.unread_count_display||b;else{y=true;_=b;g=e.mention_count_display||0}if(!_&&g){Object(j["warn"])("Ignoring positive mention_count_display because has_unreads == false for "+r.id);g=0}o[r.id]={unreadCnt:_,unreadHighlightCnt:g};_!==Object(E["getUnreadCount"])(r)&&(c.unread_cnt=_);y&&g!==r.unread_highlight_cnt&&(c.unread_highlight_cnt=g)}else Object(j["info"])("UNREAD-COUNTS","Skipped "+r.id+" in updateWithCountsFromApi. reachedEnd: "+v+", timestamps: "+(d&&d.length));if(!a.a.isEmpty(c)){c.id=r.id;n.push(c)}});a.a.isEmpty(n)||t(Object(u["bulkUpdateChannels"])({channels:n}));t(Object(b["setInitialUnreadCounts"])(o))}var K={};function z(e){K[e]||(K[e]={});return K[e]}function Q(e,t,r){var n=e.id;var i=z(Object(m["getTeamId"])(r()));if(i[n]){re("Ignoring redundant initial count sync request for "+e.id);return}i[n]=true;var o=a.a.random(2500,1e4);re("Syncing initial counts for "+e.id+" in "+o+" ms");setTimeout(function(){t(Object(y["g"])({channelId:n})).then(function(r){var i=r.has_unreads?1:0;var o=a.a.isNumber(r.mention_count)?r.mention_count:0;var s=Object(E["isIm"])(e)||Object(E["isMpim"])(e)?o:i;t(Object(b["setInitialUnreadCountsForChannel"])({channelId:n,unreadCnt:s,unreadHighlightCnt:o}))}).finally(function(){delete i[n]})},o)}function Y(e,t,r){var n=r();if(!Object(s["useReactMessages"])(n)||!Object(s["isClientApp"])(n))return;var i=Object(l["wasLastConnectFast"])(n);if(i)return;var o=Object(m["getTeamId"])(r());H(o);if(Object(N["a"])()&&Object(l["isFirstConnection"])(n))return;t(Object(b["setInitialUnreadCounts"])({}));t(Object(_["a"])()).then(function(e){if(!e)return;var n=e.ok,i=M(e,["ok"]);Object(N["a"])()||t(Object(b["setUsersCounts"])(R({},i)));var o=a.a.compact(e.channels.concat(e.groups).concat(e.ims).concat(e.mpims));V(o,t,r);var s=e.threads;s&&Object(w["b"])(s.has_unreads,s.mention_count,s.mention_count_by_channel);Object(S["d"])();Object(T["a"])();re("Completed users.counts processing")})}function J(e,t,r){var n=r();if(!Object(s["useReactMessages"])(n))return;var o=e.payload,c=o.channelId,l=o.timestamps,p=o.forceUnreadCount,f=o.append,d=o.fromEvtLog;if(a.a.isEmpty(l))return;if(d)return;var v=false;var h=Object(u["getChannelById"])(n,c,v);if(!h)return;var m=Object(E["getLastReadTs"])(h);var b=a.a.some(l,function(e){return e>=m});if(!b&&!p)return;var _=c===Object(i["getMessagePaneChannelId"])(n);_&&re("Counting unreads in "+c+" because ("+l.length+") timestamps added");var g=F(c,t,r);if(!g){var y=false;var O="unread-counts/onAddTimestamps";X(r,h,l)&&W(h,t,r,y,O)}if(l&&1===l.length&&l[0]>m){var j=!f;_&&re("Checking unreads in "+c+" after a new message");Object(P["a"])(c,t,r,j)}}function X(e,t,r){if(Object(E["isIm"])(t)||Object(E["isMpim"])(t))return true;var n=e();var i=a.a.map(r||[],function(e){return Object(f["getMessageByTimestamp"])(n,t.id,e)});return a.a.some(i,function(e){if(!e)return false;var t=Object(S["g"])(e);return t.non_channel_mentions})}function Z(e,t,r){var n=r();if(!Object(s["useReactMessages"])(n))return;var a=e.payload,i=a.channelId,o=a.timestamp,c=a.forceUnreadCount,l=a.fromEvtLog;if(l)return;if(!o)return;var p=false;var f=Object(u["getChannelById"])(n,i,p);if(!f)return;var d=Object(E["getLastReadTs"])(f);if(o<d&&!c)return;re("Counting unreads in "+i+" because message removed");var v=F(i,t,r);v||$({dispatch:t,getState:r,channel:f,timestamp:o})&&Q(f,t,r)}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getState,r=e.channel,n=e.timestamp;var a=Object(p["getTimestampsByChannelId"])(t(),r.id,null),i=a.timestamps,o=a.start;var s=Object(E["getLatestTs"])(r,i);var c=o||s+1e-6;return n<c}function ee(e,t,r){if(!e.payload.last_read)return;var n=r();if(!Object(s["useReactMessages"])(n))return;var a=e.payload.id;var i=false;var o=Object(u["getChannelById"])(n,a,i);if(!o)return;re("Counting unreads in "+a+" because last_read changed to "+e.payload.last_read);var c=F(a,t,r);if(!c){var l=true;var p="unread-counts/onLastReadUpdated";W(o,t,r,l,p)}}function te(e,t,r){var n=r();if(!Object(s["useReactMessages"])(n))return;var a=e.payload,i=a.channelId,o=a.unreadCnt,c=a.unreadHighlightCnt;var l=false;var p=Object(u["getChannelById"])(n,i,l);if(!p)return;re("Counting unreads in "+i+" because initial counts updated to {"+o+", "+c+"}");F(i,t,r)}Object(A["b"])({actions:[l["connected"]],sideEffect:Y});Object(A["b"])({actions:[p["addTimestamps"]],sideEffect:J});Object(A["b"])({actions:[p["removeTimestamp"]],sideEffect:Z});Object(A["b"])({actions:[u["lastReadUpdated"]],sideEffect:ee});Object(A["b"])({actions:[b["setInitialUnreadCountsForChannel"]],sideEffect:te});function re(e){Object(j["info"])("UNREAD-COUNTS",e)}var ne={shouldFetchHistoryAfterTimestampsAdded:X,shouldFetchHistoryAfterTimestampRemoved:$,calcChannelUnreadState:L,syncInitialCounts:Q}},18207:function(e,t,r){"use strict";var n=r(17063);var a=r(16929);var i=Object(n["a"])("Calls users.counts endpoint",function(e){return e(Object(a["a"])({method:"users.counts",args:{mpim_aware:true,only_relevant_ims:true,simple_unreads:true,include_threads:true}}))});t["a"]=i},18208:function(e,t,r){"use strict";r.d(t,"b",function(){return o});r.d(t,"a",function(){return s});var n=r(1);var a=r.n(n);var i=r(16914);var o=Object(i["c"])("TS.client.threads.setThreadsUnreadDataFromUsersCounts",a.a.noop);var s=Object(i["c"])("TS.client.threads.getMessage")},18209:function(e,t,r){"use strict";var n=r(17055);var a=r(16966);function i(e,t,r){var a=r();var i=Object(n["isWindowFocused"])(a);t(i?Object(n["setLastFocusEvent"])(Date.now()):Object(n["setLastBlurEvent"])(Date.now()))}Object(a["b"])({actions:[n["updateFocus"]],sideEffect:i})},18211:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(16916);var o=r(16924);var s=r(17007);var c=r(17040);var l=[];var u=Object(s["b"])("Allows devs to get console logging or trigger breakpoints when state they care about changes",function(e,t,r){var n=[];var a=e.getState();l.forEach(function(e){n.push(e(a))});var s=t(r);var c=e.getState();l.forEach(function(e,t){var a=e(c);if(n[t]!==a){Object(i["info"])("redux watcher","watcher value has changed! \nAction: ",r,"\nBefore: ",n[t],"\nAfter:  ",a);o["isDev"]||o["isJsPath"]}});return s});t["a"]=u;function p(e){if(!a.a.isFunction(e)){Object(i["error"])("watcherFn passed in to addWatcher must be a function");return}l.push(e)}function f(){l=[]}Object(c["a"])("reduxWatcher",{addWatcher:p,clearAllWatchers:f})},18212:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(2942);var a=r.n(n);var i=r(2944);var o=r.n(i);var s=r(2945);var c=r.n(s);var l=r(2946);var u=r.n(l);var p=r(2947);var f=r.n(p);var d=r(2948);var v=r.n(d);var h=r(2949);var m=r.n(h);var b=r(2950);var _=r.n(b);var g=r(2951);var y=r.n(g);var O=r(2952);var E=r.n(O);var j=r(1122);var k=r.n(j);var w=r(1124);var C=r.n(w);var S=r(1125);var T=r.n(S);var I=r(2941);var N=r.n(I);var A=r(2953);var P=r.n(A);var R=r(2954);var M=r.n(R);var x=r(2955);var L=r.n(x);var D=r(2956);var F=r.n(D);var B=r(2958);var U=r.n(B);var H=r(2959);var q=r.n(H);var G=r(2960);var W=r.n(G);var V=r(2961);var K=r.n(V);var z=r(2962);var Q=r.n(z);var Y=r(2963);var J=r.n(Y);var X=r(2964);var Z=r.n(X);var $=r(2965);var ee=r.n($);var te=r(2966);var re=r.n(te);var ne=r(2832);var ae=r.n(ne);var ie=r(2841);var oe=r.n(ie);var se=r(2842);var ce=r.n(se);var le=r(2843);var ue=r.n(le);var pe=r(2844);var fe=r.n(pe);var de=r(2845);var ve=r.n(de);var he=r(2846);var me=r.n(he);var be=r(2837);var _e=r.n(be);var ge=r(2838);var ye=r.n(ge);var Oe=r(2839);var Ee=r.n(Oe);var je=r(2840);var ke=r.n(je);var we=r(2847);var Ce=r.n(we);var Se=r(2848);var Te=r.n(Se);var Ie=r(2853);var Ne=r.n(Ie);var Ae=r(2887);var Pe=r.n(Ae);var Re=r(2886);var Me=r.n(Re);var xe=r(2889);var Le=r.n(xe);var De=r(2892);var Fe=r.n(De);var Be=r(2893);var Ue=r.n(Be);var He=r(2890);var qe=r.n(He);var Ge=r(2891);var We=r.n(Ge);var Ve=r(1119);var Ke=r.n(Ve);var ze=r(2936);var Qe=r.n(ze);var Ye=r(2937);var Je=r.n(Ye);var Xe=r(2939);var Ze=r.n(Xe);var $e=r(2938);var et=r.n($e);var tt=r(698);var rt=r.n(tt);var nt=r(2915);var at=r.n(nt);var it=r(2929);var ot=r.n(it);var st=r(2931);var ct=r.n(st);var lt=r(2932);var ut=r.n(lt);var pt=r(2930);var ft=r.n(pt);var dt=r(768);var vt=r.n(dt);var ht=r(2861);var mt=r.n(ht);var bt=r(2862);var _t=r.n(bt);var gt=r(2864);var yt=r.n(gt);var Ot=r(2863);var Et=r.n(Ot);var jt=r(2860);var kt=r.n(jt);var wt=r(2866);var Ct=r.n(wt);var St=r(2865);var Tt=r.n(St);var It=r(2869);var Nt=r.n(It);var At=r(2870);var Pt=r.n(At);var Rt=r(2871);var Mt=r.n(Rt);var xt=r(2872);var Lt=r.n(xt);var Dt=r(2873);var Ft=r.n(Dt);var Bt=r(2874);var Ut=r.n(Bt);var Ht=r(2875);var qt=r.n(Ht);var Gt=r(2876);var Wt=r.n(Gt);var Vt=r(2877);var Kt=r.n(Vt);var zt=r(2878);var Qt=r.n(zt);var Yt=r(2880);var Jt=r.n(Yt);var Xt=r(2879);var Zt=r.n(Xt);var $t=r(2881);var er=r.n($t);var tr=r(2882);var rr=r.n(tr);var nr=r(2883);var ar=r.n(nr);var ir=r(2884);var or=r.n(ir);var sr=r(2885);var cr=r.n(sr);var lr=r(2967);var ur=r.n(lr);var pr=r(2979);var fr=r.n(pr);var dr=r(2980);var vr=r.n(dr);var hr=r(2978);var mr=r.n(hr);var br=r(2971);var _r=r.n(br);var gr=r(2972);var yr=r.n(gr);var Or=r(3023);var Er=r.n(Or);var jr=r(3024);var kr=r.n(jr);var wr=r(3025);var Cr=r.n(wr);var Sr=r(3147);var Tr=r.n(Sr);var Ir=r(12159);var Nr=r.n(Ir);var Ar=r(50);var Pr=r.n(Ar);var Rr=r(17339);var Mr=r(17980);var xr=r(17067);var Lr=r(16944);var Dr=r(17673);Object(xr["a"])({ToastContainer:Rr["a"],DndButton:Mr["a"]});Object(Dr["a"])(r(20503));window.React=Nr.a;window.ReactDOM=Pr.a;window.moment=Lr["a"]},18213:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(3);var s=r.n(o);var c=r(16912);var l=r(16950);var u=r(16963);var p=r(16920);var f=r(17981);var d=r(17580);var v=r(17744);var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=new c["b"]("do_not_disturb");var y={snoozeNotifications:s.a.func.isRequired,currentChannel:s.a.object,featureSonicDnd:s.a.bool,menuProps:s.a.object};var O={currentChannel:{},featureSonicDnd:false,menuProps:{}};var E=function(e){_(t,e);function t(){m(this,t);return b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}h(t,[{key:"renderSettingsMenuItem",value:function e(){var t=this.props,r=t.currentChannel,n=t.featureSonicDnd;if(!n)return null;if(!r.id||Object(p["isIm"])(r))return null;var i=a.a.createElement(u["a"],{channelId:r.id,iconProps:{inherit:true,align:"baseline"},inline:true});var o=g.rt("Settings for {name} \u2026",{name:a.a.createElement("strong",null,i)});return a.a.createElement(l["b"],{label:o,onSelected:function e(){return Object(v["a"])(r.id)}})}},{key:"render",value:function e(){var t=this;var r=this.props,n=r.menuProps,i=r.featureSonicDnd;if(!i)return null;return a.a.createElement(l["e"],n,a.a.createElement("hr",null),a.a.createElement("span",{className:"p-dnd_menu__disabled_header"},g.t("Snooze notifications:")),a.a.createElement(l["b"],{label:g.t("20 minutes"),onSelected:function e(){return t.props.snoozeNotifications({duration:20})},"data-qa":"snooze_btn_20"}),a.a.createElement(l["b"],{label:g.t("1 hour"),onSelected:function e(){return t.props.snoozeNotifications({duration:60})},"data-qa":"snooze_btn_60"}),a.a.createElement(l["b"],{label:g.t("2 hours"),onSelected:function e(){return t.props.snoozeNotifications({duration:120})},"data-qa":"snooze_btn_120"}),a.a.createElement(l["b"],{label:g.t("4 hours"),onSelected:function e(){return t.props.snoozeNotifications({duration:240})},"data-qa":"snooze_btn_240"}),a.a.createElement(l["b"],{label:g.t("8 hours"),onSelected:function e(){return t.props.snoozeNotifications({duration:480})},"data-qa":"snooze_btn_480"}),a.a.createElement(l["b"],{label:g.t("24 hours"),onSelected:function e(){return t.props.snoozeNotifications({duration:1440})},"data-qa":"snooze_btn_1440"}),a.a.createElement(l["c"],null),a.a.createElement(l["b"],{label:g.t("Do Not Disturb schedule \u2026"),onSelected:function e(){return Object(d["a"])("notifications","#prefs_dnd")}}),a.a.createElement(l["c"],null),this.renderSettingsMenuItem(),a.a.createElement(l["b"],{label:g.t("Your notification preferences \u2026"),onSelected:function e(){return Object(d["a"])("notifications")}}))}}]);return t}(n["PureComponent"]);E.displayName="DndDisabledMenu";E.propTypes=y;E.defaultProps=O;var j={snoozeNotifications:f["c"]};t["a"]=Object(i["connect"])(null,j)(E)},18214:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(3);var s=r.n(o);var c=r(16912);var l=r(17153);var u=r(16922);var p=r(16913);var f=r(16950);var d=r(17136);var v=r(16963);var h=r(16920);var m=r(16970);var b=r(16944);var _=r(18215);var g=r(17981);var y=r(17580);var O=r(17744);var E=r(20175);var j=r.n(E);var k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var w=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function T(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var I=new c["b"]("do_not_disturb");var N={inDndBySnooze:s.a.bool.isRequired,snoozeNotifications:s.a.func.isRequired,endDndSnooze:s.a.func.isRequired,endDndSchedule:s.a.func.isRequired,snoozeEndTs:s.a.number,dndEndTs:s.a.number,do24hrTime:s.a.bool,currentChannel:s.a.object,featureSonicDnd:s.a.bool,menuProps:s.a.object};var A={snoozeEndTs:void 0,dndEndTs:void 0,do24hrTime:false,currentChannel:{},featureSonicDnd:false,menuProps:{}};var P=function(e){T(t,e);function t(e){C(this,t);var r=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.renderSubmenu=r.renderSubmenu.bind(r);return r}w(t,[{key:"renderDndMenuHeader",value:function e(){var t=this.props,r=t.inDndBySnooze,n=t.snoozeEndTs,i=t.dndEndTs,o=t.do24hrTime,s=t.featureSonicDnd;if(!s)return null;var c=Object(m["a"])(i,{do24hrTime:o});var l=I.rt("Scheduled until {time}",{time:c});var u=a.a.createElement("div",{className:"p-dnd_menu__schedule_header"},a.a.createElement("div",{className:"p-dnd_menu__header_status"},a.a.createElement("div",null,a.a.createElement("strong",null,I.t("Do Not Disturb ON"))),a.a.createElement("div",null,l)));var p=Object(b["a"])().unix();var f=I.rt("Notifications snoozed for {duration}",{duration:Object(_["a"])(n,{currentTime:p})});var d=a.a.createElement("div",{className:"p-dnd_menu__snooze_header"},a.a.createElement("div",{className:"p-dnd_menu__header_status"},a.a.createElement("div",null,a.a.createElement("strong",null,I.t("Do Not Disturb ON"))),a.a.createElement("div",null,f)));return r?d:u}},{key:"renderSubmenu",value:function e(t){var r=this;var n=this.props.featureSonicDnd;if(!n)return null;return a.a.createElement(f["e"],k({},t,{width:140}),a.a.createElement(f["b"],{label:I.t("20 minutes"),onSelected:function e(){return r.props.snoozeNotifications({duration:20})}}),a.a.createElement(f["b"],{label:I.t("1 hour"),onSelected:function e(){return r.props.snoozeNotifications({duration:60})}}),a.a.createElement(f["b"],{label:I.t("2 hours"),onSelected:function e(){return r.props.snoozeNotifications({duration:120})}}),a.a.createElement(f["b"],{label:I.t("4 hours"),onSelected:function e(){return r.props.snoozeNotifications({duration:240})}}),a.a.createElement(f["b"],{label:I.t("8 hours"),onSelected:function e(){return r.props.snoozeNotifications({duration:480})}}),a.a.createElement(f["b"],{label:I.t("24 hours"),onSelected:function e(){return r.props.snoozeNotifications({duration:1440})}}))}},{key:"renderAdjustMenuItem",value:function e(){var t=this.props,r=t.inDndBySnooze,n=t.featureSonicDnd;if(!n)return null;var i=a.a.createElement(f["b"],{label:I.t("Adjust schedule \u2026"),onSelected:function e(){return Object(y["a"])("notifications","#prefs_dnd")}});var o=a.a.createElement(d["a"],{label:I.t("Adjust time"),renderSubmenu:this.renderSubmenu});return r?o:i}},{key:"renderSettingsMenuItem",value:function e(){var t=this.props,r=t.currentChannel,n=t.featureSonicDnd;if(!n)return null;if(!r.id||Object(h["isIm"])(r))return null;var i=a.a.createElement(v["a"],{channelId:r.id,iconProps:{inherit:true,align:"baseline"},inline:true});var o=I.rt("Settings for {name} \u2026",{name:a.a.createElement("strong",null,i)});return a.a.createElement(f["b"],{label:o,onSelected:function e(){return Object(O["a"])(r.id)}})}},{key:"render",value:function e(){var t=this.props,r=t.inDndBySnooze,n=t.menuProps,i=t.featureSonicDnd;if(!i)return null;return a.a.createElement("div",null,this.renderDndMenuHeader(),a.a.createElement(f["e"],k({},n,{menuClassNames:"p-dnd_menu"}),a.a.createElement(f["b"],{label:I.t("Turn OFF"),onSelected:r?this.props.endDndSnooze:this.props.endDndSchedule}),this.renderAdjustMenuItem(),a.a.createElement(f["c"],null),this.renderSettingsMenuItem(),a.a.createElement(f["b"],{label:I.t("Your notification preferences \u2026"),onSelected:function e(){return Object(y["a"])("notifications")}})))}}]);return t}(n["PureComponent"]);P.displayName="DndEnabledMenu";P.propTypes=N;P.defaultProps=A;var R=function e(t){var r=Object(p["getCurrentUserId"])(t);var n=Object(l["getDndScheduleByMemberId"])(t,r),a=n.nextDndEndTs;var i=Object(l["getSnoozeScheduleForCurrentUser"])(t),o=i.snoozeEnabled,s=i.snoozeEndTs;return{inDndBySnooze:o,snoozeEndTs:s,dndEndTs:a,do24hrTime:Object(u["getUserPref"])(t,"time24")}};var M={snoozeNotifications:g["c"],endDndSnooze:g["b"],endDndSchedule:g["a"]};t["a"]=Object(i["connect"])(R,M)(P)},18215:function(e,t,r){"use strict";var n=r(16944);var a=r(16931);var i=r(17114);var o=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.currentTime,s=void 0===o?Object(n["a"])().unix():o;var c=Object(a["a"])(s);var l=Object(a["a"])(t);var u=Math.ceil(Object(i["a"])(l,c));if(u<60){var p=n["a"].localeData().timeAgo().compact.min45.replace(/%d/,u);return p}if(u>=60&&u%60===0){var f=u/60;var d=n["a"].localeData().timeAgo().compact.hrs24.replace(/%d/,f);return d}var v=u%60;var h=(u-v)/60;var m=n["a"].localeData().timeAgo().compact.min45.replace(/%d/,v);var b=n["a"].localeData().timeAgo().compact.hrs24.replace(/%d/,h);var _=b+" "+m;return _};t["a"]=o},18216:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(17101);var i=r(17288);Object(n["a"])("interop.actions",{displayModelOrViewById:a["a"],setLastRead:i["c"],markLastRead:i["b"],markDelayedWithAPI:i["a"]})},18217:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);var a=r.n(n);var i=r(16928);var o=r(16929);var s=r(17287);var c=r(18218);var l=r(18219);var u=r(18220);var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function f(e){var t=e.data,r=e.method,n=e.args;var a=p({},t,{args:null});var i=false===r.startsWith("bots.")&&TS.bots.legacyEnsureBotsInDataArePresent(a,r,n&&n.channel);var o=false===r.startsWith("users.")&&false===Object(l["a"])(r)&&TS.members.legacyEnsureMembersInDataArePresent(a,r);var s=false===r.startsWith("teams.")&&TS.teams.ensureTeamsInDataArePresent(a,"api/ensureModelForLegacy for method: "+r);var c=TS.redux.getState();var f=false===Object(u["a"])(c,r)&&TS.shared.legacyEnsureModelObsInDataArePresent(a,r);return TS.ensureFullyBooted().then(function(){return f}).then(function(){return Promise.join(i,o,s)}).catch(TS.error)}function d(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,r,n,a){return Object(o["c"])(t,r,n,!TS.client&&!a,e).tap(Object(c["a"])(t)&&f).catch(function(e){e.args=p({_attempts:e.attempts},e.args);throw e})}}function v(){return Object(s["c"])(TS.redux.getState())}function h(){return v().isPaused()}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n["noop"];v().awaitEmptyQ().then(e)}Object(i["a"])("interop.api",{call:d(),callExpedited:d(true),getQueue:v,isPaused:h,callFuncWhenApiQisEmpty:m})},18218:function(e,t,r){"use strict";t["a"]=a;var n=["activity.mentions","channels.history","channels.insights","channels.listShared","channels.replies","chat.command","conversations.history","enterprise.channels.search","files.info","files.list","groups.history","groups.listShared","groups.replies","highlights.briefing","im.history","im.replies","mpim.history","pins.list","search.files","search.messages","stars.list","subscriptions.thread.getView","subteams.list","subteams.users.list","unread.history"];function a(e){return n.includes(e)}var i=n},18219:function(e,t,r){"use strict";t["a"]=a;var n=["activity.mentions","channels.history","conversations.history","groups.history","im.history","mpim.history","pins.list","unread.history"];function a(e){return n.includes(e)}var i=n},18220:function(e,t,r){"use strict";t["a"]=i;var n=r(16913);var a=["activity.mentions","conversations.history","conversations.info","unread.history","pins.list"];function i(e,t){return Object(n["isFeatureEnabled"])(e,"feature_lazy_channels")&&a.includes(t)}var o=a},18221:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(17164);var i=r(17048);var o=r(17350);var s=r(17675);var c=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.getBoundingClientRect?t.getBoundingClientRect():{}};Object(n["a"])("interop.apps",{isAppSpaceEnabled:function e(){return Object(a["isAppSpaceEnabled"])(TS.redux.getState())},isGlobalActionsEnabled:function e(){return Object(a["isGlobalActionsEnabled"])(TS.redux.getState())},openAppProfileCard:function e(t,r,n,a,i){return TS.redux.dispatch(Object(o["a"])({serviceId:t,homeWorkspaceId:r,memberId:n,coordinates:c(a),popoverProps:i}))},promiseToGetLegacyAppProfileByServiceId:function e(t){return TS.redux.dispatch(Object(i["promiseToGetLegacyAppProfileByServiceId"])({serviceId:t}))},runAppAction:s["b"]})},18222:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(17067);Object(n["a"])("interop.automount.mountAllWithStore",a["b"])},18223:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17349);var a=r(16928);var i=r(16974);var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};Object(a["a"])("interop.bots",o({},n,{getBotState:function e(){return Object(i["getBotState"])(TS.redux.getState())},getBotById:function e(t){return Object(i["getBotById"])(TS.redux.getState(),t)},getBotNameById:function e(t){return Object(i["getBotNameById"])(TS.redux.getState(),t)},getBotInfoByMsg:function e(t){return Object(i["getBotInfoByMsg"])(TS.redux.getState(),t)},getBotConfigureUrl:function e(t){return Object(i["getBotConfigureUrl"])(TS.redux.getState(),t)},isBotExternal:function e(t){return Object(i["isBotExternal"])(TS.redux.getState(),t)},ensureBotsArePresent:function e(t){return Object(i["ensureBotsArePresent"])(TS.redux.getState(),TS.redux.dispatch,t)}}))},18224:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16968);var a=r(17042);var i=r(17210);var o=r(16999);var s=r(16920);var c=r(16928);var l=r(17165);function u(e,t){var r=TS.redux.getState();var a=Object(n["e"])(r,e,t);return TS.redux.channels.interop.maybeWrapEntity(a)}function p(e,t){if(!e)return null;var r=u(e,t);if(r&&r.is_channel)return r;return null}function f(e,t){if(!e)return null;var r=u(e,t);if(r&&r.is_group&&!r.is_mpim)return r;return null}function d(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var r=TS.redux.channels.getEntityById(e,t);if(r&&r.is_group&&r.is_mpim)return r;return null}function v(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var r=TS.redux.channels.getEntityById(e,t);if(Object(s["isIm"])(r))return r;return null}function h(){return TS.redux.dispatch(Object(a["q"])())}function m(e,t){return TS.redux.dispatch(Object(a["H"])({channel:e,isBulkUpsert:t}))}function b(e,t){return TS.redux.dispatch(Object(a["K"])({group:e,isBulkUpsert:t}))}function _(e,t){return TS.redux.dispatch(Object(a["M"])({mpim:e,isBulkUpsert:t}))}function g(e,t){return TS.redux.dispatch(Object(a["L"])({im:e,isBulkUpsert:t}))}function y(e){return TS.redux.dispatch(Object(o["c"])(e))}function O(e){return TS.redux.dispatch(Object(o["f"])(e))}function E(e){return TS.redux.dispatch(Object(o["e"])(e))}function j(e){return TS.redux.dispatch(Object(o["d"])(e))}function k(e){var t=TS.redux.getState();return Object(n["t"])(t,e)}function w(e,t){return TS.redux.dispatch(Object(o["B"])({channelId:e,topic:t}))}Object(c["a"])("interop.channels",{disconnectChannel:o["b"],getPublicChannelById:p,getEntityById:u,getGeneralChannel:h,getGroupById:f,getImById:v,getMpimById:d,getNeedsCreatedMessageState:function e(t){return Object(i["getNeedsCreatedMessageState"])(TS.redux.getState(),t)},isImWithDeletedMember:function e(t){return Object(s["isImWithDeletedMember"])(TS.redux.getState(),t)},openConversationByMembers:Object(c["b"])(o["r"]),submitChannelPurpose:o["A"],submitChannelTopic:w,submitCreate:o["D"],submitDeclineSharedChannelInvite:o["E"],submitLeave:o["J"],joinConversationApi:a["s"],closeChannelApi:a["k"],updateOrgAccessForChannel:a["G"],upsertChannelSharesLocally:a["I"],upsertChannel:m,upsertGroup:b,upsertMpim:_,upsertIm:g,getChannelPinnedItemByMessage:s["getChannelPinnedItemByMessage"],channelTopicExceedsLimit:s["channelTopicExceedsLimit"],getChannelTopicError:s["getChannelTopicError"],updateChannelLastTrigger:l["updateChannelLastTrigger"],fetchAndUpsertChannelsById:y,fetchAndUpsertChannelsWithQuery:O,fetchAndUpsertChannelsFromAPI:j,fetchAndUpsertChannelsFromFlannel:E,isChannelKnown:k})},18226:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(16916);var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};Object(n["a"])("interop.console",i({},a))},18227:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(16958);var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};Object(n["a"])("interop.constants",i({},a))},18228:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16980);var a=r(16928);function i(){var e=TS.redux.getState();return Object(n["getEnterpriseOrgURL"])(e)}Object(a["a"])("interop.enterprise",{getOrgURL:i,getPotentiallyUnknownEnterprise:function e(){return Object(n["getPotentiallyUnknownEnterprise"])(TS.redux.getState())}})},18229:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(16927);var l=r(16928);var u=r(18230);Object(l["a"])("interop.createWorkspaceModal",{render:function e(t,r,n){if(!t)throw new Error("createWorkspaceModal render must be called with a teamId parameter");var i=Object(c["c"])(t);o.a.render(a.a.createElement(s["Provider"],{store:i},a.a.createElement(u["a"],n)),r)},stop:function e(t){o.a.unmountComponentAtNode(t)}})},18230:function(e,t,r){"use strict";var n=r(18231);t["a"]=n["a"]},18231:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(17097);var f=r(16912);var d=r(17745);var v=r(18233);var h=r(17983);var m=r(18235);var b=r(20189);var _=r.n(b);var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=new f["b"]("enterprise_dashboard");var w={workspaceName:a.a.string,workspaceDomain:a.a.string,accessSetting:a.a.string,workspaceDesc:a.a.string,apiCallCount:a.a.number,errors:a.a.object,ui:a.a.object,open:a.a.bool,onSubmit:a.a.func.isRequired,onCancel:a.a.func.isRequired};var C={workspaceName:"",workspaceDomain:"",accessSetting:"closed",workspaceDesc:"",apiCallCount:null,errors:{},ui:{},open:true,onSubmit:s["noop"],onCancel:s["noop"]};var S=function(e){j(t,e);function t(e){O(this,t);var r=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={workspaceName:r.props.workspaceName,workspaceDomain:r.props.workspaceDomain,workspaceDesc:r.props.workspaceDesc,accessSetting:r.props.accessSetting,isPending:false};Object(s["bindAll"])(r,["renderChooseNamePane","renderAccessSettingPane","setWorkspaceInfo","setAccessSetting","getWorkspaceInfo"]);return r}y(t,[{key:"componentWillReceiveProps",value:function e(t){this.updateOnApiCountChange(t);this.updateOnModalClose(t)}},{key:"getWorkspaceInfo",value:function e(){return{workspaceName:this.state.workspaceName,workspaceDomain:this.state.workspaceDomain,accessSetting:this.state.accessSetting,workspaceDesc:this.state.workspaceDesc}}},{key:"setWorkspaceInfo",value:function e(t,r){this.setState(function(){return{workspaceName:t.workspaceName,workspaceDomain:t.workspaceDomain,workspaceDesc:t.workspaceDesc}},r)}},{key:"setAccessSetting",value:function e(t,r){this.setState(function(){return{accessSetting:t}},r)}},{key:"setPendingState",value:function e(t){this.setState(function(){return{isPending:t}})}},{key:"updateOnApiCountChange",value:function e(t){var r=t.apiCallCount!==this.props.apiCallCount;if(r){var n=t.apiCallCount>0;this.setPendingState(n)}}},{key:"updateOnModalClose",value:function e(t){var r=this.props.open&&!t.open;r&&this.reset()}},{key:"reset",value:function e(){var t=C.workspaceName,r=C.workspaceDomain,n=C.workspaceDesc,a=C.accessSetting;this.setWorkspaceInfo({workspaceName:t,workspaceDomain:r,workspaceDesc:n},s["noop"]);this.setAccessSetting(a);this.setPendingState(C.isPending)}},{key:"isPending",value:function e(){return this.state.isPending}},{key:"submit",value:function e(t){this.props.onSubmit(t)}},{key:"buildModalSteps",value:function e(){var t=this;var r=function e(){var r={header:k.t("Set up your workspace"),subtitle:k.t("Choose a name and domain for your workspace, and give it a description. You can always change these later."),renderInnerPane:t.renderChooseNamePane};return t.renderModalPane(r)};var n=function e(){var r={header:k.t("Set access for this workspace"),subtitle:k.t("Choose how members in your organization can join this workspace."),renderInnerPane:t.renderAccessSettingPane};return t.renderModalPane(r)};var a=function e(){var r=function e(){var r=t.state,n=r.workspaceName,a=r.workspaceDomain;Object(p["b"])(Object(p["a"])().teams.getWorkspaceInfoAvailability({workspaceName:n,workspaceDomain:a}))};t.chooseNameForm.submit(r)};var i=function e(){var r=t.getWorkspaceInfo();t.setPendingState(true);t.submit(Object(v["a"])(r));t.createWorkspaceModalRef.goToNextStep()};var o=function e(){t.accessSettingForm.submit(i);t.createWorkspaceModalRef.goToNextStep()};var s=[{children:r,goButtonText:k.t("Next"),title:k.t("Choose Name"),withFooter:true,withBreadcrumbHeader:true,showBackButton:false,goButtonIsPending:this.isPending(),showCancelButton:true,onGo:a,onCancel:this.props.onCancel},{children:n,goButtonText:k.t("Create Workspace"),title:k.t("Set Access"),withFooter:true,withBreadcrumbHeader:true,showBackButton:true,goButtonIsPending:this.isPending(),showCancelButton:true,onBack:function e(){Object(p["b"])(Object(p["a"])().ui.updateModalStepIndex(0))},onGo:o,cancelText:k.t("Cancel"),onCancel:this.props.onCancel}];return s}},{key:"renderSubtitle",value:function e(t){if(t)return o.a.createElement("p",{className:"p-ent_workspace_create__subtitle"},t);return null}},{key:"renderChooseNamePane",value:function e(){var t=this;var r=this.state,n=r.workspaceName,a=r.workspaceDomain,i=r.workspaceDesc;var s=this.props.errors;return o.a.createElement(h["d"],{workspaceName:n,workspaceDomain:a,workspaceDesc:i,errors:s,onSubmit:this.setWorkspaceInfo,ref:function e(r){t.chooseNameForm=r}})}},{key:"renderAccessSettingPane",value:function e(){var t=this;var r=this.state.accessSetting;return o.a.createElement(m["a"],{accessSetting:r,onSubmit:this.setAccessSetting,ref:function e(r){t.accessSettingForm=r}})}},{key:"renderModalPane",value:function e(t){var r=t.header,n=t.subtitle,a=t.renderInnerPane;var i=u()("p-ent_workspace_create__header",{"p-ent_workspace_create__header--with_subtitle":n});return o.a.createElement("div",{className:"p-ent_workspace_create","data-enterprise-teams-create":true},o.a.createElement("div",{className:"p-ent_workspace_create__pane"},o.a.createElement("div",{className:"p-ent_workspace_create__form"},o.a.createElement("h3",{className:i},r),this.renderSubtitle(n),a())))}},{key:"render",value:function e(){var t=this;var r=k.t("Set up");var n=k.t("Set access");var a=[r,n];var i={steps:this.buildModalSteps(),breadcrumbTitles:a,onCancel:this.props.onCancel,stepIndex:this.props.ui.modal_step_index,isOpen:this.props.open,position:"fixed"};return o.a.createElement(d["a"],g({},i,{ref:function e(r){t.createWorkspaceModalRef=r}}))}}]);return t}(i["Component"]);S.displayName="CreateWorkspaceModal";S.propTypes=w;S.defaultProps=C;t["a"]=S},18232:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(17066);var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h={stepIndex:a.a.number,steps:a.a.arrayOf(a.a.shape(p({},l["a"].propTypes))).isRequired,isSteppingBack:a.a.bool,breadcrumbTitles:a.a.arrayOf(a.a.string),modalClasses:a.a.string,onCancel:a.a.func.isRequired,position:a.a.string,isOpen:a.a.bool,showOpenTransition:a.a.bool,showCloseTransition:a.a.bool};var m={stepIndex:0,isSteppingBack:false,breadcrumbTitles:[],modalClasses:"",position:null,isOpen:true,showOpenTransition:true,showCloseTransition:true};var b=function(e){v(t,e);function t(e){f(this,t);var r=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onClickBack=r.onClickBack.bind(r);r.onClickGo=r.onClickGo.bind(r);r.state={stepIndex:r.props.stepIndex,isSteppingBack:r.props.isSteppingBack};return r}u(t,[{key:"componentWillReceiveProps",value:function e(t){this.maybeUpdateStepState(t.stepIndex)}},{key:"onClickGo",value:function e(){var t=this.state.stepIndex;var r=this.getStep(t);if(r.onGo){r.onGo();return}this.goToNextStep()}},{key:"onClickBack",value:function e(){var t=this.state.stepIndex;var r=this.getStep(t);if(r.onBack){r.onBack();return}this.goToPreviousStep()}},{key:"setStepDirection",value:function e(t){this.setState(function(){return{isSteppingBack:t}})}},{key:"getIndex",value:function e(){return this.state.stepIndex}},{key:"setIndex",value:function e(t){this.setState(function(){return{stepIndex:t}})}},{key:"getStepNumber",value:function e(){return this.getIndex()+1}},{key:"setStepNumber",value:function e(t){this.setIndex(t-1)}},{key:"getCurrentStep",value:function e(){return this.getStep(this.state.stepIndex)}},{key:"getStep",value:function e(t){var r=this.props.steps;return r[t]}},{key:"getStepContent",value:function e(){var t=this.getCurrentStep();if(Object(s["isFunction"])(t.children))return t.children();return t.children}},{key:"maybeUpdateStepState",value:function e(t){var r=t!==this.props.stepIndex;if(r){this.setIndex(t);var n=t<this.props.stepIndex;this.setStepDirection(n)}}},{key:"isModalSteppingBack",value:function e(){return this.state.isSteppingBack}},{key:"goToNextStep",value:function e(){var t=this.props.steps;this.setState(function(e){var r=e.stepIndex+1;if(r<t.length)return{stepIndex:r,isSteppingBack:false};return e})}},{key:"goToPreviousStep",value:function e(){this.setState(function(e){var t=e.stepIndex-1;if(e.stepIndex>=0)return{stepIndex:t,isSteppingBack:true};return e})}},{key:"render",value:function e(){var t=this.getCurrentStep();var r=this.getIndex();var n=this.isModalSteppingBack();var a=this.props,i=a.breadcrumbTitles,s=a.isOpen,c=a.showOpenTransition,u=a.showCloseTransition,f=a.position;var d=p({},t,{isSteppingBack:n,currentStepIndex:r,breadcrumbTitles:i,isOpen:s,showCloseTransition:u,showOpenTransition:c,position:f,onGo:this.onClickGo,onBack:this.onClickBack,modalClasses:this.props.modalClasses,onCancel:this.props.onCancel});return o.a.createElement(l["a"],d,this.getStepContent())}}]);return t}(i["PureComponent"]);b.displayName="SteppedFullscreenModal";b.propTypes=h;b.defaultProps=m;t["a"]=b},18233:function(e,t,r){"use strict";t["a"]=a;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function a(e){var t=e.workspaceName,r=e.workspaceDomain,a=e.workspaceDesc,i=e.accessSetting;var o={name:t,domain:r};if(a||i)return n({},o,{description:a,access_setting:i});return o}},18234:function(e,t,r){"use strict";t["a"]=k;var n=r(1);var a=r.n(n);var i=r(17058);var o=r(16912);var s=r(17983);var c=new o["b"]("enterprise_dashboard");var l=/^[a-z0-9-]+$/i;var u=/[a-z]+/i;var p=/^[a-z0-9]/i;var f=/[a-z0-9]$/i;var d=void 0;function v(){d={empty_domain:c.t("Please fill in a workspace domain."),invalid_domain_characters:c.t("Your domain can only have letters, numbers, and dashes."),domain_no_start_end_dash:c.t("Your domain can\u2019t start or end with a dash."),domain_minimum_one_letter:c.t("Your domain needs at least one letter in it."),maximum_domain_length_reached:Object(i["b"])(s["b"]),empty_name:c.t("Please fill in a name."),maximum_workspace_name_length_reached:Object(i["b"])(s["c"]),empty_description:c.t("Please fill in a workspace description."),maximum_description_length_reached:Object(i["b"])(s["a"])};return null}function h(e){return f.test(e)}function m(e){return e.length<=s["b"]}function b(e){return e.length<=s["c"]}function _(e){return e.length<=s["a"]}function g(e){return p.test(e)}function y(e){return e.trim().length>0}function O(e){if(Object(n["isNull"])(e)||Object(n["isUndefined"])(e))return"";if(!y(e))return d.empty_name;if(!b(e))return d.maximum_workspace_name_length_reached;return""}function E(e){if(Object(n["isNull"])(e)||Object(n["isUndefined"])(e))return"";if(!y(e)||"organization"===e)return d.empty_domain;if(!m(e))return d.maximum_domain_length_reached;if(!l.test(e))return d.invalid_domain_characters;if(!u.test(e))return d.domain_minimum_one_letter;if(!g(e)||!h(e))return d.domain_no_start_end_dash;return""}function j(e){if(Object(n["isNull"])(e)||Object(n["isUndefined"])(e))return"";if(!y(e))return d.empty_description;if(!_(e))return d.maximum_description_length_reached;return""}function k(e){v();var t=e.workspaceName,r=e.workspaceDomain,n=e.workspaceDesc;var a=O(t);var i=E(r);var o=j(n);if(!a&&!i&&!o)return{};return{workspaceName:a,workspaceDomain:i,workspaceDesc:o}}var w={};Object.defineProperty(w,"isValidWorkspaceName",{get:function e(){return O},set:function e(t){O=t}});Object.defineProperty(w,"isValidWorkspaceDomain",{get:function e(){return E},set:function e(t){E=t}});Object.defineProperty(w,"isValidWorkspaceDescription",{get:function e(){return j},set:function e(t){j=t}})},18235:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16957);var u=r(17184);var p=r(17384);var f=r(16912);var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=new f["b"]("enterprise_dashboard");var _={accessSetting:a.a.string,onSubmit:a.a.func.isRequired};var g={accessSetting:null,onSubmit:s["noop"]};var y=function(e){m(t,e);function t(e){v(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={accessSetting:r.props.accessSetting};Object(s["bindAll"])(r,["renderAccessSettingRadio","handleAccessSettingChange"]);return r}d(t,[{key:"componentWillReceiveProps",value:function e(t){this.updateOnAccessSettingChange(t)}},{key:"getAccessSetting",value:function e(){return this.state.accessSetting}},{key:"setAccessSetting",value:function e(t){this.setState(function(){return{accessSetting:t}})}},{key:"updateOnAccessSettingChange",value:function e(t){var r=t.accessSetting!==this.props.accessSetting;r&&this.setAccessSetting(t.accessSetting)}},{key:"submit",value:function e(t){var r=this.getAccessSetting();this.props.onSubmit(r,t)}},{key:"handleAccessSettingChange",value:function e(t){t.persist();this.setAccessSetting(t.target.value)}},{key:"renderAccessSettingRadio",value:function e(t){var r=this.state.accessSetting;var n=t.accessType,a=t.accessName,i=t.descriptionText;return o.a.createElement("div",{key:n},o.a.createElement(l["a"],{id:n,htmlFor:"workspace_access_type_"+n,type:"inline",cursor:"pointer",className:"p-ent_workspace_create__label p-ent_workspace_create__label--radio",text:a,subtext:i},o.a.createElement(u["a"],{id:"workspace_access_type_"+n,value:n,onChange:this.handleAccessSettingChange,checked:n===r})))}},{key:"renderAccessSettingForm",value:function e(){var t=[{accessType:"open",accessName:b.t("Open"),descriptionText:b.t("Anyone in your organization will be able to join this workspace.")},{accessType:"closed",accessName:b.t("By Request"),descriptionText:b.t("Members can request to join this workspace.")},{accessType:"invite_only",accessName:b.t("Invite Only"),descriptionText:b.t("Members must be invited by a Workspace Owner or Admin.")},{accessType:"unlisted",accessName:b.t("Hidden"),descriptionText:b.t("This workspace will be hidden from the rest of your organization. Members must be invited by a Workspace Owner or Admin.")}];var r=t.map(this.renderAccessSettingRadio);return o.a.createElement(p["a"],{field:"workspaceAccessSetting",noTouch:true},r)}},{key:"render",value:function e(){return o.a.createElement("div",null,this.renderAccessSettingForm())}}]);return t}(i["Component"]);y.displayName="CreateWorkspaceModalAccessForm";y.propTypes=_;y.defaultProps=g;t["a"]=y},18237:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(16927);var l=r(16928);var u=r(18238);Object(l["a"])("interop.appManagement",{render:function e(t,r,n){if(!t)throw new Error("appManagement render must be called with a teamId parameter");var i=Object(c["c"])(t);o.a.render(a.a.createElement(s["Provider"],{store:i},a.a.createElement(u["a"],n)),r)},stop:function e(t){o.a.unmountComponentAtNode(t)}})},18238:function(e,t,r){"use strict";var n=r(18239);t["a"]=n["a"]},18239:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(16912);var f=r(17302);var d=r(18240);var v=r(18241);var h=r(18249);var m=r(20157);var b=r.n(m);var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=new p["b"]("enterprise_dashboard");var j={orgName:o.a.string.isRequired,tabActionOnClick:o.a.func,defaultTabId:o.a.string,profileIsOpen:o.a.bool,orgApps:o.a.array,orgAppsApiCursor:o.a.string,orgAppsApiTotal:o.a.number,orgAppsSortDir:o.a.string,orgAppsSortBy:o.a.string,orgAppsLoading:o.a.bool,searchQuery:o.a.string,featureEntAppManagementRestriction:o.a.bool};var k={tabActionOnClick:c.a,defaultTabId:"",profileIsOpen:false,orgApps:[],orgAppsApiCursor:null,orgAppsApiTotal:null,orgAppsLoading:false,orgAppsSortDir:null,orgAppsSortBy:null,searchQuery:"",featureEntAppManagementRestriction:false};var w=function(e){O(t,e);function t(){g(this,t);return y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}_(t,[{key:"getAppProps",value:function e(){var t={orgName:this.props.orgName,orgApps:this.props.orgApps,orgAppsApiCursor:this.props.orgAppsApiCursor,orgAppsApiTotal:this.props.orgAppsApiTotal,orgAppsLoading:this.props.orgAppsLoading,orgAppsSortDir:this.props.orgAppsSortDir,orgAppsSortBy:this.props.orgAppsSortBy,searchQuery:this.props.searchQuery,featureEntAppManagementRestriction:this.props.featureEntAppManagementRestriction};return t}},{key:"renderInstalledAppsContent",value:function e(){var t=this.getAppProps();return a.a.createElement("div",null,a.a.createElement(v["a"],t))}},{key:"renderRestrictedAppsContent",value:function e(){return a.a.createElement(h["a"],null)}},{key:"render",value:function e(){var t=this.props,r=t.tabActionOnClick,n=t.defaultTabId;var i=[{title:E.t("Installed Apps"),id:"installed",content:this.renderInstalledAppsContent(),onClick:r}];this.props.featureEntAppManagementRestriction&&i.push({title:E.t("Restricted Apps"),id:"restricted",content:this.renderRestrictedAppsContent(),onClick:r});var o=u()("p-app-panel",{open:this.props.profileIsOpen});return a.a.createElement("div",{className:"p-app_management padding_top_200"},a.a.createElement(d["a"],null),a.a.createElement(f["a"],{tabs:i,defaultTabId:n}),a.a.createElement("div",{"data-enterprise-app-profile-container":true,className:o}))}}]);return t}(n["PureComponent"]);w.displayName="AppManagement";w.propTypes=j;w.defaultProps=k;t["a"]=w},18240:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(16912);var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=new i["b"]("enterprise_dashboard");var p=function(e){l(t,e);function t(){s(this,t);return c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}o(t,[{key:"shouldComponentUpdate",value:function e(){return false}},{key:"render",value:function e(){var t=u.t("Apps");return a.a.createElement("div",{className:"c-app_management_indent"},a.a.createElement("h1",null,t))}}]);return t}(n["Component"]);p.displayName="AppManagementHeader";t["a"]=p},18241:function(e,t,r){"use strict";var n=r(18242);t["a"]=n["a"]},18242:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(17097);var u=r(16912);var p=r(17749);var f=r(17019);var d=r(17750);var v=r(18248);var h=r(17987);var m=r(20157);var b=r.n(m);var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=new u["b"]("enterprise_dashboard");var j=333;var k={orgName:a.a.string.isRequired,orgApps:a.a.array,orgAppsApiCursor:a.a.string,orgAppsApiTotal:a.a.number,orgAppsLoading:a.a.bool,orgAppsSortDir:a.a.string,orgAppsSortBy:a.a.string,searchQuery:a.a.string,featureEntAppManagementRestriction:a.a.bool};var w={orgApps:[],orgAppsApiCursor:null,orgAppsApiTotal:null,orgAppsLoading:false,orgAppsSortDir:null,orgAppsSortBy:null,searchQuery:"",featureEntAppManagementRestriction:false};var C=function(e){O(t,e);function t(e){g(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onSearchInputChange=r.onSearchInputChange.bind(r);r.onSearchInputChangeDelayed=Object(s["debounce"])(r.onSearchInputChangeDelayed,j,{trailing:true}).bind(r);r.generateAppsCSV=r.generateAppsCSV.bind(r);return r}_(t,[{key:"onSearchInputChange",value:function e(t){var r=t.target.value;this.onSearchInputChangeDelayed(r)}},{key:"onSearchInputChangeDelayed",value:function e(t){var r=null!==t&&void 0!==t&&t.length?t:null;Object(l["b"])(Object(l["a"])().apps.setOrgAppsSearchQuery(r));Object(l["b"])(Object(l["a"])().apps.resetOrgAppsApiCursor())}},{key:"getOrgAppsListProps",value:function e(){var t={orgApps:this.props.orgApps,orgAppsApiCursor:this.props.orgAppsApiCursor,orgAppsApiTotal:this.props.orgAppsApiTotal,orgAppsLoading:this.props.orgAppsLoading,searchQuery:this.props.searchQuery,featureEntAppManagementRestriction:this.props.featureEntAppManagementRestriction};return t}},{key:"formatTitleString",value:function e(t){if(null!==t&&!isNaN(t)&&t>0)return E.t("{orgAppsApiTotal, plural, =1 {# Installed App} other {# Installed Apps}}",{orgAppsApiTotal:t});return E.t("Installed Apps")}},{key:"generateAppsCSV",value:function e(){var t=this.props,r=t.orgAppsSortDir,n=t.orgAppsSortBy,a=t.searchQuery;var i={type:"apps"};a&&(i.query=a);if(n){i.sort_prefix=n;r&&(i.sort_dir=r)}Object(l["b"])(Object(l["a"])().apps.generateAppsCSVForSlackbotDM(i))}},{key:"renderExportButton",value:function e(){var t=this.props.orgAppsApiTotal;var r=E.t("Installed Apps");if(!t)return null;return o.a.createElement(d["a"],{title:r,query:this.props.searchQuery,onDownloadClick:this.generateAppsCSV})}},{key:"renderAppFilterInput",value:function e(){var t=E.t("Filter by name...");return o.a.createElement(f["a"],{placeholder:t,icon:"search",autoFocus:false,isLoading:this.props.orgAppsLoading,onChange:this.onSearchInputChange,className:"p-app_management_filter_search_bar",value:this.props.searchQuery})}},{key:"render",value:function e(){var t=this.props,r=t.orgAppsApiTotal,n=t.orgAppsLoading,a=t.searchQuery,i=t.orgAppsApiCursor;var s=[this.renderExportButton(),this.renderAppFilterInput()];var c=this.getOrgAppsListProps();if(0===r&&!a&&!n&&i)return o.a.createElement("div",{className:"p-app_management_installed_apps"},o.a.createElement(p["a"],{title:this.formatTitleString(r),actions:s}),o.a.createElement(v["a"],{orgName:this.props.orgName}));return o.a.createElement("div",{className:"p-app_management_installed_apps"},o.a.createElement(p["a"],{title:this.formatTitleString(r),actions:s}),o.a.createElement("div",{className:"c-app_management_indent_half"},o.a.createElement(h["a"],c)))}}]);return t}(i["PureComponent"]);C.displayName="AppManagementInstalledApps";C.propTypes=k;C.defaultProps=w;t["a"]=C},18243:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(18244);var u=r(20176);var p=r.n(u);var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m={title:a.a.node.isRequired,actions:a.a.array};var b={actions:[]};var _=function(e){h(t,e);function t(){d(this,t);return v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}f(t,[{key:"renderActionItems",value:function e(){var t=this.props.actions;var r=Object(s["map"])(t,function(e,t){return o.a.createElement(l["a"],{key:t,action:e})});return r}},{key:"render",value:function e(){return o.a.createElement("div",{className:"c-action_bar display_flex align_items_center justify_content_between sk_off_white_bg"},o.a.createElement("span",{className:"c-action_bar_title black"},this.props.title),o.a.createElement("div",{className:"display_flex align_items_center"},this.renderActionItems()))}}]);return t}(i["PureComponent"]);_.displayName="ActionBar";_.propTypes=m;_.defaultProps=b;t["a"]=_},18244:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(20176);var c=r.n(s);var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d={action:a.a.node};var v={action:null};var h=function(e){f(t,e);function t(){u(this,t);return p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}l(t,[{key:"render",value:function e(){return o.a.createElement("div",{className:"margin_left_75"},this.props.action)}}]);return t}(i["PureComponent"]);h.displayName="ActionBarItem";h.propTypes=d;h.defaultProps=v;t["a"]=h},18245:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16912);var u=r(17985);var p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=new l["b"]("enterprise_dashboard");var m={title:o.a.string.isRequired,onDownloadClick:o.a.func,buttonSize:o.a.string};var b={onDownloadClick:s["noop"],buttonSize:"small"};var _=function(e){v(t,e);function t(){f(this,t);return d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}p(t,[{key:"render",value:function e(){var t=this.props.buttonSize;var r=h.t("Your CSV may take a bit of time to generate. It\u2019ll be sent to you in Slack as soon as it\u2019s ready.");var n=h.t("Includes everything");var i=h.t("Generate CSV");return a.a.createElement(u["a"],{onDownloadClick:this.props.onDownloadClick,title:this.props.title,subtext:n,contextButtonLabel:i,contextCaption:r,buttonSize:t})}}]);return t}(n["PureComponent"]);_.displayName="AppManagementCSVPopup";_.propTypes=m;_.defaultProps=b;t["a"]=_},18246:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16912);var u=r(16918);var p=r(16917);var f=r(20177);var d=r.n(f);var v=r(18247);var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=new l["b"]("enterprise_dashboard");var y={title:a.a.string.isRequired,subtext:a.a.string.isRequired,contextButtonLabel:a.a.string.isRequired,onDownloadClick:a.a.func,contextCaption:a.a.string,buttonSize:a.a.string};var O={onDownloadClick:s["noop"],contextCaption:"",buttonSize:"medium"};var E=function(e){_(t,e);function t(e){m(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onButtonClick=r.onButtonClick.bind(r);r.onDownloadButtonClick=r.onDownloadButtonClick.bind(r);r.onContextBlur=r.onContextBlur.bind(r);r.state={contextIsOpen:false};return r}h(t,[{key:"onButtonClick",value:function e(){var t=this;this.setState(function(){return{contextIsOpen:!t.state.contextIsOpen}})}},{key:"onContextBlur",value:function e(t,r){r.contains(t.target)||this.state.contextIsOpen&&this.setState(function(){return{contextIsOpen:false}})}},{key:"onDownloadButtonClick",value:function e(){this.props.onDownloadClick();this.onButtonClick()}},{key:"render",value:function e(){var t=this.props,r=t.title,n=t.subtext,a=t.contextButtonLabel,i=t.contextCaption,s=t.buttonSize;var c=g.t("Export CSV");return o.a.createElement("div",null,o.a.createElement(u["d"],{type:"outline",onClick:this.onButtonClick,size:s,className:"p-export_csv_button"},c,o.a.createElement(p["a"],{type:"caret_down",className:"p-export_csv_button_caret"})),o.a.createElement(v["a"],{isOpen:this.state.contextIsOpen,title:r,subtext:n,contextButtonLabel:a,onDownloadClick:this.onDownloadButtonClick,contextCaption:i,onContextBlur:this.onContextBlur}))}}]);return t}(i["PureComponent"]);E.displayName="ExportCSVButton";E.propTypes=y;E.defaultProps=O;t["a"]=E},18247:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(16918);var f=r(20177);var d=r.n(f);var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _={isOpen:a.a.bool.isRequired,title:a.a.string.isRequired,subtext:a.a.string.isRequired,contextButtonLabel:a.a.string.isRequired,onDownloadClick:a.a.func,contextCaption:a.a.string,onContextBlur:a.a.func};var g={onDownloadClick:l["noop"],contextCaption:"",onContextBlur:l["noop"]};var y=function(e){b(t,e);function t(e){h(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.handleOnContextUnfocus=r.handleOnContextUnfocus.bind(r);return r}v(t,[{key:"componentWillReceiveProps",value:function e(t){t.isOpen?document.addEventListener("click",this.handleOnContextUnfocus,false):document.removeEventListener("click",this.handleOnContextUnfocus,false)}},{key:"handleOnContextUnfocus",value:function e(t){this.props.onContextBlur(t,this.node)}},{key:"render",value:function e(){var t=this;var r=this.props,n=r.isOpen,a=r.title,i=r.subtext,s=r.contextButtonLabel,l=r.onDownloadClick,u=r.contextCaption;var f=c()("p-export_csv_context","menu",{"p-export_csv_context--hidden":!n});return o.a.createElement("div",{className:f,ref:function e(r){t.node=r}},o.a.createElement("div",{className:"p-export_csv_context_subtext"},o.a.createElement("h4",{className:"black"},a),o.a.createElement("p",{className:"break_word"},i),o.a.createElement(p["d"],{onClick:l,className:"p-export_csv_context_button"},s)),u&&o.a.createElement("div",{className:"p-export_csv_context_caption"},u))}}]);return t}(i["PureComponent"]);y.displayName="ExportContext";y.propTypes=_;y.defaultProps=g;t["a"]=y},18248:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16912);var c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=new s["b"]("enterprise_dashboard");var d={orgName:o.a.string};var v={orgName:""};var h=function(e){p(t,e);function t(){l(this,t);return u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}c(t,[{key:"render",value:function e(){var t=cdn_url+"/91b7a/img/enterprise/empty_apps_state.png";var r=Object(s["l"])(this.props.orgName);var n=f.t("{orgName} has no apps installed.",{orgName:r});return a.a.createElement("div",{className:"p-app_management_empty_state_container"},a.a.createElement("img",{src:t,alt:"",className:"auto_width margin_bottom_100"}),a.a.createElement("h3",{className:"black margin_bottom_75"},n))}}]);return t}(n["PureComponent"]);h.displayName="InstalledAppsEmptyState";h.propTypes=d;h.defaultProps=v;t["a"]=h},18249:function(e,t,r){"use strict";var n=r(18250);t["a"]=n["a"]},18250:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(8);var o=r.n(i);var s=r(17749);var c=r(16918);var l=r(16917);var u=r(17755);var p=r(17019);var f=r(18253);var d=r(17987);var v=r(20157);var h=r.n(v);var m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y="desc";var O=[{id:"name",value:"Name",sortable:true},{id:"restricted_on",value:"Restricted On",sortable:true,defaultSortType:y},{id:"restricted_by",value:"Restricted By"},{id:"exceptions",value:"Exceptions"},{id:"existing",value:"Existing Installations"}];function E(e){var t=new Date(e||parseInt(Math.random()*(new Date).getTime(),10));return t.toDateString()}var j={items:[{value:function e(t){var r=void 0;t.profile?r=t.profile.image_48:t.icon&&(r=t.icon.image_34);if(r)return a.a.createElement("span",null,a.a.createElement("img",{src:r,style:{width:"24px",height:"24px",verticalAlign:"middle",marginRight:"1rem"},alt:t.name}),a.a.createElement("b",null,t.name));return a.a.createElement("b",null,t.name)}},{value:function e(t){return E(1e3*t.updated)}},{value:function e(t){return t.name}},{value:function e(){var t=parseInt(10*Math.random(),10);var r=void 0;r=0===t?"None":t+" "+(1===t?"exception":"exceptions");return r}},{value:function e(){var t=parseInt(1024*Math.random(),10);var r=1===t?"workspace":"workspaces";return t+" "+r}}]};var k=function(e){g(t,e);function t(e){b(this,t);var r=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onIconClick=r.onIconClick.bind(r);r.onCoachmarkSkip=r.onCoachmarkSkip.bind(r);r.onCoachmarkContinue=r.onCoachmarkContinue.bind(r);r.onSearchInputChange=r.onSearchInputChange.bind(r);r.state={showCoachmark:true,isSearching:false};return r}m(t,[{key:"onIconClick",value:function e(){this.setState(function(){return{showCoachmark:true}})}},{key:"onCoachmarkSkip",value:function e(){this.setState(function(){return{showCoachmark:false}})}},{key:"onCoachmarkContinue",value:function e(){this.setState(function(){return{showCoachmark:false}})}},{key:"onSearchInputChange",value:function e(t){var r={searchQuery:t.target.value};this.setState(function(){return r})}},{key:"getOrgAppsListProps",value:function e(){var t=this.state,r=t.sortBy,n=t.sortDir,a=t.searchQuery;var i={headerData:O,rowTemplate:j,sortBy:r,sortDir:n,searchQuery:a};return i}},{key:"renderExportButton",value:function e(){return a.a.createElement(f["a"],null)}},{key:"renderRestrictionButton",value:function e(){return a.a.createElement(c["d"],{size:"small",type:"outline"},"Export")}},{key:"renderAppFilterInput",value:function e(){return a.a.createElement(p["a"],{placeholder:"Filter by name...",icon:"search",autoFocus:false,isLoading:this.state.isSearching,onChange:this.onSearchInputChange,className:"p-app_management_filter_search_bar"})}},{key:"renderRestrictedTitle",value:function e(){var t=o()("p-app_management_restricted_apps__info_icon","margin_left_50",{"p-app_management_restricted_apps__info_icon--active":this.state.showCoachmark});return a.a.createElement("div",{className:"display_flex align_items_center"},a.a.createElement("span",null,"Restricted Apps"),a.a.createElement(u["a"],{hasCloseButton:true,content:"By restricting an app for the organization, members will no longer be allowed to install them on any workspace. Existing installations will not be automatically removed. To learn more about restricted apps, visit out help center.",shouldShow:this.state.showCoachmark,position:"right",onSkip:this.onCoachmarkSkip,hasSkipLink:false,onContinue:this.onCoachmarkContinue},a.a.createElement(l["a"],{type:"question_circle",onClick:this.onIconClick,className:t})))}},{key:"render",value:function e(){var t=[this.renderExportButton(),this.renderRestrictionButton(),this.renderAppFilterInput()];var r=this.getOrgAppsListProps();return a.a.createElement("div",{className:"p-app_management_restricted_apps"},a.a.createElement(s["a"],{title:this.renderRestrictedTitle(),actions:t}),a.a.createElement("div",{className:"c-app_management_indent_half"},a.a.createElement(d["a"],r)))}}]);return t}(n["PureComponent"]);k.displayName="AppManagementRestrictedApps";t["a"]=k},18251:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(50);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(1);var f=r.n(p);var d=r(16918);var v=r(16917);var h=r(17044);var m=r(16912);var b=r(20190);var _=r.n(b);var g=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function y(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=new m["b"]("coachmarks");var w=150;var C=-500;var S={children:a.a.element,className:a.a.string,position:a.a.string,delay:a.a.number,content:a.a.oneOfType([a.a.node,a.a.func]),zIndex:a.a.oneOf(["above_fs","fs","menu","below_menu"]),onContinue:a.a.func,onShow:a.a.func,onSkip:a.a.func,hasCloseButton:a.a.bool,hasSkipLink:a.a.bool,hasSkipButton:a.a.bool,skipButtonText:a.a.string,continueButtonText:a.a.string,skipLinkPre:a.a.string,skipLinkText:a.a.string,title:a.a.node,shouldShow:a.a.oneOfType([a.a.func,a.a.bool])};var T={children:void 0,className:void 0,position:"right",delay:0,content:"",zIndex:"above_fs",onContinue:p["noop"],onShow:p["noop"],onSkip:p["noop"],hasCloseButton:true,hasSkipLink:true,hasSkipButton:false,skipButtonText:"",skipLinkPre:k.t("Done?"),skipLinkText:k.t("Click here to skip"),continueButtonText:k.t("Got it!"),title:"",shouldShow:false};var I=function(e){j(t,e);function t(){O(this,t);var e=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.state={isShowing:false,contentsRect:null};e.setCoachmarkedContentRef=e.setCoachmarkedContentRef.bind(e);e.setCoachmarkRef=e.setCoachmarkRef.bind(e);e.maybeShowCoachmark=e.maybeShowCoachmark.bind(e);e.measureContents=e.measureContents.bind(e);e.onSkipClick=e.onSkipClick.bind(e);e.onCloseClick=e.onCloseClick.bind(e);e.onContinueClick=e.onContinueClick.bind(e);e.onResize=Object(p["debounce"])(e.measureContentsAndSetState.bind(e),w,{maxWait:w});return e}g(t,[{key:"componentWillMount",value:function e(){this.delayTimer=window.setTimeout(this.maybeShowCoachmark,this.props.delay)}},{key:"componentWillReceiveProps",value:function e(t){this.props.shouldShow!==t.shouldShow&&true===t.shouldShow?this.delayTimer=window.setTimeout(this.maybeShowCoachmark,this.props.delay):this.props.shouldShow!==t.shouldShow&&false===t.shouldShow&&this.hideCoachmark()}},{key:"componentWillUnmount",value:function e(){this.hideCoachmark();window.clearTimeout(this.delayTimer);this.onResize.cancel();if(this.listenerInstalled){window.removeEventListener("resize",this.onResize);this.listenerInstalled=false}}},{key:"onSkipClick",value:function e(t){this.hideCoachmark();this.props.onSkip(t,"SKIP")}},{key:"onCloseClick",value:function e(t){this.hideCoachmark();this.props.onSkip(t,"CLOSE")}},{key:"onContinueClick",value:function e(t){this.hideCoachmark();this.props.onContinue(t)}},{key:"setCoachmarkedContentRef",value:function e(t){this.coachmarkedContent=t}},{key:"setCoachmarkRef",value:function e(t){this.coachmark=t}},{key:"measureContents",value:function e(){if(this.coachmarkedContent)return Object(s["findDOMNode"])(this.coachmarkedContent).getBoundingClientRect();return null}},{key:"measureContentsAndSetState",value:function e(){var t=this;this.setState(function(){return{contentsRect:t.measureContents()}})}},{key:"maybeShowCoachmark",value:function e(){var t=this;var r=Object(p["isFunction"])(this.props.shouldShow)?this.props.shouldShow():this.props.shouldShow;if(r){this.setState(function(){return{isShowing:true,contentsRect:t.measureContents()}});window.addEventListener("resize",this.onResize);this.listenerInstalled=true;this.props.onShow()}else this.hideCoachmark()}},{key:"hideCoachmark",value:function e(){this.setState(function(){return{isShowing:false,contentsRect:null}});window.removeEventListener("resize",this.onResize);this.listenerInstalled=false}},{key:"renderCloseButton",value:function e(){if(!this.props.hasCloseButton)return null;return o.a.createElement(d["c"],{className:"p-coachmark__close_btn","data-qa":"coachmark_close_btn",onClick:this.onCloseClick,"aria-label":k.t("Close")},o.a.createElement(v["a"],{type:"times"}))}},{key:"renderTitle",value:function e(){return o.a.createElement("h3",{className:"p-coachmark__title"},this.props.title)}},{key:"renderContent",value:function e(){return o.a.createElement("div",{className:"p-coachmark__content"},this.props.content)}},{key:"renderSkipLink",value:function e(){if(!this.props.hasSkipLink)return null;var t=this.props.skipLinkPre;var r=this.props.skipLinkText;return o.a.createElement("div",{className:"p-coachmark__skip_link"},o.a.createElement("span",null,t),t&&" ",o.a.createElement(d["c"],{className:"p-coachmark__skip_link_button","data-qa":"coachmark_skip_link",onClick:this.onSkipClick},r))}},{key:"renderSkipButton",value:function e(){if(!this.props.hasSkipButton)return null;return o.a.createElement(d["d"],{onClick:this.onSkipClick,type:"outline",className:"p-coachmark__skip_button margin_right_50","data-qa":"coachmark_skip_btn"},this.props.skipButtonText)}},{key:"renderFooter",value:function e(){var t=this.props.hasSkipLink?"p-coachmark__footer":u()("p-coachmark__footer","margin_top_100");return o.a.createElement("div",{className:t},this.renderSkipLink(),this.renderSkipButton(),o.a.createElement(d["d"],{onClick:this.onContinueClick,className:"p-coachmark__continue_button","data-qa":"coachmark_continue_btn"},this.props.continueButtonText))}},{key:"render",value:function e(){var t=this.props,r=t.children,n=t.position,a=t.zIndex;var i=this.state,s=i.isShowing,c=i.contentsRect;var l=u()("p-coachmark","p-coachmark--"+n,this.props.className);var p=s&&o.a.createElement(h["a"],{isOpen:s,position:n,targetBounds:c,allowanceX:C,allowanceY:C,zIndex:a,key:"coachmark-popover",onClose:this.onCloseClick},o.a.createElement("div",{className:l,"data-qa":"coachmark",ref:this.setCoachmarkRef},o.a.createElement("div",{className:"p-coachmark__callout"}),this.renderCloseButton(),this.renderTitle(),this.renderContent(),this.renderFooter()));return o.a.cloneElement(r,{ref:this.setCoachmarkedContentRef},[].concat(y(o.a.Children.toArray(r.props.children)),[p]))}}]);return t}(i["PureComponent"]);I.displayName="Coachmark";I.propTypes=S;I.defaultProps=T;t["a"]=I},18253:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(17985);var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u={};var p=function(e){l(t,e);function t(e){s(this,t);var r=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={};return r}o(t,[{key:"render",value:function e(){var t="This data set is large, so your CSV will take some time to generate. We'll send it to you in Slack as soon as it's ready.";return a.a.createElement(i["a"],{title:"Restricted Apps",subtext:"Includes everything",contextButtonLabel:"Generate CSV",contextCaption:t,buttonSize:"small"})}}]);return t}(n["PureComponent"]);p.displayName="RestrictedAppsExportCSV";p.propTypes=u;t["a"]=p},18254:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(16927);var l=r(16928);var u=r(18255);Object(l["a"])("interop.appProfile",{render:function e(t,r,n){if(!t)throw new Error("appProfile render must be called with a teamId parameter");var i=Object(c["c"])(t);o.a.render(a.a.createElement(s["Provider"],{store:i},a.a.createElement(u["a"],n)),r)},stop:function e(t){o.a.unmountComponentAtNode(t)}})},18255:function(e,t,r){"use strict";var n=r(18256);t["a"]=n["a"]},18256:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16912);var u=r(17097);var p=r(17302);var f=r(18257);var d=r(18261);var v=r(18264);var h=r(20178);var m=r.n(h);var b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=new l["b"]("enterprise_dashboard");var E={appName:a.a.string.isRequired,appId:a.a.string,appImageSrc:a.a.string.isRequired,appByline:a.a.string,appScope:a.a.oneOfType([a.a.object,a.a.string,a.a.array]),userIsCreationTeamMember:a.a.bool,headerActions:a.a.array,isOpen:a.a.bool,isDirectoryPublished:a.a.bool,isSlackIntegration:a.a.bool,orgName:a.a.string,workspacesByApp:a.a.array,workspacesByAppApiCursor:a.a.string,workspacesByAppApiTotal:a.a.number,workspacesByAppLoading:a.a.bool,workspacesByAppSortBy:a.a.string,workspacesByAppSortDir:a.a.string,searchQuery:a.a.string,appsDetailViewSelectedTab:a.a.string,appsDetailViewWorkspaceContext:a.a.string,appsDetailViewWorkspaceDomain:a.a.string,currentUserTeams:a.a.array,rootURL:a.a.string.isRequired,isXoxaApp:a.a.bool,isDistributedApp:a.a.bool,orgTeams:a.a.array};var j={appId:"",appByline:"",appScope:[],userIsCreationTeamMember:false,headerActions:[],isOpen:true,isDirectoryPublished:false,isSlackIntegration:false,orgName:"",workspacesByApp:[],workspacesByAppApiCursor:null,workspacesByAppApiTotal:null,workspacesByAppLoading:null,workspacesByAppSortBy:null,workspacesByAppSortDir:null,searchQuery:"",appsDetailViewSelectedTab:"installations",appsDetailViewWorkspaceDomain:null,appsDetailViewWorkspaceContext:null,currentUserTeams:[],isXoxaApp:false,isDistributedApp:true,orgTeams:null};var k=function(e){y(t,e);function t(e){_(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.navigateToProfileTab=r.navigateToProfileTab.bind(r);r.navigateToAppDirectory=r.navigateToAppDirectory.bind(r);return r}b(t,[{key:"navigateToProfileTab",value:function e(t){return Object(u["b"])(Object(u["a"])().router.navigateTo("/organization/apps/profile/"+this.props.appId+"/"+t))}},{key:"navigateToAppDirectory",value:function e(){var t=this.props,r=t.appsDetailViewWorkspaceContext,n=t.appsDetailViewWorkspaceDomain,a=t.userIsCreationTeamMember,i=t.currentUserTeams,o=t.rootURL,c=t.orgTeams;var l=void 0;if(r&&i&&Object(s["includes"])(i,r)){var u="https://"+(n||"my")+"."+o.replace(/(http:\/\/|https:\/\/)/,"");l=u+"apps/"+this.props.appId+"?from_org_dashboard=1"}else if(a)l=o+"apps/"+this.props.appId+"?from_org_dashboard=1";else if(i&&i.length){var p=Object(s["find"])(c,function(e){return e.id===i[0]});l="https://"+p.domain+"."+o.replace(/(http:\/\/|https:\/\/)/,"")+"apps/"+this.props.appId+"?from_org_dashboard=1"}else l=o+"apps/"+this.props.appId+"?from_org_dashboard=1";window.open(l,"_blank")}},{key:"renderInstallationsContent",value:function e(){var t={orgName:this.props.orgName,appId:this.props.appId,workspacesByApp:this.props.workspacesByApp,workspacesByAppApiCursor:this.props.workspacesByAppApiCursor,workspacesByAppApiTotal:this.props.workspacesByAppApiTotal,workspacesByAppLoading:this.props.workspacesByAppLoading,workspacesByAppSortDir:this.props.workspacesByAppSortDir,workspacesByAppSortBy:this.props.workspacesByAppSortBy,searchQuery:this.props.searchQuery};return o.a.createElement(d["a"],t)}},{key:"renderPermissionsContent",value:function e(){return o.a.createElement(v["a"],{permissionsItems:this.props.appScope,isDirectoryPublished:this.props.isDirectoryPublished,isXoxaApp:this.props.isXoxaApp,appId:this.props.appId})}},{key:"render",value:function e(){var t=this.props,r=t.isDistributedApp,n=t.userIsCreationTeamMember,a=t.currentUserTeams,i=t.isSlackIntegration;var s=r&&a&&a.length||n;var c=[{title:O.t("Installations"),id:"installations",content:this.renderInstallationsContent(),onClick:this.navigateToProfileTab}];i||c.push({title:O.t("Permissions"),id:"permissions",content:this.renderPermissionsContent(),onClick:this.navigateToProfileTab});s&&c.push({title:O.t("App Details"),icon:"external-link",id:"details",content:"",isExternalLink:true,onClick:this.navigateToAppDirectory});var l={appName:this.props.appName,appImageSrc:this.props.appImageSrc,appByline:this.props.appByline,headerActions:this.props.headerActions,isOpen:this.props.isOpen};return o.a.createElement("div",{className:"p-app_profile"},o.a.createElement(f["a"],l),o.a.createElement(p["a"],{tabs:c,defaultTabId:this.props.appsDetailViewSelectedTab}))}}]);return t}(i["PureComponent"]);k.displayName="AppProfile";k.propTypes=E;k.defaultProps=j;t["a"]=k},18257:function(e,t,r){"use strict";var n=r(18258);t["a"]=n["a"]},18258:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(17097);var u=r(16917);var p=r(18259);var f=r(20191);var d=r.n(f);var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _={appName:a.a.string.isRequired,appImageSrc:a.a.string.isRequired,appByline:a.a.string,headerActions:a.a.array};var g={appByline:"",headerActions:[]};var y=function(e){b(t,e);function t(e){h(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onBackClick=r.onBackClick.bind(r);return r}v(t,[{key:"onBackClick",value:function e(){Object(l["b"])(Object(l["a"])().router.navigateTo("/organization/apps"));Object(l["b"])(Object(l["a"])().apps.setAppDetailViewOpen(false))}},{key:"renderActionItems",value:function e(){var t=this.props.headerActions;var r=Object(s["map"])(t,function(e,t){return o.a.createElement(p["a"],{key:t,action:e})});return r}},{key:"render",value:function e(){var t=this;var r=this.props,n=r.appName,a=r.appImageSrc,i=r.appByline;return o.a.createElement("div",{className:"p-app_profile_header margin_bottom_150 display_flex align_items_center justify_content_between"},o.a.createElement("div",{className:"display_flex justify_content_start align_items_center"},o.a.createElement(u["a"],{onClick:function e(){return t.onBackClick()},type:"chevron_medium_left",className:"p-app_profile_header__back_arrow position_absolute"}),o.a.createElement("img",{className:"p-app_profile_header__app_image margin_right_100 margin_left_100",src:a,alt:n}),o.a.createElement("div",{className:"display_flex flex_direction_column"},o.a.createElement("h3",{className:"black"},n),o.a.createElement("span",{className:"p-app_profile_header__app_byline sk_dark_grey"},i))),o.a.createElement("div",{className:"display_flex"},this.renderActionItems()))}}]);return t}(i["PureComponent"]);y.displayName="AppProfileHeader";y.propTypes=_;y.defaultProps=g;t["a"]=y},18259:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p={action:a.a.node.isRequired};var f=function(e){u(t,e);function t(){c(this,t);return l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}s(t,[{key:"render",value:function e(){return o.a.createElement("div",{className:"margin_left_75"},this.props.action)}}]);return t}(i["PureComponent"]);f.displayName="AppProfileHeaderActionItem";f.propTypes=p;t["a"]=f},18261:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(17749);var u=r(17019);var p=r(16912);var f=r(17097);var d=r(18262);var v=r(18263);var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=new p["b"]("enterprise_dashboard");var y=333;var O={orgName:a.a.string,appId:a.a.string,workspacesByApp:a.a.array,workspacesByAppApiCursor:a.a.string,workspacesByAppApiTotal:a.a.number,workspacesByAppLoading:a.a.bool,workspacesByAppSortBy:a.a.string,workspacesByAppSortDir:a.a.string,searchQuery:a.a.string};var E={orgName:"",appId:null,workspacesByApp:[],workspacesByAppApiCursor:null,workspacesByAppApiTotal:null,workspacesByAppLoading:null,workspacesByAppSortBy:null,workspacesByAppSortDir:null,searchQuery:""};var j=function(e){_(t,e);function t(e){m(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onSearchInputChange=r.onSearchInputChange.bind(r);r.onSearchInputChangeDelayed=Object(s["debounce"])(r.onSearchInputChangeDelayed,y,{trailing:true}).bind(r);r.generateAppsCSV=r.generateAppsCSV.bind(r);return r}h(t,[{key:"onSearchInputChange",value:function e(t){var r=t.target.value;this.onSearchInputChangeDelayed(r)}},{key:"onSearchInputChangeDelayed",value:function e(t){var r=null!==t&&void 0!==t&&t.length?t:null;Object(f["b"])(Object(f["a"])().apps.setWorkspacesByAppSearchQuery(r));Object(f["b"])(Object(f["a"])().apps.resetWorkspacesByAppApiCursor())}},{key:"getWorkspacesByAppListProps",value:function e(){var t={appId:this.props.appId,workspacesByApp:this.props.workspacesByApp,workspacesByAppApiCursor:this.props.workspacesByAppApiCursor,workspacesByAppApiTotal:this.props.workspacesByAppApiTotal,workspacesByAppLoading:this.props.workspacesByAppLoading,searchQuery:this.props.searchQuery};return t}},{key:"generateAppsCSV",value:function e(){var t=this.props,r=t.searchQuery,n=t.workspacesByAppSortBy,a=t.workspacesByAppSortDir,i=t.appId;var o={type:"teams_by_app",app_id:i};r&&(o.query=r);if(n){o.sort_prefix=n;a&&(o.sort_dir=a)}Object(f["b"])(Object(f["a"])().apps.generateAppsCSVForSlackbotDM(o))}},{key:"renderAppFilterInput",value:function e(){var t=this.props,r=t.searchQuery,n=t.workspacesByAppLoading;var a=g.t("Filter by name...");var i=!!(r&&n);return o.a.createElement(u["a"],{placeholder:a,icon:"search",autoFocus:false,isLoading:i,onChange:this.onSearchInputChange,className:"p-app_management_filter_search_bar",value:this.props.searchQuery})}},{key:"render",value:function e(){var t=[this.renderAppFilterInput()];var r=this.props,n=r.orgName,a=r.searchQuery,i=r.workspacesByAppApiTotal,s=r.workspacesByAppLoading,c=r.workspacesByAppApiCursor;var u=this.getWorkspacesByAppListProps();var p=null===i||isNaN(i)?null:parseInt(i,10);var f=g.t("{total, plural, =0 {Workspace Installations} =1 {# Workspace Installation} other {# Workspace Installations}}",{total:p});if(0===i&&!a&&!s&&c)return o.a.createElement("div",null,o.a.createElement(l["a"],{title:f,actions:t}),o.a.createElement("div",{className:"c-app_management_indent_half"},o.a.createElement(v["a"],{orgName:n})));return o.a.createElement("div",null,o.a.createElement(l["a"],{title:f,actions:t}),o.a.createElement("div",{className:"c-app_management_indent_half p-app_management_workspacess_by_app_list"},o.a.createElement(d["a"],u)))}}]);return t}(i["PureComponent"]);j.displayName="AppProfileInstallations";j.propTypes=O;j.defaultProps=E;t["a"]=j},18262:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16912);var u=r(17751);var p=r(17097);var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=new l["b"]("enterprise_dashboard");var b={appId:a.a.string,workspacesByApp:a.a.array,workspacesByAppApiCursor:a.a.string,workspacesByAppApiTotal:a.a.number,workspacesByAppLoading:a.a.bool,headerItemOnClick:a.a.func,pageSize:a.a.number,sortBy:a.a.string,sortDir:a.a.string,searchQuery:a.a.string,rowHeaderItemClassName:a.a.string,rowClassName:a.a.string};var _={appId:null,workspacesByApp:[],workspacesByAppApiCursor:"",workspacesByAppApiTotal:null,workspacesByAppLoading:false,headerItemOnClick:s["noop"],pageSize:50,sortBy:"team_name",sortDir:null,searchQuery:"",rowHeaderItemClassName:"p-app_management_table_view_header_item",rowClassName:"p-app_management_table_view_row"};var g="asc";var y="desc";var O="caret_down";var E="caret_up";var j={};j[g]=O;j[y]=E;var k=function(e){h(t,e);function t(e){d(this,t);var r=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));var n=r.props,a=n.sortBy,i=n.sortDir;r.state={rowListItems:[],sortBy:a,sortDir:i,offset:0,height:null};r.tableViewControllerRef=null;r.headerItemOnClick=r.headerItemOnClick.bind(r);r.onRequestNextPage=r.onRequestNextPage.bind(r);r.refreshTableHeight=r.refreshTableHeight.bind(r);r.refreshTableHeightPolitely=r.refreshTableHeightPolitely.bind(r);r.onWorkspaceNameClick=r.onWorkspaceNameClick.bind(r);r.rowTemplate={items:[{value:function e(t){var n=t&&t.icons&&t.icons.image_68;return o.a.createElement("button",{className:"p-app_management_table_view_workspace_name",onClick:function e(){return r.onWorkspaceNameClick(t.team_id)}},n&&o.a.createElement("img",{src:n,style:{width:"34px",height:"34px",verticalAlign:"middle",marginRight:"1rem"},alt:t.name}),o.a.createElement("span",{className:"bold"},t.team_name))}},{value:function e(t){var r=t.installed_by&&t.installed_by&&t.installed_by.first_installation&&t.installed_by&&t.installed_by.first_installation.date;var n=new Date(1e3*r).toLocaleDateString();return o.a.createElement("div",null,n)}},{value:function e(t){var r=t.installed_by&&t.installed_by.count||1;var n=m.t("{userCount, plural, =1 {# user} other {# users}}",{userCount:r});return o.a.createElement("div",null,n)}}]};r.emptyRowTemplate={items:[{value:function e(t){var r=t.searchQuery;var n=m.rt("No workspaces were found matching <b>{query}</b>",{query:r});return o.a.createElement("div",{className:"align_center"},n)}}]};r.headerData=[{id:"team_name",value:m.t("Workspace"),sortable:true},{id:"installed_on",value:m.t("Installed On"),sortable:true},{id:"installed_by",value:m.t("Installed By"),sortable:true}];return r}f(t,[{key:"componentWillMount",value:function e(){var t=this.props,r=t.workspacesByApp,n=t.sortBy;var a=this.state.offset;r.length?this.updateRowListItemsData(a):Object(p["b"])(Object(p["a"])().apps.setWorkspacesByAppLoading(true));Object(p["b"])(Object(p["a"])().apps.setWorkspacesByAppSortBy(n))}},{key:"componentDidMount",value:function e(){this.refreshTableHeightPolitely();window.addEventListener("resize",this.refreshTableHeightPolitely)}},{key:"componentWillReceiveProps",value:function e(t){this.maybeUpdateSearchQuery(t)}},{key:"componentDidUpdate",value:function e(t){this.maybeUpdateListRowItems(t);this.maybeFetchNextPage(t)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("resize",this.refreshTableHeightPolitely)}},{key:"onRequestNextPage",value:function e(t){var r=this.props,n=r.workspacesByApp,a=r.workspacesByAppApiTotal;if(a&&n.length>=a)return;this.fetchNewPage();var i={offset:t};this.setState(i)}},{key:"onWorkspaceNameClick",value:function e(t){return Object(p["b"])(Object(p["a"])().router.navigateTo("/organization/teams/"+t))}},{key:"maybeFetchNextPage",value:function e(t){var r=this.props,n=r.appId,a=r.workspacesByAppLoading;var i=a&&!t.workspacesByAppLoading;var o=n&&n!==t.appId;n&&(i||o)&&this.fetchNewPage()}},{key:"maybeUpdateSearchQuery",value:function e(t){var r=this.props.searchQuery;if(t.searchQuery!==r){this.resetWorkspacesByAppsState();Object(p["b"])(Object(p["a"])().apps.setWorkspacesByAppLoading(true))}}},{key:"maybeUpdateListRowItems",value:function e(t){var r=this.state.offset;var n=this.props,a=n.searchQuery,i=n.workspacesByApp,o=n.workspacesByAppLoading;t.workspacesByApp===i&&t.searchQuery===a&&t.workspacesByAppLoading===o||this.updateRowListItemsData(r)}},{key:"fetchNewPage",value:function e(){var t=this.state,r=t.sortBy,n=t.sortDir;var a=this.props,i=a.appId,o=a.pageSize,c=a.searchQuery,l=a.workspacesByAppApiCursor;if(!i)return;var u={limit:o,app:i};r&&(u.sort=r);n&&(u.sort_dir=n);null!==c&&void 0!==c&&Object(s["trim"])(c).length&&(u.query=c);l&&(u.cursor=l);Object(p["b"])(Object(p["a"])().apps.getWorkspacesByApp(u))}},{key:"headerItemOnClick",value:function e(t){var r=this;var n=this.state,a=n.sortBy,i=n.sortDir;var e=this.props.headerItemOnClick;var o=a;var s=i;if(t.id===a){s=i&&i!==g?g:y;Object(p["b"])(Object(p["a"])().apps.setWorkspacesByAppSortDir(s))}else{o=t.id;s=t.defaultSortType?t.defaultSortType===g?y:g:y;Object(p["b"])(Object(p["a"])().apps.setWorkspacesByAppSortDir(s));Object(p["b"])(Object(p["a"])().apps.setWorkspacesByAppSortBy(o))}var c={sortBy:o,sortDir:s};this.setState(function(){return c},function(){r.resetWorkspacesByAppsState();e&&e(t);Object(p["b"])(Object(p["a"])().apps.setWorkspacesByAppLoading(true))})}},{key:"resetWorkspacesByAppsState",value:function e(){Object(p["b"])(Object(p["a"])().apps.setWorkspacesByApp([]));Object(p["b"])(Object(p["a"])().apps.setWorkspacesByAppApiCursor(null));Object(p["b"])(Object(p["a"])().apps.setWorkspacesByAppLoading(false));Object(p["b"])(Object(p["a"])().apps.setWorkspacesByAppApiTotal(null))}},{key:"refreshTableHeightPolitely",value:function e(){window.requestAnimationFrame(this.refreshTableHeight)}},{key:"refreshTableHeight",value:function e(){var t=window.innerHeight;if(!this.tableViewControllerRef||!this.tableViewControllerRef.tableViewContainerNode)return;var r=this.tableViewControllerRef.tableViewContainerNode.querySelectorAll(".c-table_view_all_rows_container")[0];if(!r)return;var n=r.getBoundingClientRect();var a=1;var i=t-(n&&n.top);var o=64;var s=Math.max(o,i-a);var c={height:s+"px"};this.setState(c)}},{key:"makeHeader",value:function e(t){var r={id:t.id,value:t.value};if(t.sortable){r.iconType=this.determineSortState(t.id,t);r.onClick=this.headerItemOnClick;t.defaultSortType&&(r.defaultSortType=t.defaultSortType)}return r}},{key:"makeHeaders",value:function e(t){var r=this;var n=[];t.forEach(function(e){n.push(r.makeHeader(e))});return n}},{key:"determineSortState",value:function e(t,r){var n=this.state,a=n.sortBy,i=n.sortDir;var o=r.defaultSortType||g;var s=j[o];if(!a||a!==t)return s;var c=void 0;c=i?i===g?O:E:j[o];return c}},{key:"resetWorkspacesByAppState",value:function e(){Object(p["b"])(Object(p["a"])().apps.setWorkspacesByApp([]));Object(p["b"])(Object(p["a"])().apps.setWorkspacesByAppApiCursor(null));Object(p["b"])(Object(p["a"])().apps.setWorkspacesByAppApiTotal(null));Object(p["b"])(Object(p["a"])().apps.setWorkspacesByAppLoading(false))}},{key:"resetAPICursorMark",value:function e(){Object(p["b"])(Object(p["a"])().apps.setWorkspacesByAppApiCursor(null))}},{key:"updateRowListItemsData",value:function e(t){var r=this;var n=[];var a=t||0;var i=0;var o=this.props,s=o.workspacesByApp,c=o.workspacesByAppLoading;var l={rowListItems:n};function u(){i+=1;return"row_"+a+"_item"+i}function p(e,t){var r={id:"row_"+a,items:[]};if(!t||!t.items)return[];t.items.forEach(function(t){var n={value:t.value(e),id:u()};t.className&&(n.className=t.className);r.items.push(n)});a+=1;return r}if(s&&s.length)s.forEach(function(e){n.push(p(e,r.rowTemplate))});else if(!c){var f=this.props.searchQuery;if(null===f||void 0===f||!f.length){this.setState(l);return}var d=[{searchQuery:f}];d.forEach(function(e){n.push(p(e,r.emptyRowTemplate))})}this.setState(l)}},{key:"render",value:function e(){var t=this;var r=this.state,n=r.sortBy,a=r.sortDir,i=r.height,s=r.rowListItems,c=r.offset;var l=this.props,p=l.rowHeaderItemClassName,f=l.rowClassName,d=l.workspacesByAppLoading;var v=this.makeHeaders(this.headerData);return o.a.createElement("div",null,o.a.createElement(u["a"],{rows:s,headers:v,rowHeaderItemClassName:p,rowClassName:f,headerItemOnClick:this.headerItemOnClick,onRequestNextPage:this.onRequestNextPage,sortBy:n,sortDir:a,height:i,isLoading:d,newQuery:!c,ref:function e(r){t.tableViewControllerRef=r}}))}}]);return t}(i["PureComponent"]);k.displayName="WorkspacesByAppList";k.propTypes=b;k.defaultProps=_;t["a"]=k},18263:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16912);var c=r(20178);var l=r.n(c);var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=new s["b"]("enterprise_dashboard");var h={orgName:o.a.string};var m={orgName:""};var b=function(e){d(t,e);function t(){p(this,t);return f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}u(t,[{key:"render",value:function e(){var t=this.props.orgName;var r=cdn_url+"/91b7a/img/enterprise/empty_apps_state.png";var n=v.t("This app hasn\u2019t been installed on {orgName}.",{orgName:t});return a.a.createElement("div",{className:"p-app_profile_empty_state_container"},a.a.createElement("img",{src:r,alt:"",className:"auto_width margin_bottom_100"}),a.a.createElement("h3",{className:"black margin_bottom_75"},n))}}]);return t}(n["PureComponent"]);b.displayName="AppProfileInstallationsEmptyState";b.propTypes=h;b.defaultProps=m;t["a"]=b},18264:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16912);var c=r(17093);var l=r(18265);var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=new s["b"]("enterprise_dashboard");var h={permissionsItems:o.a.array,isDirectoryPublished:o.a.bool,isXoxaApp:o.a.bool,appId:o.a.string};var m={permissionsItems:[],isDirectoryPublished:false,isXoxaApp:false,appId:""};var b=function(e){d(t,e);function t(e){p(this,t);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={permissions:[],channelScopePermissions:[]};r.formatPermissions=r.formatPermissions.bind(r);return r}u(t,[{key:"componentDidMount",value:function e(){this.formatPermissions(this.props.permissionsItems)}},{key:"componentWillReceiveProps",value:function e(t){this.props.permissionsItems!==t.permissionsItems&&this.formatPermissions(t.permissionsItems)}},{key:"formatPermissions",value:function e(t){var r=0;function n(){r+=1;return"scope_"+r+"_row"}var a=[];var i=[];t.forEach(function(e){if(!e.short_description&&!e.long_description)return;var t=n();e.is_channel_scope?i.push({key:t,scopes:[e.scope],short_description:e.short_description,long_description:e.long_description,is_dangerous:e.is_dangerous}):a.push({key:t,scopes:[e.scope],short_description:e.short_description,long_description:e.long_description,is_dangerous:e.is_dangerous})});var o={permissions:a,channelScopePermissions:i};this.setState(o)}},{key:"render",value:function e(){var t=this.props.isXoxaApp;var r=this.state,n=r.channelScopePermissions,i=r.permissions;if(!this.props.isDirectoryPublished&&"A02"!==this.props.appId)return a.a.createElement(l["a"],null);var o=void 0;o=t?v.t("On workspaces, this app will be able to:"):v.t("This app will be able to:");var s=v.t("When added to a channel, this app will also be able to:");if(n.length)return a.a.createElement("div",{className:"p-app_profile_permission"},a.a.createElement("h2",{className:"padding_top_250 padding_bottom_100 padding_left_100"},o),a.a.createElement(c["a"],{scopeInfo:i,key:"permissions"}),a.a.createElement("h2",{className:"padding_top_400 padding_bottom_100 padding_left_100"},s),a.a.createElement(c["a"],{scopeInfo:n,key:"channelScopePermissions"}));return a.a.createElement("div",{className:"p-app_profile_permission"},a.a.createElement("h2",{className:"padding_top_150 padding_bottom_100 padding_left_100"},o),a.a.createElement(c["a"],{scopeInfo:i}))}}]);return t}(n["PureComponent"]);b.displayName="AppProfilePermissions";b.propTypes=h;b.defaultProps=m;t["a"]=b},18265:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(16912);var o=new i["b"]("enterprise_dashboard");var s=function e(){var t=cdn_url+"/7bba7/img/enterprise/empty_apps_state_restricted.png";var r=o.t("Permissions can\u2019t be shown for this app");var n=o.rt("This app was not installed via the App Directory, which means Slack has not reviewed this app and can\u2019t confirm the permissions it requests.");var i=o.rt("If you have questions about the type of data this app can access, reach out to the person who installed it.");return a.a.createElement("div",{className:"p-app_profile_empty_state_container p-app_profile_permissions_empty_state_container"},a.a.createElement("img",{src:t,alt:"",className:"auto_width margin_bottom_100 margin_top_100"}),a.a.createElement("h3",{className:"black margin_bottom_75"},r),a.a.createElement("p",{className:"p-app_profile_permissions_empty_content"},n),a.a.createElement("p",{className:"p-app_profile_permissions_empty_content"},i))};s.displayName="AppProfilePermissionsEmptyState";t["a"]=s},18266:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(16927);var l=r(16928);var u=r(18267);Object(l["a"])("interop.dashboardNav",{render:function e(t,r,n){if(!t)throw new Error("dashboardNav render must be called with a teamId parameter");var i=Object(c["c"])(t);o.a.render(a.a.createElement(s["Provider"],{store:i},a.a.createElement(u["a"],n)),r)},stop:function e(t){o.a.unmountComponentAtNode(t)}})},18267:function(e,t,r){"use strict";var n=r(18268);t["a"]=n["a"]},18268:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(18269);var f=r(18272);var d=r(18281);var v=r(20197);var h=r.n(v);var m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y={header:a.a.shape({name:a.a.string,avatar:a.a.string,onClick:a.a.oneOfType([a.a.func,a.a.string]).isRequired,scrollTop:a.a.bool}).isRequired,navItems:a.a.arrayOf(a.a.shape({isOpen:a.a.bool,toClose:a.a.bool,icon:a.a.string.isRequired,iconColor:a.a.oneOf(["blue","yellow","red","green","purple"]).isRequired,name:a.a.string.isRequired,onClick:a.a.func.isRequired,subItems:a.a.array})).isRequired,userMenu:a.a.shape({avatar:a.a.string,name:a.a.string,onClick:a.a.func.isRequired}).isRequired};var O=function(e){g(t,e);function t(e){b(this,t);var r=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.renderNavItems=r.renderNavItems.bind(r);r.makeScrollable=r.makeScrollable.bind(r);r.onWindowResize=r.onWindowResize.bind(r);r.state={scrollTop:false,scrollBottom:false};return r}m(t,[{key:"componentDidMount",value:function e(){this.makeScrollable();window.addEventListener("resize",this.onWindowResize)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("resize",this.onWindowResize)}},{key:"onWindowResize",value:function e(){this.makeScrollable()}},{key:"makeScrollable",value:function e(){var t=this.element;if(t){var r=t.scrollHeight-t.scrollTop;this.setState(function(){return{scrollTop:0!==t.scrollTop,scrollBottom:!(r===t.offsetHeight)}})}}},{key:"renderNavItems",value:function e(){var t=u.a.map(this.props.navItems,function(e){return o.a.createElement(f["a"],{key:e.id,isOpen:e.isOpen,animateClose:e.animateClose,icon:e.icon,iconColor:e.iconColor,name:e.name,onClick:e.onClick,subItems:e.subItems})});return t}},{key:"render",value:function e(){var t=this;var r=this.props.header,n=r.name,a=r.avatar,i=r.onClick;var s=c()("p-ent_nav_item__wrapper",{"p-ent_nav_item__scroll_border":this.state.scrollBottom});return o.a.createElement("div",{className:"p-ent_nav"},o.a.createElement(p["a"],{name:n,avatar:a,onClick:i,scrollTop:this.state.scrollTop}),o.a.createElement("div",{ref:function e(r){t.element=r},onScroll:this.makeScrollable,className:s},this.renderNavItems()),o.a.createElement(d["a"],{avatar:this.props.userMenu.avatar,name:this.props.userMenu.name,onClick:this.props.userMenu.onClick}))}}]);return t}(i["PureComponent"]);O.displayName="DashboardNav";O.propTypes=y;t["a"]=O},18269:function(e,t,r){"use strict";var n=r(18270);t["a"]=n["a"]},18270:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(16918);var u=r(20192);var p=r.n(u);var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m={name:a.a.string,avatar:a.a.string,onClick:a.a.oneOfType([a.a.func,a.a.string]).isRequired,scrollTop:a.a.bool};var b={name:"",avatar:"",scrollTop:false};var _=function(e){h(t,e);function t(){d(this,t);return v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}f(t,[{key:"render",value:function e(){var t=this;var r=c()("p-ent_nav_header",{"p-ent_nav_header__scroll_border":this.props.scrollTop});var n={backgroundImage:"url('"+this.props.avatar+"')"};return o.a.createElement("div",{className:r},o.a.createElement(l["c"],{onClick:function e(){return t.props.onClick()},className:"p-ent_nav_header__org_img",alt:"org avatar",style:n,type:"link"}),o.a.createElement("div",{className:"p-ent_nav_header__org_name"},this.props.name))}}]);return t}(i["PureComponent"]);_.displayName="DashboardNavHeader";_.propTypes=m;_.defaultProps=b;t["a"]=_},18272:function(e,t,r){"use strict";var n=r(18273);t["a"]=n["a"]},18273:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(18274);var f=r(18277);var d=r(20195);var v=r.n(d);var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y={isOpen:a.a.bool,animateClose:a.a.bool,icon:a.a.string.isRequired,iconColor:a.a.oneOf(["blue","yellow","red","green","purple"]).isRequired,name:a.a.string.isRequired,onClick:a.a.func.isRequired,subItems:a.a.array};var O={isOpen:false,animateClose:false,subItems:null};var E=function(e){g(t,e);function t(e){b(this,t);var r=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.toggleAnimation=r.toggleAnimation.bind(r);r.shouldAnimateClosed=r.shouldAnimateClosed.bind(r);return r}h(t,[{key:"componentDidMount",value:function e(){var t=this.element;t&&(t.style.maxHeight=u.a.head(t.children).offsetHeight+"px")}},{key:"componentDidUpdate",value:function e(){(this.props.animateClose||this.props.isOpen)&&this.toggleAnimation()}},{key:"toggleAnimation",value:function e(){var t=this.element;if(t){var r=u.a.map(t.children,function(e){return e.offsetHeight});this.props.animateClose&&(t.style.maxHeight=u.a.head(r)+"px");this.props.isOpen&&(t.style.maxHeight=u.a.sum(r)+"px")}}},{key:"shouldAnimateClosed",value:function e(){var t=this.element;if(this.props.animateClose&&t){var r=u.a.head(t.children).offsetHeight;var n=1;var a=r-n;var i=r+n;if(t.style.maxHeight>=a+"px"&&t.style.maxHeight<=i+"px")return false;return true}return false}},{key:"render",value:function e(){var t=this;var r=m({"p-ent_nav_item--expanded":this.props.isOpen,"p-ent_nav_item--collapse":this.shouldAnimateClosed(),"p-ent_nav_item--sub_items":this.props.subItems&&this.props.isOpen},"p-ent_nav_item--expanded_"+this.props.iconColor,this.props.isOpen||this.shouldAnimateClosed());var n=c()("p-ent_nav_item",r);var a=null;this.props.subItems&&(this.props.isOpen||this.props.animateClose)&&(a=o.a.createElement(f["a"],{subItems:this.props.subItems,animateClose:this.props.animateClose}));return o.a.createElement("div",{ref:function e(r){t.element=r},className:n},o.a.createElement(p["a"],{isOpen:this.props.isOpen,icon:this.props.icon,iconColor:this.props.iconColor,name:this.props.name,onClick:this.props.onClick}),o.a.createElement("div",null,a))}}]);return t}(i["PureComponent"]);E.displayName="DashboardNavItem";E.propTypes=y;E.defaultProps=O;t["a"]=E},18274:function(e,t,r){"use strict";var n=r(18275);t["a"]=n["a"]},18275:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(16918);var f=r(16917);var d=r(20193);var v=r.n(d);var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y={isOpen:a.a.bool,icon:a.a.string.isRequired,iconColor:a.a.oneOf(["blue","yellow","red","green","purple"]).isRequired,name:a.a.string.isRequired,onClick:a.a.func.isRequired};var O={isOpen:false};var E=function(e){g(t,e);function t(){b(this,t);return _(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}h(t,[{key:"render",value:function e(){var t,r=this;var n=c()("p-ent_nav_item_primary","p-ent_nav_item_primary--"+this.props.iconColor,(t={},m(t,"p-ent_nav_item_primary--expanded_"+this.props.iconColor,this.props.isOpen),m(t,"p-ent_nav_item_primary--expanded",this.props.isOpen),t));var a="ent-nav-"+Object(l["camelCase"])(this.props.name);return o.a.createElement(p["c"],{onClick:function e(){return r.props.onClick(r.props.name)},className:n,"data-qa":a},o.a.createElement(f["a"],{type:this.props.icon}),o.a.createElement("div",{className:"p-ent_nav_item_primary__header"},this.props.name))}}]);return t}(i["PureComponent"]);E.displayName="DashboardNavItemPrimary";E.propTypes=y;E.defaultProps=O;t["a"]=E},18277:function(e,t,r){"use strict";var n=r(18278);t["a"]=n["a"]},18278:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(16918);var f=r(16917);var d=r(20194);var v=r.n(d);var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g={subItems:a.a.array.isRequired,animateClose:a.a.bool};var y={animateClose:false};var O=function(e){_(t,e);function t(e){m(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.renderSecondaryItems=r.renderSecondaryItems.bind(r);return r}h(t,[{key:"renderSecondaryItems",value:function e(){var t=u.a.map(this.props.subItems,function(e){var t=c()("p-ent_nav_item_secondary__item",{"p-ent_nav_item_secondary__item--selected":e.selected});var r="ent-nav-"+u.a.camelCase(e.name);return o.a.createElement(p["c"],{key:e.id,onClick:function t(){return e.onClick(e.id)},className:t,"data-qa":r},e.name," ",o.a.createElement(f["a"],{className:"p-ent_nav_item_secondary__icon",type:e.icon}))});return t}},{key:"render",value:function e(){var t=c()("p-ent_nav_item_secondary__container",{"p-ent_nav_item_secondary__container--collapse":this.props.animateClose});return o.a.createElement("div",{className:t},this.renderSecondaryItems())}}]);return t}(i["PureComponent"]);O.displayName="DashboardNavItemSecondary";O.propTypes=g;O.defaultProps=y;t["a"]=O},18281:function(e,t,r){"use strict";var n=r(18282);t["a"]=n["a"]},18282:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(16917);var c=r(20196);var l=r.n(c);var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v={avatar:a.a.string,name:a.a.string,onClick:a.a.func.isRequired};var h={name:"",avatar:""};var m=function(e){d(t,e);function t(){p(this,t);return f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}u(t,[{key:"render",value:function e(){var t=this;var r={backgroundImage:"url('"+this.props.avatar+"')"};return o.a.createElement("button",{onClick:function e(){return t.props.onClick()},className:"p-ent_nav_user_menu","data-popover-trigger":"user_menu"},o.a.createElement("div",{className:"p-ent_nav_user_menu__avatar",alt:"user menu avatar",style:r}),o.a.createElement("div",{className:"p-ent_nav_user_menu__name"},this.props.name),o.a.createElement(s["a"],{type:"chevron-down"}))}}]);return t}(i["PureComponent"]);m.displayName="DashboardNavUserMenu";m.propTypes=v;m.defaultProps=h;t["a"]=m},18285:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(16927);var l=r(16928);var u=r(18286);Object(l["a"])("interop.teamApps",{render:function e(t,r,n){if(!t)throw new Error("Team Apps render must be called with a teamId parameter");var i=Object(c["c"])(t);o.a.render(a.a.createElement(s["Provider"],{store:i},a.a.createElement(u["a"],n)),r)},stop:function e(t){o.a.unmountComponentAtNode(t)}})},18286:function(e,t,r){"use strict";var n=r(18287);t["a"]=n["a"]},18287:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16912);var u=r(17097);var p=r(17019);var f=r(16918);var d=r(16932);var v=r(16917);var h=r(17989);var m=r(18290);var b=r(18292);var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=new l["b"]("enterprise_dashboard");var j={teamId:o.a.string.isRequired,teamApps:o.a.array,teamAppsApiCursor:o.a.string,teamAppsApiTotal:o.a.number,teamAppsCount:o.a.number,teamAppsLoading:o.a.bool,teamAppsSearchQuery:o.a.string,teamAppsTeamUrl:o.a.string,teamAppsSortBy:o.a.string,teamAppsSortDir:o.a.string};var k={teamApps:[],teamAppsApiCursor:null,teamAppsApiTotal:null,teamAppsCount:0,teamAppsLoading:false,teamAppsSearchQuery:"",teamAppsTeamUrl:null,teamAppsSortBy:null,teamAppsSortDir:null};var w=333;var C=function(e){O(t,e);function t(e){g(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onSearchInputChange=Object(s["debounce"])(r.onSearchInputChange,w,{trailing:true}).bind(r);r.generateTeamsForAppCSV=r.generateTeamsForAppCSV.bind(r);return r}_(t,[{key:"onSearchInputChange",value:function e(t){t.persist();var r=Object(s["get"])(t,"target.value","");Object(u["b"])(Object(u["a"])().teams.setTeamAppsSearchQuery(r))}},{key:"getTeamAppListProps",value:function e(){return{teamId:this.props.teamId,teamApps:this.props.teamApps,teamAppsApiCursor:this.props.teamAppsApiCursor,teamAppsApiTotal:this.props.teamAppsApiTotal,teamAppsLoading:this.props.teamAppsLoading,searchQuery:this.props.teamAppsSearchQuery,isLoading:this.props.teamAppsLoading}}},{key:"formatHeader",value:function e(){var t=parseInt(this.props.teamAppsCount,10);if(!isNaN(t))return E.t("{count} Apps",{count:this.props.teamAppsCount});return E.t("Apps")}},{key:"generateTeamsForAppCSV",value:function e(){var t={type:"apps",team_id:this.props.teamId};this.props.teamAppsSearchQuery&&(t.query=this.props.teamAppsSearchQuery);if(this.props.teamAppsSortBy){t.sort_prefix=this.props.teamAppsSortBy;this.props.teamAppsSortDir&&(t.sort_dir=this.props.teamAppsSortDir)}Object(u["b"])(Object(u["a"])().apps.generateAppsCSVForSlackbotDM(t))}},{key:"renderManageAppsButton",value:function e(){var t=this.props.teamAppsTeamUrl;var r=t&&t+"apps/manage"||null;var n=E.t("Manage Apps");if(r)return a.a.createElement("a",{href:r,target:"_blank"},a.a.createElement(f["d"],{type:"outline"},n,a.a.createElement(v["a"],{type:"external_link",className:"p-export_csv_button_caret"})));var i=E.t("You must join this workspace to manage its apps.");return a.a.createElement(d["c"],{tip:i,position:"top"},a.a.createElement("div",null,a.a.createElement(f["d"],{type:"outline",disabled:true},n,a.a.createElement(v["a"],{type:"external_link",className:"p-export_csv_button_caret"}))))}},{key:"renderAppFilterInput",value:function e(){var t=E.t("Filter by name...");return a.a.createElement(p["a"],{placeholder:t,icon:"search",autoFocus:false,isLoading:this.props.teamAppsLoading,onChange:this.onSearchInputChange,value:this.props.teamAppsSearchQuery})}},{key:"render",value:function e(){var t=[this.renderManageAppsButton()];if(0===this.props.teamAppsCount&&this.props.teamAppsApiCursor&&Object(s["isNull"])(this.props.teamAppsSearchQuery)){var r=E.t("Apps");return a.a.createElement(m["a"],{pageHeader:r})}var n=this.getTeamAppListProps();return a.a.createElement("div",{className:"padding_left_250 padding_right_250 padding_top_200"},a.a.createElement(h["a"],{title:this.formatHeader(),headerActions:t,headerClassName:"margin_bottom_150"}),this.renderAppFilterInput(),a.a.createElement("div",{className:"p-app_management_team_apps_list"},a.a.createElement(b["a"],n)))}}]);return t}(n["PureComponent"]);C.displayName="TeamApps";C.propTypes=j;C.defaultProps=k;t["a"]=C},18288:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(18289);var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m={title:a.a.node.isRequired,headerActions:a.a.array,headerClassName:a.a.string};var b={headerActions:[],headerClassName:""};var _=function(e){h(t,e);function t(){d(this,t);return v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}f(t,[{key:"renderActionItems",value:function e(){var t=this.props.headerActions;var r=Object(s["map"])(t,function(e,t){return o.a.createElement(p["a"],{key:t,headerAction:e})});return r}},{key:"render",value:function e(){var t=this.props.headerClassName;var r=u()("margin_left_75","display_flex","justify_content_between",""+t);return o.a.createElement("div",{className:r},o.a.createElement("h1",null,this.props.title),o.a.createElement("div",{className:"display_flex align_items_center"},this.renderActionItems()))}}]);return t}(i["PureComponent"]);_.displayName="OrgDashboardHeader";_.propTypes=m;_.defaultProps=b;t["a"]=_},18289:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p={headerAction:a.a.node};var f={headerAction:null};var d=function(e){u(t,e);function t(){c(this,t);return l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}s(t,[{key:"render",value:function e(){return o.a.createElement("div",{className:"margin_left_75"},this.props.headerAction)}}]);return t}(i["PureComponent"]);d.displayName="OrgDashboardHeaderItem";d.propTypes=p;d.defaultProps=f;t["a"]=d},18290:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16912);var c=r(17989);var l=r(20198);var u=r.n(l);var p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=new s["b"]("enterprise_dashboard");var m={pageHeader:o.a.string};var b={pageHeader:""};var _=function(e){v(t,e);function t(){f(this,t);return d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}p(t,[{key:"render",value:function e(){var t=cdn_url+"/91b7a/img/enterprise/empty_apps_state.png";var r=h.t("No apps have been installed on this workspace.");return a.a.createElement("div",{className:"padding_left_250 padding_right_250 padding_top_200 full_height full_width position_relative"},a.a.createElement(c["a"],{title:this.props.pageHeader,headerClassName:"margin_bottom_150"}),a.a.createElement("div",{className:"display_flex flex_direction_column align_items_center position_absolute p-team_apps_empty_content"},a.a.createElement("img",{src:t,alt:"",className:"auto_width margin_bottom_100"}),a.a.createElement("h3",{className:"black margin_bottom_75"},r)))}}]);return t}(n["PureComponent"]);_.displayName="TeamAppsEmptyState";_.propTypes=m;_.defaultProps=b;t["a"]=_},18292:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16932);var u=r(17751);var p=r(17097);var f=r(16912);var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=new f["b"]("enterprise_dashboard");var _={teamApps:a.a.array,teamId:a.a.string.isRequired,teamAppsApiCursor:a.a.string,teamAppsApiTotal:a.a.number,teamAppsLoading:a.a.bool,headerItemOnClick:a.a.func,pageSize:a.a.number,sortBy:a.a.string,sortDir:a.a.string,searchQuery:a.a.string,rowHeaderItemClassName:a.a.string,rowClassName:a.a.string};var g={teamApps:[],headerItemOnClick:s["noop"],pageSize:50,sortBy:"name",sortDir:null,searchQuery:"",teamAppsApiCursor:null,teamAppsApiTotal:null,teamAppsLoading:false,rowHeaderItemClassName:"p-app_management_table_view_header_item",rowClassName:"p-app_management_table_view_row"};var y="asc";var O="desc";var E="caret_down";var j="caret_up";var k={};k[y]=E;k[O]=j;var w=function(e){m(t,e);function t(e){v(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));var n=r.props,a=n.sortBy,i=n.sortDir;r.state={rowListItems:[],sortBy:a,sortDir:i,offset:0,height:null};r.tableViewControllerRef=null;r.headerItemOnClick=r.headerItemOnClick.bind(r);r.onRequestNextPage=r.onRequestNextPage.bind(r);r.refreshTableHeight=r.refreshTableHeight.bind(r);r.refreshTableHeightPolitely=r.refreshTableHeightPolitely.bind(r);r.appSources={internal:b.t("Internal"),"app directory":b.t("App Directory"),unknown:b.t("Unknown")};r.sourceTooltipStrings={"app directory":b.t("This app has been installed from the Slack App Directory."),internal:b.t("This app was created by someone within your organization."),unknown:b.t("This app was installed from an unknown external source.")};r.rowTemplate={items:[{value:function e(t){var n=t&&t.icons&&t.icons.image_72;return o.a.createElement("button",{className:"p-app_management_table_view_app_name",onClick:function e(){return r.onAppNameClick(t.id)}},n&&o.a.createElement("img",{src:n,style:{width:"36px",height:"36px",verticalAlign:"middle",marginRight:"1rem"},alt:t.name}),t.name)}},{value:function e(t){var r=t.installed_by&&t.installed_by.count;return b.t("{installCount, plural, =1 {# member} other {# members}}",{installCount:r})}},{value:function e(t){var r=t.installed_by&&t.installed_by.first_installation&&t.installed_by.first_installation.date;var n=new Date(1e3*r).toLocaleDateString();return""+n}},{value:function e(t){var n=r.sourceTooltipStrings[t.source];var a=r.appSources[t.source]||r.appSources.unknown;return o.a.createElement("div",null,o.a.createElement(l["c"],{tip:n,position:"top"},o.a.createElement("span",null,a)))}}]};r.emptyRowTemplate={items:[{value:function e(t){var r=t.searchQuery;var n=b.rt("No apps were found matching <b>{query}</b>",{query:r});return o.a.createElement("div",{className:"align_center"},n)}}]};r.headerData=[{id:"name",value:b.t("Name"),sortable:true},{id:"installed_by",value:b.t("Installed By"),sortable:true},{id:"installed_on",value:b.t("Installed On"),sortable:true},{id:"source",value:b.t("Source"),sortable:true}];return r}d(t,[{key:"componentWillMount",value:function e(){var t=this.props,r=t.teamApps,n=t.sortBy;var a=this.state.offset;r.length?this.updateRowListItemsData(a):Object(p["b"])(Object(p["a"])().teams.setTeamAppsLoading(true));Object(p["b"])(Object(p["a"])().teams.setTeamAppsSortBy(n))}},{key:"componentDidMount",value:function e(){this.refreshTableHeightPolitely();window.addEventListener("resize",this.refreshTableHeightPolitely)}},{key:"componentDidUpdate",value:function e(t){this.maybeUpdateListRowItems(t);this.maybeUpdateSearchQuery(t);this.maybeFetchNextPage(t)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("resize",this.refreshTableHeightPolitely)}},{key:"onRequestNextPage",value:function e(t){var r=this.props,n=r.teamApps,a=r.teamAppsApiTotal;if(a&&n.length>=a)return;var i={offset:t};this.setState(function(){return i},function(){Object(p["b"])(Object(p["a"])().teams.setTeamAppsLoading(true))})}},{key:"onAppNameClick",value:function e(t){return Object(p["b"])(Object(p["a"])().router.navigateTo("/organization/apps/profile/"+t+"/"+this.props.teamId))}},{key:"maybeFetchNextPage",value:function e(t){var r=this.props.teamAppsLoading;r&&!t.teamAppsLoading&&this.fetchNewPage()}},{key:"maybeUpdateSearchQuery",value:function e(t){var r=this.props.searchQuery;if(t.searchQuery!==r){Object(p["b"])(Object(p["a"])().teams.setTeamAppsSearchQuery(r));this.resetTeamAppsState()}}},{key:"maybeUpdateListRowItems",value:function e(t){var r=this.state.offset;var n=this.props,a=n.searchQuery,i=n.teamApps,o=n.teamAppsLoading;t.teamApps===i&&t.searchQuery===a&&t.teamAppsLoading===o||this.updateRowListItemsData(r)}},{key:"headerItemOnClick",value:function e(t){var r=this;var n=this.state,a=n.sortBy,i=n.sortDir;var e=this.props.headerItemOnClick;var o=a;var s=i;if(t.id===a){s=i&&i!==y?y:O;Object(p["b"])(Object(p["a"])().teams.setTeamAppsSortDir(s))}else{o=t.id;s=t.defaultSortType?t.defaultSortType===y?O:y:O;Object(p["b"])(Object(p["a"])().teams.setTeamAppsSortDir(s));Object(p["b"])(Object(p["a"])().teams.setTeamAppsSortBy(o))}var c={sortBy:o,sortDir:s};this.setState(function(){return c},function(){r.resetTeamAppsState();e&&e(t)})}},{key:"resetTeamAppsState",value:function e(){Object(p["b"])(Object(p["a"])().teams.setTeamAppsApiTotal(null));Object(p["b"])(Object(p["a"])().teams.resetTeamAppsApiCursor());Object(p["b"])(Object(p["a"])().teams.resetTeamApps());Object(p["b"])(Object(p["a"])().teams.setTeamAppsLoading(true))}},{key:"refreshTableHeightPolitely",value:function e(){window.requestAnimationFrame(this.refreshTableHeight)}},{key:"refreshTableHeight",value:function e(){var t=window.innerHeight;if(!this.tableViewControllerRef||!this.tableViewControllerRef.tableViewContainerNode)return;var r=this.tableViewControllerRef.tableViewContainerNode.querySelectorAll(".c-table_view_all_rows_container")[0];if(!r)return;var n=r.getBoundingClientRect();var a=0;var i=t-(n&&n.top);var o=64;var s=Math.max(o,i-a);var c={height:s+"px"};this.setState(c)}},{key:"makeHeader",value:function e(t){var r={id:t.id,value:t.value};if(t.sortable){r.iconType=this.determineSortState(t.id,t);r.onClick=this.headerItemOnClick;t.defaultSortType&&(r.defaultSortType=t.defaultSortType)}return r}},{key:"makeHeaders",value:function e(t){var r=this;var n=[];t.forEach(function(e){n.push(r.makeHeader(e))});return n}},{key:"determineSortState",value:function e(t,r){var n=this.state,a=n.sortBy,i=n.sortDir;var o=r.defaultSortType||y;var s=k[o];if(!a||a!==t)return s;var c=void 0;c=i?i===y?E:j:k[o];return c}},{key:"resetAPICursorMark",value:function e(){Object(p["b"])(Object(p["a"])().teams.setTeamAppsApiCursor(null))}},{key:"fetchNewPage",value:function e(){var t=this.state,r=t.sortBy,n=t.sortDir;var a=this.props,i=a.pageSize,o=a.searchQuery,c=a.teamAppsApiCursor,l=a.teamId;var u={limit:i};r&&(u.sort=r);n&&(u.sort_dir=n);null!==o&&void 0!==o&&Object(s["trim"])(o).length&&(u.query=o);c&&(u.cursor=c);u.team=l;Object(p["b"])(Object(p["a"])().teams.getAppsByWorkspace(l,u))}},{key:"updateRowListItemsData",value:function e(t){var r=this;var n=this.props,a=n.teamApps,i=n.teamAppsLoading;var o=[];var s=t||0;var c=0;var l={rowListItems:o};function u(){c+=1;return"row_"+s+"_item"+c}function p(e,t){var r={id:"row_"+s,items:[]};if(!t||!t.items)return[];t.items.forEach(function(t){var n={value:t.value(e),id:u()};t.className&&(n.className=t.className);r.items.push(n)});s+=1;return r}if(a&&a.length)a.forEach(function(e){o.push(p(e,r.rowTemplate))});else if(!i){var f=this.props.searchQuery;if(null===f||void 0===f||!f.length){this.setState(l);return}var d=[{searchQuery:f}];d.forEach(function(e){o.push(p(e,r.emptyRowTemplate))})}this.setState(l)}},{key:"render",value:function e(){var t=this;var r=this.state,n=r.sortBy,a=r.sortDir,i=r.height,s=r.rowListItems,c=r.offset;var l=this.props,p=l.rowHeaderItemClassName,f=l.rowClassName,d=l.searchQuery,v=l.teamAppsLoading;var h=this.makeHeaders(this.headerData);return o.a.createElement("div",null,o.a.createElement(u["a"],{rows:s,headers:h,rowHeaderItemClassName:p,rowClassName:f,headerItemOnClick:this.headerItemOnClick,onRequestNextPage:this.onRequestNextPage,sortBy:n,sortDir:a,searchQuery:d,height:i,isLoading:v,newQuery:!c,ref:function e(r){t.tableViewControllerRef=r}}))}}]);return t}(i["PureComponent"]);w.displayName="TeamAppsList";w.propTypes=_;w.defaultProps=g;t["a"]=w},18293:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(16927);var l=r(16928);var u=r(18294);Object(l["a"])("interop.moveChannelsCustomMessage",{render:function e(t,r,n){if(!t)throw new Error("moveChannelsCustomMessage render must be called with a teamId parameter");var i=Object(c["c"])(t);o.a.render(a.a.createElement(s["Provider"],{store:i},a.a.createElement(u["a"],n)),r)},stop:function e(t){o.a.unmountComponentAtNode(t)}})},18294:function(e,t,r){"use strict";var n=r(18295);t["a"]=n["a"]},18295:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16959);var u=r(17097);var p=r(16957);var f=r(17676);var d=r(17014);var v=r(16912);var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=new v["b"]("enterprise_moving_channels");var y=/\r?\n|\r/g;var O={onInputChange:a.a.func,onCheckboxChange:a.a.func,customMessageError:a.a.string,featureDeleteMovedChannels:a.a.bool.isRequired};var E={onInputChange:s["noop"],onCheckboxChange:s["noop"],customMessageError:null};var j=300;var k=void 0;var w=function e(t){return k[t]};var C=function e(t){t&&t.length>j?Object(u["b"])(Object(u["a"])().channels.setMoveChannelMessageError("message_too_long")):Object(u["b"])(Object(u["a"])().channels.setMoveChannelMessageError())};var S=function(e){_(t,e);function t(e){m(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={includeCustomMessage:false,customMessage:""};r.onInputChange=r.onInputChange.bind(r);r.onKeyDown=r.onKeyDown.bind(r);r.onCheckboxChange=r.onCheckboxChange.bind(r);r.props.featureDeleteMovedChannels&&(k={message_too_long:g.t("That\u2019s a bit too long. Messages must be fewer than {maxlength} characters.",{maxlength:j}),message_empty:g.t("Please fill in a custom message.")});return r}h(t,[{key:"onKeyDown",value:function e(t){13===t.keyCode&&t.preventDefault()}},{key:"onInputChange",value:function e(t){var r=t.replace(y," ");this.setCustomMessage(r);this.props.onInputChange(r);C(r)}},{key:"onCheckboxChange",value:function e(t){t.persist();var r=t.target.checked;this.setIncludeCustomMessage(r);this.props.onCheckboxChange(r);r?C(this.state.customMessage):Object(u["b"])(Object(u["a"])().channels.setMoveChannelMessageError())}},{key:"setIncludeCustomMessage",value:function e(t){this.setState(function(){return{includeCustomMessage:t}})}},{key:"setCustomMessage",value:function e(t){this.setState(function(){return{customMessage:t}})}},{key:"renderCheckbox",value:function e(){if(!this.props.featureDeleteMovedChannels)return null;var t=this.state.includeCustomMessage;var r=g.t("Add a custom message to channel members");var n=g.t("This message will appear within the Slackbot notification that each member will receive.");return o.a.createElement("div",null,o.a.createElement(p["a"],{htmlFor:"mvch_message_checkbox",className:"p-move_channels_msg__label",cursor:"pointer",text:r,subtext:n,type:"inline"},o.a.createElement(d["a"],{id:"mvch_message_checkbox",checked:t,onChange:this.onCheckboxChange})))}},{key:"renderCustomMessageTextarea",value:function e(){if(!this.props.featureDeleteMovedChannels)return null;var t=this.state.customMessage;var r=this.props.customMessageError;var n=g.rt("<b>*bold*</b> <i>_italics_</i> and links are allowed. Line breaks aren\u2019t supported for this message.");return o.a.createElement("div",{className:"margin_left_150"},o.a.createElement(f["a"],{id:"ent_mvch_custom_message",resize:"none",name:"move_channels_custom_message_input",value:t,hintText:n,maxCharacterLimit:j,onChange:this.onInputChange,onKeyDown:this.onKeyDown,errorText:w(r)||r,errorLevel:"warning",isRequired:true}))}},{key:"render",value:function e(){if(!this.props.featureDeleteMovedChannels)return null;var t=this.state.includeCustomMessage;return o.a.createElement("div",{"data-qa":"ent_mvch_custom_message"},this.renderCheckbox(),t&&this.renderCustomMessageTextarea())}}]);return t}(i["PureComponent"]);S.displayName="MoveChannelsCustomMessage";S.propTypes=O;S.defaultProps=E;t["a"]=Object(l["a"])("feature_delete_moved_channels")(S)},18296:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(16927);var l=r(16928);var u=r(18297);Object(l["a"])("interop.orgWideSettingsPane",{render:function e(t,r,n){if(!t)throw new Error("orgWideSettingsPane render must be called with a teamId parameter");var i=Object(c["c"])(t);o.a.render(a.a.createElement(s["Provider"],{store:i},a.a.createElement(u["a"],n)),r)},stop:function e(t){o.a.unmountComponentAtNode(t)}})},18297:function(e,t,r){"use strict";var n=r(18298);t["a"]=n["a"]},18298:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(16912);var c=r(18299);var l=r(18301);var u=r(20204);var p=r.n(u);var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=new s["b"]("enterprise_settings");var b={loading:a.a.bool,saving:a.a.bool,customTos:a.a.bool,membersTos:a.a.string,guestsTos:a.a.string,membersContentType:a.a.string,guestsContentType:a.a.string};var _={loading:true,saving:false,customTos:false,membersTos:"",guestsTos:"",membersContentType:"text",guestsContentType:"text"};var g=function e(){return o.a.createElement("div",{className:"p-org_wide_settings_pane__loading","data-org-wide-settings-pane-loading":true})};g.displayName="renderLoadingContainer";var y=function(e){h(t,e);function t(){d(this,t);return v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}f(t,[{key:"maybeRenderCustomTOS",value:function e(){if(this.props.loading)return null;var t=this.props,r=t.saving,n=t.customTos,a=t.membersTos,i=t.guestsTos,s=t.membersContentType,c=t.guestsContentType;var u={saving:r,customTos:n,membersTos:a,guestsTos:i,membersContentType:s,guestsContentType:c};return o.a.createElement(l["a"],u)}},{key:"render",value:function e(){return o.a.createElement("div",{className:"p-org_wide_settings_pane"},o.a.createElement(c["a"],{title:m.t("Organization Settings")}),g(),this.maybeRenderCustomTOS())}}]);return t}(i["PureComponent"]);y.displayName="OrgWideSettingsPane";y.propTypes=b;y.defaultProps=_;var O=y;t["a"]=y},18299:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(20199);var c=r.n(s);var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d={title:a.a.string,subtitle:a.a.string,description:a.a.node};var v={title:"",subtitle:"",description:null};var h=function(e){f(t,e);function t(){u(this,t);return p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}l(t,[{key:"renderTitle",value:function e(){if(!this.props.title)return null;return o.a.createElement("h1",{className:"padding_bottom_100"},this.props.title)}},{key:"renderSubtitle",value:function e(){if(!this.props.subtitle)return null;return o.a.createElement("h3",{className:"padding_top_150"},this.props.subtitle)}},{key:"renderDescription",value:function e(){if(!this.props.description)return null;return o.a.createElement("p",{className:"padding_top_50 margin_0 sk_dark_grey"},this.props.description)}},{key:"render",value:function e(){return o.a.createElement("div",{className:"p-ent_settings_header padding_bottom_150"},this.renderTitle(),this.renderSubtitle(),this.renderDescription())}}]);return t}(i["PureComponent"]);h.displayName="SettingsHeader";h.propTypes=d;h.defaultProps=v;t["a"]=h},18301:function(e,t,r){"use strict";var n=r(18302);t["a"]=n["a"]},18302:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16912);var p=r(17097);var f=r(16949);var d=r(16956);var v=r(17745);var h=r(18303);var m=r(18304);var b=r(18307);var _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var g=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function y(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=new u["b"]("enterprise_settings");var w="text";var C="url";var S={saving:a.a.bool,customTos:a.a.bool,membersTos:a.a.string,membersContentType:a.a.string,guestsTos:a.a.string,guestsContentType:a.a.string,openModal:a.a.func};var T={saving:false,customTos:false,membersTos:"",membersContentType:"text",guestsTos:"",guestsContentType:"text",openModal:c["noop"]};var I=function e(t){var r=t.customTos,n=t.membersTos,a=t.membersContentType,i=t.guestsTos,o=t.guestsContentType;return{all:!i,membersUrl:a===C?n:"",membersText:a===w?n:"",membersShowAll:!r,membersContentType:a,guestsUrl:o===C?i:"",guestsText:o===w?i:"",guestsShowAll:!r,guestsContentType:o}};var N=function(e){j(t,e);function t(e){O(this,t);var r=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state=_({},I(r.props),{showEnable:false,showEdit:false,isPending:false,isValid:true});Object(c["bindAll"])(r,["onClick","onEnable","onDisable","onEdit","onEnd","onCancelEnable","onConfirmDisable","onConfirmEnable","setFormSettings","onInputFormSubmit","onAcceptFormSubmit"]);return r}g(t,[{key:"componentDidUpdate",value:function e(t,r){!this.props.saving&&this.state.isPending&&this.onEnd();this.dialog&&r.isPending!==this.state.isPending&&this.dialog.render({goButtonIsPending:this.state.isPending})}},{key:"onClick",value:function e(){var t=this.props.customTos;this.setState(function(){return t?{showEdit:true}:{showEnable:true}})}},{key:"onEnable",value:function e(){this.setState(function(){return{showEnable:true}})}},{key:"onDisable",value:function e(){this.dialog=this.props.openModal({element:this.renderDisable()})}},{key:"onEdit",value:function e(){this.setState(function(){return{showEdit:true}})}},{key:"onEnd",value:function e(){var t=this;this.reset(function(){t.settingsModalRef.setIndex(0);t.dialog&&t.dialog.close()})}},{key:"onCancelEnable",value:function e(){this.setState(function(){return{showEnable:false,showEdit:false}},this.onEnd)}},{key:"onConfirmDisable",value:function e(){this.setIsPending(true);Object(p["b"])(Object(p["a"])().settings.deactivateOrgCustomTOSSettings())}},{key:"onConfirmEnable",value:function e(){this.setIsPending(true);var t=this.state,r=t.all,n=t.membersUrl,a=t.membersText,i=t.membersShowAll,o=t.membersContentType,s=t.guestsUrl,c=t.guestsText,l=t.guestsShowAll,u=t.guestsContentType;var f=o===w?a:n;var d=this.props.customTos;var v={customTos:d,membersTos:f,membersShowAll:i,membersContentType:o,guestsShowAll:l};if(!r){var h=u===w?c:s;v.guestsTos=h;v.guestsContentType=u}Object(p["b"])(Object(p["a"])().settings.createOrgCustomTOSSettings(v))}},{key:"onInputFormSubmit",value:function e(){var t=this;this.inputForm.validate(function(){var e=t.inputForm.isValid();t.setIsValid(e);e&&t.inputForm.submit(t.settingsModalRef.goToNextStep.bind(t.settingsModalRef))})}},{key:"onAcceptFormSubmit",value:function e(){this.acceptForm.submit(this.onConfirmEnable)}},{key:"setFormSettings",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c["noop"];this.setState(function(){return t},r)}},{key:"setIsPending",value:function e(t){this.setState(function(){return{isPending:t}})}},{key:"setIsValid",value:function e(t){this.setState(function(){return{isValid:t}})}},{key:"reset",value:function e(t){var r=this;this.setState(function(){return _({},I(r.props),{showEnable:false,showEdit:false,isPending:false,isValid:true})},t)}},{key:"buildEnableSteps",value:function e(){var t=this;var r=this.renderInputForm();var n=this.renderAcceptForm();var a=function e(){return t.props.customTos?k.t("Edit Custom Terms of Service"):k.t("Enable Custom Terms of Service")};var i=function e(){return t.props.customTos?k.t("Update Custom Terms of Service"):k.t("Enable Custom Terms of Service")};var o=k.t("Next");var s=k.t("Cancel");var c=this.state.isPending;return[{children:r,goButtonText:o,cancelText:s,title:a(),withHeader:true,showBackButton:false,showCancelButton:true,buttonAlignment:"right",onGo:this.onInputFormSubmit,onCancel:this.onCancelEnable},{children:n,goButtonText:i(),goButtonIsPending:c,cancelText:s,title:a(),withHeader:true,showBackButton:true,showCancelButton:true,buttonAlignment:"right",onGo:this.onAcceptFormSubmit,onCancel:this.onCancelEnable}]}},{key:"maybeRenderEnable",value:function e(){var t=this;return o.a.createElement(v["a"],{isOpen:this.state.showEnable||this.state.showEdit,onCancel:this.onCancelEnable,showCloseTransition:true,showOpenTransition:true,steps:this.buildEnableSteps(),position:"fixed",ref:function e(r){t.settingsModalRef=r}})}},{key:"renderDisable",value:function e(){var t=k.t("Disable");var r="danger";var n=k.t("When Custom Terms of Service are disabled, all members and guests will only be required to accept Slack\u2019s Terms of Service");var a=k.t("Disable Custom Terms of Service");var i=this.state.isPending;return o.a.createElement(d["a"],{goButtonText:t,goButtonType:r,goButtonIsPending:i,title:a,onGo:this.onConfirmDisable,shouldCloseOnGo:false},o.a.createElement("p",null,n))}},{key:"renderInputForm",value:function e(){var t=this;var r=this.state,n=r.all,a=r.isValid,i=r.isPending,s=r.showEnable,c=r.showEdit,l=y(r,["all","isValid","isPending","showEnable","showEdit"]);var u=_({},l,{onSubmit:this.setFormSettings});return o.a.createElement(m["a"],_({},u,{ref:function e(r){t.inputForm=r}}))}},{key:"renderAcceptForm",value:function e(){var t=this;var r=!this.props.customTos;var n={membersShowAll:r,guestsShowAll:r,onSubmit:this.setFormSettings};return o.a.createElement(h["a"],_({},n,{ref:function e(r){t.acceptForm=r}}))}},{key:"renderSetting",value:function e(){var t=this.props.customTos;var r={type:"button",enabled:t,onEnable:this.onEnable,onDisable:this.onDisable,onEdit:this.onEdit};var n=k.t("Custom Terms of Service");var a=t?k.t("Enabled"):k.t("Disabled");var i=k.t("You can require members of your organization to accept custom Terms of Service before they can use Slack.");return o.a.createElement(b["a"],{label:n,state:a,description:i,onClick:this.onClick,control:r})}},{key:"render",value:function e(){return o.a.createElement("div",{className:"p-ent_custom_tos_setting"},this.renderSetting(),this.maybeRenderEnable())}}]);return t}(i["PureComponent"]);N.displayName="CustomTOSSetting";N.propTypes=S;N.defaultProps=T;var A={openModal:f["openModal"]};t["a"]=Object(s["connect"])(null,A)(N)},18303:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16912);var u=r(17014);var p=r(16957);var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=new l["b"]("enterprise_settings");var b={membersShowAll:a.a.bool,guestsShowAll:a.a.bool,onSubmit:a.a.func.isRequired};var _={membersShowAll:true,guestsShowAll:true,onSubmit:s["noop"]};var g=function e(t){var r=t.type,n=t.value,a=t.label,i=t.onChange;return o.a.createElement(p["a"],{id:"tos_accept_all_"+r+"_label",htmlFor:"tos_accept_all_"+r+"_checkbox",type:"inline",cursor:"pointer",className:"p-ent_custom_tos_accept_all_form__label",text:a},o.a.createElement(u["a"],{id:"tos_accept_all_"+r+"_checkbox",checked:n,onChange:i}))};g.displayName="renderCheckbox";var y=function(e){h(t,e);function t(e){d(this,t);var r=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={membersShowAll:r.props.membersShowAll,guestsShowAll:r.props.guestsShowAll};Object(s["bindAll"])(r,["onMembersShowAllChange","onGuestsShowAllChange"]);return r}f(t,[{key:"onMembersShowAllChange",value:function e(t){var r=t.target.checked;this.setState(function(){return{membersShowAll:r}})}},{key:"onGuestsShowAllChange",value:function e(t){var r=t.target.checked;this.setState(function(){return{guestsShowAll:r}})}},{key:"submit",value:function e(t){var r=this.state,n=r.membersShowAll,a=r.guestsShowAll;var i={membersShowAll:n,guestsShowAll:a};this.props.onSubmit(i,t)}},{key:"renderMembersCheckbox",value:function e(){var t={type:"members",value:this.state.membersShowAll,label:m.t("Require existing Full Members to accept new terms"),onChange:this.onMembersShowAllChange};return g(t)}},{key:"renderGuestsCheckbox",value:function e(){var t={type:"guests",value:this.state.guestsShowAll,label:m.t("Require existing Guests to accept new terms"),onChange:this.onGuestsShowAllChange};return g(t)}},{key:"render",value:function e(){var t=m.t("Require existing members to accept the new Terms of Service?");var r=m.t("Future members will be required to accept these new terms, but you can also require existing members to accept them the next time they log in to Slack.");return o.a.createElement("div",{className:"c-ent_custom_tos_accept_all_form"},o.a.createElement("h3",{className:"margin_bottom_100"},t),o.a.createElement("p",{className:"margin_bottom_200"},r),this.renderMembersCheckbox(),this.renderGuestsCheckbox())}}]);return t}(i["PureComponent"]);y.displayName="CustomTOSAcceptForm";y.propTypes=b;y.defaultProps=_;t["a"]=y},18304:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(18305);var f=r(16912);var d=r(16918);var v=r(16917);var h=r(16957);var m=r(17184);var b=r(17384);var _=r(17e3);var g=r(17676);var y=r(20200);var O=r.n(y);var E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var j=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function k(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function w(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function T(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var I=new f["b"]("enterprise_settings");var N="members";var A="guests";var P="text";var R="url";var M="all";var x="not_all";var L="/custom_tos_view";var D=16e3;var F={membersUrl:a.a.string,membersText:a.a.string,membersContentType:a.a.oneOf([P,R]),guestsUrl:a.a.string,guestsText:a.a.string,guestsContentType:a.a.oneOf([P,R]),onSubmit:a.a.func.isRequired};var B={membersUrl:"",membersText:"",membersContentType:"text",guestsUrl:"",guestsText:"",guestsContentType:"text",onSubmit:s["noop"]};var U=I.rt('<b>*bold*</b> <i>_italics_</i> ~strike~ <span className="quote">>quote</span> and links are allowed. <a className="underline sk_dark_grey cursor_pointer">Learn more</a>',null,function(e){var t=e.tag,r=e.key,n=e.text;return"a"===t?o.a.createElement("a",{key:r,href:"https://get.slack.help/hc/articles/202288908-Format-your-messages",target:"_blank",rel:"noopener noreferrer"},n):null});var H=function e(t){var r=t.error,n=t.url,a=t.type,i=t.onChange;var s=I.t("https://\u2026");return o.a.createElement(_["a"],{id:"tos_"+a+"_input",name:"tos_"+a+"_input",value:n,onChange:i,errorText:r,errorLevel:"error",placeholder:s})};H.displayName="renderInput";var q=function e(t){var r=t.error,n=t.text,a=t.type,i=t.onChange;return o.a.createElement(g["a"],{resize:"none",id:"tos_"+a+"_textarea",name:"tos_"+a+"_textarea",value:n,hintText:U,onChange:i,errorText:r,errorLevel:"error"})};q.displayName="renderTextarea";var G=function e(t,r){if(!Object(p["b"])(r)){if(t===N)return I.t("Please enter Terms of Service for Members.");if(t===A)return I.rt("Please enter Terms of Service for Guests, or select <strong>Use the same Terms of Service as Full Members.</strong>")}if(r.length>=D)return I.t("Please enter a shorter Terms of Service (maximum {count, number} characters).",{count:D});return""};var W=function e(t,r){if(!Object(p["b"])(r)){if(t===N)return I.t("Please enter Terms of Service URL for Members.");if(t===A)return I.rt("Please enter Terms of Service URL for Guests, or select <strong>Use the same Terms of Service as Full Members.</strong>")}if(!Object(p["a"])(r))return I.rt("Looks like that isn\u2019t a valid URL. If you prefer to enter your custom terms directly, select <strong>Enter text</strong> instead.");return""};var V=function(e){T(t,e);function t(e){C(this,t);var r=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={all:r.props.guestsText||r.props.guestsUrl?x:M,membersUrl:r.props.membersUrl,membersText:r.props.membersText,membersContentType:r.props.membersContentType,membersUrlError:"",membersTextError:"",guestsUrl:r.props.guestsUrl,guestsText:r.props.guestsText,guestsContentType:r.props.guestsContentType,guestsUrlError:"",guestsTextError:""};r.onAllChange=r.onAllChange.bind(r);r.onMembersTextChange=r.onTextChange.bind(r,N);r.onGuestsTextChange=r.onTextChange.bind(r,A);r.onMembersUrlChange=r.onUrlChange.bind(r,N);r.onGuestsUrlChange=r.onUrlChange.bind(r,A);r.onMembersToggle=r.onToggle.bind(r,N);r.onGuestsToggle=r.onToggle.bind(r,A);return r}j(t,[{key:"onAllChange",value:function e(t){var r=t.target.value;this.setState(function(){return{all:r}})}},{key:"onToggle",value:function e(t){var r=this;var n=t+"ContentType";this.setState(function(){return w({},n,r.state[n]===P?R:P)})}},{key:"onTextChange",value:function e(t,r){this.setState(function(){var e;return e={},w(e,t+"Text",r),w(e,t+"TextError",""),e})}},{key:"onUrlChange",value:function e(t,r){this.setState(function(){var e;return e={},w(e,t+"Url",r),w(e,t+"UrlError",""),e})}},{key:"validate",value:function e(t){var r=this.state,n=r.all,a=r.membersUrl,i=r.membersText,o=r.membersContentType,s=r.guestsUrl,c=r.guestsText,l=r.guestsContentType;var u={};o===P&&(u.membersTextError=G(N,i));o===R&&(u.membersUrlError=W(N,a));if(n!==M){l===P&&(u.guestsTextError=G(A,c));l===R&&(u.guestsUrlError=W(A,s))}this.setState(function(){return u},t)}},{key:"submit",value:function e(t){var r=this.state,n=r.all,a=k(r,["all"]);var i=E({all:n===M},a);this.props.onSubmit(i,t)}},{key:"isValid",value:function e(){var t=this.state,r=t.all,n=t.membersUrl,a=t.membersText,i=t.membersContentType,o=t.membersUrlError,s=t.membersTextError,c=t.guestsUrl,l=t.guestsText,u=t.guestsContentType,p=t.guestsUrlError,f=t.guestsTextError;var d=i===P&&a&&!s||i===R&&n&&!o;if(r===M||!d)return d;var v=u===P&&l&&!f||u===R&&c&&!p;return v}},{key:"maybeRenderMembersInput",value:function e(){if(this.state.membersContentType!==R)return null;var t=this.state,r=t.membersUrl,n=t.membersUrlError;var a={error:n,url:r,type:N,onChange:this.onMembersUrlChange};return H(a)}},{key:"maybeRenderGuestsInput",value:function e(){if(this.state.all===M)return null;if(this.state.guestsContentType!==R)return null;var t=this.state,r=t.guestsUrl,n=t.guestsUrlError;var a={error:n,url:r,type:A,onChange:this.onGuestsUrlChange};return H(a)}},{key:"maybeRenderMembersTextarea",value:function e(){if(this.state.membersContentType!==P)return null;var t=this.state,r=t.membersText,n=t.membersTextError;var a={error:n,text:r,type:N,onChange:this.onMembersTextChange};return q(a)}},{key:"maybeRenderGuestsTextarea",value:function e(){if(this.state.all===M)return null;if(this.state.guestsContentType!==P)return null;var t=this.state,r=t.guestsText,n=t.guestsTextError;var a={error:n,text:r,type:A,onChange:this.onGuestsTextChange};return q(a)}},{key:"maybeRenderGuestsInputBar",value:function e(){var t=this.state,r=t.all,n=t.guestsUrl,a=t.guestsText,i=t.guestsContentType;if(r===M)return null;var o=!a&&i===P||!n&&i===R;var s={previewIsDisabled:o,contentType:i,content:i===P?a:n,type:A,onToggle:this.onGuestsToggle};return this.renderInputBar(s)}},{key:"renderMembersInputBar",value:function e(){var t=this.state,r=t.membersUrl,n=t.membersText,a=t.membersContentType;var i=!n&&a===P||!r&&a===R;var o={previewIsDisabled:i,contentType:a,content:a===P?n:r,type:N,onToggle:this.onMembersToggle};return this.renderInputBar(o)}},{key:"renderPreviewButton",value:function e(t){var r=this;var n=t.previewIsDisabled,a=t.contentType,i=t.content,c=t.type;var l=I.t("Preview");var p=a===R;var f=p?function(){var e=window.open((Object(s["startsWith"])(i.toLowerCase(),"http")?"":"http://")+i,"_blank");e.opener=null}:function(){return r["tos_preview_"+c].submit()};var h=u()("p-ent_custom_tos_input_form__small_text","p-ent_custom_tos_input_form__small_text--right-divider","padding_right_50",{sk_dark_grey:n});var m=o.a.createElement(d["a"],{type:"link",isDisabled:n,onClick:f},o.a.createElement("span",{className:h},l," ",o.a.createElement(v["a"],{type:"external-link",className:"p-ent_custom_tos_input_form__icon"})));if(p)return m;return o.a.createElement("form",{action:L,method:"POST",ref:function e(t){r["tos_preview_"+c]=t},target:"_blank"},o.a.createElement("input",{type:"hidden",name:"custom_tos_preview",value:i}),m)}},{key:"renderInputBar",value:function e(t){var r=t.contentType,n=t.onToggle;var a=I.t("Terms of Service");var i=r===P?I.t("Enter URL"):I.t("Enter text");var s=u()("p-ent_custom_tos_input_form__small_text","padding_left_50");return o.a.createElement("div",{className:"p-ent_custom_tos_input_form__toggle_bar"},o.a.createElement("span",{className:"p-ent_custom_tos_input_form__label c-label__text bold"},a),this.renderPreviewButton(t),o.a.createElement(d["a"],{type:"link",onClick:n},o.a.createElement("span",{className:s},i)))}},{key:"renderRadio",value:function e(t){var r=this.state.all;var n=t.value,a=t.label;return o.a.createElement("div",{key:"tos_type_"+n},o.a.createElement(h["a"],{id:"tos_type_"+n+"_label",htmlFor:"tos_type_"+n+"_radio",type:"inline",cursor:"pointer",className:"p-ent_custom_tos_input_form__label",text:a},o.a.createElement(m["a"],{id:"tos_type_"+n+"_radio",value:n,onChange:this.onAllChange,checked:n===r})))}},{key:"renderRadiogroup",value:function e(){var t=[{value:M,label:I.t("Use the same Terms of Service as Full Members")},{value:x,label:I.t("Use a different Terms of Service")}];return o.a.createElement(b["a"],{field:"tos_type"},t.map(this.renderRadio,this))}},{key:"render",value:function e(){var t=I.t("Set custom Terms of Service that members and guests will have to accept before using Slack. If you already have a URL for your custom Terms of Service, you can enter that instead.");var r=I.t("Full Members");var n=I.t("Guests");return o.a.createElement("div",null,o.a.createElement("p",null,t),o.a.createElement("h3",{className:"margin_top_200 margin_bottom_100"},r),this.renderMembersInputBar(),this.maybeRenderMembersTextarea(),this.maybeRenderMembersInput(),o.a.createElement("h3",{className:"margin_top_200 margin_bottom_100"},n),this.renderRadiogroup(),this.maybeRenderGuestsInputBar(),this.maybeRenderGuestsTextarea(),this.maybeRenderGuestsInput())}}]);return t}(i["PureComponent"]);V.displayName="CustomTOSInputForm";V.propTypes=F;V.defaultProps=B;t["a"]=V},18305:function(e,t,r){"use strict";r.d(t,"b",function(){return i});r.d(t,"a",function(){return c});var n=r(16914);var a=Object(n["c"])("TS.validation.firstalphanumeric",function(){return true});var i=Object(n["c"])("TS.validation.required",function(){return true});var o=Object(n["c"])("TS.validation.team_name_with_errors",function(){return true});var s=Object(n["c"])("TS.validation.pattern",function(){return true});var c=Object(n["c"])("TS.validation.isurl",function(){return true})},18307:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(18308);var u=r(18310);var p=r(20203);var f=r.n(p);var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b={label:a.a.string.isRequired,state:a.a.string.isRequired,type:a.a.string.isRequired,description:a.a.node,onClick:a.a.func,control:a.a.object.isRequired};var _={label:"",state:"",type:"",description:null,onClick:s["noop"],control:{}};var g=function(e){m(t,e);function t(){v(this,t);return h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}d(t,[{key:"renderLabel",value:function e(){return o.a.createElement(l["a"],{title:this.props.label,className:"p_ent_settings_item__label"})}},{key:"renderState",value:function e(){var t=this.props,r=t.state,n=t.description;return o.a.createElement(l["a"],{title:r,description:n,className:"bold"})}},{key:"renderButtonControl",value:function e(){var t=this.props.control,r=t.enabled,n=t.onEnable,a=t.onDisable,i=t.onEdit;return o.a.createElement(u["a"],{enabled:r,onEnable:n,onDisable:a,onEdit:i})}},{key:"renderControl",value:function e(){return"button"===this.props.control.type?this.renderButtonControl():null}},{key:"render",value:function e(){return o.a.createElement("div",{className:"p-ent_settings_item",onClick:this.props.onClick,role:"presentation"},this.renderLabel(),this.renderState(),this.renderControl())}}]);return t}(i["PureComponent"]);g.displayName="SettingsItem";g.propTypes=b;g.defaultProps=_;t["a"]=g},18308:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(20201);var u=r.n(l);var p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h={title:a.a.string,titleClass:a.a.string,description:a.a.node,className:a.a.string};var m={title:"",titleClass:"",description:null,className:""};var b=function(e){v(t,e);function t(){f(this,t);return d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}p(t,[{key:"renderTitle",value:function e(){if(!this.props.title)return null;var t=this.props,r=t.titleClass,n=t.className;var a=c()(n,r);return o.a.createElement("h4",{className:a},this.props.title)}},{key:"renderDescription",value:function e(){if(!this.props.description)return null;return o.a.createElement("span",{className:"sk_dark_grey"},this.props.description)}},{key:"render",value:function e(){return o.a.createElement("div",{className:"p-ent_settings_item_header"},this.renderTitle(),this.renderDescription())}}]);return t}(i["PureComponent"]);b.displayName="SettingsItemHeader";b.propTypes=h;b.defaultProps=m;t["a"]=b},18310:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16912);var u=r(16918);var p=r(20202);var f=r.n(p);var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=new l["b"]("enterprise_settings");var _={enabled:a.a.bool,onEnable:a.a.func.isRequired,onDisable:a.a.func.isRequired,onEdit:a.a.func.isRequired};var g={enabled:false,onEnable:s["noop"],onDisable:s["noop"],onEdit:s["noop"]};var y=function(e){m(t,e);function t(e){v(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onEnable=r.onEnable.bind(r);r.onDisable=r.onDisable.bind(r);r.onEdit=r.onEdit.bind(r);return r}d(t,[{key:"onEnable",value:function e(t){t.stopPropagation();this.props.onEnable(t)}},{key:"onDisable",value:function e(t){t.stopPropagation();this.props.onDisable(t)}},{key:"onEdit",value:function e(t){t.stopPropagation();this.props.onEdit(t)}},{key:"renderEnable",value:function e(){var t=b.t("Enable");return o.a.createElement("div",{className:"p-ent_settings_item_button_control"},o.a.createElement(u["a"],{type:"outline",size:"small",onClick:this.onEnable},t))}},{key:"renderDisable",value:function e(){var t=b.t("Disable");var r=b.t("Edit");return o.a.createElement("div",{className:"p-ent_settings_item_button_control"},o.a.createElement(u["a"],{type:"danger",size:"small",onClick:this.onDisable},t),o.a.createElement(u["a"],{type:"outline",size:"small",onClick:this.onEdit,className:"margin_left_50"},r))}},{key:"renderButtonControls",value:function e(){return this.props.enabled?this.renderDisable():this.renderEnable()}},{key:"render",value:function e(){return this.renderButtonControls()}}]);return t}(i["PureComponent"]);y.displayName="SettingsItemButtonControl";y.propTypes=_;y.defaultProps=g;t["a"]=y},18314:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18315);var a=r(16928);Object(a["a"])("interop.mountTermsOfService",n["a"]);Object(a["a"])("interop.unmountTermsOfService",n["b"])},18315:function(e,t,r){"use strict";r.d(t,"a",function(){return p});r.d(t,"b",function(){return f});var n=r(12159);var a=r.n(n);var i=r(9);var o=r(50);var s=r.n(o);var c=r(16954);var l=r(16927);var u=r(17756);var p=function e(t,r,n){if(!t)throw new Error("mountToast must be called with a teamId parameter");var o=Object(l["c"])(t);Object(c["a"])(a.a.createElement(i["Provider"],{store:o},a.a.createElement(u["a"],n)),r)};var f=function e(t){s.a.unmountComponentAtNode(t)};var d={mountTermsOfService:p,unmountTermsOfService:f}},18316:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18317);var a=r(16928);Object(a["a"])("interop.mountWorkspaceDirectory",n["a"]);Object(a["a"])("interop.unmountWorkspaceDirectory",n["b"])},18317:function(e,t,r){"use strict";r.d(t,"a",function(){return f});r.d(t,"b",function(){return d});var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(16954);var l=r(16927);var u=r(17990);var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var f=function e(t,r,n){if(!t)throw new Error("mountWorkspaceDirectory must be called with a teamId parameter");var i=Object(l["c"])(t);var f=p({},n,{onClose:function e(){return o.a.unmountComponentAtNode(r)}});Object(c["a"])(a.a.createElement(s["Provider"],{store:i},a.a.createElement(u["b"],f)),r)};var d=function e(t){o.a.unmountComponentAtNode(t)};var v={mountWorkspaceDirectory:f,unmountWorkspaceDirectory:d}},18318:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(50);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(9);var f=r(1);var d=r.n(f);var v=r(333);var h=r(17134);var m=r(16980);var b=r(16919);var _=r(16921);var g=r(17049);var y=r(16949);var O=r(16913);var E=r(16916);var j=r(16922);var k=r(17279);var w=r(16912);var C=r(17003);var S=r(17061);var T=r(16917);var I=r(17128);var N=r(17339);var A=r(16942);var P=r(16952);var R=r(17027);var M=r(17066);var x=r(17688);var L=r(17689);var D=r(18319);var F=r(17390);var B=r(18322);var U=r(18325);var H=r(18328);var q=r(17990);var G=r(17028);var W=r(20179);var V=r.n(W);var K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var z=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function Q(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function Y(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function Z(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var $=new w["b"]("workspace_directory");var ee={enterprise:a.a.shape({id:a.a.string,name:a.a.string,domain:a.a.string,icon:a.a.object,locale:a.a.string}).isRequired,user:a.a.shape({id:a.a.string,name:a.a.string,is_admin:a.a.bool,is_owner:a.a.bool,profile:a.a.object}),fetchWorkspaces:a.a.func.isRequired,fetchTeam:a.a.func.isRequired,enqueueToast:a.a.func,fetchRawMembersFromAPI:a.a.func.isRequired,openModal:a.a.func,allowWorkspaceRequest:a.a.bool,showRequestDialog:a.a.func,launchTeamId:a.a.string,displayDirectoryInModal:a.a.bool,onClose:a.a.func,hasSeenOnboardingBanner:a.a.bool,queryString:a.a.object};var te={organizationName:"",organizationIcon:"https://vignette.wikia.nocookie.net/plantsvszombies/images/4/42/Shrek_emoji.png/revision/latest?cb=20160413203711",user:{},enqueueToast:f["noop"],openModal:f["noop"],allowWorkspaceRequest:false,showRequestDialog:f["noop"],launchTeamId:null,displayDirectoryInModal:true,onClose:f["noop"],hasSeenOnboardingBanner:false,queryString:null};var re=300;var ne=function(e){Z(t,e);z(t,null,[{key:"sortListByWorkspaceName",value:function e(t){return Object(f["sortBy"])(t,function(e){return e.name})}}]);function t(e){J(this,t);var r=X(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={isMobileView:false,hasScrolledPastHeaderPane:false,allWorkspaces:{totalWorkspaces:0,workspaces:[],cursorMark:null,hasApiError:false,topOffset:0},yourWorkspaces:{totalWorkspaces:0,workspaces:[],cursorMark:null,hasApiError:false,topOffset:0},searchResults:{totalWorkspaces:0,workspaces:[],cursorMark:null,hasApiError:false,topOffset:0},dialogWorkspaceDetail:null,selectedOption:null,hideOnboardingBanner:true,viewingHiddenWorkspace:false};r.dialog=null;r.headerPaneHeight=null;r.clientHeight=null;r.page=null;r.pageSearch=null;r.listRefs={allWorkspaces:null,yourWorkspaces:null};r.windowScroller=null;r.onboardingBannerHeight=0;r.trackingCode="";Object(f["bindAll"])(r,["setPageRef","setPageSearchRef","setHeaderPaneRef","setOnboardingBannerRef","onScroll","onWindowScrollerScroll","onModalClose","onResize","openWorkspaceRequestForm","openDialog","closeDialog","onOnboardingBannerDismiss","onWorkspaceLeave","onActionResolve","onActionReject","onSelectOption","onClearHeaderInput","setToastText","setListRef","setWindowScrollerRef","renderWorkspaceCard","fetchSingleMemberToPrepopulate"]);return r}z(t,[{key:"componentDidMount",value:function e(){this.setIsMobileView(Object(G["c"])());window.addEventListener("resize",this.onResize);this.clientHeight=window.innerHeight;this.setLoadingWorkspaces("allWorkspaces",true);this.setLoadingWorkspaces("yourWorkspaces",true);if(this.props.launchTeamId){this.trackingCode="workspace_url";this.fetchTeam(this.props.launchTeamId)}var t=this.props.hasSeenOnboardingBanner;this.setHideOnboardingBanner(t);Object(G["p"])({trackingCode:this.trackingCode});var r=this.props.queryString&&Object(f["get"])(this.props.queryString,"user",null);r&&this.fetchSingleMemberToPrepopulate(r)}},{key:"componentDidUpdate",value:function e(t,r){this.headerPane&&(this.headerPaneHeight=this.headerPane.clientHeight);var n=this.getListHeight("yourWorkspaces");n!==this.state.allWorkspaces.topOffset&&this.setListTopOffset({workspaceListKey:"allWorkspaces",topOffset:n});this.props.hasSeenOnboardingBanner||!this.onboardingBanner||this.onboardingBannerHeight||(this.onboardingBannerHeight=Object(s["findDOMNode"])(this.onboardingBanner).clientHeight);!r.hideOnboardingBanner&&this.state.hideOnboardingBanner&&this.windowScroller.updatePosition();r.selectedOption!==this.state.selectedOption&&this.fetchSearchResults();this.maybeFetchNextPage(r)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("resize",this.onResize)}},{key:"onResize",value:function e(){this.clientHeight=window.innerHeight;this.setIsMobileView(Object(G["c"])());var t=this.getListHeight("yourWorkspaces");this.setListTopOffset({workspaceListKey:"allWorkspaces",topOffset:t})}},{key:"onScroll",value:function e(t){var r=t.currentTarget.scrollTop;var n=r>=this.headerPaneHeight;n&&this.pageSearch.getWrappedInstance().blur();n!==this.state.hasScrolledPastHeaderPane&&this.setHasScrolledPastHeaderPane(n)}},{key:"onWindowScrollerScroll",value:function e(t){var r=t.scrollTop;this.doInfiniteScrollHandler({scrollTop:r})}},{key:"onModalClose",value:function e(){this.dialog&&this.dialog.close();this.props.onClose&&this.props.onClose()}},{key:"onSearchAgainButtonClick",value:function e(){this.pageSearch&&this.pageSearch.getWrappedInstance&&this.pageSearch.getWrappedInstance().onSearchAgainTriggered()}},{key:"onOnboardingBannerDismiss",value:function e(){this.setHideOnboardingBanner(true);Object(k["b"])({name:"seen_onboarding_banner",value:true}).catch(function(e){return Object(E["error"])("Error setting seen_onboarding_banner user pref",e)})}},{key:"onActionReject",value:function e(t){var r=t.node,n=t.err;r&&this.setToastText(r);Object(E["error"])("Error with Workspace Action in WorkspaceDirectory - ",n)}},{key:"onActionResolve",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.node,n=t.workspace;if(n&&n.is_member){this.onWorkspaceJoin({workspace:n});if(this.props.displayDirectoryInModal)return this.onModalClose()}r&&this.setToastText(r);return this.closeDialog()}},{key:"onWorkspaceJoin",value:function e(r){var n=this;var a=r.workspace;this.setState(function(e){var r=n.maybeUpsertWorkspaceToSearchResults(e,a);var i=e.yourWorkspaces.workspaces;var o=Object(f["unionBy"])([a],i,"id");var s=e.yourWorkspaces.totalWorkspaces+1;var c={yourWorkspaces:K({},e.yourWorkspaces,{workspaces:t.sortListByWorkspaceName(o),totalWorkspaces:s}),searchResults:K({},e.searchResults,{workspaces:t.sortListByWorkspaceName(r)})};return c})}},{key:"onWorkspaceLeave",value:function e(r){var n=this;var a=r.workspace;this.setState(function(e){var r=n.maybeUpsertWorkspaceToSearchResults(e,a);var i=e.yourWorkspaces.workspaces;var o=Object(f["filter"])(i,function(e){return e.id!==a.id});var s=e.yourWorkspaces.totalWorkspaces-1;var c=e.allWorkspaces.workspaces;var l=Object(f["unionBy"])([a],c,"id");var u={yourWorkspaces:K({},e.yourWorkspaces,{workspaces:o,totalWorkspaces:s}),allWorkspaces:K({},e.allWorkspaces,{workspaces:t.sortListByWorkspaceName(l)}),searchResults:K({},e.searchResults,{workspaces:t.sortListByWorkspaceName(r)})};return u},function(){n.closeDialog()})}},{key:"onSelectOption",value:function e(t){this.setSearchResultsOptions(t)}},{key:"onClearHeaderInput",value:function e(){this.pageSearch&&this.pageSearch.getWrappedInstance&&this.pageSearch.getWrappedInstance().clearInput()}},{key:"getListHeight",value:function e(t){return this.listRefs[t]?this.listRefs[t].getContentHeight():0}},{key:"setPageRef",value:function e(t){this.page=t}},{key:"setPageSearchRef",value:function e(t){this.pageSearch=t}},{key:"setHeaderPaneRef",value:function e(t){this.headerPane=t}},{key:"setOnboardingBannerRef",value:function e(t){this.onboardingBanner=t}},{key:"setListRef",value:function e(t){var r=t.workspaceListKey,n=t.ref;this.listRefs[r]=n}},{key:"setWindowScrollerRef",value:function e(t){this.windowScroller=t}},{key:"setListTopOffset",value:function e(t){var r=t.workspaceListKey,n=t.topOffset;this.setState(function(e){return Y({},r,K({},e[r],{topOffset:n}))})}},{key:"setSearchResultsOptions",value:function e(t){this.setState(function(){return{searchResults:{totalWorkspaces:0,workspaces:[],cursorMark:null,hasApiError:false,topOffset:0},selectedOption:t}})}},{key:"setIsMobileView",value:function e(t){this.setState(function(){return{isMobileView:t}})}},{key:"setViewingHiddenWorkspace",value:function e(t){this.setState(function(){return{viewingHiddenWorkspace:t}})}},{key:"setHasScrolledPastHeaderPane",value:function e(t){this.setState(function(){return{hasScrolledPastHeaderPane:t}})}},{key:"setHasApiError",value:function e(t,r){this.setState(function(e){return Y({},t,K({},e[t],{hasApiError:r}))})}},{key:"setLoadingWorkspaces",value:function e(t,r){this.setState(function(e){return Y({},t,K({},e[t],{loadingWorkspaces:r}))})}},{key:"setDialogWorkspaceDetail",value:function e(t,r){this.setState(function(){return{dialogWorkspaceDetail:t}},r)}},{key:"setWorkspaceFetchOptions",value:function e(t,r){var n=r.workspaces,a=void 0===n?[]:n,i=r.totalWorkspaces,o=void 0===i?0:i,s=r.onWorkspaces,c=void 0!==s&&s,l=r.nextCursorMark,u=void 0===l?null:l;this.setState(function(e){return Y({},t,K({},e[t],{workspaces:a,totalWorkspaces:o,onWorkspaces:c,nextCursorMark:u}))})}},{key:"setHideOnboardingBanner",value:function e(t){this.setState(function(){return{hideOnboardingBanner:t}})}},{key:"setToastText",value:function e(t){this.props.enqueueToast({element:o.a.createElement(I["a"],{position:"bottom-right",offsetY:50},t)})}},{key:"getWorkspaceListTopOffset",value:function e(t){return this.state[t]?this.state[t].topOffset:0}},{key:"getListHeading",value:function e(t){var r=this.state.selectedOption;if("allWorkspaces"===t){var n=this.state.allWorkspaces.totalWorkspaces;var a=this.state.yourWorkspaces.totalWorkspaces;return $.t("Browse {numWorkspaces, plural, =1 {# workspace} other {# workspaces}}",{numWorkspaces:Math.max(n-a,0)})}if("yourWorkspaces"===t)return $.t("Your Workspaces");if("searchResults"===t){var i=this.state.searchResults,s=i.loadingWorkspaces,c=i.totalWorkspaces;var l=Object(f["get"])(r,"selectedOptionData");if(s)return null;if("member"===Object(f["get"])(r,"type")){var u=Object(_["k"])(l);var p=$.t("{memberName} is in {workspaceCount, plural, =1 {# workspace} other {# workspaces}}",{memberName:u,workspaceCount:c});return o.a.createElement(o.a.Fragment,null,o.a.createElement(R["a"],{entityType:"member",dimension:28,entityData:l,customClasses:"margin_right_75",featureReactMessages:true,featureReactMemberProfileCard:false}),p)}if("workspace"===Object(f["get"])(r,"type")&&0===c)return $.t("No workspaces found matching \u201c{searchQuery}\u201d",{searchQuery:"SEARCH QUERY"});if((!Object(f["get"])(r,"type")||l.id===G["b"])&&c>0)return $.t("{workspaceCount, plural, =1 {# workspace} other {# workspaces}} matching \u201c{searchQuery}\u201d",{workspaceCount:c,searchQuery:Object(f["get"])(l,"displayValue")});if("workspace"===Object(f["get"])(r,"type")&&c>0)return $.t("{workspaceCount, plural, =1 {# workspace} other {# workspaces}} matching \u201c{workspaceName}\u201d",{workspaceCount:c,workspaceName:Object(f["get"])(r,"selectedOptionData.name")})}return""}},{key:"getWorkspacesForList",value:function e(t){if("allWorkspaces"===t){var r=this.state.allWorkspaces.workspaces;var n=this.state.yourWorkspaces.workspaces;return Object(f["differenceBy"])(r,n,"id")}if("yourWorkspaces"===t)return this.state.yourWorkspaces.workspaces;if("searchResults"===t)return this.state.searchResults.workspaces;return[]}},{key:"maybeUpsertWorkspaceToSearchResults",value:function e(t,r){var n=Object(f["get"])(t.searchResults,"workspaces",[]);var a=Object(f["find"])(n,function(e){return r.id===e.id});return a?Object(f["unionBy"])([r],n,"id"):n}},{key:"openWorkspaceRequestForm",value:function e(){var t=this;var r=this.props.showRequestDialog;return r({displayModernToast:function e(r){var n=r.type,a=r.errorType,i=r.teamName;var s=Object(G["g"])({type:n,errorType:a,teamName:i});t.setToastText(o.a.createElement("div",{className:"display_flex"},"success"===n&&o.a.createElement(T["b"],{type:"check-circle-o",className:"margin_right_50 sk_seafoam_green"}),o.a.createElement("span",null,s)))}})}},{key:"maybeFetchNextPage",value:function e(t){!t.allWorkspaces.loadingWorkspaces&&this.state.allWorkspaces.loadingWorkspaces&&this.fetchWorkspaces();!t.yourWorkspaces.loadingWorkspaces&&this.state.yourWorkspaces.loadingWorkspaces&&this.fetchWorkspacesWithArgs({id:this.props.user.id,type:"single_user"})}},{key:"fetchSearchResults",value:function e(){var t=this.state.selectedOption,r=t.selectedOptionData,n=t.type;var a={};if(!r)return;this.setLoadingWorkspaces("searchResults",true);if(Object(f["get"])(r,"id")===G["b"])a.searchTerm=r.displayValue;else{a.id=r.id;a.type="member"===n?"single_user":"single_workspace"}Object(G["m"])({searchType:n});this.fetchWorkspacesWithArgs(a)}},{key:"fetchSingleMemberToPrepopulate",value:function e(t){var r=this;this.props.fetchRawMembersFromAPI({ids:[t]}).then(function(e){var t={selectedOption:{selectedOptionData:e.members[0],type:"member"}};r.setState(t)})}},{key:"openDialog",value:function e(t){var r=this;var n=t.team;this.props.displayDirectoryInModal||window.history.replaceState({},"","/"+n.id);Object(G["q"])({teamId:n.id,trackingCode:this.trackingCode});this.setDialogWorkspaceDetail(n,function(){r.dialog=r.props.openModal({element:r.renderDialog()})})}},{key:"closeDialog",value:function e(){this.props.displayDirectoryInModal||window.history.replaceState({},"","/");if(!this.dialog)return;this.dialog.close()}},{key:"fetchWorkspacesWithArgs",value:function e(t){var r=t.type,n=t.id,a=t.searchTerm;var i=this.props.user.id;var o=this.state.selectedOption;var s=Object(f["isEmpty"])(o);var c=n===i&&s?"yourWorkspaces":"searchResults";return this.fetchWorkspaces({workspaceListKey:c,additionalOptions:{type:r,id:n,searchTerm:a}})}},{key:"fetchTeam",value:function e(t){var r=this;return this.props.fetchTeam(t).then(function(e){r.setSearchResultsOptions({selectedOptionData:e,type:"workspace"});r.openDialog({team:e})}).catch(function(e){r.setViewingHiddenWorkspace(true);Object(E["error"])("Error fetching workspace detail for launch_team_id -",e)})}},{key:"fetchWorkspaces",value:function e(){var t=this;var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.additionalOptions,a=r.workspaceListKey,i=void 0===a?"allWorkspaces":a;var o=this.state[i].nextCursorMark;this.setHasApiError(i,false);return this.props.fetchWorkspaces(K({nextCursorMark:o},n)).then(function(e){var r=e.num_found,n=e.on_workspaces,a=e.items;var s=a;o&&(s=Object(f["unionBy"])(t.state[i].workspaces,s,"id"));t.setWorkspaceFetchOptions(i,{workspaces:s,totalWorkspaces:r,onWorkspaces:n,nextCursorMark:e.next_cursor_mark});t.setLoadingWorkspaces(i,false)}).catch(function(e){t.setHasApiError(i,true);t.setLoadingWorkspaces(i,false);Object(E["error"])("WorkspaceDirectory: Error in FetchWorkspaces -",e)})}},{key:"hasFetchedAllWorkspaces",value:function e(t){return this.state[t].workspaces.length>=this.state[t].totalWorkspaces}},{key:"hasScrolledWithinScrollThreshold",value:function e(t){var r=t.scrollHeight,n=t.scrollTop;return r-(n+this.clientHeight)<re}},{key:"doInfiniteScrollHandler",value:function e(t){var r=t.scrollTop;var n=this.hasFetchedAllWorkspaces("yourWorkspaces")?"allWorkspaces":"yourWorkspaces";var a=this.getListHeight("yourWorkspaces");"allWorkspaces"===n&&(a+=this.getListHeight("allWorkspaces"));var i=this.hasScrolledWithinScrollThreshold({scrollTop:r,scrollHeight:a});i&&!this.hasFetchedAllWorkspaces(n)?this.setLoadingWorkspaces(n,true):!i&&this.hasFetchedAllWorkspaces(n)&&this.setLoadingWorkspaces(n,false)}},{key:"renderDialog",value:function e(){var t=this.state,r=t.dialogWorkspaceDetail,n=t.displayDirectoryInModal;var a=this.props.user;var i=Object(f["get"])(this.props.queryString,"channel",null);var s=Object(f["get"])(this.props.queryString,"action",null);var c=Object(f["get"])(this.props.queryString,"user",null);var l=Object(_["H"])(a);return o.a.createElement(D["a"],{team:r,displayDirectoryInModal:n,onClose:this.closeDialog,featureZeroWorkspaceOnboarding:true,onActionResolve:this.onActionResolve,onActionReject:this.onActionReject,onLeaveResolve:this.onWorkspaceLeave,onLeaveReject:this.onActionReject,isGuest:l,channelRedirect:i,postLaunchAction:s,userIdFromURL:c})}},{key:"renderInfiniteSpinner",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.renderFullPage;var n=u()("p-workspace_directory__spinner",{"p-workspace_directory__spinner--fs":!!r});return o.a.createElement("div",{className:n},o.a.createElement(P["a"],{size:"medium",className:"inline_block full_width margin_top_200"}))}},{key:"renderWorkspaceCard",value:function e(t){if(Object(f["isEmpty"])(t))return null;var r=!Object(h["a"])();return o.a.createElement(L["a"],{team:t,key:t.id,size:"small",onActionResolve:this.onActionResolve,onActionReject:this.onActionReject,openDialog:this.openDialog,anchorPage:"workspace_directory",doLaunchInNewTab:r,doUpsertJoin:true})}},{key:"renderTitle",value:function e(){var t=this.props.enterprise.name;return o.a.createElement("div",{className:"p-workspace_directory__title"},$.t("Workspaces at {name}",{name:Object(w["l"])(t)}))}},{key:"renderWorkspaceSearchInput",value:function e(){var t=this.state.selectedOption;return o.a.createElement("div",{className:"p-workspace_directory__search"},o.a.createElement(F["a"],{containerIdSelector:"workspace_directory",ref:this.setPageSearchRef,membersOnly:false,triggerAction:this.onSelectOption,prepopulatedOption:Object(f["get"])(t,"selectedOptionData")}))}},{key:"renderWorkspaceDirectoryHeaderPane",value:function e(){var t=this.props,r=t.displayDirectoryInModal,n=t.user;var a=u()("p-workspace_directory__header_pane",{margin_top_75:r});return o.a.createElement("div",{className:a,"data-js":"workspace_directory_header_pane",ref:this.setHeaderPaneRef},!r&&this.renderTitle(),!Object(_["H"])(n)&&this.renderWorkspaceSearchInput())}},{key:"renderListHeading",value:function e(t){return o.a.createElement("p",{className:"p-workspace_directory__list_title"},t)}},{key:"renderYourWorkspaces",value:function e(t){return this.renderList({listProps:t,workspaceListKey:"yourWorkspaces"})}},{key:"renderAllWorkspaces",value:function e(t){return this.renderList({listProps:t,workspaceListKey:"allWorkspaces"})}},{key:"renderSearchResults",value:function e(t){return this.renderList({listProps:t,workspaceListKey:"searchResults"})}},{key:"renderList",value:function e(t){var r=this;var n=t.listProps,a=t.workspaceListKey;var i=this.getWorkspacesForList(a);var s=this.state[a].loadingWorkspaces;if("searchResults"===a&&Object(f["isEmpty"])(i)&&!s)return this.renderSearchEmptyState();if(Object(f["isEmpty"])(i)&&!s)return null;var c=this.getWorkspaceListTopOffset(a);var l=this.getListHeading(a);return o.a.createElement(o.a.Fragment,null,this.renderListHeading(l),o.a.createElement("div",{className:"p-workspace_directory__list"},o.a.createElement(B["a"],K({scrollElement:this.page,workspaces:i,renderWorkspaceCard:this.renderWorkspaceCard,topOffset:c,ref:function e(t){return r.setListRef({workspaceListKey:a,ref:t})}},n))),s&&this.renderInfiniteSpinner())}},{key:"renderSearchEmptyState",value:function e(){var t=this;var r=this.state,n=r.searchResults,a=r.selectedOption;var i=Object(f["get"])(a,"selectedOptionData");var s=void 0;var c=void 0;if(Object(G["h"])(i)){var l=Object(f["get"])(n,"totalWorkspaces");var u=Object(f["get"])(n,"onWorkspaces");var p=Object(_["k"])(i);if(Object(x["c"])({totalWorkspaces:l,onWorkspaces:u})&&!Object(x["b"])({totalWorkspaces:l,onWorkspaces:u})){s=$.t("{memberName} hasn\u2019t joined any workspaces",{memberName:p});c=$.rt("Try <a>searching for someone else</a> on your team, or for a specific workspace",null,function(e){var r=e.text,n=e.key,a=e.tag;if("a"===a)return o.a.createElement(A["a"],{onClick:function e(){return t.onSearchAgainButtonClick()},key:n},r);return{text:r}})}if(Object(x["b"])({totalWorkspaces:l,onWorkspaces:u})){s=$.t("{memberName} isn\u2019t in a workspace you have access to",{memberName:p});c=$.rt("Get in touch with {memberName} to be invited to a workspace they\u2019re in, or try <a>searching for someone else</a> on your team.",{memberName:p},function(e){var r=e.text,n=e.key,a=e.tag;if("a"===a)return o.a.createElement(A["a"],{onClick:function e(){return t.onSearchAgainButtonClick()},key:n},r);return{text:r}})}return o.a.createElement("div",{className:"align_center"},o.a.createElement("p",{className:"p-workspace_directory__list_title inline_flex margin_top_75"},o.a.createElement(R["a"],{entityType:"member",dimension:28,entityData:i,customClasses:"margin_right_75",featureReactMessages:true,featureReactMemberProfileCard:false}),s),o.a.createElement("p",{className:"p-workspace_directory__list_empty_state_text"},c))}s=$.t("No workspaces found matching \u201c{searchTerm}\u201d",{searchTerm:Object(f["get"])(i,"displayValue")});c=$.rt("Try <a>searching for another workspace</a> or searching for a teammate\u2019s workspaces.",null,function(e){var r=e.text,n=e.key,a=e.tag;if("a"===a)return o.a.createElement(A["a"],{onClick:function e(){return t.onSearchAgainButtonClick()},key:n},r);return{text:r}});return o.a.createElement("div",{className:"align_center"},o.a.createElement("p",{className:"p-workspace_directory__list_title inline_flex margin_top_75"},s),o.a.createElement("p",{className:"p-workspace_directory__list_empty_state_text"},c))}},{key:"renderOnboardingBanner",value:function e(){var t=this.props.hasSeenOnboardingBanner;if(t)return null;var r=this.state.hideOnboardingBanner;var n=u()("p-workspace_directory__banner","p-workspace_directory__banner--onboarding",{"p-workspace_directory__banner--hidden":r});var a=$.t("Workspaces are where you and your teammates communicate and get work done. To get started, find your team\u2019s workspace.");return o.a.createElement(H["a"],{title:$.t("What is a workspace?"),description:a,className:n,onClose:this.onOnboardingBannerDismiss,isHidden:r,showCloseButton:true,ref:this.setOnboardingBannerRef})}},{key:"renderWorkspaceRequestBanner",value:function e(){var t=this;var r=this.props.allowWorkspaceRequest;if(!r)return null;var n=$.rt("Your team might not be using Slack yet. You may ask your admins to <Link>create a new workspace</Link>.",null,function(e){var r=e.text;return o.a.createElement(A["a"],{onClick:t.openWorkspaceRequestForm},r)});return o.a.createElement(H["a"],{title:$.t("Can\u2019t find your workspace?"),description:n,className:"p-workspace_directory__banner p-workspace_directory__banner--workspace_request",onClose:f["noop"]})}},{key:"renderDirectoryLists",value:function e(t){var r=this.state.selectedOption;var n=t.onChildScroll,a=t.registerChild,i=Q(t,["onChildScroll","registerChild"]);var s=K({onScroll:n,scrollElement:this.page},i);var c=!!Object(f["get"])(r,"selectedOptionData");if(c)return o.a.createElement("div",{ref:a},this.renderSearchResults(s));return o.a.createElement("div",{ref:a},this.renderYourWorkspaces(s),this.renderAllWorkspaces(s))}},{key:"renderWorkspaceDirectoryBody",value:function e(){var t=this;var r=this.state,n=r.searchResults,a=r.hideOnboardingBanner;var i=u()("p-workspace_directory__body",{"p-workspace_directory__body--has_banner":!a});var s={};this.onboardingBannerHeight&&!a&&(s.transform="translate3d(0, "+this.onboardingBannerHeight+"px, 0)");if(!this.page)return null;return o.a.createElement(o.a.Fragment,null,this.renderOnboardingBanner(),o.a.createElement("div",{"data-js":"workspace_directory_body",className:i,style:s},o.a.createElement(v["c"],{scrollElement:this.page,onScroll:this.onWindowScrollerScroll,ref:this.setWindowScrollerRef},function(e){return t.renderDirectoryLists(e)}),!Object(f["get"])(n,"loadingWorkspaces")&&this.renderWorkspaceRequestBanner()))}},{key:"renderEmptyState",value:function e(t){var r=this.props.enterprise;return o.a.createElement("div",{className:"p-workspace_directory__empty_state_container"},o.a.createElement(q["a"],K({enterprise:r},t)))}},{key:"renderDirectoryPage",value:function e(){var t=this.props.user;var r=this.state.viewingHiddenWorkspace;var n=this.state.allWorkspaces,a=n.workspaces,i=n.loadingWorkspaces;var s=this.state.yourWorkspaces,c=s.workspaces,l=s.loadingWorkspaces;var u=!l&&Object(f["isEmpty"])(c);var p=!i&&Object(f["isEmpty"])(a);if(u&&Object(_["H"])(t))return this.renderEmptyState({isZeroWorkspaceGuest:true});if(p&&u)return this.renderEmptyState({isZeroWorkspaceOrg:true});if(r)return this.renderEmptyState({isHiddenWorkspace:true});return o.a.createElement("div",{className:"p-workspace_directory",id:"workspace_directory"},this.renderWorkspaceDirectoryHeaderPane(),this.renderWorkspaceDirectoryBody())}},{key:"renderWorkspaceDirectoryHeader",value:function e(){var t=this.props,r=t.user,n=t.enterprise;var a=this.state,i=a.isMobileView,s=a.hasScrolledPastHeaderPane,c=a.selectedOption;var l=r.is_admin||r.is_owner;return o.a.createElement(U["a"],{enterprise:n,displayManageOrgButton:l,displaySearchBar:this.headerPane&&s,"data-js":"workspace_directory_sticky_header",user:r,isMobileView:i,selectedSearchOption:Object(f["get"])(c,"selectedOptionData"),onOptionSelected:this.onSelectOption,onClearHeaderInput:this.onClearHeaderInput})}},{key:"renderDirectoryInModal",value:function e(){var t=this.props.enterprise;var r=u()("p-workspace_directory__page","p-workspace_directory__page--modal_view");return o.a.createElement(M["a"],{onCancel:this.onModalClose,showCancelButton:false,showGoButton:false,title:$.t("Workspaces at {orgName}",{orgName:t.name}),position:"fixed",modalBodyClasses:"p-workspace_directory__modal_body",modalClasses:"p-workspace_directory_modal",fullBleedModalBodyContent:true,withHeader:true},o.a.createElement("div",{className:r,onScroll:this.onScroll,ref:this.setPageRef},this.renderDirectoryPage()))}},{key:"render",value:function e(){var t=this.props.displayDirectoryInModal;var r=this.state.allWorkspaces,n=r.workspaces,a=r.loadingWorkspaces;var i=this.state.yourWorkspaces,s=i.workspaces,c=i.loadingWorkspaces;var l=c&&Object(f["isEmpty"])(s);var u=a&&Object(f["isEmpty"])(n);var p=l||u;if(t)return this.renderDirectoryInModal();return o.a.createElement("div",{className:"p-workspace_directory__wrapper"},this.renderWorkspaceDirectoryHeader(),p&&this.renderInfiniteSpinner({renderFullPage:true}),o.a.createElement("div",{className:"p-workspace_directory__page",onScroll:this.onScroll,ref:this.setPageRef},this.renderDirectoryPage()),o.a.createElement(N["a"],null))}}]);return t}(i["Component"]);ne.displayName="WorkspaceDirectory";ne.propTypes=ee;ne.defaultProps=te;var ae=function e(t,r){var n=r.userId;var a=Object(m["getEnterprise"])(t);var i=Object(b["getMemberById"])(t,n);var o=function e(r){return Object(C["f"])(t,r)};var s=Object(j["getOrgPref"])(t,"enterprise_team_creation_request");var c=s&&s.is_enabled&&!Object(_["H"])(i);var l=Object(O["isClientApp"])(t);var u=Object(j["getUserPref"])(t,"seen_onboarding_banner");var p=function e(r){return Object(C["g"])(t,{id:r,additionalOptions:{include_admins:true}})};return{enterprise:a,user:K({id:n},i),fetchWorkspaces:o,fetchTeam:p,allowWorkspaceRequest:c,displayDirectoryInModal:l,hasSeenOnboardingBanner:u}};var ie={enqueueToast:g["enqueueToast"],openModal:y["openModal"],fetchRawMembersFromAPI:S["g"]};t["a"]=Object(p["connect"])(ae,ie)(ne)},18319:function(e,t,r){"use strict";var n=r(18320);t["a"]=n["a"]},18320:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(17134);var f=r(16912);var d=r(16921);var v=r(9);var h=r(17003);var m=r(16961);var b=r(16917);var _=r(17035);var g=r(16956);var y=r(17066);var O=r(17690);var E=r(17027);var j=r(16952);var k=r(17028);var w=r(20205);var C=r.n(w);var S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var T=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function A(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P=new f["b"]("workspace_directory");var R={team:a.a.shape({admins:a.a.arrayOf(a.a.shape({real_name:a.a.string})),can_leave:a.a.bool,cannot_leave_reasons:a.a.array,created:a.a.number,deleted:a.a.bool,description:a.a.string,discoverable:a.a.string,domain:a.a.string,enterprise_id:a.a.string,date_requested_join:a.a.oneOfType([a.a.string,a.a.number]),icon:a.a.object,id:a.a.string,is_member:a.a.bool,joined_date:a.a.number,name:a.a.string,user_counts:a.a.object}).isRequired,onWorkspaceLeave:a.a.func,onClose:a.a.func,onActionReject:a.a.func,onActionResolve:a.a.func,fetchTeam:a.a.func,isGuest:a.a.bool,displayDirectoryInModal:a.a.bool,channelRedirect:a.a.string,postLaunchAction:a.a.string,userIdFromURL:a.a.string};var M={onWorkspaceLeave:s["noop"],onClose:s["noop"],onActionResolve:s["noop"],onActionReject:s["noop"],fetchTeam:s["noop"],isGuest:false,displayDirectoryInModal:false,channelRedirect:null,postLaunchAction:null,userIdFromURL:null};var x=function(e){A(t,e);function t(e){I(this,t);var r=N(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={team:{},loading:false};r.keyCommands=null;r.onDialogClose=r.onDialogClose.bind(r);r.onKeyPress=r.onKeyPress.bind(r);r.onWorkspaceLeave=r.onWorkspaceLeave.bind(r);r.setLoading=r.setLoading.bind(r);return r}T(t,[{key:"componentDidMount",value:function e(){var t=this.props.team;this.setWorkspace(t);this.fetchWorkspaceInfo();this.keyCommands=this.initKeyCommands()}},{key:"componentWillUnmount",value:function e(){this.keyCommands&&this.keyCommands.reset()}},{key:"onWorkspaceLeave",value:function e(t){t.preventDefault();return this.props.onWorkspaceLeave()}},{key:"onKeyPress",value:function e(t,r){t.preventDefault();if("Enter"===t.key)switch(r){case"leave":return this.props.onWorkspaceLeave();case"close":return this.props.onClose();default:}return null}},{key:"onDialogClose",value:function e(t){if(t){t.stopPropagation();t.preventDefault()}this.props.onClose()}},{key:"setWorkspace",value:function e(t,r){this.setState(function(){return{team:t}},r)}},{key:"setLoading",value:function e(t){this.setState(function(){return{loading:t}})}},{key:"canLeaveWorkspace",value:function e(){var t=this.state.team,r=t.is_member,n=t.can_leave;var a=this.props.isGuest;return r&&n&&!a}},{key:"initKeyCommands",value:function e(){var t=new m["a"];t.bindAll([{keys:["esc"],handler:this.onDialogClose}]);return t}},{key:"fetchWorkspaceInfo",value:function e(){var t=this;var r=this.props.team.id;this.setLoading(true);return this.props.fetchTeam(r).then(function(e){t.setWorkspace(e,function(){return t.setLoading(false)})})}},{key:"listifyAdminRealNames",value:function e(t){var r=Object(s["map"])(t,function(e){return Object(d["k"])(e)});return Object(f["e"])(r,{noEscape:true})}},{key:"renderCloseButton",value:function e(){var t=this;return o.a.createElement(_["a"],{className:"p-workspace_directory_dialog__close",onClick:this.onDialogClose,ariaLabel:P.t("Close"),tabIndex:"0",role:"button",onKeyPress:function e(r){return t.onKeyPress(r,"close")}},o.a.createElement(b["b"],{type:"times"}))}},{key:"renderDialogHeaderCaption",value:function e(t){var r=this.state.loading;if(r)return null;if(!t)return null;return o.a.createElement("span",{className:"p-workspace_directory_dialog__caption"},o.a.createElement(b["b"],{size:"inherit",type:"exclamation-circle",align:"baseline",className:"margin_right_25"}),t)}},{key:"renderButton",value:function e(){var t=this.props,r=t.onActionReject,n=t.onActionResolve;var a=this.state,i=a.team,s=a.loading;if(s)return null;var c=!Object(p["a"])();return o.a.createElement(O["a"],{team:i,customClasses:"margin_top_100",buttonContext:"dialog",featureZeroWorkspaceOnboarding:true,onActionReject:r,onActionResolve:n,anchorPage:"workspace_directory",tabIndex:"0",size:"medium",doLaunchInNewTab:c,channelRedirect:this.props.channelRedirect,postLaunchAction:this.props.postLaunchAction,userIdFromURL:this.props.userIdFromURL,doUpsertJoin:true})}},{key:"renderDialogHeader",value:function e(t){var r=this.state.team;var n=r.name,a=void 0===n?"":n,i=r.domain,s=void 0===i?"":i;var c=u()("p-workspace_directory_dialog__header",{"p-workspace_directory_dialog__header--mobile":Object(k["c"])()});return o.a.createElement("div",{className:c},this.renderCloseButton(),o.a.createElement(E["a"],{entityType:"workspace",dimension:100,entityData:r,featureReactMessages:true,featureReactMemberProfileCard:true}),o.a.createElement("div",{className:"p-workspace_directory_dialog__name"},P.t("{name}",{name:Object(f["l"])(a)})),o.a.createElement("div",{className:"p-workspace_directory_dialog__domain"},P.t("{domain}.slack.com",{domain:s})),this.renderDialogHeaderCaption(t),this.renderButton())}},{key:"renderInfiniteSpinner",value:function e(){return o.a.createElement("div",{className:"overflow_hidden margin_100"},o.a.createElement(j["a"],{size:"medium",className:"inline_block full_width"}))}},{key:"renderDialogBody",value:function e(){if(this.state.loading)return this.renderInfiniteSpinner();var t=this.state.team,r=t.description,n=t.admins,a=t.user_counts;var i=[];r&&i.push({heading:P.t("About"),text:r,key:"dialog-description"});i.push({heading:P.t("Active members"),text:P.t("{activeMembers}",{activeMembers:Object(f["i"])(Object(s["get"])(a,"active_members",0))}),key:"dialog-active-members"},{heading:P.t("Workspace admins"),text:this.listifyAdminRealNames(n),key:"dialog-admins"});var c=function e(t){return o.a.createElement("div",{key:t.key},o.a.createElement("p",{className:"margin_bottom_25 bold"},t.heading),o.a.createElement("p",null,t.text))};return o.a.createElement("div",{className:"p-workspace_directory_dialog__body"},i.map(function(e){return c(e)}))}},{key:"renderDialogFooter",value:function e(){var t=this;return o.a.createElement("span",{className:"p-workspace_directory_dialog__leave",role:"button",tabIndex:"0",onClick:this.onWorkspaceLeave,onKeyPress:function e(r){return t.onKeyPress(r,"leave")}},P.t("Leave this workspace"))}},{key:"renderDialogOnMobile",value:function e(t){var r=this.canLeaveWorkspace();return o.a.createElement(y["a"],{showCancelButton:false,showCloseButton:false,showGoButton:false,position:"fixed",modalBodyClasses:"p-workspace_directory_dialog--mobile"},this.renderDialogHeader(t),o.a.createElement("div",{className:"p-workspace_directory_dialog__contents--mobile"},this.renderDialogBody(),r&&this.renderDialogFooter()))}},{key:"render",value:function e(){var t=this.state.team;var r=Object(k["f"])(t,{context:"dialog"});if(Object(k["c"])())return this.renderDialogOnMobile(r);var n=this.props.displayDirectoryInModal;var a=u()("p-workspace_directory_dialog",{"p-workspace_directory_dialog--focus_ring":!n});var i={contentLabel:r,className:a,showCloseButton:false,showCancelButton:false,showGoButton:false,showHeader:true,title:this.renderDialogHeader(r),useSlackScrollbar:false,showFooter:false,shouldCloseOnOverlayClick:true,onCancel:this.onDialogClose};this.canLeaveWorkspace()&&(i=S({},i,{showFooter:true,footerText:this.renderDialogFooter()}));return o.a.createElement(g["a"],i,this.renderDialogBody())}}]);return t}(i["Component"]);x.displayName="WorkspaceDirectoryDialog";x.propTypes=R;x.defaultProps=M;var L=function e(t,r){var n=r.team,a=r.onLeaveReject,i=r.onLeaveResolve,o=r.onDone;var s=function e(r){return Object(h["g"])(t,{id:r,additionalOptions:{include_admins:true}})};return{fetchTeam:s,onWorkspaceLeave:function e(){return Object(k["k"])(t,{team:n,onLeaveReject:a,onLeaveResolve:i,onDone:o})}}};t["a"]=Object(v["connect"])(L)(x)},18322:function(e,t,r){"use strict";var n=r(18323);t["a"]=n["a"]},18323:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(17258);var f=r(17028);var d=r(20206);var v=r.n(d);var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function b(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O={workspaces:a.a.array.isRequired,scrollElement:a.a.any,onScroll:a.a.func,renderWorkspaceCard:a.a.func,topOffset:a.a.number};var E={scrollElement:window,onScroll:l["noop"],renderWorkspaceCard:l["noop"],topOffset:0};var j=function(e){y(t,e);m(t,null,[{key:"getUpdatedRowIndex",value:function e(t){var r=t.currentRow,n=void 0===r?0:r,a=t.prevColumns,i=void 0===a?0:a,o=t.updatedColumns,s=void 0===o?0:o;if(!n)return 0;if(i===s)return n;var c=n*i;return Math.floor(c/s)}}]);function t(e){_(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(l["bindAll"])(r,["onScroll","onResize","setListRef","getListKeys","renderRow","renderCell"]);r.state={columns:3};r.list=null;r.keys=[];r.rowsByIndex=[];r.currentRow=0;return r}m(t,[{key:"componentDidMount",value:function e(){window.addEventListener("resize",this.onResize);this.calculateColumns()}},{key:"componentDidUpdate",value:function e(r,n){if(this.state.columns!==n.columns){var a=t.getUpdatedRowIndex({currentRow:this.currentRow,prevColumns:n.columns,updatedColumns:this.state.columns});this.currentRow=a;var i=this.getKeyForRow(a);this.keys&&this.list.scrollToKey(i)}}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("resize",this.onResize)}},{key:"onScroll",value:function e(t){return this.props.onScroll(t)}},{key:"onResize",value:function e(){var t=this.list.getVisibleRange(),r=t.start;this.currentRow=r||0;this.calculateColumns()}},{key:"getListKeys",value:function e(){return this.keys}},{key:"getContentHeight",value:function e(){return this.list.getContentHeight()}},{key:"getKeyForRow",value:function e(t){return this.keys[t]}},{key:"setListRef",value:function e(t){this.list=t}},{key:"setColumns",value:function e(t){this.setState(function(){return{columns:t}})}},{key:"getWorkspacesByRowIndex",value:function e(t){var r=this.state.columns;var n=this.props.workspaces;var a=this.rowsByIndex[t];var i=Math.min(a+r,n.length);return Object(l["range"])(a,i)}},{key:"calculateColumns",value:function e(){var t=window.innerWidth;var r=3;r=Object(f["c"])(t)?1:Object(f["d"])(t)?2:3;this.state.columns!==r&&this.setColumns(r)}},{key:"renderCell",value:function e(t){var r=this.props,n=r.workspaces,a=r.renderWorkspaceCard;var i=n[t];if(!i)return null;return o.a.createElement("div",{className:"p-workspace_grid_list__cell",key:"grid_list_cell_"+t},a(i))}},{key:"renderRow",value:function e(t){var r=this;var n=this.getWorkspacesByRowIndex(t);var a=c()("p-workspace_grid_list__row",{"p-workspace_grid_list__row--one_column":1===this.state.columns});return o.a.createElement("div",{className:a},n.map(function(e){return r.renderCell(e)}))}},{key:"render",value:function e(){var t=this.props,r=t.topOffset,n=t.scrollElement,a=b(t,["topOffset","scrollElement"]);this.rowsByIndex=Object(l["range"])(0,this.props.workspaces.length,this.state.columns);this.keys=this.rowsByIndex.map(function(e){return e.toString()});return o.a.createElement(p["a"],h({keys:this.getListKeys(),rowRenderer:this.renderRow,ref:this.setListRef,scrollElement:this.props.scrollElement,onScroll:this.onScroll,topOffset:this.props.topOffset},a))}}]);return t}(i["PureComponent"]);j.displayName="WorkspaceGridList";j.propTypes=O;j.defaultProps=E;t["a"]=j},18325:function(e,t,r){"use strict";var n=r(18326);t["a"]=n["a"]},18326:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16913);var p=r(16921);var f=r(16912);var d=r(16918);var v=r(17027);var h=r(17304);var m=r(17390);var b=r(16950);var _=r(17389);var g=r(20207);var y=r.n(g);var O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var E=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=new f["b"]("workspace_directory");var S={enterprise:a.a.shape({icon:a.a.object,id:a.a.string,name:a.a.string}).isRequired,user:a.a.shape({id:a.a.string,is_admin:a.a.bool,is_owner:a.a.bool,is_primary_owner:a.a.bool,profile:a.a.object}).isRequired,displayManageOrgButton:a.a.bool,displaySearchBar:a.a.bool,isMobileView:a.a.bool,signoutUrl:a.a.string.isRequired,prefCompliantMemberName:a.a.string,organizationUrl:a.a.string,selectedSearchOption:a.a.object,onOptionSelected:a.a.func,onClearHeaderInput:a.a.func};var T={isMobileView:false,displayManageOrgButton:false,displaySearchBar:false,prefCompliantMemberName:"",organizationUrl:"",selectedSearchOption:{},onOptionSelected:c["noop"],onClearHeaderInput:c["noop"]};var I=function(e){w(t,e);function t(e){j(this,t);var r=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(c["bindAll"])(r,["maybeRenderSearchBar","onSelectOption","onMenuItemSelected","renderUserMenu","renderUserSettings"]);return r}E(t,[{key:"onSelectOption",value:function e(t){this.props.onOptionSelected(t)}},{key:"onMenuItemSelected",value:function e(t){var r=this.props.signoutUrl;var n=window.location.origin+"/account/settings";switch(t){case"settings":window.open(n,"_self");break;case"signout":window.open(r,"_self");break;default:}return null}},{key:"maybeRenderManageOrganizationButton",value:function e(){if(!this.props.displayManageOrgButton)return null;var t=C.t("Manage Organization",{fallbackHash:"35677e6e3c1751d4a193cc6db0f31a75016c019f"});return o.a.createElement(d["d"],{"data-qa":"ws_directory_manage_org_button",className:"p-workspace_directory_header__manage_org no_underline nudge_bottom_1",type:"outline",href:"/manage",target:"_blank",tabIndex:"0"},t)}},{key:"maybeRenderSearchBar",value:function e(){var t=this.props.selectedSearchOption;if(!this.props.displaySearchBar||this.props.isMobileView)return null;return o.a.createElement("div",{className:"p-workspace_directory_header__search","data-qa":"ws_directory_search_bar"},o.a.createElement(m["a"],{prepopulatedOption:t,featureZeroWorkspaceOnboarding:true,membersOnly:false,containerIdSelector:"directory_mount_point",triggerAction:this.onSelectOption,onClearInput:this.props.onClearHeaderInput}))}},{key:"renderUserSettings",value:function e(){return o.a.createElement("div",{className:"p-workspace_directory_header__settings"},this.maybeRenderManageOrganizationButton(),this.renderAvatar())}},{key:"renderUserMenu",value:function e(t){var r=this;var n=this.props,a=n.prefCompliantMemberName,i=n.enterprise,s=n.signoutUrl;var c=function e(){return o.a.createElement(b["b"],{key:"workspace_directory_user_menu_name",label:o.a.createElement("span",{className:"black"},a),description:C.t("Account Settings"),href:"/account/settings",onSelected:function e(){return r.onMenuItemSelected("settings")},className:"no_underline",role:"link"})};var l=function e(){return o.a.createElement(b["b"],{key:"workspace_directory_user_menu_sign_out",label:C.t("Sign out of {orgName}",{orgName:Object(f["l"])(i.name)}),href:s,onSelected:function e(){return r.onMenuItemSelected("signout")},className:"no_underline",danger:true,role:"link"})};return o.a.createElement(b["e"],O({},t,{menuClassNames:"p-workspace_directory_header__menu","data-qa":"ws_directory_user_menu"}),c(),o.a.createElement(b["c"],null),l())}},{key:"renderAvatar",value:function e(){var t=this.props.user;return o.a.createElement(b["d"],{"data-qa":"ws_directory_user_menu_trigger",renderMenu:this.renderUserMenu,position:"bottom-right",offsetX:0,offsetY:7.5},o.a.createElement(d["c"],{"aria-haspopup":true,className:"p-workspace_directory_header__user_icon",tabIndex:"0"},o.a.createElement(v["a"],{entityType:"member",dimension:36,entityData:t,customClasses:"flex_none cursor_pointer",featureReactMessages:true})))}},{key:"render",value:function e(){var t=this.props,r=t.enterprise,n=t.isMobileView,a=t.organizationUrl;var i=n?C.t("Directory"):C.t("Workspace Directory");return o.a.createElement(_["a"],{"data-qa":"ws_directory_header",title:i,team:r,isEnterprise:true,logoAriaLabel:"Slack",logoLink:a,renderRightContents:this.renderUserSettings,renderCenterContents:this.maybeRenderSearchBar})}}]);return t}(i["Component"]);I.displayName="WorkspaceDirectoryHeader";I.propTypes=S;I.defaultProps=T;var N=function e(t,r){var n=r.user,a=r.enterprise,i=void 0===a?{}:a;return{signoutUrl:Object(u["getFromBootData"])(t,"signout_url"),prefCompliantMemberName:Object(p["q"])(t,n),organizationUrl:Object(h["a"])(t,i.domain)}};t["a"]=Object(s["connect"])(N)(I)},18328:function(e,t,r){"use strict";var n=r(18329);t["a"]=n["a"]},18329:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(16917);var f=r(16918);var d=r(20208);var v=r.n(d);var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g={title:a.a.node,description:a.a.node,showCloseButton:a.a.bool,onClose:a.a.func,className:a.a.string,isHidden:a.a.bool};var y={title:"",description:"",showCloseButton:false,onClose:s["noop"],className:"",isHidden:true};var O=function(e){_(t,e);function t(e){m(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onClose=r.onClose.bind(r);r.onKeyPress=r.onKeyPress.bind(r);return r}h(t,[{key:"onClose",value:function e(t){this.props.onClose(t)}},{key:"onKeyPress",value:function e(t){t.preventDefault();if(13===t.which)return this.props.onClose(t);return null}},{key:"renderCloseButton",value:function e(){var t=this.props.isHidden;return o.a.createElement(f["c"],{tabIndex:t?-1:0,className:"p-workspace_directory_banner__close_btn",onClick:this.onClose,onKeyPress:this.onKeyPress},o.a.createElement(p["b"],{type:"times"}))}},{key:"renderBannerText",value:function e(){var t=this.props,r=t.title,n=t.description;return o.a.createElement("div",{className:"p-workspace_directory_banner__text"},o.a.createElement("div",{className:"p-workspace_directory_banner__title"},r),o.a.createElement("span",{className:"p-workspace_directory_banner__description"},n))}},{key:"render",value:function e(){var t=this.props,r=t.showCloseButton,n=t.className;var a=u()("p-workspace_directory_banner",n);return o.a.createElement("div",{className:a},this.renderBannerText(),r&&this.renderCloseButton())}}]);return t}(i["PureComponent"]);O.displayName="WorkspaceDirectoryBanner";O.propTypes=g;O.defaultProps=y;t["a"]=O},18331:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(16942);var l=r(16917);var u=r(17027);var p=r(17304);var f=r(16912);var d=r(20179);var v=r.n(d);var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=new f["b"]("workspace_directory");var y={enterprise:o.a.shape({id:o.a.string,name:o.a.string,domain:o.a.string,icon:o.a.object,locale:o.a.string}).isRequired,isZeroWorkspaceGuest:o.a.bool,isZeroWorkspaceOrg:o.a.bool,isHiddenWorkspace:o.a.bool,directoryUrl:o.a.string};var O={isZeroWorkspaceGuest:false,isZeroWorkspaceOrg:false,isHiddenWorkspace:false,directoryUrl:void 0};var E=function(e){_(t,e);function t(e){m(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.redirectToDirectory=r.redirectToDirectory.bind(r);return r}h(t,[{key:"redirectToDirectory",value:function e(){var t=this.props.directoryUrl;window.open(t+"/signin/find-workspaces","_self")}},{key:"renderHeading",value:function e(){var t=this.props,r=t.enterprise,n=t.isHiddenWorkspace;var i=n?g.t("No workspace found"):g.t("No available workspaces");return a.a.createElement("span",{className:"p-workspace_directory_empty_state__heading"},a.a.createElement("span",{className:"p-workspace_directory_empty_state__icon"},a.a.createElement(u["a"],{entityType:"org",dimension:28,entityData:r,customClasses:"flex_none",featureReactMessages:true})),i)}},{key:"renderZeroWorkspaceGuestBody",value:function e(){var t=this.props.enterprise;return a.a.createElement("p",{className:"p-workspace_directory_empty_state__body"},g.t("You have a guest account with {orgName}, which means someone needs to invite you to join a workspace. You may want to get in touch with the person who helped you create an account.",{orgName:Object(f["l"])(t.name)}))}},{key:"renderZeroWorkspaceOrgBody",value:function e(){var t=this.props.enterprise;return a.a.createElement("p",{className:"p-workspace_directory_empty_state__body"},g.t("{orgName} doesn\u2019t have any open workspaces that you can join. If you need to be added to a workspace, contact your manager or the {orgName} IT team.",{orgName:Object(f["l"])(t.name)}))}},{key:"renderHiddenWorkspaceBody",value:function e(){var t=this.props.enterprise;return a.a.createElement("p",{className:"p-workspace_directory_empty_state__body"},g.t("Either this workspace doesn\u2019t exist, or you do not have access to it. If you need to be added to a workspace, contact the {orgName} IT team.",{orgName:Object(f["l"])(t.name)}))}},{key:"renderBody",value:function e(){var t=this.props,r=t.isZeroWorkspaceGuest,n=t.isZeroWorkspaceOrg,a=t.isHiddenWorkspace;if(r)return this.renderZeroWorkspaceGuestBody();if(n)return this.renderZeroWorkspaceOrgBody();if(a)return this.renderHiddenWorkspaceBody();return null}},{key:"renderFooter",value:function e(){var t=this.props.enterprise;return a.a.createElement(c["a"],{onClick:this.redirectToDirectory,className:"p-workspace_directory_empty_state__footer"},g.t("View all {orgName} workspaces",{orgName:Object(f["l"])(t.name)}),a.a.createElement(l["b"],{type:"chevron-right",key:"footer-chevron-icon",inline:true}))}},{key:"render",value:function e(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"p-workspace_directory_empty_state"},this.renderHeading(),this.renderBody()),this.props.isHiddenWorkspace&&this.renderFooter())}}]);return t}(n["PureComponent"]);E.displayName="WorkspaceDirectoryEmptyState";E.propTypes=y;E.defaultProps=O;var j=function e(t,r){var n=r.enterprise;return{directoryUrl:Object(p["a"])(t,n.domain)}};t["a"]=Object(s["connect"])(j)(E)},18332:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17940);var a=r(16928);Object(a["a"])("interop.Eventlog",{createInstanceForTeam:n["a"],getInstanceForTeam:n["b"]})},18333:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17008);var a=r(16928);var i=r(17075);Object(a["a"])("interop.Flannel",{debugSetResponseDelay:n["b"],query:function e(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return TS.redux.dispatch(Object(n["e"])({commandType:t,args:r,attemptNumber:a}))},fetchRawMembersWithQuery:function e(t,r){return TS.redux.dispatch(Object(i["d"])({query:t,limit:r}))},fetchRawChannelsWithQuery:function e(t,r){return TS.redux.dispatch(Object(i["b"])({query:t,limit:r}))},fetchRawUpdatedMembersByIds:function e(t){return TS.redux.dispatch(Object(i["c"])({ids:t,fetchConditionally:true}))},fetchRawUpdatedChannelsByIds:function e(t){return TS.redux.dispatch(Object(i["a"])({ids:t,fetchConditionally:false}))},fetchRawMembersByIds:function e(t){return TS.redux.dispatch(Object(i["c"])({ids:t,fetchConditionally:false}))},fetchRawChannelsByIds:function e(t){return TS.redux.dispatch(Object(i["a"])({ids:t,fetchConditionally:false}))},getSocketStartArgs:function e(){return Object(n["d"])(TS.redux.getState())},useSocket:function e(){return Object(n["g"])(TS.redux.getState())},getFlannelConnectionUrl:n["c"]})},18334:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(18335);Object(n["a"])("interop.greetingsEarth",{greet:a["a"],takeMeToYourLeader:a["b"]})},18335:function(e,t,r){"use strict";t["a"]=a;t["b"]=i;var n=r(16916);function a(){Object(n["info"])("Greetings Earth!")}function i(){Object(n["info"])("\ud83d\udc7d")}},18336:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18337);var a=r(16928);Object(a["a"])("interop.beaconApiCall",n["a"])},18337:function(e,t,r){"use strict";t["a"]=a;var n=window.navigator&&"function"===typeof window.navigator.sendBeacon;function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.apiUrl,r=e.method,a=e.token,i=e.args,o=void 0===i?{}:i,s=e.versionTs,c=void 0===s?"":s,l=e.versionUid,u=void 0===l?"":l;var p=false;var f=""+t+r+"?_x_id="+u.substring(0,8)+"-"+Date.now()/1e3;var d=new FormData;d.append("token",a);Object.keys(o).forEach(function(e){return d.append(e,o[e])});if(n)p=navigator.sendBeacon(f,d);else{var v=new XMLHttpRequest;v.addEventListener("load",function(){var e=v.readyState,t=v.status,r=v.DONE;e===r&&200===t&&(p=true)});v.open("POST",f,true);v.setRequestHeader("X-Slack-Version-Ts",c);v.send(d)}return p}},18338:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18339);var a=r(16928);Object(a["a"])("interop.boot",{data:n})},18339:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"hydrateStartData",function(){return E});var n=r(1);var a=r.n(n);var i=r(16926);var o=r(3);var s=r.n(o);var c=r(16920);var l=r(17075);var u=r(18340);var p=r(16978);var f=r(16999);var d=r(17061);var v=r(16933);var h=r(16919);var m=r(16923);var b=r(16913);var _=r(17343);var g=this;var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function O(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,i){try{var o=t[a](i);var s=o.value}catch(e){r(e);return}if(!o.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}var E=Object(i["b"])("Hydrate start data by fetching any required objects",function(){var e=O(regeneratorRuntime.mark(function e(t,r,n){var i=n.startData;var o,s,l,u,p,f,d,O,E,w,C,S,T,I,N,A,P,R,M,x,L,D,F,B,U,H,q,G,W,V,K,z,Q,Y,J,X,Z,$;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:o=r();s=a.a.assign({},i.rtm_start);l=a.a.get(i,"self",a.a.get(s,"self"));u=a.a.get(l,"id");if(i.channels){p=i.my_channels,f=void 0===p?{}:p,d=i.rtm_start,O=void 0===d?{}:d;E=O.last_read,w=void 0===E?{}:E,C=O.channels_priority,S=void 0===C?{}:C,T=O.is_open,I=void 0===T?[]:T,N=O.starred,A=void 0===N?[]:N;P=I.reduce(function(e,t){e[t]=true;return e},{});R=A.reduce(function(e,t){e[t]=true;return e},{});M=[];x=[];L=i.channels.length;for(D=0;D<L;D++){F=i.channels[D];B=F.id;U=f[B];H=!!U;q=w[B];G=S[B];W=!!R[B];V=!!P[B];K=Object(c["isMpim"])(F)?y({},F,{is_member:H,latest:U,last_read:q,priority:G,is_starred:W,is_open:V}):y({},F,{is_member:H,latest:U,last_read:q,priority:G,is_starred:W});(F.is_group?M:x).push(K)}s.groups=M;s.channels=x}delete s.users;delete s.updated_users;delete s.updated_bots;s.bots=[];z=void 0;Q=Object(b["getFromBootData"])(o,"file");if(Q){Y=a.a.map(Q.comments||[],"user");z=Y.concat(Q.user)}J=void 0;X=void 0;if(!Object(_["a"])()){J=a.a.map(Object(h["getAllMembers"])(o),"id");X=Object(b["isFeatureEnabled"])(o,"feature_lazy_channels")?a.a.map(Object(m["getAllChannels"])(o),"id"):[]}Z=Object(b["isFeatureEnabled"])(o,"feature_non_blocking_user_boot")?a()([u]).concat(z).concat(J).uniq().compact().value():a()([s.mpims,s.ims,s.channels]).flatten().filter(function(e){return e.is_mpim||e.is_im}).map(function(e){return e.members||[e.user]}).flatten().concat(u).concat(z).concat(J).uniq().compact().value();$=Object(b["isFeatureEnabled"])(o,"feature_lazy_channels")?a.a.difference(X,a.a.keys(i.my_channels)):[];if(!(!Z.length&&!$.length)){n.next=21;break}Object(v["c"])(123,"Got rtm.start data and don't need to fetch anything");s.users=[];return n.abrupt("return",Promise.resolve(s));case 21:Object(v["c"])(123,"Got rtm.start data but need to fetch "+Z.length+" members and "+$.length+" channels");if(Object(v["f"])(1989)){Object(v["c"])(1989,Z.join(", "));Object(v["c"])(1989,$.join(", "))}if(!Object(b["isFeatureEnabled"])(o,"feature_non_blocking_user_boot")){n.next=28;break}j(t,r,Z).catch(function(e){Object(v["a"])("Got error while trying to fetch "+Z.length+" members for runaway start data :(",e);Object(v["b"])("Members we were trying to fetch: "+Z.join(", "))});Object(b["isFeatureEnabled"])(o,"feature_lazy_channels")&&k(t,r,$).catch(function(e){Object(v["a"])("Got error while trying to fetch "+$.length+" channels for runaway start data :(",e);Object(v["b"])("Channels we were trying to fetch: "+$.join(", "))});s.users=[l];return n.abrupt("return",Promise.resolve(s));case 28:if(!Object(b["isFeatureEnabled"])(o,"feature_lazy_channels")){n.next=30;break}return n.abrupt("return",Promise.join(j(t,r,Z),k(t,r,$),function(e,t){Object(v["c"])(123,"Got "+e.length+" members and "+t.length+" channels for start data :tada:");s.channels=s.channels.concat(t);s.users=e;return s}).catch(function(e){Object(v["a"])("Got error while trying to fetch "+Z.length+" members and "+$.length+" channels for start data :(",e);Object(v["b"])("Members we were trying to fetch: "+Z.join(", "));Object(v["b"])("Channnls we were trying to fetch: "+$.join(", "));throw e}));case 30:return n.abrupt("return",j(t,r,Z).then(function(e){Object(v["c"])(123,"Got "+e.length+" members for start data :tada:");s.users=e;return s}).catch(function(e){Object(v["a"])("Got error while trying to fetch "+Z.length+" members for start data :(",e);Object(v["b"])("Members we were trying to fetch: "+Z.join(", "));throw e}));case 31:case"end":return n.stop()}},e,g)}));return function(t,r,n){return e.apply(this,arguments)}}());E.propTypes={startData:o["PropTypes"].object.isRequired};function j(e,t,r){var n=Object(b["isFeatureEnabled"])(t(),"feature_non_blocking_user_boot");return e(Object(l["c"])({ids:r,fetchConditionally:true})).catch(function(t){Object(v["d"])("infra/boot/data: Got error from fetchMembersById; falling back to version with API fallback. Error: "+t+". Stack: "+t.stack);var n="infra/boot/data: fetchMembersById failed";return e(Object(d["g"])({ids:r,reason:n})).then(function(e){var t=e.members;return t})}).tap(function(){return n?Object(u["a"])():Promise.resolve()}).tap(function(e){return n&&Object(p["i"])(e)})}function k(e,t,r){var n=Object(b["isFeatureEnabled"])(t(),"feature_non_blocking_user_boot");return e(Object(l["a"])({ids:r,fetchConditionally:false})).catch(function(t){Object(v["d"])("infra/boot/data: Got error from fetchChannelsById; falling back to version with API fallback. Error: "+t+". Stack: "+t.stack);var n="infra/boot/data: fetchChannelsById failed";return e(Object(f["l"])({ids:r,reason:n})).then(function(e){var t=e.channels;return t})}).tap(function(){return n?Object(u["a"])():Promise.resolve()}).tap(function(t){return n&&e(Object(m["upsertChannels"])({channels:t}))})}},18340:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.ensureFullyBooted",function(){throw new Error("Not implemented (and only ever intended for use in non-Sonic Land)")})},18341:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17091);var a=r(16928);Object(a["a"])("interop.BandwidthChecker",n["a"])},18342:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(20406);var a=r(20407);var i=r(16928);Object(i["a"])("interop.metrics",Object(n["a"])("timing"));Object(i["a"])("interop.metrics.start",function(){return a["a"].start()});Object(i["a"])("interop.metrics.sendDataAndEmptyQueue",function(){return a["a"].sendDataAndEmptyQueue()})},18343:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(16991);Object(n["a"])("interop.rtm",{debugGetHandlers:a["c"],debugGetPendingMessages:function e(){return Object(a["d"])(TS.boot_data.team_id)}})},18344:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17099);var a=r(16928);function i(e){if(!n[e])throw new Error("There is no Socket Manager action called '"+e+"'");return function(){var t=n[e].apply(n,arguments);return TS.redux.dispatch(t)}}Object(a["a"])("interop.SocketManager",{clearFastReconnectUrl:i("clearFastReconnectUrl"),debugGetInstance:i("debugGetInstance"),debugGetState:i("debugGetState"),debugResetRateLimit:i("debugResetRateLimit"),debugSetFastReconnectsEnabled:i("debugSetFastReconnectsEnabled"),debugSetSocketConnectFlakiness:i("debugSetSocketConnectFlakiness"),debugSetSocketSendFlakiness:i("debugSetSocketSendFlakiness"),debugTriggerError:i("debugTriggerError"),disconnect:i("disconnect"),finalizeProvisionalConnection:i("finalizeProvisionalConnection"),reconnectImmediately:i("reconnectImmediately"),send:i("send"),sleep:i("sleep"),start:i("start"),wake:i("wake")})},18345:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17050);var a=r(16928);Object(a["a"])("interop.setTeamIdForToken",n["c"])},18346:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(12159);var a=r.n(n);var i=r(1);var o=r.n(i);var s=r(16912);var c=r(16928);var l=r(17992);var u=r(17993);var p=r(17765);var f=r(17766);function d(e){var t=new s["b"]("channel_browser");var r=t.rt("<span>Show:</span> {label}",{label:e.label},function(t){var r=t.text;return a.a.createElement("span",{key:e.id,className:"sk_dark_gray"},r)});return r}function v(e){var t=new s["b"]("channel_browser");var r=t.rt("<span>Sort:</span> {label}",{label:e.label},function(t){var r=t.text;return a.a.createElement("span",{key:e.id,className:"sk_dark_gray"},r)});return r}function h(e){var t=new s["b"]("team_picker");var r=void 0;r=e?t.rt("No teams found matching <strong>{query}</strong>",{query:o.a.escape(e)}):t.t("No teams found");return r}function m(e){return a.a.createElement(l["a"],{item:e})}m.displayName="teamPickerListItem";function b(e){return a.a.createElement(u["a"],{item:e})}b.displayName="teamPickerToken";function _(e){return a.a.createElement(p["a"],{item:e})}_.displayName="memberListItem";function g(e){return a.a.createElement(f["a"],{item:e})}g.displayName="memberListToken";Object(c["a"])("interop.lazyFilterSelect",{channelBrowserShowWhichChannelsToken:d,channelBrowserSortByToken:v,teamPickerNoResults:h,teamPickerListItem:m,teamPickerToken:b,memberListItem:_,memberListToken:g})},18347:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(17292);var i=r(17046);function o(e){var t=TS.redux.dispatch(Object(i["getOrFetchMemberCounts"])({channelId:e}));if(t.promise)return t.promise.then(function(){return Object(i["getCachedMemberCounts"])(TS.redux.getState(),e).counts});return Promise.resolve(t.counts)}Object(n["a"])("interop.memberCounts",{getOrFetchMemberCounts:function e(t){return TS.redux.dispatch(Object(i["getOrFetchMemberCounts"])({channelId:t}))},promiseToGetMemberCounts:o,fetchMemberCountsForTeam:function e(){return TS.redux.dispatch(Object(a["b"])())}})},18349:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);var a=r.n(n);var i=r(16919);var o=r(17127);var s=r(16922);var c=r(16913);var l=r(16979);var u=r(17061);var p=r(16921);var f=r(17008);var d=r(18350);var v=r(16928);var h=function(){function e(e,t){var r=[];var n=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){a=true;i=e}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function m(e){var t=e;e&&"@"===e[0]&&(t=e.substring(1));var r=TS.redux.getState();var n=Object(i["getMemberById"])(r,t);if(!n)return null;if(n.isUnknown)return null;if(n.isNonExistent)return null;return n}function b(e){return Object(n["isString"])(e)?m(e):e}function _(e){return Object(o["b"])(TS.redux.getState(),e)}function g(e){return TS.redux.dispatch(Object(u["a"])(e))}function y(e){return TS.redux.dispatch(Object(u["d"])(e))}function O(e){return TS.redux.dispatch(Object(u["c"])(e))}function E(e){var t=TS.redux.getState();var r=Object(n["uniq"])(e);var a=Object(n["partition"])(r,function(e){return Object(i["isMemberKnown"])(t,e)}),o=h(a,2),s=o[0],p=o[1];var d=s.map(function(e){return Object(i["getMemberById"])(t,e)});var v=Object(c["isLegacyCallsApp"])(t)&&!Object(l["isConnecting"])(t);if(v||!Object(f["g"])(t))return TS.redux.dispatch(Object(u["b"])({ids:p,reason:"ensureMembersArePresent isEarlyCallsBoot"})).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.resolved;return d.concat(t)});return TS.redux.dispatch(Object(u["a"])({ids:p,reason:"ensureMembersArePresent"})).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.resolved;return d.concat(t)})}Object(v["a"])("interop.members",{getMemberById:m,shouldDisplayRealNames:function e(){return Object(s["shouldDisplayRealNames"])(TS.redux.getState())},getUserHighlightWords:function e(){return Object(s["getUserHighlightWords"])(TS.redux.getState())},getPrefCompliantMemberName:function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return p["q"].apply(void 0,[TS.redux.getState()].concat(r))},getPrefCompliantMemberNameById:function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return p["r"].apply(void 0,[TS.redux.getState()].concat(r))},getMemberByName:function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return i["getMemberByName"].apply(void 0,[TS.redux.getState()].concat(r))},memberExistsWithName:function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return i["memberExistsWithName"].apply(void 0,[TS.redux.getState()].concat(r))},isAppmin:function e(){return Object(i["isAppmin"])(TS.redux.getState())},isExternal:p["E"],isExternalById:function e(t){return Object(p["F"])(TS.redux.getState(),t)},isMemberOnTeam:p["J"],fetchMemberProfileExtras:u["e"],memberSorterByName:d["a"],getMemberCurrentStatus:i["getMemberCustomStatus"],getMemberMentionName:p["f"],getMemberMentionRegExp:p["g"],getMemberRealName:function e(t){return Object(p["k"])(b(t))},getMemberRealNameLowerCase:function e(t){return Object(p["l"])(b(t))},getMemberProfileFieldDisplayName:function e(t){return Object(p["i"])(b(t))},getMemberProfileFieldDisplayNameLowerCase:function e(t){return Object(p["j"])(b(t))},getMemberSecondaryName:function e(t){return Object(p["m"])(TS.redux.getState(),b(t))},ensureMembersArePresent:E,processMemberForUpserting:_,fetchAndUpsertMembersById:g,fetchAndUpsertMembersWithQuery:y,fetchAndUpsertMembersFromFlannel:O})},18350:function(e,t,r){"use strict";t["a"]=i;var n=r(16995);var a=r(17054);function i(e,t){var r=Object(a["d"])(e);var i=Object(a["d"])(t);return Object(n["a"])(r,i)}},18351:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17119);var a=r(16928);var i=r(17130);function o(e){return function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(void 0,[TS.redux.getState()].concat(r))}}function s(e){var t=Object(i["a"])(e);if(!t.is_known){t.is_known=false;Object.defineProperty(t,"is_member",{get:function e(){throw new Error("Value for is_member is not known; check is_known before accessing this field")}})}return t}Object(a["a"])("interop.membership",{ensureChannelMembershipIsKnownForUsers:o(n["ensureChannelMembershipIsKnownForUsers"]),getCachedChannelMembershipInfoForUser:function e(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];var i=n["getCachedChannelMembershipInfoForUser"].apply(void 0,[TS.redux.getState()].concat(r));return s(i)}})},18353:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(20410);Object(n["a"])("interop.metricsResponsiveness",{startMonitoringResponsiveness:a["f"],stopMonitoringResponsiveness:a["h"],storeResponsiveStats:a["j"],isEnabled:a["d"],getTotalBeachballCount:a["b"],getTotalStutterCount:a["c"]})},18354:function(e,t,r){"use strict";r.d(t,"a",function(){return a});r.d(t,"b",function(){return i});var n=r(16914);var a=Object(n["c"])("TS.debug_widget.isVisible");var i=Object(n["c"])("TS.experiment.setFrameRate")},18355:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18356);var a=r(16928);Object(a["a"])("interop.mountAppsBrowser",n["a"]);Object(a["a"])("interop.unmountAppsBrowser",n["b"])},18356:function(e,t,r){"use strict";r.d(t,"a",function(){return p});r.d(t,"b",function(){return f});var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(16954);var l=r(16927);var u=r(18357);var p=function e(t,r,n){if(!t)throw new Error("mountAppsBrowser must be called with a teamId parameter");Object(c["a"])(a.a.createElement(s["Provider"],{store:Object(l["c"])(t)},a.a.createElement(u["a"],n)),r)};var f=function e(t){o.a.unmountComponentAtNode(t)};var d={mountAppsBrowser:p}},18357:function(e,t,r){"use strict";var n=r(18358);t["a"]=n["a"]},18358:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(9);var f=r(16922);var d=r(16929);var v=r(16941);var h=r(17995);var m=r(17089);var b=r(16912);var _=r(17692);var g=r(17019);var y=r(16952);var O=r(20210);var E=r.n(O);var j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var k=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function w(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function T(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var I=50;var N=new b["b"]("apps_browser");var A={hasSeenAppSpaceTutorial:a.a.bool,isInternetExplorer:a.a.bool,isFirefoxAndWindows:a.a.bool,isFirefoxAndMac:a.a.bool,isMacSsbBuild:a.a.bool,scrollThreshold:a.a.number,addAppsVariant:a.a.bool,isUnpaid:a.a.bool};var P={hasSeenAppSpaceTutorial:false,isInternetExplorer:false,isFirefoxAndWindows:false,isFirefoxAndMac:false,isMacSsbBuild:false,scrollThreshold:500,addAppsVariant:false,isUnpaid:false};var R={listEnpoint:"apps.index.list",searchEndpoint:"apps.index.search"};var M={id:"tutorial_category",name:"",display_name:"",apps:[{name:N.t("What are apps?"),short_description:N.t("A quick look at how apps in Slack can streamline your work"),icons:{image_84:cdn_url+"/436da/img/tutorial@2x.png"},app_id:"tutorial_app",bot_id:"",bot_user_id:"",is_installed:false}]};var x=function(e){T(t,e);function t(e){C(this,t);var r=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.lastRequestId=0;r.currentDisplayedId=0;r.isMouseMoveEnabled=true;r.firstSelectableAppIndex=e.hasSeenAppSpaceTutorial?1:0;r.runningAppIndex=0;r.showLimitMeter=false;r.appsForLimitMeter=null;r.cloggedLimitMeterImpression=false;r.LimitMeterClogId=null;r.appLimitMeterClogPayload={};r.isPaginating=false;r.state={isShowingDefaultAppCategories:true,isSearching:false,searchTerm:"",appCategories:[],selectedAppIndex:null,showLoadingIndicator:false,showPaginationIndicator:false};r.handleKeydown=r.handleKeydown.bind(r);r.handleMouseMove=r.handleMouseMove.bind(r);r.handleAppsListScroll=r.handleAppsListScroll.bind(r);r.handleAppDirectoryButtonClick=r.handleAppDirectoryButtonClick.bind(r);r.handleSearchInputChange=r.handleSearchInputChange.bind(r);r.handleAppClick=r.handleAppClick.bind(r);r.handleAppMouseLeave=r.handleAppMouseLeave.bind(r);r.handleAppLimitMeterClickClog=r.handleAppLimitMeterClickClog.bind(r);r.fillDefaultAppsList=r.fillDefaultAppsList.bind(r);r.searchApps=r.searchApps.bind(r);r.completeRequest=r.completeRequest.bind(r);r.enableMouseMove=r.enableMouseMove.bind(r);r.throttledSearchApps=u.a.throttle(r.searchApps,500,{leading:false});r.debouncedEnableMouseMove=u.a.debounce(r.enableMouseMove,200);return r}k(t,[{key:"componentDidMount",value:function e(){var t=this;document.body.addEventListener("keydown",this.handleKeydown);document.body.addEventListener("mousemove",this.handleMouseMove);this.loadingTimeout=setTimeout(function(){t.setState(function(){return{showLoadingIndicator:true}})},300);this.completeRequest(Object(d["c"])(R.listEnpoint,{limit:I}).then(function(e){t.defaultAppCategories=[M].concat(w(e.data.categories));return{categories:t.defaultAppCategories}}),R.listEnpoint,false,this.fillDefaultAppsList)}},{key:"componentWillReceiveProps",value:function e(t){var r=this;var n=this.getSelectedApp();"tutorial_app"===u.a.get(n,"dataset.app_id")&&!this.props.hasSeenAppSpaceTutorial&&t.hasSeenAppSpaceTutorial&&this.setState(function(){return{selectedAppIndex:null}},function(){r.firstSelectableAppIndex=r.state.isShowingDefaultAppCategories?1:0})}},{key:"componentWillUpdate",value:function e(t,r){this.state.isShowingDefaultAppCategories!==r.isShowingDefaultAppCategories&&(this.firstSelectableAppIndex=r.isShowingDefaultAppCategories&&t.hasSeenAppSpaceTutorial?1:0)}},{key:"componentWillUnmount",value:function e(){document.body.removeEventListener("keydown",this.handleKeydown);document.body.removeEventListener("mousemove",this.handleMouseMove)}},{key:"getAppsListHeight",value:function e(){return document.querySelector("[data-apps_list]").scrollHeight}},{key:"getAppIcon",value:function e(t){return Object(m["a"])(t,72)}},{key:"getSelectedApp",value:function e(){return document.querySelector("[data-app_index='"+this.state.selectedAppIndex+"']")}},{key:"getTotalAppsCount",value:function e(){var t=0;for(var r=0;r<this.state.appCategories.length;r++)t+=u.a.get(this.state.appCategories[r],"apps",[]).length;return t}},{key:"enableMouseMove",value:function e(){this.isMouseMoveEnabled=true}},{key:"handleKeydown",value:function e(t){var r=this;var n=0;for(var a=0;a<this.state.appCategories.length;a++)n+=this.state.appCategories[a].apps.length;if(0===n)return;var i=void 0;switch(t.which){case 40:case 9:if(this.isElementTextInput(t.target)){t.stopPropagation();t.preventDefault()}this.isMouseMoveEnabled=false;this.setState(function(e){var t=void 0;t=null===e.selectedAppIndex?r.firstSelectableAppIndex:e.selectedAppIndex===n-1?e.selectedAppIndex:e.selectedAppIndex+1;return{selectedAppIndex:t}},function(){r.scrollSelectedAppIntoView(false);r.debouncedEnableMouseMove()});break;case 38:if(this.isElementTextInput(t.target)){t.stopPropagation();t.preventDefault()}this.isMouseMoveEnabled=false;this.setState(function(e){var n=void 0;n=null===e.selectedAppIndex?r.firstSelectableAppIndex:e.selectedAppIndex===r.firstSelectableAppIndex?r.firstSelectableAppIndex:t.getModifierState("Shift")?r.firstSelectableAppIndex:e.selectedAppIndex-1;return{selectedAppIndex:n}},function(){r.scrollSelectedAppIntoView(false);r.debouncedEnableMouseMove()});break;case 13:i=this.getSelectedApp();i&&this.selectApp(i.dataset);break;default:break}}},{key:"isElementTextInput",value:function e(t){return"text"===t.type}},{key:"scrollSelectedAppIntoView",value:function e(){var t=this.getSelectedApp();if(!t)return;var r=document.querySelector("[data-apps_list]");var n=document.querySelector("[data-category_header]");var a=n?n.offsetHeight:0;t.offsetTop<r.scrollTop?r.scrollTop=t.offsetTop-a:t.offsetTop+t.offsetHeight>r.scrollTop+r.offsetHeight&&(r.scrollTop=t.offsetTop+t.offsetHeight-r.offsetHeight)}},{key:"handleAppClick",value:function e(t){this.selectApp(t.currentTarget.dataset)}},{key:"handleAppMouseLeave",value:function e(t){this.getSelectedApp()===t.currentTarget&&this.setState(function(){return{selectedAppIndex:null}})}},{key:"selectApp",value:function e(t){var r={app_id:t.app_id,bot_id:t.bot_id,is_from_search:this.state.isShowingDefaultAppCategories?"0":"1",contexts:{core:{app_id:t.app_id,bot_id:t.bot_id}}};if("tutorial_app"===t.app_id)Object(h["f"])();else if("app_limit_meter"===t.app_id){var n=parseInt(t.clogParams.split("=")[1],10);if("pricing_link"===t.clogUiElement){window.open(window.location.origin+"/pricing?ui_step=280&ui_element=5'");Object(v["b"])("GROWTH_PRICING",{num_of_apps:n,contexts:{ui_context:{step:"apps_browser",action:"click",ui_element:"pricing_link"}}});Object(v["b"])("UPGRDEXP_LIMIT_APPSPACE",{num_of_apps:n,contexts:{ui_context:{step:"apps_browser",action:"click",ui_element:"pricing_link"}}})}else{window.open(window.location.origin+"/apps");Object(v["b"])("UPGRDEXP_LIMIT_APPSPACE",{num_of_apps:n,contexts:{ui_context:{step:"apps_browser",action:"click",ui_element:"link_app_directory"}}})}}else if("true"===t.can_app_be_added)Object(h["a"])(t);else if("true"===t.is_installed){Object(h["e"])(t);Object(v["b"])("APP_INDEX_VIEW_CLICK",r)}else{window.open(window.location.origin+"/apps/"+t.app_id);Object(v["b"])("APP_INDEX_INSTALL_CLICK",r)}}},{key:"handleMouseMove",value:function e(t){if(!this.isMouseMoveEnabled)return;var r=t.target.closest("[data-app]");r&&this.setState(function(){return{selectedAppIndex:parseInt(r.dataset.app_index,10)}})}},{key:"handleAppsListScroll",value:function e(t){var r=t.currentTarget;var n=r.offsetHeight+r.scrollTop+this.props.scrollThreshold;this.state.isShowingDefaultAppCategories&&n>r.scrollHeight&&this.loadMoreApps(this.state.appCategories[1],R.listEnpoint)}},{key:"handleAppDirectoryButtonClick",value:function e(){window.open(window.location.origin+"/apps");Object(v["b"])("APP_INDEX_VIEW_APP_DIRECTORY_CLICK")}},{key:"handleAppLimitMeterClickClog",value:function e(){if("GROWTH_PRICING"===this.LimitMeterClogId){this.appLimitMeterClogPayload.contexts.ui_context.action="click";Object(v["b"])("UPGRDEXP_LIMIT_APPSPACE",this.appLimitMeterClogPayload)}}},{key:"handleSearchInputChange",value:function e(t){this.throttledSearchApps(t.target.value)}},{key:"fillDefaultAppsList",value:function e(){var t=this.state.appCategories[1];if(t.next_cursor&&window.innerHeight-230>this.getAppsListHeight())this.loadMoreApps(t,R.listEnpoint,this.fillDefaultAppsList);else{this.setState(function(){return{showLoadingIndicator:false}});clearTimeout(this.loadingTimeout)}}},{key:"loadMoreApps",value:function e(t,r,n){var a=this;if(this.isPaginating)return;if(!t.next_cursor)return;var i={category:t.id,cursor:t.next_cursor,limit:I};r===R.searchEndpoint&&(i.query=this.state.searchTerm);var o=setTimeout(function(){a.setState(function(){return{showPaginationIndicator:true}})},300);this.isPaginating=true;this.lastRequestId+=1;var s=this.lastRequestId;Object(d["c"])(r,i).then(function(e){if(s<a.lastRequestId)return;var i=e.data.categories[0];if(!i)return;a.setState(function(e){if(s<a.lastRequestId)return{};for(var n=0;n<e.appCategories.length;n++)if(e.appCategories[n].id===t.id){var o=[].concat(w(e.appCategories[n].apps),w(i.apps));var c=j({},e.appCategories[n]);c.apps=o;c.next_cursor=i.next_cursor;var l=[].concat(w(e.appCategories));l[n]=c;r===R.listEnpoint&&(a.defaultAppCategories=l);return{appCategories:l,showPaginationIndicator:false}}return{}},function(){a.isPaginating=false;clearTimeout(o);n&&"function"===typeof n&&n()})})}},{key:"searchApps",value:function e(t){var r=this;if(t){var n=setTimeout(function(){r.setState(function(){return{isSearching:true}})},300);this.completeRequest(Object(d["c"])(R.searchEndpoint,{query:t}).then(function(e){clearTimeout(n);r.setState(function(){return{searchTerm:t,isShowingDefaultAppCategories:false,isSearching:false}});return e.data}),R.searchEndpoint,true);Object(v["b"])("APP_INDEX_SEARCH")}else this.setState(function(){return{showLoadingIndicator:false,appCategories:r.defaultAppCategories,isShowingDefaultAppCategories:true}})}},{key:"completeRequest",value:function e(t,r,n,a){var i=this;this.lastRequestId+=1;var o=this.lastRequestId;t.then(function(e){if(o>i.currentDisplayedId){i.currentDisplayedId=o;var t={appCategories:e.categories,selectedAppIndex:u.a.get(e,"categories[0].apps",[]).length&&r===R.searchEndpoint?0:null};n&&(t.showLoadingIndicator=false);if(i.props.addAppsVariant){var s=u()(e.categories).flatMap("apps").filter("bot_user_id").map("bot_user_id").value();Object(h["d"])(s).then(function(){i.updateAfterRequest(t,a)})}else i.updateAfterRequest(t,a)}}).catch(u.a.noop)}},{key:"updateAfterRequest",value:function e(t,r){this.setState(function(){return t},function(){r&&"function"===typeof r&&r()})}},{key:"createAppCategoryMarkup",value:function e(t,r){var n=this;return t.apps.map(function(e,t){var a=r+t;var i=c()("p-apps_browser__app",{"p-apps_browser__app--selected":a===n.state.selectedAppIndex});var s="app-"+e.app_id+"-"+e.bot_id;var l=n.getAppIcon(e);var u=n.props.addAppsVariant&&e.is_installed&&Object(h["c"])(e.bot_user_id);var p=N.t("Install");"tutorial_app"===e.app_id?p=N.t("Start"):u?p=N.t("Add"):e.is_installed&&(p=N.t("View"));return o.a.createElement("div",{key:s,className:i,onClick:n.handleAppClick,onMouseLeave:n.handleAppMouseLeave,"data-app":true,"data-app_index":a,"data-is_installed":e.is_installed,"data-app_id":e.app_id,"data-bot_id":e.bot_id,"data-bot_user_id":e.bot_user_id,"data-can_app_be_added":u||null,role:"presentation"},o.a.createElement("img",{className:"p-apps_browser__app_icon",src:l,alt:"App icon"}),o.a.createElement("div",{className:"p-apps_browser__app_info"},o.a.createElement("div",{className:"p-apps_browser__app_name"},o.a.createElement("strong",null,e.name)),o.a.createElement("div",{className:"p-apps_browser__app_description"},Object(_["a"])(e.short_description,function(e,t){return o.a.createElement("strong",{key:t},e)}))),o.a.createElement("button",{className:"p-apps_browser__app_action"},p))})}},{key:"createAppCategoriesMarkup",value:function e(){var t=this;this.runningAppIndex=0;return this.state.appCategories.map(function(e){if(!u.a.get(e,"apps",[]).length)return null;var r="category-"+e.id;var n=c()("p-apps_browser__category_section",{"p-apps_browser__category_section--tutorial":"tutorial_category"===e.id},{"p-apps_browser__category_section--hidden":"tutorial_category"===e.id&&(t.props.hasSeenAppSpaceTutorial||!t.state.isShowingDefaultAppCategories||t.showLimitMeter)});var a=c()("p-apps_browser__category_header");var i=t.createAppCategoryMarkup(e,t.runningAppIndex);t.runningAppIndex+=e.apps.length;return o.a.createElement("section",{key:r,className:n},o.a.createElement("div",{className:a,"data-category_header":true},e.display_name),i)},this)}},{key:"createColorLimitMeterMarkup",value:function e(){return this.appsForLimitMeter.map(function(e,t){var r="color-meter-"+t;var n=c()({hidden:0===t,first:1===t,meter_first_green:t<4&&"blank_box"!==e.short_description,meter_second_green:4===t&&"blank_box"!==e.short_description,meter_third_green:5===t&&"blank_box"!==e.short_description,meter_fourth_green:6===t&&"blank_box"!==e.short_description,meter_yellow:7===t&&"blank_box"!==e.short_description,meter_orange:8===t&&"blank_box"!==e.short_description,meter_red:9===t&&"blank_box"!==e.short_description,on:"blank_box"!==e.short_description,off:"blank_box"===e.short_description&&1!==t});return o.a.createElement("li",{className:n,key:r})})}},{key:"createAppsForLimitMeterMarkup",value:function e(t){var r=this;if(!u.a.get(t,"apps",[]).length)return null;var n=10;this.appsForLimitMeter=JSON.parse(JSON.stringify(t.apps));var a=n-t.apps.length;while(a>0){var i={app_id:a,name:"Try a new app",short_description:"blank_box"};this.appsForLimitMeter.push(i);a-=1}this.appsForLimitMeter[0].align="ts_tip_left";this.appsForLimitMeter[n-1].align="ts_tip_right";return this.appsForLimitMeter.map(function(e,t){var n="limit-apps-"+t;var a=c()("p-apps_browser__app_limit_meter__apps","inline_block","ts_tip","ts_tip_bottom",{"p-apps_browser__app_limit_meter__blank_app_box":"blank_box"===e.short_description,is_ff_and_win:r.props.isFirefoxAndWindows,is_ff_and_mac:r.props.isFirefoxAndMac,is_ie:r.props.isInternetExplorer,ts_tip_right:"ts_tip_right"===e.align,ts_tip_left:"ts_tip_left"===e.align,no_left_margin:"ts_tip_left"===e.align});var i=c()("ts_tip_tip",{large_top_margin:"blank_box"===e.short_description,medium_top_margin:"blank_box"!==e.short_description});var s="blank_box"===e.short_description?null:r.getAppIcon(e);return o.a.createElement("div",{className:a,key:n},o.a.createElement("img",{className:"align_top",src:s,alt:""}),o.a.createElement("span",{className:i},e.name))})}},{key:"createAppLimitMeterMarkup",value:function e(){var t=this;return this.state.appCategories.map(function(e){var r=10;var n=u.a.get(e,"apps",[]).length;if(!n||n>r||"Ai01"!==e.id||!t.state.isShowingDefaultAppCategories)return null;var a=t.getSelectedApp();var i="num_of_apps="+n;var s=!!n;var l="limit-meter-"+e.id;t.showLimitMeter=s&&t.props.isUnpaid;if(!t.showLimitMeter)return null;t.firstSelectableAppIndex=0;var p=void 0;var f=void 0;var d=void 0;var h=void 0;var m=void 0;var b=c()("p-apps_browser__app_limit_meter__color_meter",{is_ff_and_win:t.props.isFirefoxAndWindows});var _=c()("p-apps_browser__app_limit_meter",{is_ff_and_mac:t.props.isFirefoxAndMac});if(n<6){p=N.t("Add apps to get things done");f=N.t("Schedule meetings, share docs, and more \u2014\xa0straight from Slack. ");d=N.t("See app suggestions");h="/apps";t.LimitMeterClogId="UPGRDEXP_LIMIT_APPSPACE";m="link_app_directory"}else if(n>5){p=N.t("Upgrade for unlimited apps");f=N.t("Your team\u2019s up and running \u2014\xa0they\u2019re using {numOfApps} apps already. On a paid plan you can add as many as you\u2019d like. ",{numOfApps:n});d=N.t("Learn more");h="/pricing?ui_step=280&ui_element=5";t.LimitMeterClogId="GROWTH_PRICING";m="pricing_link"}t.appLimitMeterClogPayload={num_of_apps:n,contexts:{ui_context:{step:"apps_browser",action:"impression",ui_element:m}}};if(!t.cloggedLimitMeterImpression){if("GROWTH_PRICING"===t.LimitMeterClogId){Object(v["b"])(t.LimitMeterClogId,t.appLimitMeterClogPayload);Object(v["b"])("UPGRDEXP_LIMIT_APPSPACE",t.appLimitMeterClogPayload)}else Object(v["b"])(t.LimitMeterClogId,t.appLimitMeterClogPayload);t.cloggedLimitMeterImpression=true}var g=c()({hidden:t.props.isMacSsbBuild&&"pricing_link"===m,bold:"app_limit_meter"===u.a.get(a,"dataset.app_id")});var y=t.createAppsForLimitMeterMarkup(e);var O=t.createColorLimitMeterMarkup();return o.a.createElement("div",{className:"p-apps_browser__app_limit_meter__container",key:l},o.a.createElement("div",{className:_},o.a.createElement("p",{className:"p-apps_browser__app_limit_meter__heading very_small_bottom_margin"},o.a.createElement("b",null,p)),o.a.createElement("p",{className:"p-apps_browser__app_limit_meter__paragraph"},f,o.a.createElement("a",{className:g,href:h,target:"new","data-app":true,"data-app_index":t.firstSelectableAppIndex,"data-app_id":"app_limit_meter","data-clog-event":t.LimitMeterClogId,"data-clog-ui-element":m,"data-clog-ui-action":"click","data-clog-ui-step":"apps_browser","data-clog-params":i,onClick:t.handleAppLimitMeterClickClog},d)),o.a.createElement("div",null,o.a.createElement("div",{className:"p-apps_browser__app_limit_meter__apps_container"},y),o.a.createElement("ul",{className:b},O))))})}},{key:"render",value:function e(){var t=void 0;var r=c()("p-apps_browser__apps_list",{"p-apps_browser__apps_list--loading":this.state.showLoadingIndicator,"p-apps_browser__apps_list--paginating":this.state.showPaginationIndicator});var n=this.props.addAppsVariant?o.a.createElement("h2",{dangerouslySetInnerHTML:{__html:Object(h["b"])()}}):o.a.createElement("h2",null,N.t("Browse Apps"));t=!this.getTotalAppsCount()&&this.state.searchTerm?o.a.createElement("section",{key:"no-results",className:"p-apps_browser__no_results"},N.t("There are no apps matching"),"\xa0",o.a.createElement("strong",null,this.state.searchTerm)):this.createAppCategoriesMarkup();var a=this.createAppLimitMeterMarkup();return o.a.createElement("div",{className:"p-apps_browser"},o.a.createElement("div",{className:"p-apps_browser__filter_container"},o.a.createElement("div",{className:"p-apps_browser__filter_header"},n,o.a.createElement("button",{className:"p-apps_browser__browse_apps",onClick:this.handleAppDirectoryButtonClick},N.t("View App Directory"))),o.a.createElement("div",null,o.a.createElement(g["a"],{placeholder:N.t("Search by name or category (e.g. productivity, sales)"),icon:"search",autoFocus:true,isLoading:this.state.isSearching,onChange:this.handleSearchInputChange}))),o.a.createElement("div",{className:r,onScroll:this.handleAppsListScroll,"data-apps_list":true},a,t,o.a.createElement(y["a"],{className:"p-apps_browser__spinner",size:"medium"})))}}]);return t}(i["Component"]);x.displayName="AppsBrowser";x.propTypes=A;x.defaultProps=P;var L=function e(t){var r=Object(f["getUserPref"])(t,"seen_app_space_tutorial");return{hasSeenAppSpaceTutorial:r}};t["a"]=Object(p["connect"])(L)(x)},18360:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17996);var a=r(16928);Object(a["a"])("interop.mountChannelNotificationSettings",n["a"]);Object(a["a"])("interop.unmountChannelNotificationSettings",n["b"])},18361:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16912);var c=r(16918);var l=r(17997);var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=new s["b"]("prefs");var h=function(e){d(t,e);function t(){p(this,t);return f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}u(t,[{key:"render",value:function e(){var t=this.props,r=t.channelId,n=t.onClose,i=t.onReset;return a.a.createElement("div",null,a.a.createElement(l["a"],{channelId:r,onClose:n}),a.a.createElement("div",{className:"p-channel_notification_settings_embedded_actions"},a.a.createElement(c["a"],{onClick:i,type:"link"},v.rt("Reset to your default notification settings")),a.a.createElement(c["a"],{onClick:n},v.rt("Done"))))}}]);return t}(n["PureComponent"]);h.displayName="ChannelNotificationSettingsEmbedded";h.propTypes={channelId:o.a.string.isRequired,onClose:o.a.func.isRequired,onReset:o.a.func.isRequired};t["a"]=h},18363:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18364);var a=r(16928);Object(a["a"])("interop.mountChannelOptions",n["a"]);Object(a["a"])("interop.unmountChannelOptions",n["b"])},18364:function(e,t,r){"use strict";r.d(t,"a",function(){return p});r.d(t,"b",function(){return f});var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(16954);var l=r(16927);var u=r(18365);var p=function e(t,r,n){if(!t)throw new Error("mountChannelOptions must be called with a teamId parameter");var i=Object(l["c"])(t);Object(c["a"])(a.a.createElement(s["Provider"],{store:i},a.a.createElement(u["a"],n)),r)};var f=function e(t){o.a.unmountComponentAtNode(t)};var d={mountChannelOptions:p,unmountChannelOptions:f}},18365:function(e,t,r){"use strict";var n=r(18366);t["a"]=n["a"]},18366:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16927);var p=r(16913);var f=r(16949);var d=r(16925);var v=r(16980);var h=r(16922);var m=r(16971);var b=r(16923);var _=r(16919);var g=r(16939);var y=r(17391);var O=r(16920);var E=r(16999);var j=r(17003);var k=r(17400);var w=r(16912);var C=r(17010);var S=r(16941);var T=r(17767);var I=r(17594);var N=r(17745);var A=r(17358);var P=r(17171);var R=r(17014);var M=r(16957);var x=r(17392);var L=r(18367);var D=r(18368);var F=r(18372);var B=r(18373);var U=r(18374);var H=r(18375);var q=r(18376);var G=r(18377);var W=r(18382);var V=r(18383);var K=r(18385);var z=r(18390);var Q=r(18391);var Y=r(18392);var J=r(18393);var X=r(18394);var Z=r(18e3);var $=r(17393);var ee=r(18002);var te=r(20150);var re=r.n(te);var ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var ae=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function se(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ce=new w["b"]("channel_options");var le=new w["b"]("client");var ue=new w["b"]("ui_validation");var pe={0:"all_options",1:"archive",2:"share_external",3:"stop_sharing_external",4:"convert_private",5:"rename",6:"export",7:"delete",8:"purpose",9:"retention",10:"posting_privilege",11:"posting_privilege_review",12:"manage_org_access",13:"manage_org_access_name_conflict",14:"manage_org_access_review"};var fe={additionalParams:a.a.object,archiveChannelApi:a.a.func.isRequired,cancelExternalSharedChannelInviteApi:a.a.func.isRequired,channel:a.a.object,channelPurposeApi:a.a.func.isRequired,channelRetentionDuration:a.a.number,channelRetentionType:a.a.number,convertChannelToOrgSharedApi:a.a.func.isRequired,convertChannelToPrivateApi:a.a.func.isRequired,currentMember:a.a.object,currentTeam:a.a.object,disableConvertToPrivate:a.a.bool,disableRename:a.a.bool,disconnectChannel:a.a.func.isRequired,dmRetentionDuration:a.a.number,dmRetentionType:a.a.number,externalSharedTeams:a.a.array,getExternalTeamIdsConnectedOnlyByChannel:a.a.func.isRequired,groupRetentionDuration:a.a.number,groupRetentionType:a.a.number,onCancel:a.a.func.isRequired,orgName:a.a.string,pendingSharedExternalSharedTeamNames:a.a.array,preselectedSection:a.a.string,renameChannelApi:a.a.func.isRequired,showArchive:a.a.bool.isRequired,showConvertToPrivate:a.a.bool.isRequired,showDataRetention:a.a.bool.isRequired,showDelete:a.a.bool.isRequired,showExport:a.a.bool.isRequired,showManageOrgAccess:a.a.bool.isRequired,showPostingPermissions:a.a.bool.isRequired,showPurpose:a.a.bool.isRequired,showRename:a.a.bool.isRequired,showShareExternal:a.a.bool.isRequired,showStopShareExternal:a.a.bool.isRequired,teamId:a.a.string,featureDefaultSharedChannels:a.a.bool.isRequired,updateOrgAccessForChannel:a.a.func.isRequired,exportChannelHistory:a.a.func.isRequired,setChannelDeleted:a.a.func.isRequired,getChannelPref:a.a.func.isRequired,openModal:a.a.func};var de={additionalParams:{},channel:{},channelRetentionDuration:0,channelRetentionType:0,currentMember:{},currentTeam:{},disableConvertToPrivate:false,disableRename:false,dmRetentionDuration:0,dmRetentionType:0,externalSharedTeams:[],groupRetentionDuration:0,groupRetentionType:0,orgName:"",pendingSharedExternalSharedTeamNames:[],preselectedSection:"",teamId:"",openModal:c["noop"]};var ve={children:o.a.createElement("div",null),title:"",qa:"filler"};var he=0;var me=1;var be=1;var _e=0;var ge=2;var ye=0;var Oe=function e(t){var r=Object(c["invert"])(pe);return+r[t]};var Ee=function(e){se(t,e);function t(e){ie(this,t);var r=oe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.channelNameOnInvalidName=r.channelNameOnInvalidName.bind(r);r.channelNameOnValidName=r.channelNameOnValidName.bind(r);r.channelNameOrgValidation=r.channelNameOrgValidation.bind(r);r.closeAlertDialog=r.closeAlertDialog.bind(r);r.closeModal=r.closeModal.bind(r);r.getChannelRetentionPrefs=r.getChannelRetentionPrefs.bind(r);r.getPostingPermissionPrefs=r.getPostingPermissionPrefs.bind(r);r.goBackToAllOptions=r.goBackToAllOptions.bind(r);r.goBackToManageAccessPrevStep=r.goBackToManageAccessPrevStep.bind(r);r.goToStep=r.goToStep.bind(r);r.manageOrgAccessSave=r.manageOrgAccessSave.bind(r);r.onChangeCheckboxCanThread=r.onChangeCheckboxCanThread.bind(r);r.onChangeCheckboxDelete=r.onChangeCheckboxDelete.bind(r);r.onChangeManageOrgAccessShareWith=r.onChangeManageOrgAccessShareWith.bind(r);r.onChangeManageOrgAccessTeamPicker=r.onChangeManageOrgAccessTeamPicker.bind(r);r.onChangeRadioWhoCanPost=r.onChangeRadioWhoCanPost.bind(r);r.onChangeValueSelectedMembers=r.onChangeValueSelectedMembers.bind(r);r.onChannelPurposeTextareaChange=r.onChannelPurposeTextareaChange.bind(r);r.onChannelPurposeValidationChange=r.onChannelPurposeValidationChange.bind(r);r.onClickArchiveInsteadDelete=r.onClickArchiveInsteadDelete.bind(r);r.onClickArchiveOption=r.onClickArchiveOption.bind(r);r.onClickConvertToPrivateOption=r.onClickConvertToPrivateOption.bind(r);r.onClickDataRetentionOption=r.onClickDataRetentionOption.bind(r);r.onClickDeleteOption=r.onClickDeleteOption.bind(r);r.onClickExportOption=r.onClickExportOption.bind(r);r.onClickManageOrgAccessOption=r.onClickManageOrgAccessOption.bind(r);r.onClickPostingPermissionsOption=r.onClickPostingPermissionsOption.bind(r);r.onClickPurposeOption=r.onClickPurposeOption.bind(r);r.onClickRenameOption=r.onClickRenameOption.bind(r);r.onClickShareExternalOption=r.onClickShareExternalOption.bind(r);r.onClickCancelExternalSharedChannelInvite=r.onClickCancelExternalSharedChannelInvite.bind(r);r.onClickStopShareExternalOption=r.onClickStopShareExternalOption.bind(r);r.onErrorDialogButtonClick=r.onErrorDialogButtonClick.bind(r);r.onRetentionDurationChange=r.onRetentionDurationChange.bind(r);r.onRetentionDurationUnitChange=r.onRetentionDurationUnitChange.bind(r);r.onRetentionTypeChange=r.onRetentionTypeChange.bind(r);r.setManageOrgAccessLoaded=r.setManageOrgAccessLoaded.bind(r);r.setPostingPermissionsLoaded=r.setPostingPermissionsLoaded.bind(r);r.setPostingPermissionsSelectedMembers=r.setPostingPermissionsSelectedMembers.bind(r);r.setRetentionLoaded=r.setRetentionLoaded.bind(r);r.showAlertDialog=r.showAlertDialog.bind(r);r.showSuccessAlert=r.showSuccessAlert.bind(r);r.maybeDisableRetentionGoButton=r.maybeDisableRetentionGoButton.bind(r);r.saveRetention=r.saveRetention.bind(r);r.showRetentionDialog=r.showRetentionDialog.bind(r);r.hideRetentionDialog=r.hideRetentionDialog.bind(r);r.handleRetentionCheckboxChange=r.handleRetentionCheckboxChange.bind(r);r.durationInputRef=r.durationInputRef.bind(r);var n=r.props,a=n.channel,i=n.currentTeam;var o=[];var s=[];var l="";if(Object(O["isOrgSharedPublicOrPrivateChannel"])(a))Object(O["isOrgGlobalSharedPublicOrPrivateChannel"])(a)||(o=Object(O["getSharedTeamIds"])(a));else{s=[i.id];l=i.id}r.state={canThread:false,channelNameAdditionalVerificationError:"",channelNameNeedsChecking:false,channelNameOrgIsCheckingVerification:false,channelNameValid:false,channelPrefError:false,channelToBeShared:false,goButtonIsDisabled:false,goButtonIsPending:false,isOnlyChannelWithExternalTeam:false,manageOrgAccessDisabledTeamIds:s,manageOrgAccessLoaded:false,manageOrgAccessOriginatingTeamId:l,manageOrgAccessPreviousStep:"manage_org_access",manageOrgAccessShareWith:Object(O["isOrgGlobalSharedPublicOrPrivateChannel"])(r.props.channel)?"all":"specific",manageOrgAccessTeamIds:o,newChannelName:null,postingPermissionsLoaded:false,postingPermissionsSelectedMembers:null,retentionDuration:0,retentionDurationUnit:0,retentionLoaded:false,retentionType:0,isRetentionCheckboxChecked:false,showBackButton:false,showCancelButton:false,showGoButton:false,showSuccessAlert:false,successAlertHeading:"",successAlertText:"",teamRetentionDuration:0,teamRetentionType:0,whoCanPost:null};r.debouncedChannelNameOrgValidation=Object(c["debounce"])(r.actuallyCallChannelNameOrgValidation,325,{trailing:true});r.modalRef=null;r.steps=[];r.pendingChannelNameOrgValidation=null;return r}ae(t,[{key:"componentDidMount",value:function e(){var t=this.props,r=t.preselectedSection,n=t.showArchive,a=t.showConvertToPrivate,i=t.showDataRetention,o=t.showDelete,s=t.showExport,c=t.showManageOrgAccess,l=t.showPostingPermissions,u=t.showPurpose,p=t.showRename;this.maybeCheckIfLastChannelWithExternalTeam();if(r.length)switch(r){case"archive":n&&this.onClickArchiveOption();break;case"convert_private":a&&this.onClickConvertToPrivateOption();break;case"convert_shared":case"manage_teams":c&&this.onClickManageOrgAccessOption();break;case"delete":o&&this.onClickDeleteOption();break;case"export":s&&this.onClickExportOption();break;case"posting_privilege":l&&this.onClickPostingPermissionsOption();break;case"purpose":u&&this.onClickPurposeOption();break;case"rename":p&&this.onClickRenameOption();break;case"retention":i&&this.onClickDataRetentionOption();break;default:break}}},{key:"componentDidUpdate",value:function e(t,r){var n=this.state.isRetentionCheckboxChecked;this.retentionDialog&&n!==r.isRetentionCheckboxChecked&&this.retentionDialog.render({goButtonIsDisabled:!n,goOnEnterPressed:n})}},{key:"onClickArchiveOption",value:function e(){this.goButtonIsDisabled(false);this.goButtonIsPending(false);this.showBackButton(true);this.showCancelButton(true);this.showGoButton(true);this.hideSuccessAlert();this.goToStep("archive")}},{key:"onClickShareExternalOption",value:function e(){Object(y["c"])({model_ob:this.props.channel,element:"shared_channels_channel_options_share_option"});this.closeModal()}},{key:"onClickCancelExternalSharedChannelInvite",value:function e(t){var r=this;var n=this.props,a=n.channel,i=n.currentMember,o=n.pendingSharedExternalSharedTeamNames;Object(E["o"])(a.id,t).then(function(e){var n=e.data;var s=o[0];var c=n.invite.inviting_user;var l=le.t("Oops, something went wrong.");var u=ce.t("For some weird reason, that didn\u2019t work. Please try again.");if(c.id===i.id)r.props.cancelExternalSharedChannelInviteApi({channelId:a.id,targetTeamId:t}).then(function(){r.showSuccessAlert({heading:ce.t("Canceled invitation"),text:ce.rt("If you\u2019d like, you can always reinvite <strong>{targetTeamName}</strong> (or another workspace).",{targetTeamName:s})})}).catch(function(e){r.showAlertDialog({message:u,title:l});throw e});else{var p=ce.t("Cancel invitation?");var f=ce.rt("This invitation was originally sent by <strong>{inviterName}</strong> to <strong>{targetTeamName}</strong>. Are you sure you want to cancel?",{inviterName:c.profile.real_name,targetTeamName:s});var d=function e(){return r.props.cancelExternalSharedChannelInviteApi({channelId:a.id,targetTeamId:t}).then(function(){r.closeAlertDialog();r.showSuccessAlert({heading:ce.t("Canceled invitation"),text:ce.rt("If you\u2019d like, you can always reinvite <strong>{targetTeamName}</strong> (or another workspace).",{targetTeamName:s})})}).catch(function(e){r.showAlertDialog({message:u,title:l});throw e})};r.showAlertDialog({cancelButtonText:ce.t("Never Mind"),goButtonText:ce.t("Cancel Invitation"),goButtonType:"danger",message:f,onGo:d,onCancel:r.closeAlertDialog,showCancelButton:true,title:p})}})}},{key:"onClickStopShareExternalOption",value:function e(){if(Object(T["a"])()){this.goButtonIsPending(false);this.showBackButton(true);this.showCancelButton(true);this.showGoButton(true);this.hideSuccessAlert();this.goToStep("stop_sharing_external")}else{Object(T["c"])(this.props.channel);this.closeModal()}}},{key:"onClickConvertToPrivateOption",value:function e(){this.goButtonIsPending(false);this.showBackButton(true);this.showCancelButton(true);this.showGoButton(true);this.hideSuccessAlert();this.goToStep("convert_private")}},{key:"onClickRenameOption",value:function e(){var t=this;this.goButtonIsPending(false);this.showBackButton(true);this.showCancelButton(true);this.hideSuccessAlert();var r=true;if(this.props.additionalParams.name&&this.props.additionalParams.name.length){r=false;this.setState(function(){return{newChannelName:t.props.additionalParams.name,channelNameNeedsChecking:true}})}this.goButtonIsDisabled(r);this.showGoButton(true);this.goToStep("rename")}},{key:"onClickExportOption",value:function e(){this.goButtonIsPending(false);this.showBackButton(true);this.showCancelButton(true);this.showGoButton(true);this.hideSuccessAlert();this.goToStep("export")}},{key:"onClickDeleteOption",value:function e(){this.goButtonIsPending(false);this.showBackButton(true);this.showCancelButton(true);this.showGoButton(true);this.goButtonIsDisabled(true);this.hideSuccessAlert();this.goToStep("delete")}},{key:"onClickPurposeOption",value:function e(){this.goButtonIsPending(false);this.showBackButton(true);this.showCancelButton(true);this.showGoButton(true);this.hideSuccessAlert();this.goToStep("purpose")}},{key:"onClickDataRetentionOption",value:function e(){this.goButtonIsPending(false);this.showCancelButton(true);this.showGoButton(true);this.hideSuccessAlert();this.goToStep("retention");this.getChannelRetentionPrefs()}},{key:"onClickPostingPermissionsOption",value:function e(){this.goButtonIsPending(false);this.showBackButton(true);this.hideSuccessAlert();this.goToStep("posting_privilege");this.getPostingPermissionPrefs()}},{key:"onClickManageOrgAccessOption",value:function e(){this.goButtonIsPending(false);this.showBackButton(true);this.hideSuccessAlert();this.goToStep("manage_org_access");this.maybeGetOriginatingTeamAndCurrentAccess();this.setState(function(){return{channelToBeShared:true}})}},{key:"onRetentionTypeChange",value:function e(t){var r=this;var n=parseInt(t.target.value,10);this.setState(function(){return{retentionType:n}},function(){r.maybeDisableRetentionGoButton();n===me&&r.retentionDurationInput.focus()})}},{key:"onRetentionDurationChange",value:function e(t){this.setState(function(){return{retentionDuration:parseInt(t,10)}},this.maybeDisableRetentionGoButton)}},{key:"onRetentionDurationUnitChange",value:function e(t){this.setState(function(){return{retentionDurationUnit:t}},this.maybeDisableRetentionGoButton)}},{key:"onChangeManageOrgAccessShareWith",value:function e(t){var r=t.target.value;this.setState(function(){return{manageOrgAccessShareWith:r}})}},{key:"onChangeManageOrgAccessTeamPicker",value:function e(t){var r=[];this.goButtonIsDisabled(!t.length);if(t.length){t.forEach(function(e){r.push(e.team.id)});this.setState(function(){return{manageOrgAccessTeamIds:r}})}}},{key:"onChangeCheckboxDelete",value:function e(t){var r=t.target.checked;this.goButtonIsDisabled(!r)}},{key:"onClickArchiveInsteadDelete",value:function e(t){t.preventDefault();this.onClickArchiveOption()}},{key:"onChannelPurposeTextareaChange",value:function e(t){this.newChannelPurpose(t.target.value)}},{key:"onChannelPurposeValidationChange",value:function e(t){this.goButtonIsDisabled(t)}},{key:"onChangeCheckboxCanThread",value:function e(t){var r=t.target.checked;this.setCanThreadPermission(r)}},{key:"onChangeRadioWhoCanPost",value:function e(t){var r=t.target.value;this.setWhoCanPostPermission(r)}},{key:"onChangeValueSelectedMembers",value:function e(t){var r=[];t.forEach(function(e){e.member&&r.push(e.member.id)});this.setPostingPermissionsSelectedMembers(r)}},{key:"onErrorDialogButtonClick",value:function e(){this.setChannelPrefError(false)}},{key:"getChannelRetentionPrefs",value:function e(){var t=this;var r=this.props,n=r.channel,a=r.groupRetentionType,i=r.groupRetentionDuration,o=r.dmRetentionType,s=r.dmRetentionDuration,c=r.channelRetentionType,l=r.channelRetentionDuration;Object(E["n"])(n).then(function(e){var r=void 0;var u=void 0;if(Object(O["isPrivateChannel"])(n)){r=parseInt(a,10);u=parseInt(i,10)}else if(Object(O["isIm"])(n)||Object(O["isMpim"])(n)){r=parseInt(o,10);u=parseInt(s,10)}else{r=parseInt(c,10);u=parseInt(l,10)}var p=parseInt(e.retentionType,10);var f=parseInt(e.retentionDuration,10);t.setState(function(){return{retentionDuration:f,retentionType:p,teamRetentionDuration:u,teamRetentionType:r}});t.setRetentionLoaded(true)})}},{key:"setRetentionLoaded",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState(function(){return{retentionLoaded:t}})}},{key:"getPostingPermissionPrefs",value:function e(){var t=this;var r=this.props,n=r.channel,a=r.featureDefaultSharedChannels;var i=[this.props.getChannelPref({channelId:n.id,prefName:"who_can_post"})];a&&i.push(this.props.getChannelPref({channelId:n.id,prefName:"can_thread"}));Promise.all(i).then(function(e){var r=e[0];if(!r.ok||!r.pref_value)return;var n=r.pref_value;if(n.type)if(n.user&&n.user.length&&("admin"===n.type[0]||"owner"===n.type[0]||"org_admin"===n.type[0])){t.setWhoCanPostPermission("multi");t.setPostingPermissionsSelectedMembers(n.user)}else t.setWhoCanPostPermission(n.type[0]);else t.setWhoCanPostPermission("ra");if(a){var i=e[1];if(!i.ok||!i.pref_value)return;var o=i.pref_value;o.type?t.setCanThreadPermission("all"===o.type[0]):t.setCanThreadPermission(false)}t.setPostingPermissionsLoaded(true);t.showCancelButton(true);t.showGoButton(true)})}},{key:"setCanThreadPermission",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState(function(){return{canThread:t}})}},{key:"setPostingPermissionsLoaded",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState(function(){return{postingPermissionsLoaded:t}})}},{key:"setWhoCanPostPermission",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setState(function(){return{whoCanPost:t}})}},{key:"setChannelPrefError",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState(function(){return{channelPrefError:t}})}},{key:"setPostingPermissionsSelectedMembers",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setState(function(){return{postingPermissionsSelectedMembers:t}})}},{key:"setManageOrgAccessLoaded",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState(function(){return{manageOrgAccessLoaded:t}})}},{key:"maybeDisableRetentionGoButton",value:function e(){var t=this.state,r=t.retentionType,n=t.retentionDuration,a=t.retentionDurationUnit;var i=a===ye?n:365*n;this.goButtonIsDisabled(!Object(Z["b"])({retentionType:r,retentionDuration:i}))}},{key:"goToStep",value:function e(t){var r=Oe(t);if(r){this.modalRef.setStepNumber(r+1);return}this.modalRef.setStepNumber(1)}},{key:"maybeGetOriginatingTeamAndCurrentAccess",value:function e(){var t=this;var r=this.props.channel;var n=this.state,a=n.manageOrgAccessDisabledTeamIds,i=n.manageOrgAccessLoaded,o=n.manageOrgAccessTeamIds;if(i){this.showCancelButton(true);this.showGoButton(true);return}var s=[];Object(O["isOrgSharedPublicOrPrivateChannel"])(r)&&s.push(Object(j["h"])(r.id));Promise.all(s).then(function(e){var n=o;var i=a;var s=t.state.manageOrgAccessOriginatingTeamId;if(Object(O["isOrgSharedPublicOrPrivateChannel"])(r)){s=e[0].data.team.id;i=[s]}n=Object(c["uniq"])(t.state.manageOrgAccessTeamIds.concat(s));t.setState(function(){return{manageOrgAccessDisabledTeamIds:i,manageOrgAccessOriginatingTeamId:s,manageOrgAccessTeamIds:n}});t.manageOrgAccessFilterFunction=Object(T["d"])({preselected_ids:n,disabled_ids:i,sort_items_function:function e(t,r){var n=t.name.toLowerCase();var a=r.name.toLowerCase();if(n<a)return-1;if(a<n)return 1;return 0},secondary_sort_items_function:function e(t,r){if(t.id===s)return-1;if(r.id===s)return 1;return 0}});t.manageOrgAccessFilterFunction("").then(function(){t.showCancelButton(true);t.showGoButton(true);t.setManageOrgAccessLoaded(true)})}).catch(function(e){var r=le.t("Oops, something went wrong.");var n=ce.t("For some weird reason, that didn\u2019t work. Please try again.");t.showAlertDialog({message:n,title:r});throw e})}},{key:"maybeCheckIfLastChannelWithExternalTeam",value:function e(){var t=this;var r=this.props.channel;var n="channel-options/maybeCheckIfLastChannelWithExternalTeam";Object(O["isSharedPublicOrPrivateChannel"])(r)&&Object(T["a"])()&&this.props.getExternalTeamIdsConnectedOnlyByChannel({channelId:r.id,reason:n}).then(function(e){t.setState(function(){return{isOnlyChannelWithExternalTeam:!!e.length}})})}},{key:"closeModal",value:function e(){this.alertDialog&&this.alertDialog.close();this.retentionDialog&&this.retentionDialog.close();this.props.onCancel()}},{key:"goBackToAllOptions",value:function e(){this.goButtonIsPending(false);this.showBackButton(false);this.showCancelButton(false);this.showGoButton(false);this.goButtonIsDisabled(false);this.goToStep("all_options")}},{key:"goButtonIsDisabled",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState(function(){return{goButtonIsDisabled:t}})}},{key:"goButtonIsPending",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState(function(){return{goButtonIsPending:t}})}},{key:"showBackButton",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState(function(){return{showBackButton:t}})}},{key:"showCancelButton",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState(function(){return{showCancelButton:t}})}},{key:"showGoButton",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState(function(){return{showGoButton:t}})}},{key:"newChannelPurpose",value:function e(t){this.setState(function(){return{newChannelPurpose:t}})}},{key:"actuallyCallChannelNameOrgValidation",value:function e(t){var r=this;var n=this.props.channel;if(Object(O["getDisplayName"])(n)===t){this.setState(function(){return{channelNameAdditionalVerificationError:"",channelNameOrgIsCheckingVerification:false,channelNameValid:false}});this.goButtonIsDisabled(true);return}this.pendingChannelNameOrgValidation=Object(j["a"])(n,t);this.pendingChannelNameOrgValidation.then(function(e){var a=r.props,i=a.currentTeam,s=a.orgName;var c=void 0;var l="";if(!e.data.ok||e.data.name_taken){c=false;l=r.state.channelToBeShared?ce.rt("<strong>{name}</strong> is already in use by a channel on another {orgName} workspace. Choose a new name to share this channel outside of <span>{teamName}</span>.",{name:t,orgName:s,teamName:Object(k["getTeamDisplayName"])(i)},function(e){var r=e.key,a=e.tag,i=e.text;if("strong"===a)return o.a.createElement("strong",{key:r+"-1"},Object($["a"])(r,n,t));return o.a.createElement("strong",{key:r},i)}):ce.rt("<strong>{name}</strong> is already in use by a channel on another {orgName} workspace. Choose a new name.",{name:t,orgName:s,teamName:Object(k["getTeamDisplayName"])(i)},function(e){var r=e.key,a=e.tag,i=e.text;if("strong"===a)return o.a.createElement("strong",{key:r+"-1"},Object($["a"])(r,n,t));return o.a.createElement("strong",{key:r},i)})}else c=true;r.goButtonIsDisabled(!c);r.setState(function(){return{channelNameAdditionalVerificationError:l,channelNameOrgIsCheckingVerification:false,channelNameValid:c}})}).catch(function(e){r.setState(function(){return{channelNameAdditionalVerificationError:"",channelNameOrgIsCheckingVerification:false,channelNameValid:false}});r.goButtonIsDisabled(true);var t=le.t("Oops, something went wrong.");var n=ce.t("For some weird reason, that didn\u2019t work. Please try again.");r.showAlertDialog({message:n,title:t});throw e})}},{key:"channelNameOrgValidation",value:function e(t){this.setState(function(){return{channelNameOrgIsCheckingVerification:true}});this.pendingChannelNameOrgValidation&&this.pendingChannelNameOrgValidation.cancel();this.debouncedChannelNameOrgValidation(t)}},{key:"channelNameOnInvalidName",value:function e(){this.setState(function(){return{channelNameValid:false,channelNameAdditionalVerificationError:"",channelNameNeedsChecking:false}});this.goButtonIsDisabled(true)}},{key:"channelNameOnValidName",value:function e(t){var r=t.value;var n=this.props.channel;var a=this.state.channelToBeShared;this.setState(function(){return{channelNameAdditionalVerificationError:"",newChannelName:r,channelNameNeedsChecking:false}});Object(O["isOrgSharedPublicOrPrivateChannel"])(n)||a?this.channelNameOrgValidation(r):this.goButtonIsDisabled(false)}},{key:"manageOrgAccessSave",value:function e(){var t=this;this.goButtonIsPending(true);var r=this.props,n=r.channel,a=r.teamId;var i=this.state,o=i.manageOrgAccessShareWith,s=i.manageOrgAccessTeamIds;var c="all"===o;var l={orgWide:c};if(Object(O["isOrgSharedPublicOrPrivateChannel"])(n)){c||(l.teamIds=s);this.props.updateOrgAccessForChannel(ne({channelId:n.id},l)).then(function(){t.closeModal()}).catch(function(e){t.goButtonIsPending(false);var r=ce.t("Could not update settings");var n=ce.t("For some weird reason, that didn\u2019t work. Please try again.");t.showAlertDialog({message:n,title:r});throw e})}else{c||(l.targetDomains=s.map(function(e){var t=Object(u["b"])(a);var r=Object(g["getTeamById"])(t,e);return r.domain}));var p=[];this.makeChannelName()!==Object(O["getDisplayName"])(n)&&p.push(this.props.renameChannelApi({channel:n,newName:this.state.newChannelName}));Promise.all(p).then(function(){return t.props.convertChannelToOrgSharedApi(ne({channel:n},l))}).then(function(){t.closeModal()}).catch(function(e){t.goButtonIsPending(false);var r=ce.t("Could not update settings");var n=ce.t("For some weird reason, that didn\u2019t work. Please try again.");t.showAlertDialog({message:n,title:r});throw e})}}},{key:"makeChannelName",value:function e(){var t=this.props.channel;var r=this.state.newChannelName;return r&&r.length?r:Object(O["getDisplayName"])(t)}},{key:"showAlertDialog",value:function e(t){var r=t.title,n=t.message,a=t.cancelButtonText,i=void 0===a?"":a,s=t.goButtonText,c=void 0===s?"":s,l=t.goButtonType,u=void 0===l?"primary":l,p=t.onGo,f=void 0===p?this.closeAlertDialog:p,d=t.onCancel,v=void 0===d?this.closeAlertDialog:d,h=t.showCancelButton,m=void 0!==h&&h;var b={cancelButtonText:i,children:o.a.createElement("p",null,n),goButtonText:c,goButtonType:u,onCancel:v,onGo:f,showCancelButton:m,title:r};this.alertDialog?this.alertDialog.render(ne({},b)):this.alertDialog=this.props.openModal({element:o.a.createElement(I["a"],b),isStackable:true})}},{key:"closeAlertDialog",value:function e(){this.setState(function(){return{goButtonIsPending:false}})}},{key:"showSuccessAlert",value:function e(t){var r=t.heading,n=t.text;this.setState(function(){return{showSuccessAlert:true,successAlertHeading:r,successAlertText:n}})}},{key:"hideSuccessAlert",value:function e(){this.setState(function(){return{showSuccessAlert:false}})}},{key:"goBackToManageAccessPrevStep",value:function e(){this.goToStep(this.state.manageOrgAccessPreviousStep)}},{key:"saveRetention",value:function e(){var t=this;var r=this.state,n=r.retentionType,a=r.retentionDuration,i=r.retentionDurationUnit;var o=this.props.channel;this.goButtonIsPending(true);Object(E["w"])(o,{retentionDuration:Object(Z["a"])({retentionDuration:a,retentionDurationUnit:i}),retentionType:n}).then(function(e){t.goButtonIsPending(false);if(!e.data.ok){var r=le.t("Oops, something went wrong.");var n=ce.t("For some weird reason, that didn\u2019t work. Please try again.");t.showAlertDialog({message:n,title:r});return}t.closeModal()}).catch(function(e){t.goButtonIsPending(false);var r=le.t("Oops, something went wrong.");var n=ce.t("For some weird reason, that didn\u2019t work. Please try again.");t.showAlertDialog({message:n,title:r});throw e})}},{key:"showRetentionDialog",value:function e(){this.retentionDialog=this.props.openModal({element:this.renderRetentionDialog(),isStackable:true})}},{key:"hideRetentionDialog",value:function e(){this.setState(function(){return{isRetentionCheckboxChecked:false}})}},{key:"handleRetentionCheckboxChange",value:function e(){this.setState(function(e){return{isRetentionCheckboxChecked:!e.isRetentionCheckboxChecked}})}},{key:"durationInputRef",value:function e(t){this.retentionDurationInput=t}},{key:"renderRetentionDialog",value:function e(){var t=this.state,r=t.retentionType,n=t.retentionDuration,a=t.retentionDurationUnit,i=t.teamRetentionType,s=t.teamRetentionDuration;var l=this.props.channel;var u=Object(Z["a"])({retentionDuration:n,retentionDurationUnit:a});var p=void 0;switch(r){case he:switch(i){case be:p=ce.t("Use the default workspace retention settings \u2014 Keep everything");break;case _e:p=ce.t("Use the default workspace retention settings \u2014 Keep messages, but don\u2019t track revisions");break;case ge:p=ce.t("Use the default workspace retention settings \u2014 Messages older than {duration, plural, =1 {# day} other {# days}} will be deleted.",{duration:s,fallbackHash:"7480a828b3b52106d6407a4e8f29e489ed887722"});break;default:p=ce.t("Use the default workspace retention settings \u2014 Keep everything");break}break;case me:if(u>364){var f=Object(c["round"])(u/365,1);p=ce.t("Messages older than {duration, plural, =1 {# day} other {# days}} ({durationInYears, plural, =1 {# year} other {# years}}) will be deleted",{duration:u,durationInYears:f,fallbackHash:"2641d4c8882584eb6bee3cdb1172b02f43b9881f"})}else p=ce.t("Messages older than {duration, plural, =1 {# day} other {# days}} will be deleted",{duration:u,fallbackHash:"1f76675f52cc8078d8373c5e7d241070bba730c3"});break;default:p=ce.t("Use the default workspace retention settings");break}return o.a.createElement(P["a"],{title:ce.t("Apply new retention settings?"),goButtonText:ce.t("Apply Settings"),goButtonType:"danger",onCancel:this.hideRetentionDialog,onGo:this.saveRetention,goButtonIsDisabled:!this.state.isRetentionCheckboxChecked,goOnEnterPressed:this.state.isRetentionCheckboxChecked,shouldCloseOnGo:false},o.a.createElement(x["a"],{level:"error"},ce.rt("<strong>Warning:</strong> Messages deleted by retention settings are truly, permanently deleted. These messages can\u2019t be restored or recovered, even by Slack.")),o.a.createElement("strong",null,ce.t("Here\u2019s what your new settings will be:")),o.a.createElement("ul",{className:"margin_top_100"},o.a.createElement("li",null,Object(O["isIm"])(l)||Object(O["isMpim"])(l)?ce.t("In this conversation: {newSetting}",{newSetting:p}):ce.t("In this channel: {newSetting}",{newSetting:p}))),o.a.createElement(M["a"],{text:ce.rt("<strong>Yes, apply these new settings</strong>"),htmlFor:"dataRetentionOverrideConfirm",type:"inline",cursor:"pointer"},o.a.createElement(R["a"],{id:"dataRetentionOverrideConfirm",isRequired:true,onChange:this.handleRetentionCheckboxChange})))}},{key:"renderOptionsListHeader",value:function e(t,r){var n=void 0;n=r||ce.rt("Additional options for <span>{name}</span>",{name:Object(O["getDisplayName"])(t)},function(e){var r=e.key;return Object($["a"])(r,t)});return o.a.createElement("span",{className:"channel_options_header"},n)}},{key:"render",value:function e(){var t=this;var r=this.props,n=r.additionalParams,a=r.currentMember,i=r.channel,s=r.currentTeam,l=r.disableConvertToPrivate,p=r.disableRename,f=r.externalSharedTeams,d=r.onCancel,v=r.pendingSharedExternalSharedTeamNames,h=r.showArchive,b=r.showConvertToPrivate,_=r.showDataRetention,g=r.showDelete,y=r.showExport,k=r.showManageOrgAccess,w=r.showPostingPermissions,T=r.showPurpose,I=r.showRename,P=r.showShareExternal,R=r.showStopShareExternal;var M=this.state,x=M.canThread,Z=M.channelNameAdditionalVerificationError,te=M.channelNameNeedsChecking,re=M.channelNameOrgIsCheckingVerification,ae=M.channelNameValid,ie=M.channelPrefError,oe=M.goButtonIsDisabled,se=M.goButtonIsPending,fe=M.manageOrgAccessDisabledTeamIds,de=M.manageOrgAccessLoaded,he=M.manageOrgAccessOriginatingTeamId,me=M.manageOrgAccessShareWith,be=M.manageOrgAccessTeamIds,_e=M.newChannelName,ge=M.newChannelPurpose,ye=M.postingPermissionsLoaded,Oe=M.postingPermissionsSelectedMembers,Ee=M.retentionDuration,je=M.retentionDurationUnit,ke=M.retentionLoaded,we=M.retentionType,Ce=M.showBackButton,Se=M.showCancelButton,Te=M.showGoButton,Ie=M.showSuccessAlert,Ne=M.successAlertHeading,Ae=M.successAlertText,Pe=M.teamRetentionDuration,Re=M.teamRetentionType,Me=M.whoCanPost;var xe={buttonAlignment:"right",goButtonIsDisabled:oe,goButtonIsPending:se,showBackButton:Ce,showCancelButton:Se,showGoButton:Te,withHeader:true};this.steps=[ne({contentLabel:"Additional Options for "+Object(O["getDisplayName"])(i),title:this.renderOptionsListHeader(i),children:o.a.createElement(V["a"],{channel:i,disableConvertToPrivate:l,disableRename:p,modalClasses:"p-channel_options_section",name:Object(O["getDisplayName"])(i),onClickArchive:this.onClickArchiveOption,onClickConvertToPrivate:this.onClickConvertToPrivateOption,onClickDelete:this.onClickDeleteOption,onClickExport:this.onClickExportOption,onClickManageOrgAccess:this.onClickManageOrgAccessOption,onClickPostingPermissions:this.onClickPostingPermissionsOption,onClickPurpose:this.onClickPurposeOption,onClickRename:this.onClickRenameOption,onClickShareExternal:this.onClickShareExternalOption,onClickCancelExternalSharedChannelInvite:this.onClickCancelExternalSharedChannelInvite,onClickStopShareExternal:this.onClickStopShareExternalOption,pendingSharedExternalSharedTeamNames:v,showArchive:h,showConvertToPrivate:b,showDataRetention:_,showDelete:g,showExport:y,showManageOrgAccess:k,showPostingPermissions:w,showPurpose:T,showRename:I,showShareExternal:P,showStopShareExternal:R,showSuccessAlert:Ie,successAlertHeading:Ne,successAlertText:Ae}),qa:"all_options"},xe)];h?this.steps.push(ne({children:o.a.createElement(L["a"],{channel:i}),onBack:this.goBackToAllOptions,onGo:function e(){t.goButtonIsPending(true);t.props.archiveChannelApi({channel:i});t.closeModal()},goButtonText:ce.t("Yes, archive the channel"),title:this.renderOptionsListHeader(i,ce.rt("Archive <strong>{name}</strong>",{name:Object(O["getDisplayName"])(i),fallbackHash:"0cf2d51d33550e37e96cafe433465fa5e0816923"},function(e){var t=e.key;return Object($["a"])(t,i)})),contentLabel:"Archive "+Object(O["getDisplayName"])(i),qa:"archive"},xe)):this.steps.push(ve);P?this.steps.push(ne({children:o.a.createElement("div",null,"Share external option"),onBack:this.goBackToAllOptions,title:"",qa:pe[2]},xe)):this.steps.push(ve);if(R){var Le=ce.rt("Stop sharing {channelName}",{channelName:o.a.createElement(ee["a"],{channel:i})});var De=ce.t("Stop Sharing");this.steps.push(ne({children:o.a.createElement(Y["a"],{channel:i,showLastChannelWarning:this.state.isOnlyChannelWithExternalTeam}),onBack:this.goBackToAllOptions,onGo:function e(){t.goButtonIsPending(true);var r=ce.t("This can\u2019t be undone");var n=ce.rt("You won\u2019t be able to re-share {channelName} with {teamNames} or any other workspace.",{channelName:Object($["a"])(i.id,i),teamNames:Object(C["a"])(f.map(function(e){var t=e.name;return t}),{react:true,strong:true,conj:"or"})});Object(S["b"])("SHARED_CHANNELS_STOP_SHARING_ACTION",{is_last_channel_with_team:t.state.isOnlyChannelWithExternalTeam,contexts:{ui_context:{action:"click",ui_element:"SHARED_CHANNELS_STOP_SHARING_MODAL_SUBMIT_BTN",ui_component:"CHANNEL_OPTIONS_DIALOG"}}});var a=function e(){Object(S["b"])("SHARED_CHANNELS_STOP_SHARING_ACTION",{is_last_channel_with_team:t.state.isOnlyChannelWithExternalTeam,contexts:{ui_context:{action:"click",ui_element:"SHARED_CHANNELS_STOP_SHARING_CONFIRM_SUBMIT_BTN",ui_component:"CHANNEL_OPTIONS_DIALOG"}}});t.props.disconnectChannel({channelId:i.id}).then(t.closeModal)};var o=function e(){Object(S["b"])("SHARED_CHANNELS_STOP_SHARING_ACTION",{is_last_channel_with_team:t.state.isOnlyChannelWithExternalTeam,contexts:{ui_context:{action:"click",ui_element:"SHARED_CHANNELS_STOP_SHARING_CONFIRM_CANCEL_BTN",ui_component:"CHANNEL_OPTIONS_DIALOG"}}});t.closeAlertDialog()};t.showAlertDialog({goButtonText:De,goButtonType:"danger",message:n,onGo:a,onCancel:o,showCancelButton:true,title:r})},goButtonText:De,goButtonType:"danger",title:this.renderOptionsListHeader(i,Le),contentLabel:"Stop sharing "+Object(O["getDisplayName"])(i),qa:"stop_sharing_external"},xe))}else this.steps.push(ve);if(b){var Fe=void 0;var Be=void 0;if(Object(O["isPublicChannel"])(i)||Object(O["isPrivateChannel"])(i)){Fe=ce.rt("Convert <strong>{name}</strong> to a private channel?",{name:Object(O["getDisplayName"])(i),fallbackHash:"ca2b517d886b996a5636689612f5404d75effd7d"},function(e){var t=e.key;return Object($["a"])(t,i)});Be="Convert "+Object(O["getDisplayName"])(i)+" to a private channel?"}else{Fe=ce.rt("Convert this conversation to a private channel?",{fallbackHash:"5e50b350a369117078fafe9841785a5576fd4fc5"});Be="Convert this conversation to a private channel?"}this.steps.push(ne({children:o.a.createElement(B["a"],{channel:i}),onBack:this.goBackToAllOptions,onCancel:this.goBackToAllOptions,onGo:function e(){t.goButtonIsPending(true);t.props.convertChannelToPrivateApi(i.id);t.closeModal()},title:this.renderOptionsListHeader(i,Fe),contentLabel:Be,qa:"convert_private"},xe))}else this.steps.push(ve);var Ue=ce.t("Rename Channel");if(I){var He={additionalVerificationError:Z,additionalVerificationGood:ae,channelNameNeedsChecking:te};Object(O["isOrgSharedPublicOrPrivateChannel"])(i)&&(He.isCheckingAdditionalVerification=re);var qe=Object(O["getDisplayName"])(i);n.name&&(qe=n.name);this.steps.push(ne({children:o.a.createElement(Q["a"],ne({},He,{name:qe,onInvalidName:this.channelNameOnInvalidName,onValidName:this.channelNameOnValidName})),onBack:this.goBackToAllOptions,onCancel:this.goBackToAllOptions,goButtonText:Ue,onGo:function e(){t.goButtonIsPending(true);t.props.renameChannelApi({channel:i,newName:_e}).then(function(e){t.goButtonIsPending(false);if(!e.ok){if(e.error&&"name_taken"===e.error){t.setState(function(){return{channelNameValid:false,channelNameAdditionalVerificationError:ue.t("{name} is already taken by a channel, username, or user group.",{name:_e})}});return}t.setState(function(){return{channelNameValid:false,channelNameAdditionalVerificationError:ue.t("For some weird reason, that didn\u2019t work. Please try again to continue.")}});return}t.setState(function(){return{channelNameValid:true,channelNameAdditionalVerificationError:""}});t.closeModal()}).catch(function(e){if(e.data&&"name_taken"===e.data.error){t.setState(function(){return{channelNameValid:false,channelNameAdditionalVerificationError:ue.t("{name} is already taken by a channel, username, or user group.",{name:_e})}});return}t.goButtonIsPending(false);t.setState(function(){return{channelNameAdditionalVerificationError:ue.t("For some weird reason, that didn\u2019t work. Please try again to continue.")}})})},title:this.renderOptionsListHeader(i,ce.t("Rename this channel")),contentLabel:"Rename this channel",qa:"rename"},xe))}else this.steps.push(ve);if(y){var Ge=void 0;var We=void 0;if(Object(O["isPublicChannel"])(i)||Object(O["isPrivateChannel"])(i)){Ge=ce.rt("Export message history for <strong>{name}</strong>",{name:Object(O["getDisplayName"])(i),fallbackHash:"7e98401bb334b4d48829e4fdbcd144dc8a101003"},function(e){var t=e.key;return Object($["a"])(t,i)});We="Export message history for "+Object(O["getDisplayName"])(i)}else{Ge=ce.rt("Export message history for this conversation",{fallbackHash:"c1d139527fa0d1b5faa28809a3b74d183f848622"});We="Export message history for this conversation"}this.steps.push(ne({children:o.a.createElement(q["a"],null),onBack:this.goBackToAllOptions,onCancel:this.goBackToAllOptions,onGo:function e(){t.goButtonIsPending(true);t.props.exportChannelHistory(i);t.closeModal()},goButtonText:ce.t("Export"),title:this.renderOptionsListHeader(i,Ge),contentLabel:We,qa:"export"},xe))}else this.steps.push(ve);g?this.steps.push(ne({children:o.a.createElement(H["a"],{channel:i,showArchiveInstead:this.props.showArchive,onClickArchiveInstead:this.onClickArchiveInsteadDelete,onChangeCheckbox:this.onChangeCheckboxDelete}),onBack:this.goBackToAllOptions,onCancel:this.goBackToAllOptions,onGo:function e(){t.goButtonIsPending(true);t.props.setChannelDeleted(i.id);t.closeModal()},goButtonText:ce.t("Delete Channel"),goButtonType:"danger",title:this.renderOptionsListHeader(i,ce.rt("Delete <strong>{name}</strong>",{name:Object(O["getDisplayName"])(i),fallbackHash:"73bcca2ef24ed39c3f2a63fea6c8e9e15150d0d7"},function(e){var t=e.key;return Object($["a"])(t,i)})),contentLabel:"Delete "+Object(O["getDisplayName"])(i),qa:"delete"},xe,{buttonAlignment:"float_right"})):this.steps.push(ve);T?this.steps.push(ne({children:o.a.createElement(F["a"],{purpose:i.purpose,onChannelPurposeTextareaChange:this.onChannelPurposeTextareaChange,onChannelPurposeValidationChange:this.onChannelPurposeValidationChange}),goButtonText:ce.t("Update Purpose"),onBack:this.goBackToAllOptions,onGo:function e(){t.goButtonIsPending(true);i.purpose.value!==ge&&t.props.channelPurposeApi(i.id,ge);t.closeModal()},title:this.renderOptionsListHeader(i,ce.t("Set channel purpose")),contentLabel:"Set channel purpose",qa:"purpose"},xe)):this.steps.push(ve);if(_){var Ve=void 0;var Ke=void 0;if(Object(O["isPublicChannel"])(i)||Object(O["isPrivateChannel"])(i)){Ve=ce.rt("Edit message retention for {name}",{name:o.a.createElement(A["b"],{channel:i,inline:true})});Ke="Edit message retention for "+Object(O["getDisplayName"])(i)}else{Ve=ce.rt("Edit message retention for <strong>this conversation</strong>");Ke="Edit message retention for this conversation"}this.steps.push(ne({children:o.a.createElement(U["a"],{member:a,team:s,onDurationChange:this.onRetentionDurationChange,onDurationUnitChange:this.onRetentionDurationUnitChange,onTypeChange:this.onRetentionTypeChange,prefsLoaded:ke,retentionDuration:Ee,retentionDurationUnit:je,retentionType:we,teamRetentionType:Re,teamRetentionDuration:Pe,durationInputRef:this.durationInputRef}),goButtonText:ce.t("Save"),onGo:this.showRetentionDialog,onBack:function e(){t.setRetentionLoaded(false);t.goBackToAllOptions()},onCancel:this.goBackToAllOptions,title:this.renderOptionsListHeader(i,Ve),contentLabel:Ke,qa:"retention",stepModalClasses:"p-channel-options__retention_modal"},xe))}else this.steps.push(ve);w?this.steps.push(ne({children:o.a.createElement(K["a"],{onChangeCheckbox:this.onChangeCheckboxCanThread,onChangeRadio:this.onChangeRadioWhoCanPost,isOrgDefault:Object(O["isOrgDefaultChannel"])(i),canThread:x,whoCanPost:Me,postingPermissionsSelectedMembers:Oe,onChangeValueSelectedMembers:this.onChangeValueSelectedMembers,postingPermissionsLoaded:ye}),onBack:function e(){t.setPostingPermissionsSelectedMembers(null);t.setPostingPermissionsLoaded(false);t.goBackToAllOptions()},goButtonText:ce.t("Review"),contentLabel:"Manage posting permissions for "+Object(O["getDisplayName"])(i),title:this.renderOptionsListHeader(i,ce.rt("Manage posting permissions for <strong>{name}</strong>",{name:Object(O["getDisplayName"])(i),fallbackHash:"6e82adeae0a793fe96592833d990efcaf1cc8ab3"},function(e){var t=e.key;return Object($["a"])(t,i)})),qa:"posting_privilege"},xe),ne({children:o.a.createElement(z["a"],{whoCanPost:Me,canThread:x,channelPrefError:ie,onErrorDialogButtonClick:this.onErrorDialogButtonClick,featureDefaultSharedChannels:this.props.featureDefaultSharedChannels}),onGo:function e(){var r=t.props.featureDefaultSharedChannels;t.goButtonIsPending(true);var n=Object(X["a"])(Me,Oe,r);var a={who_can_post:n};if(Object(O["isOrgDefaultChannel"])(i)){var o=Object(J["a"])(x);a.can_thread=o}Object(E["t"])(i.id,JSON.stringify(a)).then(function(){t.setPostingPermissionsLoaded(false);t.closeModal()}).catch(function(){t.goButtonIsPending(false);t.setChannelPrefError(true)})},goButtonText:ce.t("Set posting permissions"),title:this.renderOptionsListHeader(i,ce.t("Review Changes")),contentLabel:"Review Changes",qa:"posting_privilege_review"},xe)):this.steps.push(ve,ve);if(k){var ze=Object(O["isOrgSharedPublicOrPrivateChannel"])(i);var Qe=function e(){if(ze||"specific"!==me){if(Object(O["isOrgGlobalSharedPublicOrPrivateChannel"])(i)){if("all"===me)return false}else if("specific"===me&&Object(O["getSharedTeamIds"])(i)&&Object(c["isEqual"])(be.sort(),Object(O["getSharedTeamIds"])(i).sort()))return false}else{if(!be.length)return false;if(1===be.length&&be.indexOf(s.id)>-1)return false}return true};var Ye=ce.t("Done");Qe()&&(Ye=ce.t("Review Changes"));this.steps.push(ne({children:o.a.createElement(G["a"],{channel:i,disabledTeamIds:fe,originatingTeamId:he,filterFunction:this.manageOrgAccessFilterFunction,isLoaded:de,onShareWithChange:this.onChangeManageOrgAccessShareWith,onTeamPickerChange:this.onChangeManageOrgAccessTeamPicker,preselectedTeamIds:be,shareWith:me}),goButtonText:Ye,onBack:function e(){t.setManageOrgAccessLoaded(false);t.goBackToAllOptions()},onCancel:this.goBackToAllOptions,onGo:function e(){t.goButtonIsPending(true);if(!Qe()){t.closeModal();return}if(ze){t.goToStep("manage_org_access_review");t.goButtonIsPending(false);return}Object(j["a"])(i,Object(O["getDisplayName"])(i)).then(function(e){t.goButtonIsPending(false);t.setState(function(){return{manageOrgAccessPreviousStep:"manage_org_access"}});if(!e.data.ok||e.data.name_taken){t.setState(function(){return{channelNameValid:false}});t.goButtonIsDisabled(true);t.modalRef.goToNextStep();return}t.goToStep("manage_org_access_review")}).catch(function(e){t.goButtonIsPending(false);t.setState(function(){return{channelNameValid:false}});var r=le.t("Oops, something went wrong.");var n=ce.t("For some weird reason, that didn\u2019t work. Please try again.");t.showAlertDialog({message:n,title:r});throw e})},title:this.renderOptionsListHeader(i,ce.rt("Sharing settings for <strong>{name}</strong>",{name:Object(O["getDisplayName"])(i),fallbackHash:"14c24585b3cd497e35dfec78cc5d5aa63f7d4690"},function(e){var t=e.key;return Object($["a"])(t,i)})),contentLabel:"Manage access to "+Object(O["getDisplayName"])(i),qa:"manage_org_access"},xe),ne({children:o.a.createElement(D["a"],{additionalVerificationError:Z,additionalVerificationGood:ae,channel:i,isCheckingAdditionalVerification:re,onInvalidName:this.channelNameOnInvalidName,onValidName:this.channelNameOnValidName}),onBack:function e(){t.setState(function(){return{manageOrgAccessPreviousStep:"manage_org_access"}});t.goBackToManageAccessPrevStep()},onCancel:this.goBackToAllOptions,goButtonText:Ue,onGo:function e(){t.setState(function(){return{manageOrgAccessPreviousStep:"manage_org_access_name_conflict",channelToBeShared:false}});t.modalRef.goToNextStep()},title:this.renderOptionsListHeader(i,ce.t("Rename this channel")),contentLabel:"Rename this channel",qa:"manage_org_access_name_conflict"},xe),ne({children:o.a.createElement(W["a"],{channel:i,currentTeam:s,newChannelName:_e,shareWith:me,teamIdsSelected:be}),goButtonText:ce.t("Save Changes"),onBack:this.goBackToManageAccessPrevStep,onCancel:this.goBackToAllOptions,onGo:this.manageOrgAccessSave,title:this.renderOptionsListHeader(i,ce.t("Review Changes")),contentLabel:"Review Changes",qa:"manage_org_access_review"},xe))}else this.steps.push(ve,ve,ve);this.steps.length!==Object(c["keys"])(pe).length&&Object(u["a"])(this.props.teamId,Object(m["error"])("ChannelOptions render error: It looks like the number of modal steps doesn\u2019t match the number of steps defined in the modal mapping. Please check that you have the correct number of filler steps added if your screen is not rendered."));return o.a.createElement("div",null,o.a.createElement(N["a"],{modalClasses:"channel_options_modal",onCancel:d,position:"fixed",ref:function e(r){t.modalRef=r},showCloseTransition:true,showOpenTransition:true,steps:this.steps}))}}]);return t}(i["PureComponent"]);Ee.displayName="ChannelOptions";Ee.propTypes=fe;Ee.defaultProps=de;function je(e,t){var r=t.channelId;var n=Object(b["getChannelById"])(e,r);if(!n)return{featureDefaultSharedChannels:Object(p["isFeatureEnabled"])(e,"feature_default_shared_channels")};var a=Object(g["getTeamsByIdAndMaybeFetchUnknownTeams"])(e,n.pending_shared).map(k["getTeamDisplayName"]);var i=[];Object(O["getSharedTeamIds"])(n)&&Object(O["getSharedTeamIds"])(n).length&&(i=Object(O["getSharedTeamIds"])(n).map(function(t){return Object(g["getTeamById"])(e,t)}));return{channel:n,currentMember:Object(_["getCurrentMember"])(e),currentTeam:Object(g["getCurrentTeam"])(e),dmRetentionDuration:Object(h["getTeamPref"])(e,"dm_retention_duration"),dmRetentionType:Object(h["getTeamPref"])(e,"dm_retention_type"),externalSharedTeams:i,groupRetentionDuration:Object(h["getTeamPref"])(e,"group_retention_duration"),groupRetentionType:Object(h["getTeamPref"])(e,"group_retention_type"),orgName:Object(v["getEnterpriseOrgName"])(e),pendingSharedExternalSharedTeamNames:a,channelRetentionDuration:Object(h["getTeamPref"])(e,"retention_duration"),channelRetentionType:Object(h["getTeamPref"])(e,"retention_type"),teamId:Object(d["getTeamId"])(e),featureDefaultSharedChannels:Object(p["isFeatureEnabled"])(e,"feature_default_shared_channels")}}var ke={archiveChannelApi:b["archiveChannelApi"],cancelExternalSharedChannelInviteApi:b["cancelExternalSharedChannelInviteApi"],channelPurposeApi:b["channelPurposeApi"],convertChannelToOrgSharedApi:b["convertChannelToOrgSharedApi"],convertChannelToPrivateApi:b["convertChannelToPrivateApi"],openModal:f["openModal"],renameChannelApi:b["renameChannelApi"],updateOrgAccessForChannel:b["updateOrgAccessForChannel"],exportChannelHistory:b["exportChannelHistory"],setChannelDeleted:E["s"],getChannelPref:E["m"],getExternalTeamIdsConnectedOnlyByChannel:E["p"],disconnectChannel:E["b"]};t["a"]=Object(s["connect"])(je,ke)(Ee);var we=[{stepName:"archive",prop:"showArchive",stepIndex:1},{stepName:"share_external",prop:"showShareExternal",stepIndex:2},{stepName:"stop_sharing_external",prop:"showStopShareExternal",stepIndex:3},{stepName:"convert_private",prop:"showConvertToPrivate",stepIndex:4},{stepName:"rename",prop:"showRename",stepIndex:5},{stepName:"export",prop:"showExport",stepIndex:6},{stepName:"delete",prop:"showDelete",stepIndex:7},{stepName:"purpose",prop:"showPurpose",stepIndex:8},{stepName:"retention",prop:"showDataRetention",stepIndex:9},{stepName:"posting_privilege",prop:"showPostingPermissions",stepIndex:10},{stepName:"manage_org_access",prop:"showManageOrgAccess",stepIndex:12}]},18367:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(16912);var c=r(16920);var l=r(17393);var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=new s["b"]("channel_options");var h={channel:a.a.object.isRequired};var m={};var b=function(e){d(t,e);function t(){p(this,t);return f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}u(t,[{key:"render",value:function e(){var t=this.props.channel;return o.a.createElement("div",{className:"p-channel-options--content_text"},o.a.createElement("p",null,v.t("Archiving is useful if you don\u2019t think you\u2019ll need this channel any longer. Here\u2019s what will happen when you archive this channel:")),o.a.createElement("ul",null,o.a.createElement("li",null,v.t("No one will be able to send messages to it")),o.a.createElement("li",null,v.t("Apps installed in this channel will be disabled")),o.a.createElement("li",null,v.t("A message will be posted that you archived the channel"))),o.a.createElement("p",null,v.t("Messages from archived channels will still show up in search and archives, the same way they do today. You can always un-archive an archived channel later, if you need it again.")),o.a.createElement("p",null,v.rt("Are you sure you want to archive <strong>{channel}</strong>?",{channel:Object(c["getDisplayName"])(t)},function(e){var r=e.key;return Object(l["a"])(r,t)})))}}]);return t}(i["PureComponent"]);b.displayName="ArchiveChannel";b.propTypes=h;b.defaultProps=m;t["a"]=b},18368:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16980);var p=r(16920);var f=r(17400);var d=r(16939);var v=r(16912);var h=r(17999);var m=r(17393);var b=r(20150);var _=r.n(b);var g=new v["b"]("channel_options");var y={additionalVerificationError:a.a.oneOfType([a.a.string,a.a.object]),additionalVerificationGood:a.a.bool,isCheckingAdditionalVerification:a.a.bool,channel:a.a.object.isRequired,currentTeam:a.a.object,orgName:a.a.string,onInvalidName:a.a.func,onValidName:a.a.func};var O={additionalVerificationError:"",additionalVerificationGood:false,isCheckingAdditionalVerification:false,currentTeam:{},orgName:"",onInvalidName:c["noop"],onValidName:c["noop"]};function E(e){var t=Object(p["getDisplayName"])(e.channel);"#"===t[0]&&(t=t.substr(1));var r=e.additionalVerificationError,n=e.additionalVerificationGood,a=e.isCheckingAdditionalVerification,i=e.channel,s=e.currentTeam,c=e.orgName,l=e.onInvalidName,u=e.onValidName;return o.a.createElement("div",{className:"top_margin p-channel-options--content_text"},o.a.createElement("p",null,g.rt("<strong>{name}</strong> is already in use by a channel on another {orgName} workspace. Choose a new name to share this channel outside of <span>{teamName}</span>.",{name:Object(p["getDisplayName"])(i),orgName:c,teamName:Object(f["getTeamDisplayName"])(s)},function(e){var t=e.key,r=e.tag,n=e.text;if("strong"===r)return o.a.createElement("strong",{key:t+"-1"},Object(m["a"])(t,i));return o.a.createElement("strong",{key:t},n)})),o.a.createElement("label",{htmlFor:"channel_rename",className:"c-label"},o.a.createElement("span",{className:"c-label__text"},g.t("Channel name"))),o.a.createElement(h["a"],{additionalVerificationError:r,additionalVerificationGood:n,id:"channel_rename",isCheckingAdditionalVerification:a,onInvalid:l,onValid:u,placeholder:g.t("Rename {title}",{title:Object(p["getDisplayName"])(i)}),shouldFix:true,value:t}))}E.displayName="ChannelNameConflict";E.propTypes=y;E.defaultProps=O;function j(e){return{currentTeam:Object(d["getCurrentTeam"])(e),orgName:Object(u["getEnterpriseOrgName"])(e)}}t["a"]=Object(s["connect"])(j)(E)},18369:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(8);var p=r.n(u);var f=r(16927);var d=r(16925);var v=r(18370);var h=r(16917);var m=r(16952);var b=r(16912);var _=r(17017);var g=r(20212);var y=r.n(g);var O=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=new b["b"]("channel_options");var C=new b["b"]("ui_validation");var S={teamId:a.a.string.isRequired,additionalVerificationError:a.a.oneOfType([a.a.string,a.a.object]),additionalVerificationGood:a.a.bool,nameNeedsChecking:a.a.bool,id:a.a.string.isRequired,isCheckingAdditionalVerification:a.a.bool,placeholder:a.a.string,onInvalid:a.a.func,onValid:a.a.func,shouldFix:a.a.bool,value:a.a.string.isRequired};var T={additionalVerificationError:"",additionalVerificationGood:false,nameNeedsChecking:false,isCheckingAdditionalVerification:false,placeholder:"",onInvalid:c["noop"],onValid:c["noop"],shouldFix:false,value:""};var I={lowercase:C.t("Channel names must be all lowercase. Try again?"),maxLength:C.t("Blerg, that\u2019s a bit too long! Channel names must be fewer than {maxlength} characters.",{maxlength:v["b"]+1}),punctuation:C.t("Names can\u2019t consist solely of punctuation. Please elaborate!"),required:C.t("Don\u2019t forget to name your channel."),specials:C.t("Channel names can\u2019t contain spaces, periods, or most punctuation. Try again?")};var N=function(e){k(t,e);function t(e){E(this,t);var r=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onChange=r.onChange.bind(r);r.renderWarning=r.renderWarning.bind(r);r.state={showInvalidCharactersWarning:false,showLowercaseWarning:false,showMaxLengthWarning:false,showNameRequiredWarning:false,showNameTakenWarning:false,showPunctuationWarning:false,showSpecialsWarning:false,value:r.props.value};return r}O(t,[{key:"componentDidMount",value:function e(){this.props.nameNeedsChecking&&this.onChange(this.props.value)}},{key:"onChange",value:function e(t){var r=t;var n=this.props,a=n.nameNeedsChecking,i=n.onInvalid,o=n.onValid,s=n.shouldFix,c=n.teamId;s&&(r=this.fixName(r));var l=Object(f["b"])(c);var u=Object(v["a"])(l,r,this.props.value),p=u.hasNameRequiredWarning,d=u.hasMaxLengthWarning,h=u.hasSpecialsWarning,m=u.hasPunctuationWarning,b=u.hasLowercaseWarning,_=u.hasNameTakenWarning;if(r===this.props.value&&!a){i({value:r});this.setState(function(){return{showLowercaseWarning:false,showMaxLengthWarning:false,showNameRequiredWarning:false,showNameTakenWarning:false,showPunctuationWarning:false,showSpecialsWarning:false,value:r}});return}b||d||p||_||m||h?i({value:r}):o({value:r});this.setState(function(){return{showLowercaseWarning:b,showMaxLengthWarning:d,showNameRequiredWarning:p,showNameTakenWarning:_,showPunctuationWarning:m,showSpecialsWarning:h,value:r}})}},{key:"fixName",value:function e(t){var r=t.toLowerCase().replace(/^#+/,"");r=r.replace(/^\s+/,"");r=r.replace(/\s+$/,"");r=r.replace(/\s/g,"-");var n=this.state.showInvalidCharactersWarning;n=!(!r||r===t);this.setState(function(){return{showInvalidCharactersWarning:n}});return r}},{key:"maybeRenderAdditionalValidationMarks",value:function e(){var t=this.props,r=t.additionalVerificationGood,n=t.isCheckingAdditionalVerification;var a=this.state,i=a.showLowercaseWarning,s=a.showMaxLengthWarning,c=a.showNameRequiredWarning,l=a.showNameTakenWarning,u=a.showPunctuationWarning,p=a.showSpecialsWarning;if(i||s||c||l||u||p)return null;if(n)return o.a.createElement("span",{className:"p-channel_name_input--validating"},o.a.createElement(m["a"],{size:"small",className:"inline_block"}));if(r)return o.a.createElement("span",{className:"p-channel_name_input--validating sk_seafoam_green"},w.t("Available"),o.a.createElement(h["a"],{align:"baseline",type:"check_circle_o_large"}));return null}},{key:"maybeRenderAdditionalVerificationWarning",value:function e(){var t=this.props.additionalVerificationError;if(!t.length)return null;return this.renderWarning(t)}},{key:"renderRules",value:function e(){var t=false;return this.renderWarning(w.t("Names should be lowercase, with no spaces."),t)}},{key:"renderNameTakenWarning",value:function e(){return this.renderWarning(C.t("{name} is already taken by a channel, username, or user group.",{name:this.state.value}))}},{key:"renderInvalidCharactersWarning",value:function e(){return this.renderWarning(w.t("You entered some disallowed characters in the name, which we\u2019ve fixed. Make sure it looks good to you, and try again!"))}},{key:"renderWarning",value:function e(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var n=o.a.createElement("span",{className:"flex_none small_right_margin"},o.a.createElement(h["a"],{type:"warning"}));var a=p()("p-channel_name_input--input_note",{"p-channel_name_input--alert":r});return o.a.createElement("span",{className:a},r&&n,o.a.createElement("span",{className:"flex_one"},t))}},{key:"render",value:function e(){var t=this.props,r=t.additionalVerificationError,n=t.id,a=t.placeholder;var i=this.state,s=i.showInvalidCharactersWarning,c=i.showLowercaseWarning,l=i.showMaxLengthWarning,u=i.showNameRequiredWarning,f=i.showNameTakenWarning,d=i.showPunctuationWarning,v=i.showSpecialsWarning,h=i.value;var m=s||c||l||u||f||d||v;r&&r.length&&(m=true);var b=p()("c-input_text","p-channel_name_input--input",{"p-channel_name_input--input_with_warning":m});return o.a.createElement("div",{className:"position_relative"},o.a.createElement(_["b"],{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",className:b,id:n,name:"channel_name_input",onChange:this.onChange,placeholder:a,value:h}),this.maybeRenderAdditionalValidationMarks(),o.a.createElement("div",{className:"p-channel_name_input--warnings"},s&&this.renderInvalidCharactersWarning(),c&&this.renderWarning(I.lowercase),l&&this.renderWarning(I.maxLength),u&&this.renderWarning(I.required),f&&this.renderNameTakenWarning(),d&&this.renderWarning(I.punctuation),v&&this.renderWarning(I.specials),this.maybeRenderAdditionalVerificationWarning()),o.a.createElement("div",{className:"margin_top_25"},this.renderRules()))}}]);return t}(i["PureComponent"]);N.displayName="ChannelNameInput";N.propTypes=S;N.defaultProps=T;var A=N;function P(e){return{teamId:Object(d["getTeamId"])(e)}}t["a"]=Object(s["connect"])(P)(N)},18370:function(e,t,r){"use strict";r.d(t,"b",function(){return o});t["a"]=s;var n=r(16923);var a=r(16919);var i=r(17297);var o=21;function s(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;var s=!t.trim();var c=Object(i["a"])(t)>o;var l=/[ .,;'`~!@#$%^&*+=\\:"<>?|]/.test(t.trim());var u=/^[-|_]+$/.test(t);var p=/[A-Z]/.test(t);var f=false;if(t!==r&&e){var d=Object(n["getChannelByName"])(e,t)||Object(a["memberExistsWithName"])(e,t);f=!!d}return{hasNameRequiredWarning:s,hasMaxLengthWarning:c,hasSpecialsWarning:l,hasPunctuationWarning:u,hasLowercaseWarning:p,hasNameTakenWarning:f}}},18372:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16919);var p=r(16918);var f=r(16917);var d=r(16912);var v=r(17060);var h=r(17095);var m=r(17182);var b=r(17096);var _=r(17250);var g=r(16953);var y=r(17022);var O=r(20148);var E=r.n(O);var j=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function C(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=new d["b"]("channel_options");var T={maxLength:a.a.number,purpose:a.a.oneOfType([a.a.string,a.a.object]),purposeCreator:a.a.object,onChannelPurposeTextareaChange:a.a.func.isRequired,onChannelPurposeValidationChange:a.a.func};var I={maxLength:250,purpose:"",purposeCreator:null,numCharsOverLimit:0,onChannelPurposeValidationChange:null};var N="react_channel_purpose_input";function A(e){Object(b["a"])({e:e,input_to_fill:"#"+N,offset_y:-8})}var P=function(e){C(t,e);function t(e){k(this,t);var r=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.setTextyRef=r.setTextyRef.bind(r);r.onTextChange=r.onTextChange.bind(r);r.texty=null;r.textyModules={tabcomplete:{positionMenu:function e(t){t.style.width=r.texty.container.offsetWidth+"px";Object(m["a"])(t,r.texty.container)},completers:["channels","emoji","members"]}};r.state={numCharsOverLimit:r.countCharsOverLimit()};return r}j(t,[{key:"onTextChange",value:function e(){var t=this.props,r=t.onChannelPurposeValidationChange,n=t.onChannelPurposeTextareaChange;var a=this.state.numCharsOverLimit;var i=this.countCharsOverLimit();if(i>0||a>0){this.setState(function(){return{numCharsOverLimit:i}});r&&r(i>0)}i<1&&n({target:{value:this.getEditText()}})}},{key:"setTextyRef",value:function e(t){this.texty=t&&t.getWrappedInstance?t.getWrappedInstance():t}},{key:"getEditText",value:function e(){var t=this.props.purpose;var r=Object(c["isString"])(t)?t:t.value;if(this.texty)return Object(y["j"])(this.texty.value());if(Object(c["isString"])(r))return r;return""}},{key:"countCharsOverLimit",value:function e(){var t=this.getEditText();var r=this.props.maxLength;if(!r||!t.length)return 0;return Math.max(0,t.length-r)}},{key:"renderTextarea",value:function e(){var t=this.props,r=t.maxLength,n=t.purpose;var a=this.state.numCharsOverLimit;var i=a+r;var s=Object(g["h"])(Object(c["isString"])(n)?n:n.value);var l=S.t("Channel purpose");var u=void 0;a>0&&(u=S.t("Text is too long! ({totalCharCount}/{maxLength} characters)",{totalCharCount:i,maxLength:r}));return o.a.createElement("div",{className:"p-channel_options--channel_purpose"},o.a.createElement(h["g"],{id:N,ref:this.setTextyRef,className:"c-input_textarea c-channel_purpose_input",modules:this.textyModules,ariaLabel:l,initialText:s,onTextChange:this.onTextChange,focusOnMount:true,useLegacyCreate:true}),o.a.createElement(p["c"],{onClick:A,className:"c-message__editor__emoji_menu","aria-label":"Emoji menu"},o.a.createElement(f["a"],{className:"c-message__editor__emoji_circle_icon",type:"circle-fill"}),o.a.createElement(f["a"],{className:"c-message__editor__emoji_smile_icon",type:"smile-o"}),o.a.createElement(f["a"],{className:"c-message__editor__emoji_happy_icon",type:"happy-smile"})),u&&o.a.createElement("p",{className:"candy_red no_bottom_margin"},u))}},{key:"render",value:function e(){var t=this.props,r=t.purpose,n=t.purposeCreator;var a=S.rt('Purpose <span className="normal">(optional)</span>',{fallbackHash:"a587fb8aa58d02ba9fd0f63b6a2fee69d374d87f"},function(e){var t=e.text,r=e.key;return o.a.createElement("span",{key:r,className:"normal"},t)});var i=void 0;if(r.last_set){var s=Object(_["a"])(r.last_set);n&&s&&(i=S.rt("The purpose was last set by <span>{member}</span> {date}.",{member:n,date:s},function(e){var t=e.key,r=e.tag,a=e.text;if("span"===r)return o.a.createElement(v["a"],{key:t,id:n.id});return o.a.createElement("span",{key:t},a)}))}return o.a.createElement("div",{className:"p-channel-options--content_text"},o.a.createElement("label",{htmlFor:"purpose_input",className:"block"},a),this.renderTextarea(),o.a.createElement("p",{className:"mini small_top_margin no_bottom_margin"},S.t("Give your channel a purpose that describes what it will be used for.")),i&&o.a.createElement("p",{className:"mini"},i))}}]);return t}(i["PureComponent"]);P.displayName="ChannelPurpose";P.propTypes=T;P.defaultProps=I;function R(e,t){var r=t.purpose;var n=Object(c["get"])(r,"creator");return{purposeCreator:n?Object(u["getMemberById"])(e,n):null}}t["a"]=Object(s["connect"])(R)(P)},18373:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(16912);var c=r(16920);var l=r(17393);var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=new s["b"]("channel_options");var h={channel:a.a.object.isRequired};var m={};var b=function(e){d(t,e);function t(){p(this,t);return f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}u(t,[{key:"render",value:function e(){var t=this.props.channel;return o.a.createElement("div",{className:"p-channel-options--content_text"},o.a.createElement("p",{className:"top_margin"},v.rt("Converting <strong>{channel}</strong> to a private channel will preserve the history and membership.",{channel:Object(c["getDisplayName"])(t)},function(e){var r=e.key;return Object(l["a"])(r,t)})),o.a.createElement("p",{className:"small_bottom_margin"},o.a.createElement("strong",null,v.t("Two things you should know:"))),o.a.createElement("ul",null,o.a.createElement("li",null,v.t("This conversion is not reversible. It is a one-way street.")),o.a.createElement("li",null,v.t("Files that were previously shared in this channel will not become private. They will remain publicly accessible to others on your team."))))}}]);return t}(i["PureComponent"]);b.displayName="ConvertChannelToPrivate";b.propTypes=h;b.defaultProps=m;t["a"]=b},18374:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16921);var u=r(17400);var p=r(16912);var f=r(17392);var d=r(16952);var v=r(16957);var h=r(17184);var m=r(17384);var b=r(20076);var _=r.n(b);var g=r(20075);var y=r.n(g);var O=r(18e3);var E=r(20150);var j=r.n(E);var k=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var T=new p["b"]("channel_options");var I={member:a.a.object.isRequired,team:a.a.object.isRequired,onDurationChange:a.a.func,onDurationUnitChange:a.a.func,onTypeChange:a.a.func,prefsLoaded:a.a.bool,retentionDuration:a.a.number,retentionDurationUnit:a.a.number,retentionType:a.a.number,teamRetentionDuration:a.a.number,teamRetentionType:a.a.number,durationInputRef:a.a.func};var N={onDurationChange:s["noop"],onDurationUnitChange:s["noop"],onTypeChange:s["noop"],prefsLoaded:false,retentionDuration:0,retentionDurationUnit:0,retentionType:0,teamRetentionDuration:0,teamRetentionType:0,durationInputRef:s["noop"]};var A=0;var P=1;var R=1;var M=0;var x=2;var L=3;var D=0;var F=47;var B=57;var U=function(e){S(t,e);function t(e){w(this,t);var r=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.durationChange=r.durationChange.bind(r);r.durationUnitChange=r.durationUnitChange.bind(r);r.handleKeyPress=r.handleKeyPress.bind(r);return r}k(t,[{key:"durationChange",value:function e(t){var r=this;t.persist();Object(s["debounce"])(function(){var e=Math.round(parseFloat(t.target.value,10));r.props.onDurationChange(e)},500)()}},{key:"durationUnitChange",value:function e(t){this.props.onDurationUnitChange(parseInt(t.target.value,10))}},{key:"handleKeyPress",value:function e(t){(t.charCode<F||t.charCode>B)&&t.preventDefault()}},{key:"maybeRenderOldDurationInput",value:function e(){var t=this.props,r=t.retentionDuration,n=t.retentionType;if(n===A)return null;var a={width:"60px",backgroundColor:"white"};return o.a.createElement("div",{className:"flex_none left_margin"},o.a.createElement("label",{htmlFor:"retention_duration",className:"c-label c-label__text"},T.t("Duration")),o.a.createElement("input",{className:"p-channel_options--retention_duration c-input_text align_right",defaultValue:r,id:"retention_duration",maxLength:"4",onChange:this.durationChange,style:a,type:"text"}),o.a.createElement("span",{className:"p-channel_options--retention_duration_add_on"},T.t("days")))}},{key:"maybeRenderDurationInput",value:function e(){var t=this.props,r=t.retentionDuration,n=t.retentionDurationUnit,a=t.retentionType,i=t.durationInputRef;if(a===A)return null;var s=o.a.createElement("strong",null,T.t("Delete messages and their revisions after:"));return o.a.createElement(v["a"],{className:"p-channel_options--retention_duration_label c-deprecated-icon c-icon--caret-down",text:s,htmlFor:"retention_duration"},o.a.createElement("div",{className:"display_flex"},o.a.createElement("input",{className:"p-channel_options--retention_duration c-input_text",defaultValue:0===r?"":r,id:"retention_duration",onChange:this.durationChange,onKeyPress:this.handleKeyPress,type:"text",ref:i}),o.a.createElement("select",{className:"p-channel_options--retention_duration_unit c-input_select margin_left_100",id:"retention_duration_unit",defaultValue:n,onChange:this.durationUnitChange},o.a.createElement("option",{value:"0"},T.t("Days")),o.a.createElement("option",{value:"1"},T.t("Years")))))}},{key:"maybeRenderDurationWarning",value:function e(){var t=this.props,r=t.member,n=t.retentionType,a=t.retentionDuration,i=t.retentionDurationUnit,s=t.teamRetentionDuration,c=t.teamRetentionType;if(n===A)return null;var u=void 0;var p=Object(O["a"])({retentionDuration:a,retentionDurationUnit:i});var d=5475;if(p>=36500)u=T.rt("When setting a time frame for deleting messages, please choose a duration less than 100 years.");else if(Object(O["b"])({retentionType:n,retentionDuration:p}))if(p<30)u=T.rt("<strong>This will delete all messages older than {retentionDuration, plural, =1 {# day} other {# days}}</strong>. Please double-check with your team before setting such a short retention period.",{retentionDuration:a});else if(c===x&&p>s)u=i===D?Object(l["w"])(r)||Object(l["M"])(r)?T.rt("<strong>Note:</strong> By setting this channel\u2019s retention period to {retentionDuration, plural, =1 {# day} other {# days}}, you\u2019re choosing to keep messages for longer than the rest of your workspace.",{retentionDuration:a}):T.rt("<strong>Note:</strong> By setting this channel\u2019s retention period to {retentionDuration, plural, =1 {# day} other {# days}}, you\u2019re choosing to keep messages for longer than the rest of your workspace. You may want to check with an admin to make sure this is OK.",{retentionDuration:a}):Object(l["w"])(r)||Object(l["M"])(r)?T.rt("<strong>Note:</strong> By setting this channel\u2019s retention period to {retentionDuration, plural, =1 {# year} other {# years}}, you\u2019re choosing to keep messages for longer than the rest of your workspace.",{retentionDuration:a}):T.rt("<strong>Note:</strong> By setting this channel\u2019s retention period to {retentionDuration, plural, =1 {# year} other {# years}}, you\u2019re choosing to keep messages for longer than the rest of your workspace. You may want to check with an admin to make sure this is OK.",{retentionDuration:a});else{if(c!==R&&c!==M||!(p>d))return null;u=T.rt("Just a heads up: if you want to keep your messages forever, you can choose to follow your workspace\u2019s default retention settings.")}else u=T.rt("To delete messages after a period of time, set a value greater than zero.");return o.a.createElement(f["a"],{level:"warning"},u)}},{key:"renderSelectOption",value:function e(t,r){return o.a.createElement("option",{value:t},r)}},{key:"renderRadio",value:function e(){var t=this.props,r=t.onTypeChange,n=t.retentionType,a=t.team;var i="retention_type";var s=o.a.createElement("span",null,o.a.createElement("strong",null,T.t("Use the default retention settings for {teamName}",{teamName:Object(u["getTeamDisplayName"])(a)})),o.a.createElement("div",{className:"sk_dark_gray"},this.renderTeamPrefMessage()));var c=o.a.createElement("span",null,o.a.createElement("strong",null,T.t("Use custom retention settings for this conversation")),o.a.createElement("div",{className:"sk_dark_gray"},T.t("Delete messages after a set amount of time.")));return o.a.createElement("div",{className:"flex_one"},o.a.createElement(m["a"],{className:"margin_bottom_50"},o.a.createElement(v["a"],{text:s,htmlFor:i+"_0",type:"inline",cursor:"pointer",className:"margin_bottom_75"},o.a.createElement(h["a"],{id:i+"_0",name:i,value:0,checked:n===A,onChange:r})),o.a.createElement(v["a"],{text:c,htmlFor:i+"_1",type:"inline",cursor:"pointer"},o.a.createElement(h["a"],{id:i+"_1",name:i,value:1,checked:n===P,onChange:r}))))}},{key:"renderTeamPrefMessage",value:function e(){var t=this.props,r=t.teamRetentionDuration,n=t.teamRetentionType;var a=void 0;switch(n){case R:a=T.t("By default, messages are kept forever.");break;case M:a=T.t("By default, messages are kept forever, but revisions aren\u2019t tracked.");break;case x:if(r>364){var i=Object(s["round"])(r/365,1);a=T.t("By default, messages older than {durationDays} days ({durationYears, plural, =1 {# year} other {# years}}) will be deleted.",{durationDays:r,durationYears:i})}else a=T.t("By default, messages older than {teamRetentionDuration, plural, =1 {# day} other {# days}} will be deleted.",{teamRetentionDuration:r});break;case L:if(r>364){var o=Object(s["round"])(r/365,1);a=T.t("By default, messages older than {durationDays} days ({durationYears, plural, =1 {# year} other {# years}}) will be deleted (full history still accessible via compliance export).",{durationDays:r,durationYears:o,fallbackHash:"91a2ec5b71549f51b20023decb759e38c488cd23"})}else a=T.t("By default, messages older than {teamRetentionDuration, plural, =1 {# day} other {# days}} will be deleted (full history still accessible via compliance export).",{teamRetentionDuration:r,fallbackHash:"546ed739919d63b927945839040c80b6968a5d2f"});break;default:a=T.t("By default, messages are kept forever.");break}return a}},{key:"render",value:function e(){var t=this.props.prefsLoaded;if(!t)return o.a.createElement("div",{className:"p-channel_options--option_spinner"},o.a.createElement(d["a"],{size:"medium"}));return o.a.createElement("div",{className:"p-channel-options--content_text"},o.a.createElement("p",null,T.t("If you\u2019d like, you can set custom message retention for this conversation.")),this.renderRadio(),o.a.createElement("div",{className:"p-channel-options__custom_retention_container"},this.maybeRenderDurationInput(),this.maybeRenderDurationWarning()))}}]);return t}(i["PureComponent"]);U.displayName="DataRetention";U.propTypes=I;U.defaultProps=N;t["a"]=U},18375:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(16920);var c=r(16942);var l=r(16912);var u=r(17393);var p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=new l["b"]("channel_options");var m={channel:a.a.object.isRequired,showArchiveInstead:a.a.bool.isRequired,onChangeCheckbox:a.a.func.isRequired,onClickArchiveInstead:a.a.func.isRequired};var b={};var _=function(e){v(t,e);function t(){f(this,t);return d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}p(t,[{key:"renderArchiveInstead",value:function e(){var t=this.props,r=t.showArchiveInstead,n=t.onClickArchiveInstead;if(!r)return null;return h.rt("<strong>Note:</strong> <a>Archiving a channel</a> lets you close out a conversation without deleting its messages.",{fallbackHash:"7a1495254985f7cbea8f1975f9ee15921929ea5c"},function(e){var t=e.text,r=e.key,a=e.tag;if("strong"===a)return o.a.createElement("strong",{key:r},t);if("a"===a)return o.a.createElement(c["a"],{key:r,onClick:n},t);return{text:t}})}},{key:"render",value:function e(){var t=this.props,r=t.channel,n=t.onChangeCheckbox;return o.a.createElement("div",{className:"p-channel-options--content_text"},o.a.createElement("p",null,h.rt("Are you sure you want to delete <strong>{channel}</strong>? All of the channel\u2019s messages will be removed from Slack immediately \u2014 files, however, will not be deleted. This cannot be undone.",{channel:Object(s["getDisplayName"])(r)},function(e){var t=e.key;return Object(u["a"])(t,r)})),o.a.createElement("p",null,this.renderArchiveInstead()),o.a.createElement("p",{className:"float_left very_small_top_margin"},o.a.createElement("label",{htmlFor:"delete_channel_cb",className:"c-label--pointer display_flex align_items_center"},o.a.createElement("input",{onChange:n,id:"delete_channel_cb",type:"checkbox",className:"c-input_checkbox inline small_right_margin"}),h.t("Yes, permanently delete this channel"))))}}]);return t}(i["PureComponent"]);_.displayName="DeleteChannel";_.propTypes=m;_.defaultProps=b;t["a"]=_},18376:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(16912);var o=new i["b"]("channel_options");function s(){return a.a.createElement("div",{className:"p-channel-options--content_text"},a.a.createElement("p",null,o.t("Exports can take a while \u2014 especially for lengthy conversations. Slackbot will ping you when your export is done.")))}s.displayName="ExportHistory";t["a"]=s},18377:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(9);var u=r(16980);var p=r(16920);var f=r(17767);var d=r(16952);var v=r(16957);var h=r(17596);var m=r(17993);var b=r(17992);var _=r(17184);var g=r(16912);var y=r(20150);var O=r.n(y);var E=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=new g["b"]("channel_options");var S={channel:a.a.object,orgName:a.a.string,disabledTeamIds:a.a.arrayOf(a.a.string),filterFunction:a.a.func,isLoaded:a.a.bool,onShareWithChange:a.a.func,onTeamPickerChange:a.a.func,originatingTeamId:a.a.string,preselectedTeamIds:a.a.arrayOf(a.a.string),shareWith:a.a.string};var T={channel:null,orgName:"",disabledTeamIds:[],filterFunction:null,isLoaded:false,onShareWithChange:s["noop"],onTeamPickerChange:s["noop"],originatingTeamId:"",preselectedTeamIds:[],shareWith:"specific"};var I=function(e){w(t,e);function t(){j(this,t);return k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}E(t,[{key:"maybeRenderWorkspacePicker",value:function e(){var t=this.props,r=t.disabledTeamIds,n=t.filterFunction,a=t.onTeamPickerChange,i=t.originatingTeamId,s=t.preselectedTeamIds,c=t.shareWith;if("all"===c)return null;var l=void 0;l=n||Object(f["d"])({preselected_ids:s,disabled_ids:r});return o.a.createElement("div",{className:"margin_left_150"},o.a.createElement(h["a"],{approxItemHeight:32,dataPromise:l,onValueChange:a,placeholderText:C.t("Add workspaces"),template:function e(t){var r={item:t};t.team.id===i&&(r.additionalItemCopy=C.t("Owner"));return o.a.createElement(b["a"],r)},tokenTemplate:function e(t){var r={item:t};t.team.id===i&&(r.additionalItemCopy=C.t("Owner"));return o.a.createElement(m["a"],r)}}))}},{key:"renderAllWorkspaces",value:function e(){var t=this.props,r=t.onShareWithChange,n=t.shareWith,a=t.orgName;var i={className:"small_right_margin",id:"all-workspaces",name:"share_with",onClick:r,value:"all"};"all"===n&&(i.defaultChecked="checked");return o.a.createElement(v["a"],{type:"inline",cursor:"pointer",className:"p-channel_options--input_label",htmlFor:"all-workspaces",text:C.t("All {orgName} workspaces",{orgName:a})},o.a.createElement(_["a"],i))}},{key:"renderSpecificWorkspaces",value:function e(){var t=this.props,r=t.onShareWithChange,n=t.shareWith,a=t.orgName;var i={className:"small_right_margin",id:"specific-workspaces",name:"share_with",onClick:r,value:"specific"};"specific"===n&&(i.defaultChecked="checked");return o.a.createElement("div",null,o.a.createElement(v["a"],{type:"inline",cursor:"pointer",className:"p-channel_options--input_label",htmlFor:"specific-workspaces",text:C.t("Specific {orgName} workspaces",{orgName:a})},o.a.createElement(_["a"],i)),this.maybeRenderWorkspacePicker())}},{key:"render",value:function e(){var t=this.props,r=t.channel,n=t.isLoaded,a=t.orgName;if(!n)return o.a.createElement("div",{className:"p-channel_options--option_spinner"},o.a.createElement(d["a"],{size:"medium"}));var i=void 0;i=Object(p["isPrivateChannel"])(r)?C.t("Members of the {org_name} workspaces you select will be able to join this channel, if invited.",{org_name:a}):C.t("Choose which {org_name} workspaces can find and join this channel.",{org_name:a});return o.a.createElement("div",{className:"p-channel-options--content_text"},o.a.createElement("p",null,i),this.renderSpecificWorkspaces(),this.renderAllWorkspaces())}}]);return t}(i["PureComponent"]);I.displayName="ManageWorkspaceAccess";I.propTypes=S;I.defaultProps=T;function N(e){return{orgName:Object(u["getEnterpriseOrgName"])(e)}}t["a"]=Object(l["connect"])(N)(I)},18378:function(e,t,r){"use strict";t["a"]=n;t["b"]=a;t["c"]=i;t["d"]=o;function n(e,t){return e<t}function a(e){var t=e.sluggifyEnabled,r=e.sluggifyDelimiter,n=e.sluggifyKeyName,a=e.single;if(!t||!r||!n||a)return false;return true}function i(e){return void 0!==e.slugId}function o(e,t){var r=t.canSlug,n=t.noDefaultSelection;var a=[];var o=[];var s={};e.forEach(function(e){var t=e;if(r&&i(t)){o.push(t);return}a.push(t);s[t.id]=t;if(t.group||t.children&&t.children.length){t.group=true;t.children.forEach(function(e){var r=e;r.isChild=true;r.parentId=t.id;a.push(r);s[r.id]=r;e.preselected&&!n&&o.push(r)})}t.preselected&&!n&&o.push(t)});return{currentItems:a,itemMapById:s,preselected:o}}},18379:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(16912);var f=r(16932);var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=new p["b"]("channel_options");var _={active:a.a.bool,dataQaPrefix:a.a.string,disabled:a.a.bool,item:a.a.object,onClick:a.a.func,onMouseLeave:a.a.func,onMouseMove:a.a.func,selected:a.a.bool,style:a.a.object,template:a.a.func,customClasses:a.a.string};var g={active:false,dataQaPrefix:"lfs",disabled:false,item:{},onClick:l["noop"],onMouseLeave:l["noop"],onMouseMove:l["noop"],selected:false,style:"",template:function e(t){return t.label},customClasses:""};var y=function(e){m(t,e);function t(e){v(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onClickHandler=r.onClickHandler.bind(r);return r}d(t,[{key:"onClickHandler",value:function e(t){t.preventDefault();t.stopPropagation();if(this.props.disabled)return;this.props.onClick(this.props.item)}},{key:"render",value:function e(){var t=this.props.item;var r=c()("c-lazy_filter_select__item",{"c-lazy_filter_select__item--active":this.props.active,"c-lazy_filter_select__item--selected":this.props.selected,"c-lazy_filter_select__item--child":t.isChild,"c-lazy_filter_select__item--group":t.group,"c-lazy_filter_select__item--disabled":this.props.disabled},this.props.customClasses);var n="lfs-item-"+t.id;var a=this.props.dataQaPrefix+"-item-"+t.id;var i=o.a.createElement("div",{className:r,"data-id":t.id,"data-qa":a,id:n,onClick:this.onClickHandler,onMouseLeave:this.props.onMouseLeave,onMouseMove:this.props.onMouseMove,role:"option",style:this.props.style,tabIndex:"-1",key:"list-item-"+t.id},this.props.template(t));if(this.props.disabled){var s=b.t("Cannot be removed");return o.a.createElement(f["c"],{position:"top",tip:s},i)}return i}}]);return t}(i["PureComponent"]);y.displayName="LazyFilterSelectListItem";t["a"]=y;y.propTypes=_;y.defaultProps=g},18380:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(16912);var f=r(16932);var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=new p["b"]("channel_options");var _={dataQaPrefix:a.a.string,disabled:a.a.bool,highlighted:a.a.bool,item:a.a.object,onClick:a.a.func,onHighlight:a.a.func,single:a.a.bool,template:a.a.func};var g={dataQaPrefix:"lfs",disabled:false,highlighted:false,item:{},onClick:l["noop"],onHighlight:l["noop"],single:false,template:function e(t){return t.label}};var y=function(e){m(t,e);function t(e){v(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onClickHandler=r.onClickHandler.bind(r);return r}d(t,[{key:"onClickHandler",value:function e(t){if(this.props.disabled||this.props.single)return;var r=t.clientX;var n=t.target.getBoundingClientRect();t.stopPropagation();r>n.width+n.left?this.props.onClick(this.props.item):this.props.onHighlight(this.props.item)}},{key:"render",value:function e(){var t=this.props.item;var r=c()("c-lazy_filter_select__token","c-lazy_filter_select__token--selected",{"c-lazy_filter_select__token--single":this.props.single,"c-lazy_filter_select__token--highlighted":this.props.highlighted,"c-lazy_filter_select__token--disabled":this.props.disabled});var n=t.slugId?t.slugId:t.id;var a="lfs-token-"+n;var i=this.props.dataQaPrefix+"-item-"+n;var s=o.a.createElement("div",{className:r,"data-id":n,"data-qa":i,id:a,key:"token-"+t.id,onClick:this.onClickHandler,tabIndex:-1},this.props.template(t));if(this.props.disabled){var l=b.t("Cannot be removed");return o.a.createElement(f["c"],{position:"top",tip:l},s)}return s}}]);return t}(i["PureComponent"]);y.displayName="LazyFilterSelectToken";t["a"]=y;y.propTypes=_;y.defaultProps=g},18382:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16913);var p=r(16925);var f=r(16980);var d=r(16939);var v=r(16927);var h=r(16920);var m=r(17400);var b=r(20398);var _=r(16912);var g=r(17393);var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var O=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function E(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=new _["b"]("channel_options");var S={allEnterpriseTeams:a.a.array,channel:a.a.object.isRequired,channelIsGlobalShared:a.a.bool,newChannelName:a.a.string,orgName:a.a.string,shareWith:a.a.string,teamId:a.a.string.isRequired,teamIdsSelected:a.a.arrayOf(a.a.string)};var T={allEnterpriseTeams:[],channelIsGlobalShared:false,newChannelName:"",orgName:"",shareWith:"specific",teamIdsSelected:[]};var I=function(e){w(t,e);function t(e){j(this,t);var r=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.pointCounter=0;return r}O(t,[{key:"makeChannelName",value:function e(){var t=this.props,r=t.channel,n=t.newChannelName;return n&&n.length?n:Object(h["getDisplayName"])(r)}},{key:"makeTeamNamesList",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];var r=this.props,n=r.teamIdsSelected,a=r.teamId;var i=Object(v["b"])(a);var s=t.length?t:n;if(s.length>=5)return C.t("{workspaceCount} workspaces",{workspaceCount:s.length});var l=void 0;l=Object(u["isFeatureEnabled"])(i,"feature_lazy_teams")?Object(c["map"])(s,function(e){var t=Object(d["getTeamById"])(i,e);return Object(m["isUnknown"])(t)?o.a.createElement(b["a"],{type:"unknown"}):Object(m["getTeamDisplayName"])(t)}):Object(c["map"])(s,function(e){return Object(m["getTeamDisplayName"])(Object(d["getTeamById"])(i,e))});if(1===l.length)return l[0];return Object(_["e"])(l,{react:true,strong:true})}},{key:"renderChangesDetails",value:function e(){var t=this;var r=this.props,n=r.allEnterpriseTeams,a=r.channel,i=r.channelIsGlobalShared,s=r.orgName,l=r.shareWith,u=r.teamIdsSelected;var p=Object(c["map"])(n,"id");var f=i?p:Object(h["getSharedTeamIds"])(a);var d=Object(c["difference"])(u,Object(h["getSharedTeamIds"])(a));var v=c["without"].apply(void 0,[f].concat(E(u)));var m=c["without"].apply(void 0,[Object(c["intersection"])(p,f)].concat(E(v)));var b=[];var _=function e(r,n,a){t.pointCounter+=1;b.push({data:r,key:t.pointCounter,isHeading:!!n,iconType:a})};var O=[];var j={channelName:this.makeChannelName(),teamNames:this.makeTeamNamesList(d)};var k=function e(t){var r=t.key,n=t.tag,i=t.text;if("span"===n)return o.a.createElement("strong",{key:r},Object(g["a"])(r,a,i));return o.a.createElement("strong",{key:r},i)};var w=true;var S="ts_icon_org_shared_channel";var T="ts_icon_warning";if("all"===l){_(C.rt("Share <span>{channelName}</span> with all of <strong>{orgName}</strong>.",{channelName:this.makeChannelName(),orgName:s},k),w,S);if(Object(h["isPrivateChannel"])(a))_(C.rt("If invited, members of <strong>{orgName}</strong> will be able to join the channel and see its message history and files.",{orgName:s,channelName:this.makeChannelName()},k));else{_(C.rt("All members of <strong>{orgName}</strong> will be able to find and join the channel and see its message history and files.",{orgName:s}));_(C.t("Members of any workspaces created in the future will also have access."))}_(C.rt("The channel will be notified of these changes."))}else{i&&_(C.rt("Stop sharing <span>{channelName}</span> with {teamNames}.",{channelName:this.makeChannelName(),teamNames:this.makeTeamNamesList(v)},k),w,T);if(!i&&d.length){_(C.rt("Share <span>{channelName}</span> with members of {teamNames}.",j,k),w,S);Object(h["isPrivateChannel"])(a)?d.length>1?_(C.rt("If invited, members of these workspaces will be able to join the channel and see its message history and files.")):_(C.rt("If invited, members of this workspace will be able to join the channel and see its message history and files.")):d.length>1?_(C.rt("All members of these workspaces will be able to find and join the channel and see its message history and files.")):_(C.rt("All members of this workspace will be able to find and join the channel and see its message history and files."))}d.length&&!v.length&&_(C.rt("The channel will be notified of these changes."));if(v.length){i||_(C.rt("Stop sharing <span>{channelName}</span> with {teamNames}.",{channelName:this.makeChannelName(),teamNames:this.makeTeamNamesList(v)},k),w,T);v.length>1?_(C.rt("Members of these workspaces will lose access to this channel\u2019s message history and files.")):_(C.rt("All members of {workspace} will lose access to this channel\u2019s message history and files.",{workspace:this.makeTeamNamesList(v)}));v.length>1?_(C.rt("Apps installed by members of these workspaces will need to be installed again.")):_(C.rt("Apps installed by members of {workspace} will need to be added again.",{workspace:this.makeTeamNamesList(v)}));m.length&&_(C.rt("Members of {workspaces} will continue to have access to this channel.",{workspaces:this.makeTeamNamesList(m)}));_(C.rt("The channel will be notified of these changes."))}}_(C.rt("<a>Learn more</a> about sharing channels within your organization.",null,function(e){var t=e.key,r=e.text;return o.a.createElement("a",{key:t,href:"https://get.slack.help/hc/en-us/articles/115001399587-Create-a-shared-channel-on-Enterprise-Grid#how-they-work",target:"_blank",rel:"noopener noreferrer"},r)}));b.forEach(function(e){var t={className:e.isHeading?"p-channel-options--workspace_access_heading":"p-channel-options--workspace_access_line_item"};O.push(o.a.createElement("p",y({key:e.key},t),e.iconType&&o.a.createElement("ts-icon",{class:e.iconType}),e.data))});return o.a.createElement("div",{className:"p-channel-options--content_text"},O)}},{key:"render",value:function e(){return o.a.createElement("div",null,this.renderChangesDetails())}}]);return t}(i["Component"]);I.displayName="ManageWorkspaceAccessReview";I.propTypes=S;I.defaultProps=T;function N(e,t){var r=t.channel;return{channelIsGlobalShared:Object(h["isOrgGlobalSharedPublicOrPrivateChannel"])(r),orgName:Object(f["getEnterpriseOrgName"])(e),teamId:Object(p["getTeamId"])(e),allEnterpriseTeams:Object(d["getAllEnterpriseTeams"])(e)}}t["a"]=Object(s["connect"])(N)(I)},18383:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16919);var p=r(16980);var f=r(16920);var d=r(16912);var v=r(17392);var h=r(18384);var m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=new d["b"]("channel_options");var O={channel:a.a.object,disableConvertToPrivate:a.a.bool,disableRename:a.a.bool,isAdminUser:a.a.bool,modalClasses:a.a.string,onClickArchive:a.a.func,onClickConvertToPrivate:a.a.func,onClickDelete:a.a.func,onClickExport:a.a.func,onClickManageOrgAccess:a.a.func,onClickPostingPermissions:a.a.func,onClickPurpose:a.a.func,onClickRename:a.a.func,onClickShareExternal:a.a.func,onClickCancelExternalSharedChannelInvite:a.a.func,onClickStopShareExternal:a.a.func,orgName:a.a.string,pendingSharedExternalSharedTeamNames:a.a.array,showArchive:a.a.bool.isRequired,showConvertToPrivate:a.a.bool.isRequired,showDelete:a.a.bool.isRequired,showExport:a.a.bool.isRequired,showManageOrgAccess:a.a.bool.isRequired,showPostingPermissions:a.a.bool.isRequired,showPurpose:a.a.bool.isRequired,showRename:a.a.bool.isRequired,showShareExternal:a.a.bool.isRequired,showStopShareExternal:a.a.bool.isRequired,showSuccessAlert:a.a.bool,successAlertHeading:a.a.string,successAlertText:a.a.string};var E={channel:{},disableConvertToPrivate:false,disableRename:false,isAdminUser:false,modalClasses:"",onClickArchive:c["noop"],onClickCancelExternalSharedChannelInvite:c["noop"],onClickConvertToPrivate:c["noop"],onClickDelete:c["noop"],onClickExport:c["noop"],onClickManageOrgAccess:c["noop"],onClickPostingPermissions:c["noop"],onClickPurpose:c["noop"],onClickRename:c["noop"],onClickShareExternal:c["noop"],onClickStopShareExternal:c["noop"],orgName:"",pendingSharedExternalSharedTeamNames:[],showSuccessAlert:false,successAlertHeading:"",successAlertText:""};var j=function(e){g(t,e);function t(){b(this,t);return _(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}m(t,[{key:"renderArchive",value:function e(){var t=this.props.onClickArchive;return o.a.createElement(h["a"],{dataActionTag:"archive",message:y.t("If you don\u2019t think it will be used anymore and you want to clean up, archive it. The channel can be unarchived later (but everyone will have been removed)."),onClick:t,title:y.t("Archive this channel")})}},{key:"renderShareExternal",value:function e(){var t=this;var r=this.props,n=r.channel,a=r.isAdminUser,i=r.onClickShareExternal,s=r.pendingSharedExternalSharedTeamNames;var c="";var l=y.t("Share this channel with another workspace");var u=y.rt("Shared channels link two workspaces together. People from both sides can send messages, share files, and search the channel\u2019s history. <a>Learn more</a>",null,function(e){var t=e.text,r=e.key;return o.a.createElement("a",{key:r,href:"https://get.slack.help/hc/articles/115004151203",target:"_blank",rel:"noopener noreferrer"},t)});n.unlinked&&(c=o.a.createElement("div",{className:"c-alert c-alert--inline c-alert--level_warning channel_option_item__alert top_margin"},o.a.createElement("div",{className:"c-alert__message"},y.t("This channel was previously shared with another workspace and can\u2019t be shared again."))));if(s.length){var p=Object(d["e"])(s).join("");var f=y.rt("{listified_pending_team_name} was already invited to this channel.",{listified_pending_team_name:o.a.createElement("strong",null,p)});var v="";if(a){var m=n.pending_shared[0];v=o.a.createElement("a",{onClick:function e(){return t.props.onClickCancelExternalSharedChannelInvite(m)},role:"button",tabIndex:"0"},y.t("Cancel invitation"))}c=o.a.createElement("div",{className:"c-alert c-alert--inline c-alert--level_warning channel_option_item__alert top_margin"},o.a.createElement("div",{className:"c-alert__message"},f,"\xa0",v))}var b=s.length>0||!!n.unlinked;return o.a.createElement(h["a"],{dataActionTag:"share_external",isDisabled:b,message:u,onClick:i,title:l},c)}},{key:"renderStopShareExternal",value:function e(){var t=this.props.onClickStopShareExternal;return o.a.createElement(h["a"],{dataActionTag:"stop_share_external",title:y.t("Stop sharing this channel"),message:y.t("You can stop sharing this channel at any time. Note that you won\u2019t be able to re-share this channel in the future."),onClick:t})}},{key:"renderConvertToPrivate",value:function e(){var t=this.props,r=t.disableConvertToPrivate,n=t.onClickConvertToPrivate;var a="";r&&(a=o.a.createElement("div",{className:"c-alert c-alert--inline c-alert--level_warning channel_option_item__alert top_margin"},o.a.createElement("div",{className:"c-alert__message"},y.t("During the beta, shared channels can\u2019t be made private."))));return o.a.createElement(h["a"],{dataActionTag:"convert_private",isDisabled:r,message:y.t("Private channels are similar to channels, but they\u2019re hidden to non-members and the conversation is private. This conversion cannot be undone."),onClick:n,title:y.t("Convert this channel to a private channel")},a)}},{key:"renderManageOrgAccess",value:function e(){var t=this.props,r=t.channel,n=t.onClickManageOrgAccess,a=t.orgName;var i=void 0;i=Object(f["isOrgSharedPublicOrPrivateChannel"])(r)?Object(f["isPrivateChannel"])(r)?y.t("Manage which members of {org_name} can be invited to join this channel.",{org_name:a}):y.t("Manage which members of {org_name} can find and join this channel.",{org_name:a}):Object(f["isPrivateChannel"])(r)?y.t("Members of the {org_name} workspaces you select will be able to join this channel, if invited.",{org_name:a}):y.t("Anyone in the {org_name} workspaces you select will be able to find and join this channel.",{org_name:a});var s=void 0;s=Object(f["isOrgSharedPublicOrPrivateChannel"])(r)?y.t("Sharing settings for this channel"):y.t("Share this channel with other {org_name} workspaces",{org_name:a});return o.a.createElement(h["a"],{dataActionTag:"convert_ent_shared",message:i,onClick:n,title:s})}},{key:"renderRename",value:function e(){var t=this.props,r=t.disableRename,n=t.onClickRename;var a="";r&&(a=o.a.createElement("div",{className:"c-alert c-alert--inline c-alert--level_warning channel_option_item__alert top_margin"},o.a.createElement("div",{className:"c-alert__message"},y.t("You don\u2019t have permission to rename this channel."))));return o.a.createElement(h["a"],{dataActionTag:"rename",isDisabled:r,message:y.t("You can rename a channel at any time. But, use it sparingly: it might confuse or disorient your colleagues!"),onClick:n,title:y.t("Rename this channel")},a)}},{key:"renderPurpose",value:function e(){var t=this.props.onClickPurpose;var r=false;var n=void 0;n=r?y.t("Edit the channel purpose"):y.t("Set the channel purpose");var a=void 0;a=r?"":y.t("Channel purposes are especially useful to new members choosing which conversations to join.");return o.a.createElement(h["a"],{dataActionTag:"set_purpose",message:a,onClick:t,title:n})}},{key:"renderPostingPermissions",value:function e(){var t=this.props.onClickPostingPermissions;return o.a.createElement(h["a"],{dataActionTag:"posting_permissions",message:y.t("Change who is allowed to post messages in this channel."),onClick:t,title:y.t("Manage posting permissions")})}},{key:"renderExport",value:function e(){var t=this.props.onClickExport;return o.a.createElement(h["a"],{dataActionTag:"export",message:y.t("Export the messages in this conversation as a JSON file."),onClick:t,title:y.t("Export message history")})}},{key:"renderDelete",value:function e(){var t=this.props.onClickDelete;return o.a.createElement(h["a"],{dataActionTag:"delete",message:y.t("Deleting a channel will permanently remove all of its messages. This cannot be undone."),onClick:t,title:y.t("Delete this channel")})}},{key:"renderSuccessAlert",value:function e(){var t=this.props,r=t.successAlertHeading,n=t.successAlertText;var a={level:"success",heading:r};return o.a.createElement(v["a"],a,o.a.createElement("span",null,n))}},{key:"render",value:function e(){var t=this.props,r=t.showArchive,n=t.showConvertToPrivate,a=t.showDelete,i=t.showExport,s=t.showPostingPermissions,c=t.showPurpose,l=t.showRename,u=t.showShareExternal,p=t.showStopShareExternal,f=t.showManageOrgAccess,d=t.showSuccessAlert,v=t.modalClasses;return o.a.createElement("div",{className:v,role:"presentation"},d&&this.renderSuccessAlert(),r&&this.renderArchive(),u&&this.renderShareExternal(),p&&this.renderStopShareExternal(),n&&this.renderConvertToPrivate(),f&&this.renderManageOrgAccess(),l&&this.renderRename(),c&&this.renderPurpose(),s&&this.renderPostingPermissions(),i&&this.renderExport(),a&&this.renderDelete())}}]);return t}(i["PureComponent"]);j.displayName="OptionsList";j.propTypes=O;j.defaultProps=E;function k(e){var t=Object(u["getCurrentMember"])(e);return{orgName:Object(p["getEnterpriseOrgName"])(e),isAdminUser:t.is_admin}}var w={};t["a"]=Object(s["connect"])(k,w)(j)},18384:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(16917);var f=r(16918);var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b={children:a.a.any,dataActionTag:a.a.string,isDisabled:a.a.bool,message:a.a.any.isRequired,onClick:a.a.func.isRequired,title:a.a.string.isRequired};var _={children:null,dataActionTag:"",isDisabled:false};var g=function(e){m(t,e);function t(){v(this,t);return h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}d(t,[{key:"render",value:function e(){var t=this.props,r=t.children,n=t.dataActionTag,a=t.isDisabled,i=t.message,s=t.onClick,u=t.title;var d=c()("channel_option_item",{"channel_option_item--disabled":a});var v=a?l["noop"]:s;return o.a.createElement(f["c"],{className:d,"data-action":n,onClick:v,type:"link"},o.a.createElement("h3",{className:"title"},u),o.a.createElement("p",{className:"sk_dark_grey no_bottom_margin"},i),r,o.a.createElement("div",{className:"channel_option_open"},o.a.createElement(p["a"],{className:"c-deprecated-icon--inherit",type:"arrow_large_right"})))}}]);return t}(i["PureComponent"]);g.displayName="Option";g.propTypes=b;g.defaultProps=_;t["a"]=g},18385:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16912);var u=r(17767);var p=r(16959);var f=r(17014);var d=r(16952);var v=r(16957);var h=r(17596);var m=r(17184);var b=r(18386);var _=r(18388);var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=new l["b"]("channel_options");var w={canThread:a.a.bool,isOrgDefault:a.a.bool,onChangeCheckbox:a.a.func.isRequired,onChangeRadio:a.a.func.isRequired,onChangeValueSelectedMembers:a.a.func.isRequired,postingPermissionsLoaded:a.a.bool,postingPermissionsSelectedMembers:a.a.array,whoCanPost:a.a.string,featureDefaultSharedChannels:a.a.bool.isRequired};var C={canThread:false,isOrgDefault:false,postingPermissionsLoaded:false,postingPermissionsSelectedMembers:null,whoCanPost:""};var S=function(e){j(t,e);function t(){O(this,t);return E(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}y(t,[{key:"maybeRenderCheckbox",value:function e(){var t=this.props,r=t.canThread,n=t.isOrgDefault,a=t.onChangeCheckbox,i=t.featureDefaultSharedChannels;var s=k.t("Allow members to start message threads?");var c=k.t("With this selected, anyone will be able to add threaded replies to messages posted in this channel.");if(!i||!n)return null;return o.a.createElement("div",null,o.a.createElement("hr",{className:"top_margin bottom_margin"}),o.a.createElement(v["a"],{htmlFor:"posting_permission_can_thread",type:"inline",cursor:"pointer",text:s,subtext:c},o.a.createElement(f["a"],{id:"posting_permission_can_thread",name:"can_thread",onChange:a,checked:r})))}},{key:"maybeRenderMemberPicker",value:function e(){var t=this.props,r=t.isOrgDefault,n=t.onChangeValueSelectedMembers,a=t.postingPermissionsSelectedMembers,i=t.whoCanPost;var s={};r&&(s.maxSelectedItems=100);var c=Object(u["b"])(a);var l=32;if("multi"===i||"owner"===i)return o.a.createElement(h["a"],g({onValueChange:n,template:b["a"],tokenTemplate:_["a"],dataPromise:c,approxItemHeight:l},s));return null}},{key:"formatPermissionSettings",value:function e(){var t=this.props.featureDefaultSharedChannels;var r=void 0;var n=void 0;var a=void 0;if(t){r=k.t("Org Admins/Owners");n=k.t("Org Admins and Owners, plus select members");a="org_admin"}else{r=k.t("Org Admins/Owners and Workspace Admins/Owners");n=k.t("Org and Workspace Admin/Owner, selected members");a="admin"}return[{permissionType:"ra",label:k.t("Everyone"),hideWhenOrgDefault:true},{permissionType:"regular",label:k.t("Everyone, except guests"),hideWhenOrgDefault:true},{permissionType:a,label:r},{permissionType:"multi",label:n}]}},{key:"renderRadios",value:function e(){var t=this.props,r=t.isOrgDefault,n=t.onChangeRadio,a=t.whoCanPost;var i="owner"===a?"multi":a;!r||"ra"!==i&&"regular"!==i||(i="admin");var s=c.a.map(this.formatPermissionSettings(),function(e){if(r&&e.hideWhenOrgDefault)return null;var t=e.permissionType===i;return o.a.createElement("div",{key:e.permissionType},o.a.createElement(v["a"],{htmlFor:"who_can_post_"+e.permissionType,type:"inline",cursor:"pointer",className:"p-channel_options--radio_label",text:e.label},o.a.createElement(m["a"],{name:"who_can_post",value:e.permissionType,onChange:n,id:"who_can_post_"+e.permissionType,checked:t})))});return s}},{key:"render",value:function e(){var t=this.props.postingPermissionsLoaded;if(!t)return o.a.createElement("div",{className:"p-channel_options--option_spinner"},o.a.createElement(d["a"],{size:"medium"}));var r=k.t("Who can post in this channel?");return o.a.createElement("div",{className:"p-channel-options--content_text"},o.a.createElement("p",null,r),this.renderRadios(),this.maybeRenderMemberPicker(),this.maybeRenderCheckbox())}}]);return t}(i["PureComponent"]);S.displayName="PostingPermissions";S.propTypes=w;S.defaultProps=C;t["a"]=Object(p["a"])("feature_default_shared_channels")(S)},18386:function(e,t,r){"use strict";t["a"]=s;var n=r(12159);var a=r.n(n);var i=r(17765);var o=r(18387);function s(e){if(e.member)return a.a.createElement(i["a"],{item:e});return a.a.createElement(o["a"],{item:e})}s.displayName="getItemTemplate"},18387:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p={item:a.a.object};var f={item:{}};var d=function(e){u(t,e);function t(){c(this,t);return l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}s(t,[{key:"render",value:function e(){var t=this.props.item;return o.a.createElement("div",{className:"c-lazy_filter_select__user_group_item"},o.a.createElement("div",{className:"c-lazy_filter_select__user_group_token_name"},t.user_group.name))}}]);return t}(i["PureComponent"]);d.displayName="LazyFilterSelectUserGroupListItem";t["a"]=d;d.propTypes=p;d.defaultProps=f},18388:function(e,t,r){"use strict";t["a"]=s;var n=r(12159);var a=r.n(n);var i=r(17766);var o=r(18389);function s(e){if(e.member)return a.a.createElement(i["a"],{item:e});return a.a.createElement(o["a"],{item:e})}s.displayName="getTokenTemplate"},18389:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p={item:a.a.object};var f={item:{}};var d=function(e){u(t,e);function t(){c(this,t);return l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}s(t,[{key:"render",value:function e(){var t=this.props.item;return o.a.createElement("div",{className:"c-lazy_filter_select__user_group_token",key:t.id},o.a.createElement("div",{className:"c-lazy_filter_select__user_group_token_name"},t.user_group.name))}}]);return t}(i["PureComponent"]);d.displayName="LazyFilterSelectUserGroupToken";t["a"]=d;d.propTypes=p;d.defaultProps=f},18390:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16949);var p=r(16912);var f=r(16956);var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=new p["b"]("channel_options");var _={canThread:a.a.bool,onErrorDialogButtonClick:a.a.func.isRequired,channelPrefError:a.a.bool,whoCanPost:a.a.string,featureDefaultSharedChannels:a.a.bool.isRequired,openModal:a.a.func};var g={canThread:false,whoCanPost:"",channelPrefError:false,openModal:l.a.noop};var y=function(e){m(t,e);function t(){v(this,t);return h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}d(t,[{key:"componentDidUpdate",value:function e(t){var r=this.props.channelPrefError;!t.channelPrefError&&r&&this.props.openModal({element:this.renderError()})}},{key:"maybeRenderCanThreadLabel",value:function e(){var t=this.props.canThread;var r=b.rt("Additionally, <strong>anyone in this channel</strong> will be able to add threaded replies to messages in this channel.");if(t)return o.a.createElement("p",null,r);return null}},{key:"renderError",value:function e(){var t=this.props.onErrorDialogButtonClick;var r=b.t("OK");var n=b.t("For some weird reason, that didn\u2019t work. Please try again.");var a=b.t("Could not update settings");return o.a.createElement("div",null,o.a.createElement(f["a"],{goButtonText:r,showCancelButton:false,onGo:t,onCancel:t,title:a},o.a.createElement("p",null,n)))}},{key:"renderWhoCanPostLabel",value:function e(){var t=void 0;t=this.props.featureDefaultSharedChannels?{ra:b.t("Everyone"),regular:b.t("Everyone, except guests"),org_admin:b.t("Only Org Admins and Owners"),multi:b.t("Only Org Admins and Owners, plus select members")}:{ra:b.t("Everyone"),regular:b.t("Everyone, except guests"),admin:b.t("Only Org Admins and Owners, and Workspace Admins and Owners"),multi:b.t("Org Admins and Owners, Workspace Admins and Owners, plus selected members")};var r=this.props.whoCanPost;var n=b.rt("<strong>{text}</strong> will be able to post",{text:l.a.get(t,r)});return o.a.createElement("p",null,n)}},{key:"render",value:function e(){var t=b.t("Please note that these changes may take some time to complete.");return o.a.createElement("div",{className:"p-channel-options--content_text"},this.renderWhoCanPostLabel(),this.maybeRenderCanThreadLabel(),t)}}]);return t}(i["PureComponent"]);y.displayName="PostingPermissionsReview";y.propTypes=_;y.defaultProps=g;var O={openModal:u["openModal"]};t["a"]=Object(s["connect"])(null,O)(y)},18391:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(17999);var u=r(16912);var p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=new u["b"]("channel_options");var m={additionalVerificationError:a.a.oneOfType([a.a.string,a.a.object]),additionalVerificationGood:a.a.bool,channelNameNeedsChecking:a.a.bool,isCheckingAdditionalVerification:a.a.bool,name:a.a.string,onInvalidName:a.a.func,onValidName:a.a.func};var b={additionalVerificationError:"",additionalVerificationGood:false,channelNameNeedsChecking:false,isCheckingAdditionalVerification:false,name:"",onInvalidName:s["noop"],onValidName:s["noop"]};var _=function(e){v(t,e);function t(e){f(this,t);var r=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.title=r.props.name;"#"===r.title[0]&&(r.title=r.title.substr(1));return r}p(t,[{key:"render",value:function e(){var t=this.props,r=t.additionalVerificationError,n=t.additionalVerificationGood,a=t.channelNameNeedsChecking,i=t.isCheckingAdditionalVerification,s=t.name,c=t.onInvalidName,u=t.onValidName;return o.a.createElement("div",{className:"top_margin"},o.a.createElement("label",{htmlFor:"channel_create_title",className:"c-label"},o.a.createElement("span",{className:"c-label__text"},h.t("Name"))),o.a.createElement(l["a"],{additionalVerificationError:r,additionalVerificationGood:n,nameNeedsChecking:a,id:"channel_create_title",isCheckingAdditionalVerification:i,onInvalid:c,onValid:u,placeholder:h.t("Rename {title}",{title:s}),shouldFix:true,value:this.title}))}}]);return t}(i["PureComponent"]);_.displayName="RenameChannel";_.propTypes=m;_.defaultProps=b;t["a"]=_},18392:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(16939);var l=r(16920);var u=r(17400);var p=r(16912);var f=r(16941);var d=r(18002);var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=new p["b"]("shared_channels");var y={channel:a.a.object.isRequired,team:a.a.object.isRequired,externalTeams:a.a.array.isRequired,showLastChannelWarning:a.a.bool};var O={channel:{},team:{},externalTeams:[],showLastChannelWarning:false};var E=function(e){_(t,e);function t(e){m(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.maybeRenderLastChannelWarning=r.maybeRenderLastChannelWarning.bind(r);return r}v(t,[{key:"componentDidMount",value:function e(){Object(f["b"])("SHARED_CHANNELS_STOP_SHARING_MODAL_OPEN",{is_last_channel_with_team:this.props.showLastChannelWarning,contexts:{ui_context:{action:"click",ui_element:"SHARED_CHANNELS_CHANNEL_OPTIONS_STOP_SHARING_OPTION",ui_component:"CHANNEL_OPTIONS_DIALOG"}}})}},{key:"maybeRenderLastChannelWarning",value:function e(){if(!this.props.showLastChannelWarning)return null;var t=this.props.externalTeams.map(function(e){var t=e.name;return t});var r=Object(p["e"])(t,{react:true,strong:true});return o.a.createElement("div",{className:"c-alert c-alert--inline c-alert--level_error margin_bottom_150"},o.a.createElement("div",{className:"c-alert__message"},o.a.createElement("strong",null,g.rt("This is your only shared channel with {teamNames}",{teamNames:r})),o.a.createElement("br",null),g.t("If you stop sharing this channel, you won\u2019t be able to direct message members of their workspace.")))}},{key:"render",value:function e(){var t=this.props,r=t.channel,n=t.team,a=t.externalTeams;var i=a.map(function(e){return Object(u["getTeamDisplayName"])(e)});var s=Object(p["e"])(i,{react:true,strong:true});var c=Object(p["e"])([Object(u["getTeamDisplayName"])(n)].concat(h(i)),{react:true,strong:true});return o.a.createElement("div",null,this.maybeRenderLastChannelWarning(),o.a.createElement("p",{className:"p-channel-options--content_text"},g.t("You can stop sharing this channel at any time. Here\u2019s what will happen:")),o.a.createElement("ul",{className:"p-channel-options--content_text"},o.a.createElement("li",null,g.rt("{teamNames} will keep separate copies of this channel.",{teamNames:c})),o.a.createElement("li",null,g.t("Each workspace can continue using their copy.")),o.a.createElement("li",null,g.t("Neither workspace will be able to re-share this channel."))),o.a.createElement("p",{className:"p-channel-options--content_text"},g.rt("Are you sure you want to stop sharing {channelName} with {teamNames}?",{channelName:o.a.createElement(d["a"],{channel:r,strong:true}),teamNames:s})))}}]);return t}(i["PureComponent"]);E.displayName="StopSharingChannel";E.propTypes=y;E.defaultProps=O;function j(e,t){var r=t.channel;return{team:Object(c["getCurrentTeam"])(e),externalTeams:Object(l["getSharedTeamIds"])(r).map(function(t){return Object(c["getTeamById"])(e,t)})}}t["a"]=Object(s["connect"])(j)(E)},18393:function(e,t,r){"use strict";t["a"]=n;function n(e){var t="";e&&(t="type:all");return t}},18394:function(e,t,r){"use strict";t["a"]=n;function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n="";if("multi"===e){n=r?"type:org_admin":"type:admin";t&&t.length&&t.forEach(function(e){n+=",user:"+e})}else n="type:"+e;return n}},18395:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18396);var a=r(16928);Object(a["a"])("interop.mountChannelSidebar",n["a"])},18396:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(16954);var s=r(16927);var c=r(16923);var l=r(17101);var u=r(20405);var p=r(17344);var f=r(17015);var d=r(17768);var v=r(17677);var h=r(18397);var m=r(17723);var b=r(17086);var _=r(18426);var g="shared_channels_channel_sidebar_plus_btn";var y="react_channel_sidebar_display_item";var O=Object(b["a"])(1);var E=function e(t,r,n){O&&Object(u["d"])(y+"_mark");document&&document.activeElement&&document.activeElement.blur();return t(Object(l["a"])({id:n})).catch(function(e){Object(m["c"])("beep");throw e}).finally(function(){O&&Object(u["f"])(y,y+"_mark")})};var j=function e(t){return Object(v["a"])(t,true)};var k=function e(){return Object(d["e"])({element:g})};var w=function e(t,r,n){if(!t)throw new Error("mountChannelSidebar must be called with a teamId parameter");var l=Object(s["c"])(t);"experiment"===Object(f["a"])("speedy_sidebar_boot")&&l.dispatch(Object(c["bulkAddChannels"])({channels:Object(p["a"])()}));var u=function e(t){return E(l.dispatch,l.getState,t)};var v=function e(){return Object(_["a"])(l)};Object(o["a"])(a.a.createElement(i["Provider"],{store:l},a.a.createElement(h["a"],{onItemSelect:u,onBrowseChannelsClick:d["b"],onBrowseSharedChannelsClick:d["c"],onCreateChannelClick:d["d"],onCreateSharedChannelClick:k,onOpenDMClick:d["f"],onBrowseAppsClick:d["a"],onInviteClick:j,onDevToolsClick:v,ref:n})),r)};t["a"]=w},18397:function(e,t,r){"use strict";var n=r(18398);t["a"]=n["a"]},18398:function(e,t,r){"use strict";var n=r(9);var a=r(1);var i=r.n(a);var o=r(17722);var s=r(17039);var c=r(17728);var l=r(16922);var u=r(16923);var p=r(17057);var f=r(17409);var d=r(16919);var v=r(16913);var h=r(17729);var m=r(17165);var b=r(20618);var _=r(17133);var g=r(20405);var y=r(17015);var O=r(17086);var E=r(18399);var j=r(17012);var k=r(16934);var w=r(18400);var C=r(18401);var S=r(18402);var T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var I="react_channel_sidebar_selector_factory";var N=Object(O["a"])(1);var A=function e(t){return N&&Object(g["d"])(t+"_mark")};var P=function e(t){return N&&Object(g["f"])(t,t+"_mark")};var R=function e(t){if(!Object(_["a"])(t))return false;var r=i()(Object(d["getAllMembers"])(t)).filter(function(e){return!e.is_slackbot}).size();if(r>25)return false;if(r>=2)return"dim";return true};var M=function e(t){var r=Object(v["isFeatureEnabled"])(t,"feature_global_nav");var n=Object(v["isFeatureEnabled"])(t,"feature_sidebar_filters")&&"collapsible"===Object(y["a"])("collapsible_sidebar");var a=n?Object(w["a"])(t):Object(w["b"])(t),i=a.sidebarSections,o=a.sidebarSectionsOrdered,s=a.idsNeedingPresenceSubscription;var u="enabled"===Object(y["a"])("folders_sidebar")&&Object(l["getUserPref"])(t,"folders_enabled");var p=u?Object(c["getFolders"])(t):[];var f=Object(C["a"])({hasQuickswitcherButton:!Object(k["a"])()&&!r&&Object(l["getUserPref"])(t,"show_sidebar_quickswitcher_button"),hasExploreLink:Object(E["a"])(),hasAllUnreadsLink:true===Object(l["getUserPref"])(t,"enable_unread_view"),hasInvitePeopleLink:R(t),sidebarFiltersIsEnabled:n,sidebarSectionsOrdered:o,sidebarSections:i,sidebarFoldersIsEnabled:u,sidebarFolders:p}),d=f.rows,h=f.rowsMap,m=f.rowIds;return{rows:d,rowsMap:h,rowIds:m,idsNeedingPresenceSubscription:s}};var x=function e(t){var r=void 0;var n=void 0;var a=void 0;var d=void 0;var _=void 0;var g=void 0;var O=void 0;var E=void 0;var w=void 0;var C=void 0;var S=void 0;var N=void 0;var R=void 0;return function(e,x){A(I);var L=Object(o["isFullyBooted"])(e);if(!L)return{isBooted:L};var D=Object(b["getPrimaryView"])(e);var F=x.onItemSelect;var B=M(e),U=B.rows,H=B.rowsMap,q=B.rowIds,G=B.idsNeedingPresenceSubscription;var W=i.a.filter(q,function(t){return Object(u["isMentionById"])(e,t)&&!Object(p["isChannelMutedById"])(e,t)});var V=i.a.filter(q,function(t){return Object(u["isUnreadById"])(e,t)&&!Object(p["isChannelMutedById"])(e,t)});var K=i.a.filter(q,function(t){return Object(u["isMentionById"])(e,t)&&Object(p["isChannelMutedById"])(e,t)});Object(f["getThreadsMentionCount"])(e)&&W.unshift("Vall_threads");Object(f["hasUnreadThreads"])(e)&&V.unshift("Vall_threads");var z=Object(s["getJumperCoachmarkState"])(e);var Q=Object(v["isFeatureEnabled"])(e,"feature_sidebar_filters")&&"collapsible"===Object(y["a"])("collapsible_sidebar");var Y=Object(l["getUserPref"])(e,"sidebar_behavior");var J="enabled"===Object(y["a"])("folders_sidebar")&&Object(l["getUserPref"])(e,"folders_enabled");var X=Object(v["isFeatureEnabled"])(e,"feature_global_nav");var Z=Object(v["isFeatureEnabled"])(e,"feature_sonic_presence_manager");var $=Object(s["getSections"])(e);if(D===n&&Object(j["a"])(V,a)&&Object(j["a"])(W,d)&&Object(j["a"])(K,_)&&Object(j["a"])(q,g)&&z===O&&Q===E&&Y===w&&J===C&&X===S&&Object(j["a"])(N,$)&&Object(j["a"])(x,R))return r;var ee=T({},x,{isBooted:L,rows:U,rowsMap:H,rowIds:q,selectedItemId:D,unreadIds:V,mentionIds:W,mutedMentionIds:K,sidebarFiltersIsEnabled:Q,jumperCoachmarkState:z,featureGlobalNav:X,getSectionFilter:function t(r){return Object(s["getSectionFilter"])(e,r)},idsNeedingPresenceSubscription:G,featureSonicPresenceManager:Z,setSectionFilterDataFromLS:function e(){t(Object(s["setSectionFilterDataFromLS"])(Y))},sidebarFoldersIsEnabled:J,initializeFolderData:function e(){return t(Object(c["initializeFolderData"])())},dragFolderOrChannel:function e(r){var n=r.src,a=r.dest;t(Object(c["dragFolderOrChannel"])({src:n,dest:a}));t(Object(c["saveFolderData"])())},createFolder:function e(){return t(Object(c["createFolder"])())},fetchChannelRealtimePriority:function e(r){return t(Object(h["fetchChannelRealtimePriority"])(r))},onItemSelect:function e(r){Object(k["a"])()?t(Object(b["setPrimaryView"])({id:r})):F&&F(r).then(function(){t(Object(m["updateChannelLastTrigger"])({source:"SIDE_BAR",objId:r}))}).catch(i.a.noop)},ariaLandmarkLabel:"channel_sidebar_aria_label"});r=ee;n=D;a=V;d=W;_=K;g=q;O=z;E=Q;w=Y;C=J;S=X;N=$;R=x;P(I);return ee}};var L={withRef:true};t["a"]=Object(n["connectAdvanced"])(x,L)(S["a"])},18399:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.client.ui.explore.isEnabled",function(){return false});var i=Object(n["c"])("TS.client.ui.explore.showTabs",function(){return false})},184:function(e,t,r){"use strict";if(r(62)){var n=r(157);var a=r(48);var i=r(51);var o=r(6);var s=r(423);var c=r(772);var l=r(107);var u=r(249);var p=r(135);var f=r(83);var d=r(251);var v=r(105);var h=r(67);var m=r(1127);var b=r(160);var _=r(122);var g=r(81);var y=r(243);var O=r(52);var E=r(76);var j=r(351);var k=r(158);var w=r(109);var C=r(247).f;var S=r(353);var T=r(136);var I=r(53);var N=r(143);var A=r(274);var P=r(421);var R=r(768);var M=r(141);var x=r(276);var L=r(248);var D=r(767);var F=r(1117);var B=r(61);var U=r(123);var H=B.f;var q=U.f;var G=a.RangeError;var W=a.TypeError;var V=a.Uint8Array;var K="ArrayBuffer";var z="Shared"+K;var Q="BYTES_PER_ELEMENT";var Y="prototype";var J=Array[Y];var X=c.ArrayBuffer;var Z=c.DataView;var $=N(0);var ee=N(2);var te=N(3);var re=N(4);var ne=N(5);var ae=N(6);var ie=A(true);var oe=A(false);var se=R.values;var ce=R.keys;var le=R.entries;var ue=J.lastIndexOf;var pe=J.reduce;var fe=J.reduceRight;var de=J.join;var ve=J.sort;var he=J.slice;var me=J.toString;var be=J.toLocaleString;var _e=I("iterator");var ge=I("toStringTag");var ye=T("typed_constructor");var Oe=T("def_constructor");var Ee=s.CONSTR;var je=s.TYPED;var ke=s.VIEW;var we="Wrong length!";var Ce=N(1,function(e,t){return Ae(P(e,e[Oe]),t)});var Se=i(function(){return 1===new V(new Uint16Array([1]).buffer)[0]});var Te=!!V&&!!V[Y].set&&i(function(){new V(1).set({})});var Ie=function(e,t){var r=v(e);if(r<0||r%t)throw G("Wrong offset!");return r};var Ne=function(e){if(O(e)&&je in e)return e;throw W(e+" is not a typed array!")};var Ae=function(e,t){if(!(O(e)&&ye in e))throw W("It is not a typed array constructor!");return new e(t)};var Pe=function(e,t){return Re(P(e,e[Oe]),t)};var Re=function(e,t){var r=0;var n=t.length;var a=Ae(e,n);while(n>r)a[r]=t[r++];return a};var Me=function(e,t,r){H(e,t,{get:function(){return this._d[r]}})};var xe=function e(t){var r=E(t);var n=arguments.length;var a=n>1?arguments[1]:void 0;var i=void 0!==a;var o=S(r);var s,c,u,p,f,d;if(void 0!=o&&!j(o)){for(d=o.call(r),u=[],s=0;!(f=d.next()).done;s++)u.push(f.value);r=u}i&&n>2&&(a=l(a,arguments[2],2));for(s=0,c=h(r.length),p=Ae(this,c);c>s;s++)p[s]=i?a(r[s],s):r[s];return p};var Le=function e(){var t=0;var r=arguments.length;var n=Ae(this,r);while(r>t)n[t]=arguments[t++];return n};var De=!!V&&i(function(){be.call(new V(1))});var Fe=function e(){return be.apply(De?he.call(Ne(this)):Ne(this),arguments)};var Be={copyWithin:function e(t,r){return F.call(Ne(this),t,r,arguments.length>2?arguments[2]:void 0)},every:function e(t){return re(Ne(this),t,arguments.length>1?arguments[1]:void 0)},fill:function e(t){return D.apply(Ne(this),arguments)},filter:function e(t){return Pe(this,ee(Ne(this),t,arguments.length>1?arguments[1]:void 0))},find:function e(t){return ne(Ne(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function e(t){return ae(Ne(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function e(t){$(Ne(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function e(t){return oe(Ne(this),t,arguments.length>1?arguments[1]:void 0)},includes:function e(t){return ie(Ne(this),t,arguments.length>1?arguments[1]:void 0)},join:function e(t){return de.apply(Ne(this),arguments)},lastIndexOf:function e(t){return ue.apply(Ne(this),arguments)},map:function e(t){return Ce(Ne(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function e(t){return pe.apply(Ne(this),arguments)},reduceRight:function e(t){return fe.apply(Ne(this),arguments)},reverse:function e(){var t=this;var r=Ne(t).length;var n=Math.floor(r/2);var a=0;var i;while(a<n){i=t[a];t[a++]=t[--r];t[r]=i}return t},some:function e(t){return te(Ne(this),t,arguments.length>1?arguments[1]:void 0)},sort:function e(t){return ve.call(Ne(this),t)},subarray:function e(t,r){var n=Ne(this);var a=n.length;var i=b(t,a);return new(P(n,n[Oe]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,h((void 0===r?a:b(r,a))-i))}};var Ue=function e(t,r){return Pe(this,he.call(Ne(this),t,r))};var He=function e(t){Ne(this);var r=Ie(arguments[1],1);var n=this.length;var a=E(t);var i=h(a.length);var o=0;if(i+r>n)throw G(we);while(o<i)this[r+o]=a[o++]};var qe={entries:function e(){return le.call(Ne(this))},keys:function e(){return ce.call(Ne(this))},values:function e(){return se.call(Ne(this))}};var Ge=function(e,t){return O(e)&&e[je]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)};var We=function e(t,r){return Ge(t,r=_(r,true))?p(2,t[r]):q(t,r)};var Ve=function e(t,r,n){if(Ge(t,r=_(r,true))&&O(n)&&g(n,"value")&&!g(n,"get")&&!g(n,"set")&&!n.configurable&&(!g(n,"writable")||n.writable)&&(!g(n,"enumerable")||n.enumerable)){t[r]=n.value;return t}return H(t,r,n)};if(!Ee){U.f=We;B.f=Ve}o(o.S+o.F*!Ee,"Object",{getOwnPropertyDescriptor:We,defineProperty:Ve});i(function(){me.call({})})&&(me=be=function e(){return de.call(this)});var Ke=d({},Be);d(Ke,qe);f(Ke,_e,qe.values);d(Ke,{slice:Ue,set:He,constructor:function(){},toString:me,toLocaleString:Fe});Me(Ke,"buffer","b");Me(Ke,"byteOffset","o");Me(Ke,"byteLength","l");Me(Ke,"length","e");H(Ke,ge,{get:function(){return this[je]}});e.exports=function(e,t,r,c){c=!!c;var l=e+(c?"Clamped":"")+"Array";var p="get"+e;var d="set"+e;var v=a[l];var b=v||{};var _=v&&w(v);var g=!v||!s.ABV;var E={};var j=v&&v[Y];var S=function(e,r){var n=e._d;return n.v[p](r*t+n.o,Se)};var T=function(e,r,n){var a=e._d;c&&(n=(n=Math.round(n))<0?0:n>255?255:255&n);a.v[d](r*t+a.o,n,Se)};var I=function(e,t){H(e,t,{get:function(){return S(this,t)},set:function(e){return T(this,t,e)},enumerable:true})};if(g){v=r(function(e,r,n,a){u(e,v,l,"_d");var i=0;var o=0;var s,c,p,d;if(O(r)){if(!(r instanceof X||(d=y(r))==K||d==z))return je in r?Re(v,r):xe.call(v,r);s=r;o=Ie(n,t);var b=r.byteLength;if(void 0===a){if(b%t)throw G(we);c=b-o;if(c<0)throw G(we)}else{c=h(a)*t;if(c+o>b)throw G(we)}p=c/t}else{p=m(r);c=p*t;s=new X(c)}f(e,"_d",{b:s,o:o,l:c,e:p,v:new Z(s)});while(i<p)I(e,i++)});j=v[Y]=k(Ke);f(j,"constructor",v)}else if(!i(function(){v(1)})||!i(function(){new v(-1)})||!x(function(e){new v;new v(null);new v(1.5);new v(e)},true)){v=r(function(e,r,n,a){u(e,v,l);var i;if(!O(r))return new b(m(r));if(r instanceof X||(i=y(r))==K||i==z)return void 0!==a?new b(r,Ie(n,t),a):void 0!==n?new b(r,Ie(n,t)):new b(r);if(je in r)return Re(v,r);return xe.call(v,r)});$(_!==Function.prototype?C(b).concat(C(_)):C(b),function(e){e in v||f(v,e,b[e])});v[Y]=j;n||(j.constructor=v)}var N=j[_e];var A=!!N&&("values"==N.name||void 0==N.name);var P=qe.values;f(v,ye,true);f(j,je,l);f(j,ke,true);f(j,Oe,v);(c?new v(1)[ge]==l:ge in j)||H(j,ge,{get:function(){return l}});E[l]=v;o(o.G+o.W+o.F*(v!=b),E);o(o.S,l,{BYTES_PER_ELEMENT:t});o(o.S+o.F*i(function(){b.of.call(v,1)}),l,{from:xe,of:Le});Q in j||f(j,Q,t);o(o.P,l,Be);L(l);o(o.P+o.F*Te,l,{set:He});o(o.P+o.F*!A,l,qe);n||j.toString==me||(j.toString=me);o(o.P+o.F*i(function(){new v(1).slice()}),l,{slice:Ue});o(o.P+o.F*(i(function(){return[1,2].toLocaleString()!=new v([1,2]).toLocaleString()})||!i(function(){j.toLocaleString.call([1,2])})),l,{toLocaleString:Fe});M[l]=A?N:P;n||A||f(j,_e,P)}}else e.exports=function(){}},18400:function(e,t,r){"use strict";r.d(t,"a",function(){return W});var n=r(1);var a=r.n(n);var i=r(263);var o=r.n(i);var s=r(17057);var c=r(16919);var l=r(17164);var u=r(16922);var p=r(16923);var f=r(17729);var d=r(16939);var v=r(17039);var h=r(20618);var m=r(16913);var b=r(16920);var _=r(16921);var g=r(16912);var y=r(17015);var O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var E=["starred","sharedChannels","channels","orgWideChannels","ims","apps"];var j={starred:{channelsOrdered:[],hasHeading:true},sharedChannels:{channelsOrdered:[],hasHeading:true},channels:{channelsOrdered:[],hasHeading:true},orgWideChannels:{channelsOrdered:[],hasHeading:true},ims:{channelsOrdered:[],hasHeading:true},apps:{channelsOrdered:[],hasHeading:true}};var k=["defaultMentions","default","sharedMentions","shared","privateMentions","private","slackbot","you","imsMentions","ims"];var w=a.a.invert(k);var C={default:k.map(function(){return[]}),muted:k.map(function(){return[]})};var S=function e(t){var r=t.channel,n=t.members,a=t.isCurrentlySelected,i=t.isMuted,o=t.shouldHideReadChannels,s=t.shouldHideReadChannelsUnlessStarred,c=t.featureReactMessages,l=t.featureNonBlockingUserBootEnabled;if(a)return true;if(Object(b["isArchived"])(r))return false;if(Object(b["isUnknownOrNonExistent"])(r))return false;if(Object(b["isImAndIsMemberDeleted"])(r,n[Object(b["getMemberIdFromIm"])(r)]))return false;if(Object(b["isPublicChannel"])(r)&&!Object(b["isMemberOfChannel"])(r))return false;if((Object(b["isIm"])(r)||Object(b["isMpim"])(r))&&!Object(b["isOpen"])(r)&&Object(b["isRead"])(r))return false;if(l&&Object(b["isIm"])(r)&&!Object(_["u"])({members:n,dangerouslyOverrideCreateSelectorSanityCheck:true},[Object(b["getMemberIdFromIm"])(r)]))return false;if(l&&Object(b["isMpim"])(r)&&!Object(_["u"])({members:n,dangerouslyOverrideCreateSelectorSanityCheck:true},Object(b["getMemberIdsFromMpim"])(r)))return false;if(s&&Object(b["isStarred"])(r))return true;if(Object(b["getHasDraft"])(r))return true;if(i&&Object(b["shouldShowWithoutUnreads"])(r)&&!c)return true;if((s||o)&&Object(b["isRead"])(r))return false;return true};var T=function e(t){var r=t.channel,n=t.isApp,a=t.isAppSpaceEnabled,i=t.shouldSeparateSharedChannels,o=t.shouldSeparateOrgWideChannels;if(Object(b["isStarred"])(r))return"starred";if(Object(b["isSharedPublicOrPrivateChannel"])(r)&&i)return"sharedChannels";if(Object(b["isOrgGlobalSharedPublicOrPrivateChannel"])(r)&&!Object(b["isPrivateChannel"])(r)&&o)return"orgWideChannels";if(n&&a)return"apps";if(Object(b["isIm"])(r)||Object(b["isMpim"])(r))return"ims";return"channels"};var I=function e(t){var r=t.channel,n=t.currentUserId,a=t.shouldSeparatePrivateChannels,i=t.shouldSeparateSharedChannels,o=t.shouldBumpMention;if(Object(b["isSlackbot"])(r))return w.slackbot;if(Object(b["isUserId"])(r,n))return w.you;if(Object(b["isIm"])(r)||Object(b["isMpim"])(r))return o?w.imsMentions:w.ims;if(a&&Object(b["isPrivateChannel"])(r))return o?w.privateMentions:w.private;if(i&&Object(b["isSharedPublicOrPrivateChannel"])(r))return o?w.sharedMentions:w.shared;return o?w.defaultMentions:w.default};var N=function e(t,r){return Object(g["m"])(Object(b["getDisplayName"])(t),Object(b["getDisplayName"])(r))};var A=function e(t,r){var n=t.priority||-1;var a=r.priority||-1;if(n===a)return N(t,r);return a-n};var P=function e(t){var r=t.sortPref,n=t.currentTeam;if("priority"===r&&""!==n.plan)return A;return N};var R=function e(t){var r=t.channel,n=t.members;var a=Object(b["getMemberIdFromIm"])(r);var i=n&&n[a]||null;return Object(_["y"])(i)};var M=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.channels,n=t.currentlySelectedId,a=t.mutedChannels,i=t.members,o=t.sidebarBehaviorPref,s=t.sidebarFiltersIsEnabled,c=t.featureReactMessages,l=t.featureNonBlockingUserBootEnabled;var u=!s&&"hide_read_channels"===o;var p=!s&&"hide_read_channels_unless_starred"===o;var f=[];var d=false;var v=false;var h=false;var m=Object.keys(r);for(var _=0;_<m.length;_+=1){var g=r[m[_]];var y=S({channel:g,members:i,isCurrentlySelected:n===g.id,isMuted:!!a[g.id],shouldHideReadChannels:u,shouldHideReadChannelsUnlessStarred:p,featureReactMessages:c,featureNonBlockingUserBootEnabled:l});y&&f.push(g);d||(d=Object(b["isSharedPublicOrPrivateChannel"])(g)&&(Object(b["isMemberOfChannel"])(g)||n===g.id));v||(v=Object(b["isOrgGlobalSharedPublicOrPrivateChannel"])(g)&&!Object(b["isPrivateChannel"])(g));h||(h=Object(b["isStarred"])(g))}return{channelsVisible:f,belongsToOrPreviewingAnySharedChannels:d,belongsToAnyOrgChannels:v,hasAStarredChannel:h}};var x=function e(t){return Object(m["isFeatureEnabled"])(t,"feature_enterprise_org_wide_channels_section")};var L=function e(t){return Object(m["isFeatureEnabled"])(t,"feature_non_blocking_user_boot")};var D=function e(t){return Object(u["getUserPref"])(t,"sidebar_behavior")};var F=function e(t){return Object(u["getUserPref"])(t,"channel_sort")};var B=function e(t){return Object(u["getUserPref"])(t,"separate_private_channels")};var U=function e(t){return Object(u["getUserPref"])(t,"separate_shared_channels")};var H=function e(t){return Object(u["getUserPref"])(t,"ent_org_wide_channels_sidebar")};var q=function e(t){return Object(m["isFeatureEnabled"])(t,"feature_sidebar_filters")&&"collapsible"===Object(y["a"])("collapsible_sidebar")};var G=Object(i["createSelector"])([x,m["useReactMessages"],q,L,d["getCurrentTeam"],D,F,B,U,H,p["getAllChannels"],s["getMutedChannels"],c["getAllMembers"],h["getPrimaryView"],m["getCurrentUserId"],l["isAppSpaceEnabled"]],function(e,t,r,n,i,o,s,c,l,u,p,f,d,v,h,m){var _={};var g=E.concat();g.forEach(function(e){_[e]=O({},j[e]);_[e].channelsOrdered=a.a.cloneDeep(C)});var y=M({channels:p,currentlySelectedId:v,mutedChannels:f,members:d,sidebarBehaviorPref:o,featureOrgWideChannelsSidebar:e,sidebarFiltersIsEnabled:r,featureReactMessages:t,featureNonBlockingUserBootEnabled:n}),k=y.channelsVisible,w=y.belongsToOrPreviewingAnySharedChannels;var S=P({sortPref:s,currentTeam:i});var N=k.sort(S);var A=[];N.forEach(function(r){Object(b["isIm"])(r)&&A.push(Object(b["getMemberIdFromIm"])(r));var n=T({channel:r,isApp:R({channel:r,members:d}),isAppSpaceEnabled:m,shouldSeparateSharedChannels:l,shouldSeparateOrgWideChannels:e&&u});var a=!!f[r.id];var i=Object(b["getBadgeCountWithMuted"])(r,a,t);var o=i>0;var p=I({channel:r,currentUserId:h,shouldSeparatePrivateChannels:c,shouldSeparateSharedChannels:l,shouldBumpMention:"priority"===s&&o});var v=a?"muted":"default";var g=_[n].channelsOrdered[v][p];g.push(r.id)});var x=a.a.mapValues(_,function(e){return O({},e,{channelsOrdered:a.a.flatten(e.channelsOrdered.default.concat(e.channelsOrdered.muted))})});if(x.starred.channelsOrdered.length<1){delete x.starred;a.a.remove(g,function(e){return"starred"===e})}if(!l||!w){delete x.sharedChannels;a.a.remove(g,function(e){return"sharedChannels"===e})}if(e){if(!u||x.orgWideChannels.channelsOrdered.length<1){delete x.orgWideChannels;a.a.remove(g,function(e){return"orgWideChannels"===e})}}else{delete x.orgWideChannels;a.a.remove(g,function(e){return"orgWideChannels"===e})}if(!m){delete x.apps;a.a.remove(g,function(e){return"apps"===e})}return{sidebarSectionsOrdered:g,sidebarSections:x,idsNeedingPresenceSubscription:A}});var W=Object(i["createSelector"])([x,m["useReactMessages"],q,L,d["getCurrentTeam"],D,F,B,U,H,p["getAllChannels"],s["getMutedChannels"],c["getAllMembers"],h["getPrimaryView"],v["getSections"],f["getChannelRealtimePriorities"],m["getCurrentUserId"],l["isAppSpaceEnabled"]],function(e,t,r,n,i,o,s,c,l,u,p,f,d,v,h,m,_,g){var y={};var k=E.concat();k.forEach(function(e){y[e]=O({},j[e]);y[e].channelsOrdered=a.a.cloneDeep(C);r&&(y[e].currentFilter=h[e])});var w=M({channels:p,currentlySelectedId:v,mutedChannels:f,members:d,sidebarBehaviorPref:o,featureOrgWideChannelsSidebar:e,sidebarFiltersIsEnabled:r,featureReactMessages:t,featureNonBlockingUserBootEnabled:n}),S=w.channelsVisible,N=w.belongsToOrPreviewingAnySharedChannels,A=w.belongsToAnyOrgChannels,x=w.hasAStarredChannel;var L=P({sortPref:s,currentTeam:i});var D=S.sort(L);var F=[];D.forEach(function(r){var n=T({channel:r,isApp:R({channel:r,members:d}),isAppSpaceEnabled:g,shouldSeparateSharedChannels:l,shouldSeparateOrgWideChannels:e&&u});var a=!!f[r.id];var i=Object(b["getBadgeCountWithMuted"])(r,a,t);var o=i>0;var p=I({channel:r,currentUserId:_,shouldSeparatePrivateChannels:c,shouldSeparateSharedChannels:l,shouldBumpMention:"priority"===s&&o});var h=a?"muted":"default";if("unreads"===y[n].currentFilter){if((Object(b["isRead"])(r)||a&&!o)&&v!==r.id&&!Object(b["getHasDraft"])(r))return}else if("real_time_sort"===y[n].currentFilter&&!o&&v!==r.id&&!Object(b["getHasDraft"])(r)){var O=m[r.id]&&m[r.id].score?m[r.id].score:0;if(Object(b["isRead"])(r)||a||O<.75)return}var E=y[n].channelsOrdered[h][p];E.push(r.id)});var B=a.a.mapValues(y,function(e){return O({},e,{channelsOrdered:a.a.flatten(e.channelsOrdered.default.concat(e.channelsOrdered.muted))})});if(!x){delete B.starred;a.a.remove(k,function(e){return"starred"===e})}if(!l||!N){delete B.sharedChannels;a.a.remove(k,function(e){return"sharedChannels"===e})}if(e){if(!u||!A){delete B.orgWideChannels;a.a.remove(k,function(e){return"orgWideChannels"===e})}}else{delete B.orgWideChannels;a.a.remove(k,function(e){return"orgWideChannels"===e})}if(!g){delete B.apps;a.a.remove(k,function(e){return"apps"===e})}return{sidebarSectionsOrdered:k,sidebarSections:B,idsNeedingPresenceSubscription:F}});t["b"]=G},18401:function(e,t,r){"use strict";var n=r(263);var a=r.n(n);var i=r(1);var o=r.n(i);var s=r(16934);var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var l=12;var u=18;var p=26;var f=52;var d={id:null,type:"topPadding",height:l};var v={id:null,type:"spacer",height:u};var h={id:"Vquick_switcher",type:"quickswitcherButton",height:f};var m={id:"Vexplore",type:"exploreLink",height:p};var b={id:"Vall_unreads",type:"allUnreadsLink",height:p};var _={id:"Vall_threads",type:"allThreadsLink",height:p};var g={id:null,type:"sectionHeading",name:"",height:p};var y={id:null,type:"folderHeading",name:"",height:p};var O={id:null,type:"channel",index:null,height:p};var E={id:null,type:"invitePeopleLink",dim:false,height:p};var j={id:null,type:"installAppsLink",dim:false,height:p};var k={id:null,type:"emptyState",index:null,height:p};var w=Object(n["createSelector"])([function(e){return e&&e.hasQuickswitcherButton},function(e){return e&&e.hasExploreLink},function(e){return e&&e.hasAllUnreadsLink},function(e){return e&&e.hasInvitePeopleLink},function(e){return e&&e.sidebarFiltersIsEnabled},function(e){return e&&e.sidebarSectionsOrdered},function(e){return e&&e.sidebarSections},function(e){return e&&e.sidebarFoldersIsEnabled},function(e){return e&&e.sidebarFolders}],function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};var u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];var p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[];var f=[];var w={};var C=0;e?f.push(c({},h,{scrollTop:C,scrollBottom:C+=h.height})):f.push(c({},d,{scrollTop:C,scrollBottom:C+=d.height}));r&&!Object(s["a"])()&&f.push(c({},b,{scrollTop:C,scrollBottom:C+=b.height}));Object(s["a"])()||f.push(c({},_,{scrollTop:C,scrollBottom:C+=_.height}));t&&f.push(c({},m,{scrollTop:C,scrollBottom:C+=m.height}));var S=0;u&&p.forEach(function(e){"folderHeading"!==Object(i["last"])(f).type&&f.push(c({},v,{scrollTop:C,scrollBottom:C+=v.height}));f.push(c({},y,{id:e.name,name:e.name}));e.channelIds.forEach(function(t){var r=false;o.forEach(function(e){var n=l[e]||{};var a=n.channelsOrdered||[];r=r||a.filter(function(e){return e===t}).length>0});if(!r)return;if(!e.isCollapsed){f.push(c({},O,{id:t,index:S,scrollTop:C,scrollBottom:C+=O.height,sectionName:e.name}));S+=1}w[t]=true})});o.forEach(function(e,t){var r=l[e]||{};var o=r.channelsOrdered||[];!("sectionHeading"!==Object(i["last"])(f).type||o.length>0)||Object(s["a"])()&&0===t||f.push(c({},v,{scrollTop:C,scrollBottom:C+=v.height}));r.hasHeading&&f.push(c({},g,{name:e,scrollTop:C,scrollBottom:C+=g.height,sectionName:e}));a&&r.hasHeading&&0===o.length&&f.push(c({},k,{name:e,scrollTop:C,scrollBottom:C+=k.height}));r.channelsOrdered.forEach(function(t){if(w[t])return;f.push(c({},O,{id:t,index:S,scrollTop:C,scrollBottom:C+=O.height,sectionName:e}));S+=1});if("ims"===e&&n){f.push(c({},v,{scrollTop:C,scrollBottom:C+=v.height}));f.push(c({},E,{dim:"dim"===n,height:E.height,scrollTop:C,scrollBottom:C+=E.height}))}if("apps"===e){f.push(c({},v,{scrollTop:C,scrollBottom:C+=v.height}));f.push(c({},j,{height:j.height,scrollTop:C,scrollBottom:C+=j.height}))}});f.push(c({},v,{scrollTop:C,scrollBottom:C+=v.height}));f.push(c({},v,{scrollTop:C,scrollBottom:C+=v.height}));return{rows:f,rowsMap:Object(i["keyBy"])(f,"id"),rowIds:Object(i["map"])(f,"id")}});t["a"]=w},18402:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(12159);var u=r.n(l);var p=r(20405);var f=r(17012);var d=r(17086);var v=r(16912);var h=r(20520);var m=r(17359);var b=r(17351);var _=r(17022);var g=r(16960);var y=r(17078);var O=r(16918);var E=r(16961);var j=r(18403);var k=r(18423);var w=r(18424);var C=r(20180);var S=r.n(C);var T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var I=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function P(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=new v["b"]("channel_sidebar");var M="react_channel_sidebar_update";var x=Object(d["a"])(1);var L=2;var D=10;var F=24;var B={isBooted:o.a.bool,selectedItemId:o.a.string,unreadIds:o.a.arrayOf(o.a.string),mutedMentionIds:o.a.arrayOf(o.a.string),rows:o.a.arrayOf(o.a.object).isRequired,rowsMap:o.a.object.isRequired,rowIds:o.a.arrayOf(o.a.string).isRequired,idsNeedingPresenceSubscription:o.a.arrayOf(o.a.string),onItemSelect:o.a.func,onInviteClick:o.a.func,onBrowseChannelsClick:o.a.func,onBrowseSharedChannelsClick:o.a.func,onCreateChannelClick:o.a.func,onCreateSharedChannelClick:o.a.func,onOpenDMClick:o.a.func,onBrowseAppsClick:o.a.func,jumperCoachmarkState:o.a.string,featureGlobalNav:o.a.bool,sidebarFiltersIsEnabled:o.a.bool,getSectionFilter:o.a.func,setSectionFilterDataFromLS:o.a.func,sidebarFoldersIsEnabled:o.a.bool,initializeFolderData:o.a.func,createFolder:o.a.func,dragFolderOrChannel:o.a.func,ariaLandmarkLabel:o.a.string,fetchChannelRealtimePriority:o.a.func,onDevToolsClick:o.a.func,featureSonicPresenceManager:o.a.bool};var U={isBooted:false,selectedItemId:null,mentionIds:[],unreadIds:[],mutedMentionIds:[],idsNeedingPresenceSubscription:[],rows:[],rowsMap:{},rowIds:[],onItemSelect:a.a.noop,onInviteClick:a.a.noop,onBrowseChannelsClick:a.a.noop,onBrowseSharedChannelsClick:a.a.noop,onCreateChannelClick:a.a.noop,onCreateSharedChannelClick:a.a.noop,onOpenDMClick:a.a.noop,onBrowseAppsClick:a.a.noop,jumperCoachmarkState:null,featureGlobalNav:false,sidebarFiltersIsEnabled:false,getSectionFilter:a.a.noop,setSectionFilterDataFromLS:a.a.noop,sidebarFoldersIsEnabled:false,initializeFolderData:a.a.noop,createFolder:a.a.noop,dragFolderOrChannel:a.a.noop,ariaLandmarkLabel:null,fetchChannelRealtimePriority:a.a.noop,onDevToolsClick:a.a.noop,featureSonicPresenceManager:false};var H={FOCUS_WITHIN:2,CONTAINER_FOCUSED:1,NOT_FOCUSED:-1};var q=function(e){P(t,e);function t(e){N(this,t);var r=A(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.setRef=r.setRef.bind(r);r.ensureRowInView=r.ensureRowInView.bind(r);r.onResize=r.onResize.bind(r);r.onScroll=r.onScroll.bind(r);r.onItemSelect=r.onItemSelect.bind(r);r.onFocusEnter=r.onFocusEnter.bind(r);r.onFocusLeave=r.onFocusLeave.bind(r);r.onFocusWithin=r.onFocusWithin.bind(r);r.onDragStart=r.onDragStart.bind(r);r.onDragEnd=r.onDragEnd.bind(r);r.onDragOver=r.onDragOver.bind(r);r.onDrop=r.onDrop.bind(r);r.onCreateFolder=r.onCreateFolder.bind(r);r.state=T({},r.getUnreadRows(e),{scrolledBelowFirstMention:false,scrolledBelowFirstUnread:false,scrolledAboveLastMention:false,scrolledAboveLastUnread:false,listHeight:0,hasLoadedFilterDataFromLS:false,hasInitializedFolderData:false,hasKeyboardFocus:H.NOT_FOCUSED});r.presenceList=Object(m["a"])(r.props.idsNeedingPresenceSubscription);r.commands=[{keys:["option+up"],handler:r.gotoNext.bind(r,"up",false)},{keys:["option+down"],handler:r.gotoNext.bind(r,"down",false)},{keys:["option+shift+up"],handler:r.gotoNext.bind(r,"up",true)},{keys:["option+shift+down"],handler:r.gotoNext.bind(r,"down",true)}];r.pendingEnsureRowInView=false;return r}I(t,[{key:"componentDidMount",value:function e(){this.keyCommands=new E["a"];this.keyCommands.bindAll(this.commands);this.maybeLoadSectionFilterDataFromLS();this.maybeLoadFolderData()}},{key:"componentWillReceiveProps",value:function e(t){var r=this;if(!t.isBooted)return;if(!t.featureSonicPresenceManager&&!Object(h["a"])()&&!Object(f["a"])(this.props.idsNeedingPresenceSubscription,t.idsNeedingPresenceSubscription)&&this.presenceList){this.presenceList.clear();this.presenceList.add(t.idsNeedingPresenceSubscription)}var n="SHOW_BUTTON"===t.jumperCoachmarkState||"HIDE_BUTTON"===t.jumperCoachmarkState;var a=this.props.rows.length&&t.rows.length&&("Vquick_switcher"===this.props.rows[0].id||"Vquick_switcher"===t.rows[0].id)&&this.props.rows[0].id!==t.rows[0].id;(n||a)&&this.ChannelList&&this.ChannelList.Scrollbar&&this.ChannelList.Scrollbar.scrollTop(0);this.setState(function(e){var n=T({},e,r.getUnreadRows(t));r.ChannelList&&r.ChannelList.resetCurrentScrollTopMaybe(n.listHeight,t.rows);return T({},n,r.getBannerState(n))})}},{key:"componentWillUpdate",value:function e(){x&&Object(p["d"])(M+"_mark")}},{key:"componentDidUpdate",value:function e(t){var r=this.props,n=r.selectedItemId,a=r.isBooted,i=r.jumperCoachmarkState;var o="SHOW_BUTTON"===i||"HIDE_BUTTON"===i;var s=t.selectedItemId!==n;var c=a&&!t.isBooted;o||!s&&!c||this.ensureRowInView(n);this.maybeLoadSectionFilterDataFromLS();this.maybeLoadFolderData();this.props.sidebarFiltersIsEnabled&&this.props.unreadIds.length>0&&this.props.fetchChannelRealtimePriority({channelIds:this.props.unreadIds,time:Date.now()});x&&Object(p["f"])(M,M+"_mark")}},{key:"componentWillUnmount",value:function e(){this.keyCommands.reset();this.presenceList&&this.presenceList.destroy()}},{key:"onCreateFolder",value:function e(){if(!this.props.sidebarFoldersIsEnabled)return;this.props.createFolder()}},{key:"onDragStart",value:function e(t){if(!this.props.sidebarFoldersIsEnabled)return;var r=t.dataTransfer;r.effectAllowed="move";r.dropEffect="move";var n=t.target;while(n&&!n.attributes["data-drag-type"])n=n.parentNode;var a={src:{type:n.attributes["data-drag-type"].value,id:n.attributes["data-drag-id"].value}};this.setState(function(){return{dragData:a}})}},{key:"onDragOver",value:function e(t){if(!this.props.sidebarFoldersIsEnabled)return;t.preventDefault()}},{key:"onDrop",value:function e(t){var r=this;if(!this.props.sidebarFoldersIsEnabled)return;var n=t.target;while(n&&!n.attributes["data-drag-type"])n=n.parentNode;this.setState(function(){return{dragData:T({},r.state.dragData,{dest:{type:n.attributes["data-drag-type"].value,id:n.attributes["data-drag-id"].value}})}})}},{key:"onDragEnd",value:function e(){if(!this.props.sidebarFoldersIsEnabled)return;this.props.dragFolderOrChannel(this.state.dragData);this.setState(function(){return{dragData:null}})}},{key:"onScroll",value:function e(){this.setState(this.getBannerState)}},{key:"onResize",value:function e(t){var r=this;var n=t.height;this.setState(function(e){var t=T({},e,{listHeight:n});return T({},t,r.getBannerState(t))},function(){false!==r.pendingEnsureRowInView&&r.ensureRowInView(r.pendingEnsureRowInView)})}},{key:"onFocusEnter",value:function e(t){var r=t.relatedEvent,n=t.target,a=t.currentTarget;if(r&&"mousedown"===r.type)return;var i=n===a?H.CONTAINER_FOCUSED:H.FOCUS_WITHIN;this.setState(function(){return{hasKeyboardFocus:i}})}},{key:"onFocusWithin",value:function e(){this.setState(function(){return{hasKeyboardFocus:H.FOCUS_WITHIN}})}},{key:"onFocusLeave",value:function e(){this.setState(function(){return{hasKeyboardFocus:H.NOT_FOCUSED}})}},{key:"onItemSelect",value:function e(t){return this.props.onItemSelect(t)}},{key:"setRef",value:function e(t){this.ChannelList=t}},{key:"getUnreadRows",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,r=t.rowsMap,n=t.unreadIds,i=t.mentionIds;return{firstUnread:r[a.a.first(n)],lastUnread:r[a.a.last(n)],firstMention:r[a.a.first(i)],lastMention:r[a.a.last(i)]}}},{key:"getBannerState",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state,r=t.firstMention,n=t.firstUnread,a=t.lastMention,i=t.lastUnread,o=t.listHeight;var s=this.ChannelList?this.ChannelList.getCurrentScrollTop():0;var c=n&&n.scrollBottom-D<=s;var l=i&&i.scrollTop+D>=s+o;var u=r&&r.scrollBottom-D-(c?F:0)<=s;var p=a&&a.scrollTop+D+(l?F:0)>=s+o;return{scrolledBelowFirstMention:u,scrolledBelowFirstUnread:c,scrolledAboveLastMention:p,scrolledAboveLastUnread:l}}},{key:"maybeLoadSectionFilterDataFromLS",value:function e(){if(this.props.sidebarFiltersIsEnabled&&!this.state.hasLoadedFilterDataFromLS){this.props.setSectionFilterDataFromLS();this.setState(function(e){return T({},e,{hasLoadedFilterDataFromLS:true})})}}},{key:"maybeLoadFolderData",value:function e(){if(this.props.sidebarFoldersIsEnabled&&!this.state.hasInitializedFolderData){this.props.initializeFolderData();this.setState(function(e){return T({},e,{hasInitializedFolderData:true})})}}},{key:"ensureRowInView",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.selectedItemId;var r=this.props,n=r.rows,a=r.rowsMap,i=r.rowIds;var o=a[t];if(!o)return;var s=this.ChannelList.currentScrollTop;var c=this.state.listHeight;if(0===c){this.pendingEnsureRowInView=t;return}this.pendingEnsureRowInView=false;var l=Math.max(i.indexOf(t)-L,0);var u=n[l].scrollTop;if(u<s){this.ChannelList.scrollToTarget(u);return}var p=Math.min(i.indexOf(t)+L,n.length-1);var f=n[p].scrollBottom-c;f>s&&this.ChannelList.scrollToTarget(f)}},{key:"gotoNext",value:function e(t,r){var n=this;var i=Object(b["a"])();var o=Object(_["f"])(i);if(Object(_["g"])(i)&&o>0){if(Object(_["i"])(i))return;var s=Object(_["c"])(i).start;if("up"===t&&0!==s)return;if("down"===t&&s!==o)return}var c=this.props,l=c.rows,u=c.rowIds,p=c.selectedItemId;var f=u.indexOf(p);var d=a()(l).map(function(e,t){return T({},e,{index:t})}).filter(function(e){return"channel"===e.type}).filter(function(e){return!r||a.a.indexOf(n.props.unreadIds,e.id)>=0||a.a.indexOf(n.props.mutedMentionIds,e.id)>=0}).value();if(0===d.length)return;var v=void 0;v="down"===t?a.a.find(d,function(e){return e.index>f}):a.a.findLast(d,function(e){return e.index<f});void 0===v&&(v="down"===t?a.a.first(d):a.a.last(d));this.props.onItemSelect(v.id)}},{key:"renderFocusOutline",value:function e(){if(this.state.hasKeyboardFocus===H.CONTAINER_FOCUSED)return u.a.createElement("div",{className:"sectionfocusindicator"});return null}},{key:"render",value:function e(){if(!this.props.isBooted)return null;var t=this.props,r=t.rows,n=t.onInviteClick,a=t.onBrowseChannelsClick,i=t.onBrowseSharedChannelsClick,o=t.onCreateChannelClick,s=t.onCreateSharedChannelClick,l=t.onOpenDMClick,p=t.onBrowseAppsClick,f=t.selectedItemId,d=t.featureGlobalNav,v=t.sidebarFiltersIsEnabled,h=t.getSectionFilter,m=t.sidebarFoldersIsEnabled,b=t.ariaLandmarkLabel,_=t.onDevToolsClick;var E=this.state,C=E.scrolledBelowFirstMention,S=E.scrolledBelowFirstUnread,T=E.scrolledAboveLastMention,I=E.scrolledAboveLastUnread,N=E.firstMention,A=E.firstUnread,P=E.lastMention,M=E.lastUnread;var x=this.state.hasKeyboardFocus!==H.NOT_FOCUSED;var L=this.state.hasKeyboardFocus===H.CONTAINER_FOCUSED?"-1":null;var D=c()("p-channel_sidebar",{focusablesection:x,"p-channel_sidebar--global_nav":d});return u.a.createElement(y["a"],{onFocusEnter:this.onFocusEnter,onFocusWithin:this.onFocusWithin,onFocusLeave:this.onFocusLeave},u.a.createElement("nav",{className:D,"data-qa-channel-sidebar":true,"data-qa-channel-sidebar-selected-item-id":f,"data-is-focusable-section":true,"aria-labelledby":b,tabIndex:L},u.a.createElement("h1",{id:"channel_sidebar_aria_label",className:"offscreen"},R.t("Channel Sidebar")),u.a.createElement(w["a"],null),d&&u.a.createElement("div",{className:"p-global_nav__sidebar_divider"}),u.a.createElement("div",{className:"p-channel_sidebar__list"},u.a.createElement(k["a"],{position:"top",isShowing:C||S,isMention:C,linkedId:C&&N.id||S&&A.id,ensureRowInView:this.ensureRowInView}),u.a.createElement(j["a"],{rows:r,onItemSelect:this.onItemSelect,onInviteClick:n,onBrowseChannelsClick:a,onBrowseSharedChannelsClick:i,onCreateChannelClick:o,onCreateSharedChannelClick:s,onOpenDMClick:l,onBrowseAppsClick:p,onScroll:this.onScroll,onResize:this.onResize,sidebarFiltersIsEnabled:v,sidebarFoldersIsEnabled:m,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,onDrop:this.onDrop,onDragOver:this.onDragOver,onCreateFolder:this.onCreateFolder,getSectionFilter:h,ref:this.setRef}),u.a.createElement(k["a"],{position:"bottom",isShowing:T||I,isMention:T,linkedId:T&&P.id||I&&M.id,ensureRowInView:this.ensureRowInView})),u.a.createElement(g["a"],{enabled:["feature_redux_dev_tools"]},u.a.createElement(O["d"],{size:"small",onClick:_},"Redux Dev Tools")),this.renderFocusOutline()))}}]);return t}(l["PureComponent"]);q.displayName="ChannelSidebar";q.propTypes=B;q.defaultProps=U;t["a"]=q},18403:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(333);var u=r(16916);var p=r(17111);var f=r(16912);var d=r(16960);var v=r(17186);var h=r(18404);var m=r(18409);var b=r(18410);var _=r(18411);var g=r(18412);var y=r(18413);var O=r(18414);var E=r(18415);var j=r(17306);var k=r(18416);var w=r(18417);var C=r(18418);var S=r(18419);var T=r(18421);var I=r(18422);var N=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function R(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var M=new f["b"]("channel_sidebar");var x={rows:o.a.arrayOf(o.a.shape({type:o.a.string,scrollBottom:o.a.number})).isRequired,onItemSelect:o.a.func,onInviteClick:o.a.func,onBrowseChannelsClick:o.a.func,onBrowseSharedChannelsClick:o.a.func,onCreateChannelClick:o.a.func,onCreateSharedChannelClick:o.a.func,onOpenDMClick:o.a.func,onBrowseAppsClick:o.a.func,onResize:o.a.func,onScroll:o.a.func,sidebarFiltersIsEnabled:o.a.bool,getSectionFilter:o.a.func,sidebarFoldersIsEnabled:o.a.bool,onDragStart:o.a.func,onDragEnd:o.a.func,onDrop:o.a.func,onDragOver:o.a.func,onCreateFolder:o.a.func};var L={rows:[],onItemSelect:a.a.noop,selectedItemId:"",onItemClick:a.a.noop,onInviteClick:a.a.noop,onBrowseChannelsClick:a.a.noop,onBrowseSharedChannelsClick:a.a.noop,onCreateChannelClick:a.a.noop,onCreateSharedChannelClick:a.a.noop,onOpenDMClick:a.a.noop,onBrowseAppsClick:a.a.noop,onResize:a.a.noop,onScroll:a.a.noop,sidebarFiltersIsEnabled:false,getSectionFilter:a.a.noop,sidebarFoldersIsEnabled:false,onDragStart:a.a.noop,onDragEnd:a.a.noop,onDrop:a.a.noop,onDragOver:a.a.noop,onCreateFolder:a.a.noop};var D=function(e){R(t,e);function t(e){A(this,t);var r=P(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={currentlyHoveredSection:null};r.setScrollbarRef=r.setScrollbarRef.bind(r);r.getCurrentScrollTop=r.getCurrentScrollTop.bind(r);r.resetCurrentScrollTopMaybe=r.resetCurrentScrollTopMaybe.bind(r);r.setListRef=r.setListRef.bind(r);r.onResize=r.onResize.bind(r);r.onScroll=r.onScroll.bind(r);r.onItemClick=r.onItemClick.bind(r);r.onInviteClick=r.onInviteClick.bind(r);r.onMouseLeaveRow=r.onMouseLeaveRow.bind(r);r.renderRow=r.renderRow.bind(r);r.renderRowWithWrapper=r.renderRowWithWrapper.bind(r);r.currentScrollTop=0;r.height=0;return r}N(t,[{key:"componentDidUpdate",value:function e(t){this.List&&t.rows!==this.props.rows&&this.List.recomputeRowHeights()}},{key:"onMouseEnterRow",value:function e(t){this.setState(function(){return{currentlyHoveredSection:t.sectionName||null}})}},{key:"onMouseLeaveRow",value:function e(){this.setState(function(){return{currentlyHoveredSection:null}})}},{key:"onResize",value:function e(t){var r=t.height;this.resetCurrentScrollTopMaybe(r);this.height=r;this.props.onResize({height:r})}},{key:"onScroll",value:function e(t,r){var n=r.scrollTop;this.currentScrollTop=n;this.List&&this.List.Grid.handleScrollEvent({scrollTop:n});this.props.onScroll&&this.props.onScroll(n)}},{key:"onItemClick",value:function e(t,r){t.preventDefault();this.props.onItemSelect(r)}},{key:"onInviteClick",value:function e(t,r){this.props.onInviteClick(r)}},{key:"setScrollbarRef",value:function e(t){this.Scrollbar=t}},{key:"setListRef",value:function e(t){this.List=t}},{key:"getCurrentScrollTop",value:function e(){return this.currentScrollTop}},{key:"getContentHeight",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.rows;return t.length?t[t.length-1].scrollBottom:0}},{key:"resetCurrentScrollTopMaybe",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.rows;t>this.getContentHeight(r)&&(this.currentScrollTop=0)}},{key:"scrollToTarget",value:function e(t){var r=this;var n=Math.max(0,Math.min(this.getContentHeight()-this.height,t));Object(p["a"])({fromValue:this.currentScrollTop,toValue:n,duration:200,easing:"easeOutQuad",onTick:function e(t){var n=t.value,a=t.nextTick;r.Scrollbar.scrollTop(n);a()}})}},{key:"renderRowWithWrapper",value:function e(t,r){var n=this;var a=t.height,i=t.id,o=t.type;var s=i||r+"-"+o;var l={quickswitcherButton:"listitem",exploreLink:"listitem",allUnreadsLink:"listitem",allThreadsLink:"listitem",sectionHeading:"listitem",channel:"listitem",invitePeopleLink:"listitem",installAppsLink:"listitem",spacer:"presentation",topPadding:"presentation",emptyState:"listitem"}[o];return this.props.sidebarFiltersIsEnabled?c.a.createElement("div",{key:s,style:{height:a},onMouseEnter:function e(){return n.onMouseEnterRow(t)},onMouseLeave:this.onMouseLeaveRow,role:l},this.renderRow(t)):c.a.createElement("div",{key:s,style:{height:a},role:l},this.renderRow(t))}},{key:"renderRow",value:function e(t){var r=this.props.onItemSelect;switch(t.type){case"quickswitcherButton":return c.a.createElement(m["a"],null);case"exploreLink":return c.a.createElement(b["a"],{selectItem:r});case"allUnreadsLink":return c.a.createElement(_["a"],{selectItem:r});case"allThreadsLink":return c.a.createElement(g["a"],{selectItem:r});case"sectionHeading":return this.renderSectionHeading(t.name);case"folderHeading":return this.renderFolderHeading(t.name);case"channel":return this.renderChannel(t.id,t.index);case"invitePeopleLink":return c.a.createElement(y["a"],{selectItem:this.onInviteClick,dim:t.dim});case"installAppsLink":return c.a.createElement(O["a"],null);case"spacer":return null;case"topPadding":return null;case"emptyState":return this.renderEmptyState(t.name);default:Object(u["warn"])("Row type "+t.type+" not implemented",t)}return null}},{key:"renderSectionHeading",value:function e(t){var r=this.props,n=r.onBrowseChannelsClick,a=r.onBrowseSharedChannelsClick,i=r.onCreateChannelClick,o=r.onCreateSharedChannelClick,s=r.onOpenDMClick,l=r.onBrowseAppsClick;var u=this.state.currentlyHoveredSection;switch(t){case"starred":if(this.props.sidebarFoldersIsEnabled)return c.a.createElement(j["a"],{supportsHighlightsMode:true,label:M.t("Starred"),qaLabel:"starred",id:"starred",showPlus:true,onPlusClick:this.props.onCreateFolder});return c.a.createElement(E["a"],{supportsHighlightsMode:true,isCurrentlyHovered:"starred"===u});case"sharedChannels":return c.a.createElement(k["a"],{id:"sharedChannels",onLabelClick:a,onPlusClick:o,supportsHighlightsMode:true,isCurrentlyHovered:"sharedChannels"===u});case"channels":return c.a.createElement(w["a"],{id:"channels",onLabelClick:n,onPlusClick:i,supportsHighlightsMode:true,isCurrentlyHovered:"channels"===u});case"orgWideChannels":return c.a.createElement(d["a"],{enabled:["feature_enterprise_org_wide_channels_section"]},c.a.createElement(S["a"],{supportsHighlightsMode:true,isCurrentlyHovered:"orgWideChannels"===u}));case"ims":return c.a.createElement(T["a"],{id:"ims",onLabelClick:s,onPlusClick:s,isCurrentlyHovered:"ims"===u});case"apps":return c.a.createElement(I["a"],{id:"apps",onLabelClick:l,onPlusClick:l,isCurrentlyHovered:"apps"===u});default:return null}}},{key:"renderFolderHeading",value:function e(t){return c.a.createElement(C["a"],{name:t,onDragStart:this.props.onDragStart,onDragEnd:this.props.onDragEnd,onDrop:this.props.onDrop,onDragOver:this.props.onDragOver})}},{key:"renderEmptyState",value:function e(t){var r=void 0;r="real_time_sort"===this.props.getSectionFilter(t)?"No unread mentions":"No unreads";return c.a.createElement("div",{className:"p-channel_sidebar__empty_state"},r)}},{key:"renderChannel",value:function e(t,r){if(this.props.sidebarFoldersIsEnabled)return c.a.createElement(h["a"],{key:t,id:t,selectItem:this.props.onItemSelect,index:r,sidebarFoldersIsEnabled:true,onDragStart:this.props.onDragStart,onDragEnd:this.props.onDragEnd,onDrop:this.props.onDrop,onDragOver:this.props.onDragOver});var n=c.a.createElement(h["a"],{key:t,id:t,selectItem:this.props.onItemSelect,index:r});return n}},{key:"render",value:function e(){var t=this;return c.a.createElement(l["a"],{onResize:this.onResize},function(e){var r=e.width,n=e.height;return c.a.createElement(v["a"],{width:r,height:n,contentHeight:t.getContentHeight(),onScroll:t.onScroll,ref:t.setScrollbarRef},c.a.createElement("div",{className:"p-channel_sidebar__static_list","aria-label":M.t("Channels and direct messages"),role:"list"},t.props.rows.map(t.renderRowWithWrapper)))})}}]);return t}(c.a.PureComponent);D.displayName="ChannelList";D.propTypes=x;D.defaultProps=L;t["a"]=D},18404:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(9);var o=r(20618);var s=r(16923);var c=r(17057);var l=r(17403);var u=r(17069);var p=r(16913);var f=r(16922);var d=r(16920);var v=r(18405);var h={closeIM:s["closeChannelApi"]};var m=function e(t,r){var n=r.id;var i=Object(s["getChannelById"])(t,n);if(!i)return{id:n,featureSidebarContextMenu:Object(p["isFeatureEnabled"])(t,"feature_sidebar_context_menu")};var v=Object(d["isMpim"])(i)?Math.min(Math.max(a.a.get(i,"members.length",1)-1,2),9):0;var h=Object(d["getChannelType"])(i);var m="im"===h&&Object(f["getUserPref"])(t,"show_typing")&&Object(l["getTyperIdsInChannel"])(t,n).length>0;var b="im"!==h||"active"===Object(u["getPresenceByMemberId"])(t,Object(d["getMemberIdFromIm"])(i));var _=Object(p["getCurrentUserId"])(t);var g="mpim"===h&&Object(d["getMemberIdsFromMpim"])(i)&&a.a.filter(Object(d["getMemberIdsFromMpim"])(i),function(e){return e!==_});var y="mpim"===h&&g&&a.a.map(g,function(e){return Object(u["getPresenceByMemberId"])(t,e)});var O=!Object(d["isMpim"])(i)&&!Object(d["isIm"])(i)||Object(d["isPrivateChannel"])(i);var E=!Object(d["isMpim"])(i)&&!Object(d["isIm"])(i);var j=Object(d["isMemberOfChannel"])(i)||Object(d["isPrivateChannel"])(i);return{isSelected:Object(o["getPrimaryView"])(t)===n,isPendingShared:Object(d["isPendingExternallySharedChannel"])(i),isShared:Object(d["isExternallySharedChannel"])(i),isOrgShared:Object(d["isOrgShared"])(i),isSlackbot:Object(d["isSlackbot"])(i),isYou:Object(d["isYou"])(_,i),isMuted:Object(c["isChannelMutedById"])(t,n),hasUnreads:!!Object(d["getUnreadCount"])(i),hasDraft:Object(d["getHasDraft"])(i),isArchived:Object(d["isArchived"])(i),sharedTeamIds:Object(d["getMaybePendingSharedTeamIds"])(i),displayName:Object(d["getDisplayName"])(i),unreadCount:Object(d["getUnreadCount"])(i),badgeCount:Object(s["getBadgeCount"])(t,i),userCount:v,userId:Object(d["getMemberIdFromIm"])(i)||i.user_id,userActive:b,type:h,id:n,isTyping:m,isStarred:Object(d["isStarred"])(i),members:g||null,memberPresences:y||null,name:Object(d["getDisplayName"])(i),priority:i.priority,isPrivateChannel:Object(d["isPrivateChannel"])(i),isMemberOfChannel:d["isMemberOfChannel"],canMute:O,canLeave:j,isChannel:E,featureSidebarContextMenu:Object(p["isFeatureEnabled"])(t,"feature_sidebar_context_menu"),featureSonicPresenceManager:Object(p["isFeatureEnabled"])(t,"feature_sonic_presence_manager")}};t["a"]=Object(i["connect"])(m,h)(v["a"])},18405:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(16916);var f=r(17036);var d=r(16941);var v=r(16912);var h=r(20520);var m=r(16918);var b=r(16917);var _=r(17023);var g=r(17249);var y=r(18003);var O=r(17060);var E=r(16932);var j=r(18407);var k=r(18004);var w=r(17769);var C=r(17770);var S=r(18006);var T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var I=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function P(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=new v["b"]("channel_sidebar");var M={isPendingShared:o.a.bool,isShared:o.a.bool,isOrgShared:o.a.bool,type:o.a.oneOf(["channel","private","im","mpim"]),isSlackbot:o.a.bool,isYou:o.a.bool,isMuted:o.a.bool,hasUnreads:o.a.bool,hasDraft:o.a.bool,isArchived:o.a.bool,sharedTeamIds:o.a.arrayOf(o.a.string),displayName:o.a.string,isSelected:o.a.bool,unreadCount:o.a.number,badgeCount:o.a.number,userCount:o.a.number,userId:o.a.string,userActive:o.a.bool,id:o.a.string.isRequired,priority:o.a.number,selectItem:o.a.func,closeIM:o.a.func,isTyping:o.a.bool,isStarred:o.a.bool,members:o.a.arrayOf(o.a.string),memberPresences:o.a.arrayOf(o.a.string),onContextMenu:o.a.func,featureSidebarContextMenu:o.a.bool.isRequired,index:o.a.number.isRequired,sidebarFoldersIsEnabled:o.a.bool,onDragStart:o.a.func,onDragEnd:o.a.func,onDrop:o.a.func,onDragOver:o.a.func,featureSonicPresenceManager:o.a.bool};var x={isSelected:false,isPendingShared:false,isShared:false,isOrgShared:false,type:"channel",isSlackbot:false,isYou:false,isMuted:false,hasUnreads:false,hasDraft:false,isArchived:false,sharedTeamIds:null,displayName:"",badgeCount:0,userCount:0,userId:void 0,userActive:true,priority:null,selectItem:c.a.noop,closeIM:c.a.noop,isTyping:false,isStarred:false,members:null,memberPresences:null,onContextMenu:c.a.noop,sidebarFoldersIsEnabled:false,onDragStart:c.a.noop,onDragEnd:c.a.noop,onDrop:c.a.noop,onDragOver:c.a.noop,featureSonicPresenceManager:false};var L=function(e){P(t,e);function t(e){N(this,t);var r=A(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onClick=r.onClick.bind(r);r.closeIM=r.closeIM.bind(r);return r}I(t,[{key:"onClick",value:function e(t){t.preventDefault();Object(p["action"])(C["a"],"Selected "+this.props.id);this.props.selectItem(this.props.id);this.clogClick()}},{key:"closeIM",value:function e(t){t.preventDefault();t.stopPropagation();Object(p["action"])(C["a"],"Closed "+this.props.id);this.props.closeIM({channelId:this.props.id})}},{key:"clogClick",value:function e(){var t=this.props,r=t.id,n=t.index,a=t.isMuted,i=t.isStarred,o=t.hasUnreads,s=t.isArchived,c=t.isSelected,l=t.badgeCount;Object(d["b"])("SIDEBAR_ITEM_CLICK",{item_type:r[0],item_id:r,index:n,is_muted:a,is_starred:i,has_unreads:o,is_archived:s,is_selected:c,badge_count:l})}},{key:"shouldShowPresence",value:function e(){var t=this.props,r=t.type,n=t.isSlackbot,a=t.isSelected,i=t.hasDraft,o=t.isTyping,s=t.isArchived;if("im"!==r)return false;if(n)return false;if(i&&!a)return false;if(o&&!a)return false;if(s)return false;return true}},{key:"shouldShowClose",value:function e(){var t=this.props,r=t.type,n=t.hasUnreads;if("im"!==r&&"mpim"!==r)return false;if(n)return false;return true}},{key:"shouldShowExternalSharedIcon",value:function e(){var t=this.props,r=t.isShared,n=t.type;return r&&!("im"===n||"mpim"===n)}},{key:"shouldShowOrgSharedIcon",value:function e(){var t=this.props,r=t.isOrgShared,n=t.type;return r&&!("im"===n||"mpim"===n)}},{key:"buildName",value:function e(){var t=this.props.type;if("im"===t)return this.buildImName();if("mpim"===t)return this.buildMpimName();return a.a.createElement("span",{className:"p-channel_sidebar__name"},this.props.displayName)}},{key:"buildImName",value:function e(){var t=this.props,r=t.userId,n=t.isYou,i=t.userActive;var o=a.a.createElement(O["a"],{id:r});var s=a.a.createElement(g["a"],{memberId:r});var c=n&&a.a.createElement("span",{className:"p-channel_sidebar__you_label"},R.t("(you)"));return a.a.createElement("span",{className:u()("p-channel_sidebar__name",{"p-channel_sidebar__name--away":!i})},s,o,c)}},{key:"buildMpimName",value:function e(){var t=this.props,r=t.type,n=t.members,i=t.memberPresences;if("mpim"!==r||!n||!i)return null;var o=c.a.flatMap(n,function(e,t){return[a.a.createElement(O["a"],{id:e,key:e}),t<n.length-1?", ":null]});return a.a.createElement(E["c"],{tip:o,position:"top-left",delay:E["a"]},a.a.createElement("span",{className:"p-channel_sidebar__name"},o))}},{key:"buildAriaLabel",value:function e(){var t=this.props,r=t.type,n=t.displayName,a=t.isShared,i=t.isOrgShared,o=t.isYou,s=t.isMuted,c=t.hasUnreads,l=t.hasDraft,u=t.isArchived,p=t.unreadCount,f=t.badgeCount,d=t.isSelected,v=t.userActive,h=t.isTyping;return Object(k["a"])({type:r,displayName:n,isShared:a,isOrgShared:i,isYou:o,isMuted:s,hasUnreads:c,hasDraft:l,isArchived:u,unreadCount:p,badgeCount:f,isSelected:d,userActive:v,isTyping:h})}},{key:"renderPresence",value:function e(t){return a.a.createElement(_["a"],{memberId:t,enablePresenceSubscriptions:this.props.featureSonicPresenceManager||Object(h["a"])(),inline:false})}},{key:"render",value:function e(){var t=this;var r=this.props,n=r.id,i=r.type,o=r.isPendingShared,s=r.isSlackbot,c=r.isYou,l=r.isMuted,p=r.hasUnreads,f=r.hasDraft,d=r.isArchived,v=r.badgeCount,h=r.isSelected,_=r.userCount,g=r.displayName,O=r.userId,E=r.priority,k=r.isTyping,C=r.isStarred,I=r.sharedTeamIds,N=r.onContextMenu,A=r.featureSidebarContextMenu;var P=u()("p-channel_sidebar__channel",{"p-channel_sidebar__channel--private":"private"===i,"p-channel_sidebar__channel--shared":this.shouldShowExternalSharedIcon(),"p-channel_sidebar__channel--org-shared":this.shouldShowOrgSharedIcon(),"p-channel_sidebar__channel--mpim":"mpim"===i,"p-channel_sidebar__channel--im":"im"===i,"p-channel_sidebar__channel--im-slackbot":s,"p-channel_sidebar__channel--im-you":c,"p-channel_sidebar__channel--selected":h,"p-channel_sidebar__channel--muted":l,"p-channel_sidebar__channel--unread":p&&!d,"p-channel_sidebar__channel--draft":f&&!h,"p-channel_sidebar__channel--archived":d,"p-channel_sidebar__channel--typing":k&&!h});var M=a.a.createElement(w["a"],{count:v,className:"p-channel_sidebar__badge"});var x={"data-user-count":_};var L=this.shouldShowPresence()&&this.renderPresence(O);var D=this.buildName();var F=this.shouldShowExternalSharedIcon()&&a.a.createElement(y["a"],{tooltip:true,sharedTeamIds:I,className:"p-channel_sidebar__icon",pending:o});var B=a.a.createElement("a",T({href:"/messages/"+n,className:P,onClick:this.onClick,onContextMenu:N},x,{"data-qa-channel-sidebar-channel":true,"data-qa-channel-sidebar-channel-id":n,"data-qa-channel-sidebar-channel-type":i,"data-qa-channel-sidebar-is-starred":C,"data-qa-channel-sidebar-priority":E,"aria-label":this.buildAriaLabel(),draggable:this.props.sidebarFoldersIsEnabled,"data-drag-type":"channel","data-drag-id":n,onDragStart:this.props.onDragStart,onDragEnd:this.props.onDragEnd,onDrop:this.props.onDrop,onDragOver:this.props.onDragOver}),L,D,M,F);if(this.shouldShowClose()){var U=a.a.createElement(m["c"],{onClick:this.closeIM,className:"p-channel_sidebar__close","aria-label":R.t("Close Direct Message with {name}",{name:g})},a.a.createElement(b["a"],{type:"times-circle-medium"}));B=a.a.createElement("div",{className:"p-channel_sidebar__close_container"},B,U)}if(A){var H=function e(){return Object(S["a"])(t.props)};return a.a.createElement(j["a"],{getTemplate:H},B)}return B}}]);return t}(f["a"]);L.displayName="Channel";L.propTypes=M;L.defaultProps=x;t["a"]=L},18406:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(9);var u=r(16913);var p=r(16939);var f=r(17400);var d=r(16932);var v=r(16917);var h=r(20398);var m=r(16912);var b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=new m["b"]("shared_channels");var E={className:a.a.string,sharedTeamNames:a.a.arrayOf(a.a.node),tooltip:a.a.bool,tooltipPosition:a.a.string,pending:a.a.bool,inherit:a.a.bool,inline:a.a.bool};var j={className:void 0,sharedTeamNames:[],tooltip:false,tooltipPosition:"top",pending:false,inherit:false,inline:false};var k=function(e){y(t,e);function t(){_(this,t);return g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}b(t,[{key:"render",value:function e(){var t=this.props,r=t.className,n=t.sharedTeamNames,a=t.tooltip,i=t.tooltipPosition,s=t.pending,l=t.inherit,u=t.inline;var p=o.a.createElement(v["b"],{type:s?"shared_channels_pending":"shared_channels",className:c()("p-shared_channels_icon",r),size:l?"inherit":void 0,inline:u});if(a&&n&&n.length){var f=s?O.rt('<span className="sk_light_grey">Waiting for</span> {sharedTeamNames} <span className="sk_light_grey">to join</span>',{sharedTeamNames:Object(m["e"])(n,{noEscape:true,react:true})}):O.rt('<span className="sk_light_grey">Shared with</span> {sharedTeamNames}',{sharedTeamNames:Object(m["e"])(n,{noEscape:true,react:true})});return o.a.createElement(d["c"],{tip:f,position:i},p)}return p}}]);return t}(o.a.Component);k.displayName="SharedChannelsIcon";var w=function e(t,r){var n=r.sharedTeamIds,a=r.tooltip,i=r.tooltipPosition;var s=void 0;s=Object(u["isFeatureEnabled"])(t,"feature_lazy_teams")?n&&n.map(function(e){var r=Object(p["getTeamById"])(t,e);return Object(f["isUnknown"])(r)?o.a.createElement(h["a"],{type:"unknown",subtler:true}):Object(f["getTeamDisplayName"])(r)}):n&&n.map(function(e){return Object(f["getTeamDisplayName"])(Object(p["getTeamById"])(t,e))}).filter(function(e){return!!e});return{sharedTeamNames:s,tooltip:a,tooltipPosition:i}};k.propTypes=E;k.defaultProps=j;t["a"]=Object(l["connect"])(w)(k)},18407:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(17065);var c=r(17295);var l=r(16962);var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h={className:a.a.string,children:a.a.node.isRequired,renderWebappMenu:a.a.func,getTemplate:a.a.func.isRequired};var m={className:"",renderWebappMenu:null};var b=function(e){v(t,e);function t(e){f(this,t);var r=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onDesktopContextMenu=r.onDesktopContextMenu.bind(r);r.renderWebappMenu=r.renderWebappMenu.bind(r);return r}p(t,[{key:"onDesktopContextMenu",value:function e(){var t=this;return function(){var e=t.props.getTemplate();window.desktop.contextMenu(e)}}},{key:"renderWebappMenu",value:function e(t){if(this.props.renderWebappMenu)return this.props.renderWebappMenu(t);return o.a.createElement(c["a"],u({},t,{template:this.props.getTemplate(),width:200}))}},{key:"render",value:function e(){var t=this;if(l["isDesktop"]){if(window.desktop.contextMenu){var r=o.a.Children.map(this.props.children,function(e){return o.a.cloneElement(e,{onContextMenu:t.onDesktopContextMenu()})});return r[0]}return this.props.children}var n=this.props.className;return o.a.createElement(s["a"],u({},this.props,{useMouseCoordinatesAsTargetBounds:true,onContextMenu:this.renderWebappMenu,className:n,renderMenu:this.renderWebappMenu}),this.props.children)}}]);return t}(i["PureComponent"]);b.displayName="ContextMenuTrigger";t["a"]=b;b.propTypes=h;b.defaultProps=m},18409:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(17039);var p=r(17279);var f=r(16917);var d=r(16998);var v=r(16912);var h=r(16918);var m=r(16924);var b=r(18007);var _=r(17755);var g=r(16941);var y=r(20180);var O=r.n(y);var E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var j=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function C(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=new v["b"]("channel_sidebar");var T={coachmarkState:o.a.oneOf(["SHOW_BUTTON","HIDE_BUTTON","HIDE_BUTTON_PENDING"]),setJumperCoachmarkState:o.a.func};var I={coachmarkState:void 0,setJumperCoachmarkState:c["noop"]};var N=function(e){C(t,e);function t(e){k(this,t);var r=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.hideCoachmark=r.hideCoachmark.bind(r);r.hideButton=r.hideButton.bind(r);r.onShowContinue=r.onShowContinue.bind(r);r.onShowSkip=r.onShowSkip.bind(r);r.onHideContinue=r.onHideContinue.bind(r);r.onHideSkip=r.onHideSkip.bind(r);r.onButtonClick=r.onButtonClick.bind(r);return r}j(t,[{key:"onShowContinue",value:function e(t){t.stopPropagation();this.clog("OK");this.hideCoachmark()}},{key:"onShowSkip",value:function e(t,r){t.stopPropagation();switch(r){case"SKIP":this.clog("SKIP");return this.hideButton();case"CLOSE":this.clog("CLOSE");return this.hideCoachmark();default:return null}}},{key:"onHideContinue",value:function e(t){t.stopPropagation();this.clog("OK");this.hideButton()}},{key:"onHideSkip",value:function e(t,r){t.stopPropagation();switch(r){case"SKIP":this.clog("SKIP");return this.hideCoachmark();case"CLOSE":this.clog("CLOSE");return this.hideButton();default:return null}}},{key:"onButtonClick",value:function e(){Object(g["b"])("QUICKSWITCHER_ACTION",{trigger:"sidebar_btn",action:"opened"});Object(b["a"])()}},{key:"clog",value:function e(t){var r={SHOW_BUTTON:"SIDEBAR_JUMPER_BUTTON_SHOW",HIDE_BUTTON:"SIDEBAR_JUMPER_BUTTON_HIDE"}[this.props.coachmarkState];Object(g["b"])("SIDEBAR_JUMPER_COACHMARK",{contexts:{ui_context:{action:t,step:r}}})}},{key:"hideCoachmark",value:function e(){this.props.setJumperCoachmarkState(null)}},{key:"hideButton",value:function e(){this.hideCoachmark();Object(p["b"])({name:"show_sidebar_quickswitcher_button",value:false});Object(p["b"])({name:"k_key_omnibox_auto_hide_count",value:5})}},{key:"maybeRenderCoachmark",value:function e(t){var r={SHOW:{title:S.rt("Get around Slack faster <sparkles></sparkles>",null,function(e){var t=e.tag,r=e.key;if("sparkles"===t)return a.a.createElement(d["a"],{key:r,text:":sparkles:"});return null}),content:S.rt("To jump to any channel or conversation, try using the <strong>Quick Switcher</strong>. Summon it with this button or {shortcut}.",{shortcut:Object(m["isMac"])()?"\u2318K":"Ctrl+K"}),skipLinkText:S.t("Hide the sidebar button"),continueButtonText:S.t("OK")},HIDE:{title:S.t("You\u2019re a pro at keyboard shortcuts"),content:S.rt("Looks like you\u2019ve gotten the hang of using {shortcut} to summon the Quick Switcher. If you\u2019d like, you can gain back some sidebar space by hiding the <strong>Jump to</strong> button.",{shortcut:Object(m["isMac"])()?"\u2318K":"Ctrl+K"}),skipLinkText:S.t("No thanks, I like the button"),continueButtonText:S.t("Hide Button")}};var n={skipLinkPre:"",position:"right-bottom",shouldShow:true,hasCloseButton:false,className:"p-channel_sidebar__jumper_coachmark"};switch(this.props.coachmarkState){case"SHOW_BUTTON":this.clog("IMPRESSION");return a.a.createElement(_["a"],E({},n,r.SHOW,{onContinue:this.onShowContinue,onSkip:this.onShowSkip}),t);case"HIDE_BUTTON":this.clog("IMPRESSION");return a.a.createElement(_["a"],E({},n,r.HIDE,{onContinue:this.onHideContinue,onSkip:this.onHideSkip}),t);default:return t}}},{key:"render",value:function e(){var t=a.a.createElement(h["c"],{type:"button",className:"p-channel_sidebar__jumper",onClick:this.onButtonClick,"aria-label":S.t("Open the Quick Switcher to jump to a conversation.")},a.a.createElement("div",{className:"p-channel_sidebar__jumper_left"},a.a.createElement(f["a"],{type:"filter",inherit:true,align:"baseline",className:"p-channel_sidebar__jumper_icon"}),S.t("Jump to...",{note:"This label should be brief. It needs to fit in a 192px wide container."})),a.a.createElement("span",{className:"p-channel_sidebar__jumper_keys"},Object(m["isMac"])()?"\u2318K":"ctrl+K"));return this.maybeRenderCoachmark(t)}}]);return t}(n["Component"]);N.displayName="QuickswitcherButton";N.propTypes=T;N.defaultProps=I;var A=function e(t){return{coachmarkState:Object(u["getJumperCoachmarkState"])(t)}};var P={setJumperCoachmarkState:u["setJumperCoachmarkState"]};t["a"]=Object(s["connect"])(A,P)(N)},18410:function(e,t,r){"use strict";var n=r(9);var a=r(20618);var i=r(16913);var o=r(16912);var s=r(17695);var c=new o["b"]("channel_sidebar");var l="Vexplore";var u=function e(t){var r="";Object(i["isFeatureEnabled"])(t,"feature_sli_explore")&&(r=c.t("Explore"));return{id:l,label:r,hasUnreads:false,isSelected:Object(a["getPrimaryView"])(t)===l}};var p=Object(n["connect"])(u)(s["a"]);t["a"]=p},18411:function(e,t,r){"use strict";var n=r(9);var a=r(17409);var i=r(20618);var o=r(16912);var s=r(17695);var c=new o["b"]("channel_sidebar");var l="Vall_unreads";var u=function e(t){return{id:l,label:c.t("All Unreads"),hasUnreads:Object(a["hasUnreads"])(t),isSelected:Object(i["getPrimaryView"])(t)===l}};var p=Object(n["connect"])(u)(s["a"]);t["a"]=p},18412:function(e,t,r){"use strict";var n=r(9);var a=r(17409);var i=r(20618);var o=r(16913);var s=r(16912);var c=r(17695);var l=new s["b"]("channel_sidebar");var u="Vall_threads";var p=function e(t){return{id:u,label:Object(o["isFeatureEnabled"])(t,"feature_threads_copy_change")?l.t("Threads"):l.t("All Threads"),labelUnread:Object(o["isFeatureEnabled"])(t,"feature_threads_copy_change")?l.t("Threads"):l.t("New Threads"),hasUnreads:Object(a["hasUnreadThreads"])(t),badgeCount:Object(a["getThreadsMentionCount"])(t),isSelected:Object(i["getPrimaryView"])(t)===u}};var f=Object(n["connect"])(p)(c["a"]);t["a"]=f},18413:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(45);var c=r(1);var l=r.n(c);var u=r(16912);var p=r(17695);var f=new u["b"]("channel_sidebar");var d=function e(t){var r=t.selectItem,n=t.dim;return o.a.createElement(p["a"],{key:"Vinvites",id:"Vinvites",label:f.t("Invite People"),selectItem:r,isDim:n})};d.displayName="InviteLink";d.propTypes={selectItem:a.a.func,dim:a.a.bool};d.defaultProps={selectItem:l.a.noop,dim:true};t["a"]=Object(s["pure"])(d)},18414:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16912);var p=r(16918);var f=r(16939);var d=r(16980);var v=r(17768);var h=r(16941);var m=r(17292);var b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=new u["b"]("channel_sidebar");var E={isAppWhitelistEnabled:a.a.bool,isEnterprise:a.a.bool,installAppsString:a.a.string,fetchMemberCountsForTeam:a.a.func.isRequired};var j={isAppWhitelistEnabled:false,isEnterprise:false,installAppsString:""};var k=function(e){y(t,e);function t(e){_(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={numBots:0,numMembers:0};r._isMounted=false;r.handleAppsBrowserClick=r.handleAppsBrowserClick.bind(r);return r}b(t,[{key:"componentWillMount",value:function e(){var t=this;return this.props.fetchMemberCountsForTeam().then(function(e){var r=e.bots,n=e.members;t._isMounted&&t.setState(function(){return{numBots:r,numMembers:n}})})}},{key:"componentDidMount",value:function e(){this._isMounted=true}},{key:"componentWillUnmount",value:function e(){this._isMounted=false}},{key:"handleAppsBrowserClick",value:function e(){Object(h["b"])("INSTALL_APPS_LINK_APP_BROWSER_CLICK");Object(v["a"])()}},{key:"render",value:function e(){var t=this.state,r=t.numBots,n=t.numMembers;if(n<10||r>=3||this.props.isEnterprise||this.props.isAppWhitelistEnabled)return null;return o.a.createElement(p["c"],{className:"p-channel_sidebar__link",onClick:this.handleAppsBrowserClick},"+ ",this.props.installAppsString)}}]);return t}(i["Component"]);k.displayName="InstallAppsLink";k.propTypes=E;k.defaultProps=j;var w={fetchMemberCountsForTeam:m["b"]};function C(e){var t=Object(f["getCurrentTeam"])(e);var r=O.t("Add Apps");return{isAppWhitelistEnabled:t.prefs.app_whitelist_enabled,isEnterprise:!l.a.isEmpty(Object(d["getEnterprise"])(e)),installAppsString:r}}t["a"]=Object(s["connect"])(C,w)(k)},18415:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(45);var o=r(16912);var s=r(17306);var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var l=new o["b"]("channel_sidebar");var u=function e(t){return a.a.createElement(s["a"],c({},t,{label:l.t("Starred"),qaLabel:"starred",id:"starred"}))};u.displayName="StarredHeading";t["a"]=Object(i["pure"])(u)},18416:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(45);var c=r(9);var l=r(16922);var u=r(16912);var p=r(17090);var f=r(17306);var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var v=new u["b"]("channel_sidebar");var h=v.t("Create a shared channel");var m={sharedChannelsEnabled:o.a.bool};var b={sharedChannelsEnabled:false};var _=function e(t){return{sharedChannelsEnabled:1===Object(l["getTeamPref"])(t,"enable_shared_channels")}};var g=function e(t){return a.a.createElement(f["a"],d({},t,{tooltip:v.t("Browse all shared channels"),tooltipArrowOffset:50,label:v.t("Shared Channels"),qaLabel:"shared_channels",showPlus:t.sharedChannelsEnabled&&Object(p["j"])(),plusTooltip:h}))};g.displayName="SharedChannelsHeading";g.propTypes=m;g.defaultProps=b;var y=Object(s["pure"])(g);t["a"]=Object(c["connect"])(_)(y)},18417:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(16912);var l=r(17090);var u=r(17306);var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var f=new c["b"]("channel_sidebar");var d=f.t("Create a channel");var v={showPlus:o.a.bool};var h={showPlus:true};var m=function e(t){return a.a.createElement(u["a"],p({},t,{label:f.t("Channels"),qaLabel:"channels",tooltip:f.t("Browse all channels"),tooltipArrowOffset:30,showPlus:t.showPlus,plusTooltip:d}))};m.displayName="ChannelsHeading";m.propTypes=v;m.defaultProps=h;var b=function e(){return{showPlus:Object(l["b"])()||Object(l["d"])()}};t["a"]=Object(s["connect"])(b)(m)},18418:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(8);var p=r.n(u);var f=r(17728);var d=r(16923);var v=r(17057);var h=r(16920);var m=r(17769);var b=r(16918);var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E={name:a.a.string,setIsRenaming:a.a.func,saveFolderData:a.a.func,renameFolder:a.a.func,toggleFolderCollapse:a.a.func,badgeCount:a.a.number,hasUnreads:a.a.bool,isCollapsed:a.a.bool,isRenaming:a.a.bool,onDragStart:a.a.func,onDragEnd:a.a.func,onDrop:a.a.func,onDragOver:a.a.func};var j={name:"",setIsRenaming:l.a.noop,saveFolderData:l.a.noop,renameFolder:l.a.noop,toggleFolderCollapse:l.a.noop,badgeCount:0,hasUnreads:false,isCollapsed:false,isRenaming:false,onDragStart:l.a.noop,onDragEnd:l.a.noop,onDrop:l.a.noop,onDragOver:l.a.noop};var k=function(e){O(t,e);function t(e){g(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.toggleFolderCollapse=r.toggleFolderCollapse.bind(r);r.renameFolder=r.renameFolder.bind(r);r.showRenameBox=r.showRenameBox.bind(r);r.setRenamingLabel=r.setRenamingLabel.bind(r);r.setInputRef=r.setInputRef.bind(r);r.onBlur=r.onBlur.bind(r);r.state={renamingLabel:r.props.name,hasTyped:false};return r}_(t,[{key:"onBlur",value:function e(t){if(this.props.isRenaming){var r=this.props.name;var n=t.target.value;this.props.renameFolder({oldName:r,newName:n});this.props.saveFolderData()}}},{key:"setRenamingLabel",value:function e(t){var r=t.target.value;this.setState(function(){return{renamingLabel:r,hasTyped:true}})}},{key:"setInputRef",value:function e(t){if(t&&!this.state.hasTyped){t.select();t.focus()}}},{key:"showRenameBox",value:function e(){var t=this.props.name;this.props.setIsRenaming({name:t});this.setState(function(){return{renamingLabel:t,hasTyped:false}})}},{key:"toggleFolderCollapse",value:function e(){this.props.toggleFolderCollapse({name:this.props.name});this.props.saveFolderData()}},{key:"renameFolder",value:function e(t){var r=this.props.name;var n=void 0;"Enter"===t.key&&(n=t.target.value);"Escape"===t.key&&(n=this.props.name);if(void 0!==n){this.props.renameFolder({oldName:r,newName:n});this.props.saveFolderData()}}},{key:"render",value:function e(){var t=this.props.isRenaming?"":o.a.createElement(b["c"],{className:p()("p-channel_sidebar__folder_heading_icon",{"p-channel_sidebar__folder_heading_icon_collapsed":this.props.isCollapsed}),onClick:this.toggleFolderCollapse});var r="";var n=this.props.isRenaming?o.a.createElement("input",{type:"text",className:"p-channel_sidebar__folder_heading_label_rename",value:this.state.renamingLabel,onChange:this.setRenamingLabel,onKeyDown:this.renameFolder,ref:this.setInputRef,onBlur:this.onBlur}):o.a.createElement(b["c"],{className:p()("p-channel_sidebar__folder_heading_label",{"p-channel_sidebar__folder_heading_label--unread":this.props.hasUnreads&&this.props.isCollapsed}),onClick:this.toggleFolderCollapse,onDoubleClick:this.showRenameBox,"aria-label":r},this.props.name);var a=this.props.isCollapsed?o.a.createElement(b["c"],{className:"p-channel_sidebar__folder_heading_badge",onClick:this.toggleFolderCollapse},o.a.createElement(m["a"],{count:this.props.badgeCount,className:"p-channel_sidebar__badge"})):"";return o.a.createElement("div",{className:"p-channel_sidebar__folder_heading","data-qa-channel-sidebar-section-heading":"folder",draggable:true,"data-drag-type":"folder","data-drag-id":this.props.name,onDragStart:this.props.onDragStart,onDragEnd:this.props.onDragEnd,onDrop:this.props.onDrop,onDragOver:this.props.onDragOver},o.a.createElement("h2",{className:"offscreen"},this.props.name),n,a,t)}}]);return t}(o.a.PureComponent);k.displayName="FolderHeading";k.propTypes=E;k.defaultProps=j;var w=function e(t,r){var n=r.name;var a=Object(f["getFolderByName"])(t,n);var i=a?l.a.map(a.channelIds,function(e){return Object(d["getChannelById"])(t,e)}):[];var o=!!a&&a.isCollapsed;var s=!!a&&a.isRenaming;var c=i.length>0?l.a.sum(l.a.map(i,function(e){return Object(d["getBadgeCount"])(t,e)})):0;var u=i.length>0&&!!l.a.find(i,function(e){return Object(h["isUnread"])(e)&&!Object(v["isChannelMutedById"])(t,e.id)});return{isCollapsed:o,isRenaming:s,hasUnreads:u,badgeCount:c}};var C={toggleFolderCollapse:f["toggleFolderCollapse"],saveFolderData:f["saveFolderData"],renameFolder:f["renameFolder"],setIsRenaming:f["setIsRenaming"]};t["a"]=Object(s["connect"])(w,C)(k)},18419:function(e,t,r){"use strict";var n=r(9);var a=r(16980);var i=r(18420);var o=function e(t){var r=Object(a["getEnterpriseOrgName"])(t);return{orgName:r}};t["a"]=Object(n["connect"])(o)(i["a"])},18420:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(45);var c=r(16960);var l=r(16912);var u=r(17306);var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var f=new l["b"]("channel_sidebar");var d={orgName:o.a.string.isRequired};var v={orgName:""};var h=function e(t){return a.a.createElement(c["a"],{enabled:["feature_enterprise_org_wide_channels_section"]},a.a.createElement(u["a"],p({},t,{tooltipClassName:"p-channel_sidebar__section_heading_tip--short",label:f.t("Organization Channels"),qaLabel:"org_wide_channels",id:"orgWideChannels",tooltip:f.t("Shared with all workspaces at {orgName}",{orgName:t.orgName}),tooltipArrowOffset:50})))};h.displayName="OrgWideChannelsHeading";h.propTypes=d;h.defaultProps=v;t["a"]=Object(s["pure"])(h)},18421:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(45);var o=r(16912);var s=r(17306);var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var l=new o["b"]("channel_sidebar");var u=function e(t){return a.a.createElement(s["a"],c({},t,{label:l.t("Direct Messages"),qaLabel:"ims",tooltip:l.t("Open a direct message"),tooltipArrowOffset:50,showPlus:true,plusTooltip:l.t("Open a direct message")}))};u.displayName="DirectMessagesHeading";t["a"]=Object(i["pure"])(u)},18422:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(45);var o=r(16912);var s=r(17306);var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var l=new o["b"]("channel_sidebar");var u=function e(t){return a.a.createElement(s["a"],c({},t,{label:l.t("Apps"),qaLabel:"apps",tooltip:l.t("Browse apps"),tooltipArrowOffset:16,showPlus:true,plusTooltip:l.t("Browse apps")}))};u.displayName="AppsHeading";t["a"]=Object(i["pure"])(u)},18423:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(16918);var f=r(16917);var d=r(16912);var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=new d["b"]("channel_sidebar");var g={isShowing:a.a.bool.isRequired,linkedId:a.a.oneOfType([a.a.string,a.a.bool]),isMention:a.a.bool,position:a.a.oneOf(["top","bottom"]),ensureRowInView:a.a.func};var y={isShowing:false,linkedId:null,isMention:false,position:"top",ensureRowInView:u.a.noop};var O=function(e){b(t,e);function t(){h(this,t);var e=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.onClick=e.onClick.bind(e);return e}v(t,[{key:"onClick",value:function e(t){var r=this.props,n=r.linkedId,a=r.ensureRowInView;t.preventDefault();n&&a(n)}},{key:"render",value:function e(){var t=this.props,r=t.isShowing,n=t.position,a=t.isMention,i=t.linkedId;if(!r)return null;var s=c()("p-channel_sidebar__banner",{"p-channel_sidebar__banner--mentions":a,"p-channel_sidebar__banner--unreads":!a,"p-channel_sidebar__banner--top":"top"===n,"p-channel_sidebar__banner--bottom":"bottom"===n});var l="top"===n?"up":"down";var u=a?_.t("Unread Mentions"):_.t("More Unreads");return o.a.createElement(p["c"],{className:s,onClick:this.onClick,"data-qa-linked-id":i},u,o.a.createElement(f["b"],{type:"arrow_"+l,inline:true,className:"p-channel_sidebar__banner_icon"}))}}]);return t}(o.a.PureComponent);O.displayName="UnreadBanner";O.propTypes=g;O.defaultProps=y;t["a"]=O},18424:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(16922);var l=r(16913);var u=r(18425);var p=r(16933);var f={theme:a.a.oneOf(["custom_theme","default","default_theme","hoth_theme","monument_theme","chocolate_theme","ocean_theme","workhard_theme","solanum_theme","brinjal_theme","cotton_theme","eco_theme"]),custom:a.a.object,featureGlobalNav:a.a.bool};var d={theme:"default_theme",custom:{},featureGlobalNav:false};var v={default_theme:u["a"],hoth_theme:{column_bg:"#F8F8FA",menu_bg:"#F8F8FA",active_item:"#2D9EE0",active_item_text:"#FFFFFF",hover_item:"#FFFFFF",text_color:"#383F45",active_presence:"#60D156",badge:"#DC5960"},monument_theme:{column_bg:"#0D7E83",menu_bg:"#076570",active_item:"#F79F66",active_item_text:"#FFFFFF",hover_item:"#D37C71",text_color:"#FFFFFF",active_presence:"#F79F66",badge:"#F15340"},chocolate_theme:{column_bg:"#544538",menu_bg:"#42362B",active_item:"#5DB09D",active_item_text:"#FFFFFF",hover_item:"#4A3C30",text_color:"#FFFFFF",active_presence:"#FFFFFF",badge:"#5DB09D"},ocean_theme:{column_bg:"#303E4D",menu_bg:"#2C3849",active_item:"#6698C8",active_item_text:"#FFFFFF",hover_item:"#4A5664",text_color:"#FFFFFF",active_presence:"#94E864",badge:"#78AF8F"},workhard_theme:{column_bg:"#4D5250",menu_bg:"#444A47",active_item:"#D39B46",active_item_text:"#FFFFFF",hover_item:"#434745",text_color:"#FFFFFF",active_presence:"#99D04A",badge:"#DB6668"},solanum_theme:{column_bg:"#4F2F4C",menu_bg:"#452842",active_item:"#8C5888",active_item_text:"#FFFFFF",hover_item:"#1C0B1A",text_color:"#FFFFFF",active_presence:"#D0FF00",badge:"#889100"},brinjal_theme:{column_bg:"#4F2F4C",menu_bg:"#452842",active_item:"#8C5888",active_item_text:"#FFFFFF",hover_item:"#1C0B1A",text_color:"#FFFFFF",active_presence:"#00FFB7",badge:"#DE4C0D"},cotton_theme:{column_bg:"#BB6A76",menu_bg:"#AD5B67",active_item:"#62B791",active_item_text:"#FFFFFF",hover_item:"#A5516A",text_color:"#FFFFFF",active_presence:"#68F798",badge:"#694464"},eco_theme:{column_bg:"#86A34E",menu_bg:"#94AF63",active_item:"#FFFFFF",active_item_text:"#6D8B42",hover_item:"#94AF63",text_color:"#FFFFFF",active_presence:"#FFB10A",badge:"#DFA044"}};var h=function e(t,r){if("custom_theme"===t)return r;if("default"===t)return v.default_theme;if(!t)return v.default_theme;return v[t]||v.default_theme};var m=function e(t){var r=h(t.theme,t.custom);if(!r){Object(p["g"])('Theme: could not identify theme "'+t.theme+'" ('+t.custom+")");return null}var n=Object(u["c"])(r,{featureGlobalNav:t.featureGlobalNav});var a=r.text_color;var i=Object(u["b"])(r.column_bg,25);var s=Object(u["b"])(r.column_bg,35);var c="\n\t\t.p-channel_sidebar {\n\t\t\tbackground: "+r.column_bg+";\n\t\t\tcolor: "+n+";\n\t\t}\n\n\t\t.p-channel_sidebar__channel,\n\t\t.p-channel_sidebar__link,\n\t\t.p-channel_sidebar__channel:link,\n\t\t.p-channel_sidebar__link:link,\n\t\t.p-channel_sidebar__channel:visited,\n\t\t.p-channel_sidebar__link:visited,\n\t\t.p-channel_sidebar__channel:hover,\n\t\t.p-channel_sidebar__link:hover {\n\t\t\tcolor: "+n+";\n\t\t}\n\t\t.p-channel_sidebar__channel--selected,\n\t\t.p-channel_sidebar__link--selected,\n\t\t.p-channel_sidebar__channel--selected:link,\n\t\t.p-channel_sidebar__link--selected:link,\n\t\t.p-channel_sidebar__channel--selected:visited,\n\t\t.p-channel_sidebar__link--selected:visited,\n\t\t.p-channel_sidebar__channel--selected:hover,\n\t\t.p-channel_sidebar__link--selected:hover,\n\t\t.p-channel_sidebar__channel--selected + .p-channel_sidebar__close {\n\t\t\tcolor: "+r.active_item_text+";\n\t\t}\n\n\t\t.p-channel_sidebar__channel:hover,\n\t\t.p-channel_sidebar__link:hover,\n\t\t.p-channel_sidebar__close_container:hover {\n\t\t\tbackground: "+r.hover_item+";\n\t\t}\n\n\t\t.p-channel_sidebar__header {\n\t\t\tcolor: "+n+';\n\t\t}\n\n\t\t/* Folders */\n\n\t\tinput[type="text"].p-channel_sidebar__folder_heading_label_rename {\n\t\t\tbackground: '+i+";\n\t\t\tcolor: "+n+';\n\t\t}\n\t\tinput[type="text"].p-channel_sidebar__folder_heading_label_rename:hover {\n\t\t\tbackground: '+s+";\n\t\t\tcolor: "+n+";\n\t\t}\n\n\t\t/* Override presence icons */\n\t\t.p-channel_sidebar__channel--im .c-presence--active,\n\t\t.p-channel_sidebar__channel--im-slackbot:before {\n\t\t\tcolor: "+r.active_presence+";\n\t\t}\n\t\t.p-channel_sidebar__channel--im.p-channel_sidebar__channel--selected .c-presence,\n\t\t.p-channel_sidebar__channel--im-slackbot.p-channel_sidebar__channel--selected:before {\n\t\t\tcolor: "+r.active_item_text+";\n\t\t}\n\t\t.p-channel_sidebar__channel--im .c-presence--away {\n\t\t\tcolor: "+n+";\n\t\t}\n\n\t\t.p-channel_sidebar__channel--selected,\n\t\t.p-channel_sidebar__channel--selected:hover,\n\t\t.p-channel_sidebar__link--selected,\n\t\t.p-channel_sidebar__link--selected:hover {\n\t\t\tbackground: "+r.active_item+";\n\t\t}\n\n\t\t.p-channel_sidebar__channel--selected:before,\n\t\t.p-channel_sidebar__channel--selected:hover:before,\n\t\t.p-channel_sidebar__link--selected:before,\n\t\t.p-channel_sidebar__link--selected:before,\n\t\t.p-channel_sidebar__channel--selected:after,\n\t\t.p-channel_sidebar__channel--selected:hover:after,\n\t\t.p-channel_sidebar__link--selected:after,\n\t\t.p-channel_sidebar__link--selected:after {\n\t\t\tcolor: "+r.active_item_text+";\n\t\t}\n\n\t\t.p-channel_sidebar__badge,\n\t\t.p-channel_sidebar__banner--mentions {\n\t\t\tbackground: "+r.badge+";\n\t\t}\n\n\t\t.p-channel_sidebar .c-custom_scrollbar__thumb_vertical,\n\t\t.p-channel_sidebar .c-scrollbar__bar {\n\t\t\tbackground: "+Object(u["d"])(a,.45)+";\n\t\t}\n\n\t\t.client_channels_list_container.focusablesection:focus .sectionfocusindicator,\n\t\t.client_channels_list_container .focus-ring,\n\t\t.p-channel_sidebar.focusablesection:focus .sectionfocusindicator,\n\t\t#team_menu.focusablesection:focus .sectionfocusindicator {\n\t\t\tbox-shadow: 0 0 0 3px "+a+";\n\t\t}\n\t\t.p-channel_sidebar__channel.focus-ring,\n\t\t.p-channel_sidebar__link.focus-ring {\n\t\t\tbox-shadow: 0 0 0 3px "+a+" inset;\n\t\t}\n\n\t\t/** `opacity: 1` color overrides */\n\t\t.p-channel_sidebar__channel--unread:not(.p-channel_sidebar__channel--muted):not(.p-channel_sidebar__channel--selected) .p-channel_sidebar__name,\n\t\t.p-channel_sidebar__link--unread:not(.p-channel_sidebar__link--selected) .p-channel_sidebar__name,\n\t\t.p-channel_sidebar__link--invites:not(.p-channel_sidebar__link--dim) .p-channel_sidebar__name,\n\t\t.p-channel_sidebar__section_heading_label--clickable:hover,\n\t\t.p-channel_sidebar__section_heading_label--unreads,\n\t\t.p-channel_sidebar__quickswitcher:hover {\n\t\t\tcolor: "+a+";\n\t\t}\n\n\t\t.p-channel_sidebar__jumper {\n\t\t\tbackground: "+i+";\n\t\t}\n\t\t.p-channel_sidebar__jumper:hover {\n\t\t\tbackground: "+s+";\n\t\t}\n\n\t\t/** Global Nav (WIP) **/\n\t\t.p-global_nav__top {\n\t\t\tbackground: "+Object(u["b"])(r.column_bg,20)+";\n\t\t\tcolor: "+a+";\n\t\t}\n\t\t.p-global_nav__sidebar {\n\t\t\tbackground: "+r.column_bg+";\n\t\t\tcolor: "+n+";\n\t\t}\n\t\t.p-global_nav__top_user_presence {\n\t\t\tbackground: "+Object(u["b"])(r.column_bg,20)+";\n\t\t}\n\t\t.p-global_nav__top_user_presence.c-presence--active {\n\t\t\tcolor: "+r.active_presence+";\n\t\t}\n\t\t.p-global_nav__top_user_presence.c-presence--away {\n\t\t\tcolor: "+n+";\n\t\t}\n\t\t.p-global_nav__sidebar_jumper:hover,\n\t\t.p-global_nav__sidebar_button:hover {\n\t\t\tcolor: "+a+";\n\t\t}\n\t";return o.a.createElement("style",{className:"p-channel_sidebar__theme--"+t.theme},c)};m.displayName="Theme";m.propTypes=f;m.defaultProps=d;var b=function e(t){var r=Object(c["getUserPref"])(t,"sidebar_theme");var n=JSON.parse(Object(c["getUserPref"])(t,"sidebar_theme_custom_values")||"{}");return{theme:r,custom:n,featureGlobalNav:Object(l["isFeatureEnabled"])(t,"feature_global_nav")}};t["a"]=Object(s["connect"])(b)(m)},18425:function(e,t,r){"use strict";r.d(t,"a",function(){return a});r.d(t,"b",function(){return o});r.d(t,"c",function(){return s});r.d(t,"d",function(){return c});var n=r(16924);var a={column_bg:"#4D394B",menu_bg:"#3E313C",active_item:"#4C9689",active_item_text:"#FFFFFF",hover_item:"#3E313C",text_color:"#FFFFFF",active_presence:"#38978D",badge:"#DC5960"};var i=function e(t){var r=parseInt(7===t.length?t.substring(1):t,16);return[r>>16&255,r>>8&255,r>>0&255]};var o=function e(t,r){var n=i(t);var a=[n[0]-r,n[1]-r,n[2]-r];return"rgb("+a.join(",")+")"};var s=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.featureGlobalNav;var o=void 0;o=a?Object(n["isWindows"])()?.75:.85:Object(n["isWindows"])()?.6:.7;var s=i(t.text_color);var c=i(t.column_bg);var l=s.map(function(e,t){return Math.round(e*o+c[t]*(1-o))});return"rgb("+l.join(",")+")"};var c=function e(t,r){var n=i(t);return"rgba("+n.join(",")+","+r+")"}},18426:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(17945);var c=function e(t){var r=window.open(null,"Redux DevTools","menubar=no,location=no,resizable=yes,scrollbars=no,status=no");r.location.reload();setTimeout(function(){r.document.write('<div id="react-devtools-root"></div>');Object(i["render"])(a.a.createElement(s["a"],{store:t}),r.document.getElementById("react-devtools-root"))},10)};t["a"]=c},18427:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18428);var a=r(16928);Object(a["a"])("interop.mountConnectedWorkspaces",n["a"]);Object(a["a"])("interop.unmountConnectedWorkspaces",n["b"])},18428:function(e,t,r){"use strict";r.d(t,"a",function(){return v});r.d(t,"b",function(){return h});var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16954);var p=r(16927);var f=r(18429);var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var v=function e(t,r){var n=document.getElementById("connected_workspaces_dialog_mount_point");if(!t)throw new Error("mountChannelOptions must be called with a teamId parameter");var i=Object(p["c"])(t);var l=function e(){Object(c["defer"])(function(){o.a.unmountComponentAtNode(n)})};Object(u["a"])(a.a.createElement(s["Provider"],{store:i},a.a.createElement(f["a"],d({},r,{onClose:l}))),n)};var h=function e(t){o.a.unmountComponentAtNode(t)};var m={mountConnectedWorkspaces:v,unmountConnectedWorkspaces:h}},18429:function(e,t,r){"use strict";var n=r(18430);t["a"]=n["a"]},18430:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(8);var l=r.n(c);var u=r(1);var p=r.n(u);var f=r(16939);var d=r(17346);var v=r(16941);var h=r(17400);var m=r(16912);var b=r(16995);var _=r(16960);var g=r(17066);var y=r(17019);var O=r(16952);var E=r(16918);var j=r(17391);var k=r(18431);var w=r(20181);var C=r.n(w);var S=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function N(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A=new m["b"]("connected_workspaces");var P={currentTeam:a.a.object.isRequired,onBack:a.a.func,onClose:a.a.func.isRequired,referringUiElement:a.a.string};var R={currentTeam:{},onBack:null,onClose:p.a.noop,referringUiElement:null};var M="SHARED_CHANNELS_MANAGE_MODAL_OPEN";var x=function(e){N(t,e);S(t,null,[{key:"filterWorkspaces",value:function e(t,r){if(!t||!t.trim())return r;var n=p.a.toLower(t);var a=[];for(var i=0;i<r.length;i+=1){var o=p.a.toLower(r[i].name);var s=r[i].domain;if(o&&(-1!==o.indexOf(n)||-1!==s.indexOf(n))){a.push(r[i]);if(a.length===r.length)break}}return a}}]);function t(e){T(this,t);var r=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.renderConnectedWorkspacesRow=r.renderConnectedWorkspacesRow.bind(r);r.handleSearchInputChange=r.handleSearchInputChange.bind(r);r.state={searchQuery:"",isLoading:true,workspaces:[]};return r}S(t,[{key:"componentDidMount",value:function e(){var t=this;var r=this.props.referringUiElement;var n={event:M};r&&(n.element=r);Object(v["d"])(n);Object(d["a"])().then(function(e){t.setState(function(){return{isLoading:false,workspaces:e}})})}},{key:"handleSearchInputChange",value:function e(t){this.setState(function(){return{searchQuery:t.target.value}})}},{key:"renderSearchInput",value:function e(){if(this.state.isLoading)return null;return o.a.createElement(_["a"],{enabled:["feature_esc_connected_workspaces_search"]},o.a.createElement(y["a"],{className:"margin_top_150",placeholder:A.t("Search by workspace..."),icon:"search",autoFocus:true,onChange:this.handleSearchInputChange}))}},{key:"renderConnectedWorkspacesRow",value:function e(t){if(!t.channels.length)return null;var r=this.props.onClose;return o.a.createElement(k["a"],{workspace:t,key:t.id,onClose:r})}},{key:"renderNoConnectedWorkspacesState",value:function e(){var t=this;return o.a.createElement(_["a"],{enabled:["feature_esc_connected_workspaces_search"]},o.a.createElement("div",{className:"p-connected_workspaces__empty"},o.a.createElement("span",{className:"p-connected_workspaces__no_shared_channels"},A.rt("Shared channels let you work with other companies and teams, from right inside Slack. <a>Learn more</a>",null,function(e){var t=e.key,r=e.text;return o.a.createElement("a",{key:t,href:"https://get.slack.help/hc/articles/115004151183"},r)})),o.a.createElement(E["d"],{type:"outline",className:"margin_top_100",onClick:function e(){Object(j["c"])();t.props.onClose()}},A.t("Create a Shared Channel"))))}},{key:"renderNoSearchResultsState",value:function e(){return o.a.createElement(_["a"],{enabled:["feature_esc_connected_workspaces_search"]},o.a.createElement("div",{className:"p-connected_workspaces__empty"},o.a.createElement("span",null,A.rt("No matches found for <strong>{query}</strong>",{query:this.state.searchQuery}))))}},{key:"renderWorkspaces",value:function e(){var r=this.state,n=r.isLoading,a=r.searchQuery,i=r.workspaces;if(n)return null;if(!i.length)return this.renderNoConnectedWorkspacesState();var s=t.filterWorkspaces(a,i);if(!s.length)return this.renderNoSearchResultsState();var c=s.sort(function(e,t){return Object(b["a"])(e.name,t.name)});var l=c.map(this.renderConnectedWorkspacesRow);return o.a.createElement("div",null,o.a.createElement("div",{className:"p-connected_workspaces_row p-connected_workspaces_row--header"},o.a.createElement("div",{className:"p-connected_workspaces_row__item"},A.t("Workspace")),o.a.createElement("div",{className:"p-connected_workspaces_row__item"},A.t("Shared channels")),o.a.createElement("div",{className:"p-connected_workspaces_row__item"})),l)}},{key:"render",value:function e(){var t=this;var r=this.props,n=r.currentTeam,a=r.onBack,i=r.onClose;var s=this.state.workspaces;var c=p.a.chain(s).filter(function(e){return e.channels.length>0}).size().value();var u=A.rt("<strong>{currentTeamName}</strong> is currently sharing channels with {count, plural, =1 {<strong># other workspace</strong>.} other {<strong># other workspaces</strong>.}}",{currentTeamName:Object(h["getTeamDisplayName"])(n),count:c});var f=l()("p-connected_workspaces__list",{"p-connected_workspaces__list--loading":this.state.isLoading});return o.a.createElement(g["a"],{showBackButton:!!a,showCancelButton:false,showGoButton:false,onBack:function e(){t.props.onBack();t.props.onClose()},onCancel:i,modalClasses:"p-connected_workspaces_modal",title:A.t("Manage shared channels")},o.a.createElement("div",{className:"p-connected_workspaces"},o.a.createElement("div",{className:"p-connected_workspaces__header"},o.a.createElement("div",{className:"p-connected_workspaces__header_description"},o.a.createElement(_["a"],{enabled:["feature_esc_connected_workspaces_search"]},s.length?u:A.rt("Currently, <strong>{currentTeamName}</strong> isn\u2019t sharing any channels.",{currentTeamName:Object(h["getTeamDisplayName"])(n)})),o.a.createElement(_["a"],{disabled:["feature_esc_connected_workspaces_search"]},u))),this.renderSearchInput(),o.a.createElement("div",{className:f},o.a.createElement(O["a"],{className:"p-connected_workspaces__spinner",size:"medium"}),this.renderWorkspaces())))}}]);return t}(i["Component"]);x.displayName="ConnectedWorkspaces";x.propTypes=P;x.defaultProps=R;var L=function e(t){return{currentTeam:Object(f["getCurrentTeam"])(t)}};t["a"]=Object(s["connect"])(L)(x)},18431:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16912);var p=r(16941);var f=r(16949);var d=r(16968);var v=r(16939);var h=r(18009);var m=r(17391);var b=r(16999);var _=r(16920);var g=r(17400);var y=r(16918);var O=r(16917);var E=r(16950);var j=r(16993);var k=r(16932);var w=r(16956);var C=r(17014);var S=r(16957);var T=r(17392);var I=r(20181);var N=r.n(I);var A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var P=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var L=new u["b"]("connected_workspaces");var D={currentTeam:a.a.object.isRequired,workspace:a.a.object.isRequired,workspaceChannels:a.a.array.isRequired,onClose:a.a.func.isRequired,openModal:a.a.func};var F={currentTeam:{},workspace:{},workspaceChannels:[],onClose:l.a.noop,openModal:l.a.noop};var B="SHARED_CHANNELS_MANAGE_MODAL_ACTION";var U=function(e){x(t,e);function t(e){R(this,t);var r=M(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={isCheckboxChecked:false};r.renderActionMenu=r.renderActionMenu.bind(r);r.showDialog=r.showDialog.bind(r);r.handleCheckboxChange=r.handleCheckboxChange.bind(r);return r}P(t,[{key:"componentDidUpdate",value:function e(t,r){this.dialog&&r.isCheckboxChecked!==this.state.isCheckboxChecked&&this.dialog.render({goButtonIsDisabled:!this.state.isCheckboxChecked,goOnEnterPressed:this.state.isCheckboxChecked})}},{key:"calculateChannelNumbers",value:function e(){var t=this.props.workspaceChannels;var r=l.a.partition(t,function(e){return!e||Object(_["isPrivateChannel"])(e)});if(!r)return{numTotalChannels:0,numPrivateChannels:0};var n=r[1].length;var a=r[0].length;return{numPublicChannels:n,numPrivateChannels:a}}},{key:"createChannelString",value:function e(t){var r=t.numPublicChannels,n=t.numPrivateChannels;var a=L.t("{count, plural, =1 {# channel} other {# channels}}",{count:r+n});var i=n?L.t(" ({count} private)",{count:n}):"";return""+a+i}},{key:"handleCheckboxChange",value:function e(){this.setState(function(e){return{isCheckboxChecked:!e.isCheckboxChecked}})}},{key:"showDialog",value:function e(){this.dialog=this.props.openModal({element:this.renderDialog()})}},{key:"renderDialog",value:function e(){var t=this.props,r=t.currentTeam,n=t.onClose;var a=this.props.workspace,i=a.name,s=a.id;var c=L.rt("<strong>This cannot be undone</strong>. Please double-check the info below.");var l=this.calculateChannelNumbers();var u=L.t("{count, plural, =1 {# public channel} other {# public channels}}",{count:l.numPublicChannels});var f=L.t("{count, plural, =1 {# private channel} other {# private channels}}",{count:l.numPrivateChannels});return o.a.createElement(w["a"],{title:L.t("Stop sharing all channels with {workspaceName}?",{workspaceName:i}),goButtonText:L.t("Stop Sharing"),goButtonType:"danger",onCancel:function e(){Object(p["d"])({event:B,element:"SHARED_CHANNELS_MANAGE_MODAL_STOP_SHARING_CANCEL_BTN"})},onGo:function e(){Object(p["d"])({event:B,element:"SHARED_CHANNELS_MANAGE_MODAL_STOP_SHARING_CONFIRM_BTN"});Object(b["F"])(s).then(n)},truncateTitle:false,goButtonIsDisabled:!this.state.isCheckboxChecked,goOnEnterPressed:this.state.isCheckboxChecked},o.a.createElement(T["a"],{level:"error"},c),o.a.createElement("p",null,o.a.createElement("strong",null,L.t("What will happen:"))),o.a.createElement("ul",null,o.a.createElement("li",null,L.t("{currentTeamName} and {targetWorkspaceName} will keep separate copies of each channel.",{currentTeamName:Object(g["getTeamDisplayName"])(r),targetWorkspaceName:i})),o.a.createElement("li",null,L.t("Each workspace can continue using their copies.")),o.a.createElement("li",null,L.t("You won\u2019t be able to reshare any of these channels."))),o.a.createElement("p",null,o.a.createElement("strong",null,L.t("You\u2019re about to stop sharing:"))),o.a.createElement("ul",null,l.numPublicChannels?o.a.createElement("li",null,u):"",l.numPrivateChannels?o.a.createElement("li",null,f):"",o.a.createElement("li",null,L.t("All direct and group messages"))),o.a.createElement(S["a"],{text:L.rt("<strong>Yes, stop sharing all channels with {targetWorkspaceName}</strong>",{targetWorkspaceName:i}),htmlFor:"confirmStopSharingAll",type:"inline",cursor:"pointer"},o.a.createElement(C["a"],{id:"confirmStopSharingAll",isRequired:true,onChange:this.handleCheckboxChange})))}},{key:"renderActionMenu",value:function e(t){var r=this;var n=this.props.workspaceChannels;var a=this.props.workspace,i=a.id,s=a.domain;var c=L.t("Stop sharing {count, plural, =1 {this channel} other {these channels}}",{count:n.length});return o.a.createElement(E["e"],A({},t,{width:"auto"}),o.a.createElement(E["b"],{label:L.t("View shared channels"),onSelected:function e(){Object(h["c"])({show_which_channels:"ext_shared_team_"+i,onBack:h["b"]});Object(p["d"])({event:B,element:"SHARED_CHANNELS_MANAGE_MODAL_VIEW_CHANNELS_BTN"});r.props.onClose()}}),o.a.createElement(E["b"],{label:L.t("Share a new channel"),onSelected:function e(){Object(m["c"])({team_url:s,element:"SHARED_CHANNELS_MANAGE_MODAL_SHARE_NEW_BTN"});Object(p["d"])({event:B,element:"SHARED_CHANNELS_MANAGE_MODAL_SHARE_NEW_BTN"});r.props.onClose()}}),o.a.createElement(E["b"],{label:c,danger:true,onSelected:function e(){Object(p["d"])({event:B,element:"SHARED_CHANNELS_MANAGE_MODAL_STOP_SHARING_BTN"});r.showDialog()}}))}},{key:"render",value:function e(){var t=this;var r=this.props.workspace,n=r.id,a=r.name,i=r.domain,s=r.icon;return o.a.createElement("div",{className:"p-connected_workspaces_row"},o.a.createElement("div",{className:"p-connected_workspaces_row__item"},o.a.createElement(j["b"],{teamName:a,size:35,icon:s,className:"p-connected_workspaces_row__workspace_icon margin_right_75"}),o.a.createElement("div",{className:"p-connected_workspaces_row__workspace_info"},o.a.createElement("div",{className:"p-connected_workspaces_row__workspace_name overflow_ellipsis"},a),o.a.createElement("div",{className:"p-connected_workspaces_row__workspace_domain overflow_ellipsis"},i+".slack.com"))),o.a.createElement("div",{className:"p-connected_workspaces_row__item"},o.a.createElement(k["c"],{tip:L.t("View channels"),position:"top"},o.a.createElement(y["c"],{className:"p-connected_workspaces_row__channels overflow_ellipsis",onClick:function e(){Object(h["c"])({show_which_channels:"ext_shared_team_"+n,onBack:h["b"]});Object(p["d"])({event:B,element:"SHARED_CHANNELS_MANAGE_MODAL_CHANNEL_COUNT_BTN"});t.props.onClose()}},this.createChannelString(this.calculateChannelNumbers())))),o.a.createElement("div",{className:"p-connected_workspaces_row__item"},o.a.createElement("div",{className:"p-connected_workspaces_row__actions"},o.a.createElement(E["d"],{renderMenu:this.renderActionMenu,position:"bottom-right",offsetX:20},o.a.createElement(y["c"],null,o.a.createElement(O["a"],{type:"ellipsis"}))))))}}]);return t}(i["Component"]);U.displayName="ConnectedWorkspacesRow";U.propTypes=D;U.defaultProps=F;var H=function e(t,r){var n=l.a.map(r.workspace.channels,function(e){return Object(d["e"])(t,e)});return{workspaceChannels:n,currentTeam:Object(v["getCurrentTeam"])(t)}};var q={openModal:f["openModal"]};t["a"]=Object(s["connect"])(H,q)(U)},18432:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18433);var a=r(16928);Object(a["a"])("interop.mountCustomStatusInput",n["a"]);Object(a["a"])("interop.unmountCustomStatusInput",n["b"])},18433:function(e,t,r){"use strict";r.d(t,"a",function(){return f});r.d(t,"b",function(){return d});var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(16954);var l=r(16927);var u=r(20405);var p=r(17227);var f=function e(t,r,n){if(!t)throw new Error("mountCustomStatusInput must be called with a teamId parameter");var i="react_custom_status_input_render";Object(u["d"])(i+"_mark");Object(c["a"])(a.a.createElement(s["Provider"],{store:Object(l["c"])(t)},a.a.createElement(p["d"],n)),r,function(){return Object(u["f"])(i,i+"_mark")})};var d=o.a.unmountComponentAtNode},18434:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18435);var a=r(16928);Object(a["a"])("interop.mountDownloadsView",n["a"])},18435:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(1);var s=r.n(o);var c=r(16954);var l=r(16927);var u=r(18436);var p=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.a.noop;if(!t)throw new Error("mountDownloadsView must be called with a teamId parameter");var o=Object(l["c"])(t);Object(c["a"])(a.a.createElement(i["Provider"],{store:o},a.a.createElement(u["a"],null)),r,n)};t["a"]=p},18436:function(e,t,r){"use strict";var n=r(18437);t["a"]=n["a"]},18437:function(e,t,r){"use strict";var n=r(9);var a=r(263);var i=r.n(a);var o=r(17410);var s=r(17055);var c=r(17946);var l=r(18438);var u=r(18439);var p=function e(t){return t.files};var f=function e(t,r){return r.startTime-t.startTime};var d=Object(a["createSelector"])([c["getDownloads"],p],function(e,t){return e.map(function(e){return Object(l["a"])(e,t[e.id])}).sort(f)});var v=Object(a["createSelector"])([c["getDownloadIds"],p],function(e,t){return e.filter(function(e){return!t[e]})});var h=function e(t){var r=Object(o["getFlexpaneState"])(t),n=r.flexName;return{downloads:d(t),fileIdsToFetch:v(t),isWindowFocused:Object(s["getWindowByKey"])(t,"isFocused"),isShowing:"downloads"===n}};var m={fetchFileInfo:c["fetchFileInfo"]};t["a"]=Object(n["connect"])(h,m)(u["a"])},18438:function(e,t,r){"use strict";t["a"]=i;var n=r(16977);var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function i(e,t){var r=t||Object(n["i"])(e.id)||{};return a({},e,{fileName:r.name,imageSource:r.thumb_160||r.thumb_80,fileType:r.filetype,prettyType:r.pretty_type,fileSize:r.size})}},18439:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(16912);var f=r(16962);var d=r(16961);var v=r(16917);var h=r(16960);var m=r(17394);var b=r(18441);var _=r(20217);var g=r.n(_);var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var O=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w={downloads:o.a.array.isRequired,fileIdsToFetch:o.a.array.isRequired,fetchFileInfo:o.a.func.isRequired,isWindowFocused:o.a.bool,isShowing:o.a.bool};var C={downloads:[],fileIdsToFetch:[],fetchFileInfo:a.a.noop,isWindowFocused:false,isShowing:true};var S=new p["b"]("page_client");var T=function(e){k(t,e);O(t,null,[{key:"renderEmptyView",value:function e(){var t=void 0;try{t=c.a.createElement("img",{src:cdn_url+"/0180/img/downloads_empty.png",alt:""})}catch(e){t=null}var r=S.rt("You can download files by clicking the {download_icon} button.",{download_icon:c.a.createElement(v["a"],{type:"cloud_download",className:"p-downloads_list__empty_download_icon"})});return c.a.createElement("div",{className:"p-downloads_list__empty"},t,c.a.createElement("p",{className:"p-downloads_list__empty_hint_text"},r))}},{key:"renderShiftHint",value:function e(){var t=S.rt("Hold {shift_key} to open the file.",{shift_key:c.a.createElement("span",{className:"c-keyboard_key"},"Shift")});return c.a.createElement("div",{className:"p-downloads_list__shift_hint"},t)}},{key:"renderClearAllButton",value:function e(){return c.a.createElement("button",{type:"button",className:"p-downloads_list__clear_all btn_basic",onClick:f["clearDownloads"]},S.t("Clear all"))}}]);function t(e){E(this,t);var r=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={};return r}O(t,[{key:"componentDidMount",value:function e(){var t=this;var r=function e(r,n){r&&r.preventDefault();t.setState(function(){return{isShiftDown:n}})};this.keyCommands=new d["a"];this.keyCommands.bindAll([{keys:"shift",action:"keydown",handler:function e(t){return r(t,true)}},{keys:"shift",action:"keyup",handler:function e(t){return r(t,false)}}]);this.element.focus()}},{key:"componentWillReceiveProps",value:function e(t){var r=t.isWindowFocused;this.props.isWindowFocused!==r&&this.setState(function(){return{isShiftDown:false}})}},{key:"componentWillUpdate",value:function e(t){var r=t.fileIdsToFetch;if(this.props.fileIdsToFetch===r)return;if(0===r.length)return;if(a.a.isEqual(this.props.fileIdsToFetch,r))return;this.props.fetchFileInfo({ids:r})}},{key:"componentWillUnmount",value:function e(){this.keyCommands&&this.keyCommands.reset()}},{key:"renderDownloadItems",value:function e(){return c.a.createElement("div",{id:"downloads_scroller",className:"flex_content_scroller"},this.props.downloads.map(function(e){return c.a.createElement(b["a"],y({key:e.id},e))}))}},{key:"renderHeader",value:function e(){var r=this.props.downloads.length>=2?t.renderClearAllButton():null;return c.a.createElement(h["a"],{disabled:["feature_global_nav_flex"]},c.a.createElement(m["a"],null,c.a.createElement("div",{className:"p-downloads_list__header_items"},c.a.createElement("span",null,S.t("Downloads")),r)))}},{key:"renderContent",value:function e(){var r=this.props.isShowing;if(!r)return null;var n=this.props.downloads.length>0?this.renderDownloadItems():null;var a=this.props.downloads.length>0?t.renderShiftHint():t.renderEmptyView();return c.a.createElement(c.a.Fragment,null,this.renderHeader(),n,a)}},{key:"render",value:function e(){var t=this;var r=u()({"p-downloads_list":true,"p-downloads_list--shift_down":this.state.isShiftDown});return c.a.createElement("div",{className:r,ref:function e(r){t.element=r},tabIndex:"-1"},this.renderContent())}}]);return t}(c.a.Component);T.displayName="DownloadsList";T.propTypes=w;T.defaultProps=C;t["a"]=T},18441:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(11);var u=r.n(l);var p=r(17360);var f=r(16912);var d=r(16917);var v=r(16924);var h=r(17079);var m=r(16962);var b=r(16936);var _=r(20216);var g=r.n(_);var y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=new f["b"]("downloads");u.a.locale(b["f"]);var w={id:a.a.string.isRequired,downloadPath:a.a.string,downloadState:a.a.string,startTime:a.a.number,progress:a.a.number,isPaused:a.a.bool,fileName:a.a.string,imageSource:a.a.string,fileType:a.a.string,prettyType:a.a.string,fileSize:a.a.number,highlight:a.a.bool};var C={id:"",downloadPath:"",downloadState:"",startTime:0,progress:0,isPaused:false,fileName:"",imageSource:"",fileType:"",prettyType:"",fileSize:0,highlight:false};var S=function(e){j(t,e);y(t,null,[{key:"getEstimatedTimeRemaining",value:function e(t){var r=t.downloadState,n=t.progress,a=t.startTime;if("progressing"!==r)return"";if(n>=1)return"";if(-1===n)return"";if(!n)return"";var i=Date.now()-a;var o=i*(1/n);var s=o-i;return k.t("{duration} remaining",{duration:u.a.duration(s,"milliseconds").humanize()})}}]);function t(e){O(this,t);var r=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={};r.onRootDivClick=r.onRootDivClick.bind(r);r.onCancel=r.onCancel.bind(r);r.onRetry=r.onRetry.bind(r);r.onRemove=r.onRemove.bind(r);r.onPause=r.onPause.bind(r);r.onResume=r.onResume.bind(r);return r}y(t,[{key:"onRootDivClick",value:function e(t){var r=this.props,n=r.id,a=r.downloadState;if("completed"===a){t.stopPropagation();t.shiftKey?Object(m["openDownload"])(n):Object(m["showDownload"])(n)}else if("cancelled"===a||"interrupted"===a){t.stopPropagation();Object(m["retryDownload"])(n)}}},{key:"onCancel",value:function e(t){t.stopPropagation();Object(m["cancelDownload"])(this.props.id)}},{key:"onRetry",value:function e(t){t.stopPropagation();Object(m["retryDownload"])(this.props.id)}},{key:"onRemove",value:function e(t){t.stopPropagation();Object(m["removeDownload"])(this.props.id)}},{key:"onPause",value:function e(t){t.stopPropagation();Object(m["pauseDownload"])(this.props.id)}},{key:"onResume",value:function e(t){t.stopPropagation();Object(m["resumeDownload"])(this.props.id)}},{key:"renderDownloadIcon",value:function e(){var t=this.props,r=t.fileType,n=t.imageSource;var a=function e(){return o.a.createElement(d["a"],{className:"filetype_icon "+r+" s48 download_icon download_filetype"})};if(n)return o.a.createElement(p["a"],{src:n,renderPending:a,width:"32",height:"32",className:"download_icon p-download_item__image",alt:"icon"});return a()}},{key:"renderExtraActions",value:function e(){var t=this.props.isPaused?o.a.createElement("a",{className:"p-download_item__link--resume",onClick:this.onResume,role:"button"},k.t("Resume")):o.a.createElement("a",{className:"p-download_item__link--pause",onClick:this.onPause,role:"button"},k.t("Pause"));return o.a.createElement("span",{className:"p-download_item__extra_actions"},t,o.a.createElement("a",{className:"p-download_item__link--cancel",onClick:this.onCancel,role:"button"},k.t("Cancel")))}},{key:"render",value:function e(){var r=this.props,n=r.downloadPath,a=r.downloadState,i=r.progress,s=r.fileName,l=r.imageSource,u=r.fileType,p=r.prettyType,f=r.fileSize,m=r.highlight;var b=s||n.split(/\/|\\/).reverse()[0];var _="completed"===a?100:100*i;var g="progressing"===a&&i?i*f:void 0;var y=void 0;y=g?k.t("{partialSize} of {size} {prettyType}",{partialSize:Object(h["a"])(g,2),size:Object(h["a"])(f),prettyType:p}):Object(h["a"])(f)+" "+p;var O=t.getEstimatedTimeRemaining(this.props);var E=c()("p-download_item","clearfix",a,{highlight:m});var j=c()({"p-download_item__action_icon":true,"p-download_item__action_icon--image":!!l,fileType:u});var w=Object(v["isMac"])()?k.t("Show in Finder"):k.t("Open containing folder");var C={width:_+"%"};return o.a.createElement("div",{className:E,onClick:this.onRootDivClick,role:"presentation"},o.a.createElement("div",{className:"p-download_item__icon_container"},this.renderDownloadIcon(),o.a.createElement(d["a"],{className:j})),o.a.createElement(d["a"],{type:"times_circle",className:"p-download_item__link--remove",onClick:this.onRemove}),o.a.createElement("div",{className:"p-download_item__container"},o.a.createElement("div",{className:"p-download_item__name_row"},o.a.createElement("span",{className:"p-download_item__name overflow_ellipsis"},b),this.renderExtraActions()),o.a.createElement("div",{className:"p-download_item__size_row"},o.a.createElement("span",{className:"p-download_item__size overflow_ellipsis"},o.a.createElement("span",{className:"p-download_item__partial_size"},y)),o.a.createElement("span",{className:"p-download_item__actions"},o.a.createElement("a",{className:"p-download_item__link--show"},w),o.a.createElement("a",{className:"p-download_item__link--open"},k.t("Click to open")),o.a.createElement("a",{className:"p-download_item__link--retry",onClick:this.onRetry,role:"button"},k.t("Retry"))),o.a.createElement("span",{className:"p-download_item__time_remaining"},O)),o.a.createElement("div",{className:"p-download_item__progress_row progress_bar"},o.a.createElement("div",{className:"p-download_item__progress progress_bar_progress",style:C}))))}}]);return t}(o.a.Component);S.displayName="DownloadItem";S.propTypes=w;S.defaultProps=C;t["a"]=S},18444:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18445);var a=r(16928);Object(a["a"])("interop.mountEmojiPicker",n["a"])},18445:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(16954);var s=r(16927);var c=r(20405);var l=r(17044);var u=r(18446);var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var f=function e(t,r,n,f){if(!t)throw new Error("mountEmojiPicker must be called with a teamId parameter");var d="react_emoji_menu_render";Object(c["d"])(d+"_mark");Object(o["a"])(a.a.createElement(i["Provider"],{store:Object(s["c"])(t)},a.a.createElement(l["a"],p({shouldFade:false},f),a.a.createElement(u["a"],n))),r,function(){return Object(c["f"])(d,d+"_mark")})};t["a"]=f},18446:function(e,t,r){"use strict";var n=r(18447);t["a"]=n["a"]},18447:function(e,t,r){"use strict";var n=r(9);var a=r(16913);var i=r(18448);var o=function e(t){var r=Object(a["isFeatureEnabled"])(t,"feature_emoji5");return{featureEmojiPickerFrecencySearch:r}};t["a"]=Object(n["connect"])(o)(i["a"])},18448:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(16941);var f=r(17279);var d=r(20405);var v=r(16936);var h=r(16912);var m=r(16917);var b=r(16961);var _=r(16918);var g=r(16959);var y=r(16972);var O=r(17696);var E=r(18449);var j=r(18450);var k=r(18451);var w=r(18452);var C=r(18453);var S=r(18454);var T=r(17948);var I=r(18455);var N=r(20218);var A=r.n(N);var P=function(){function e(e,t){var r=[];var n=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){a=true;i=e}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var R=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function L(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var D=new h["b"]("emoji_picker");var F=9;var B=":cry:";var U=[0,-1];var H=[0,1];var q={handyRxnNames:o.a.array,skinToneChoiceNames:o.a.array,searchQuery:o.a.string,activeSkinToneId:o.a.string,groups:o.a.array,numBackgroundColors:o.a.number,onSelected:o.a.func,onClosed:o.a.func,onSkinToneChanged:o.a.func,canAddEmoji:o.a.bool,featureEmojiPickerFrecencySearch:o.a.bool,emojiMap:o.a.array,skinToneModifier:o.a.string,initiallyShowEmojiUpdateOverlay:o.a.bool,isMac:o.a.bool,featureEmoji5:o.a.bool};var G={numBackgroundColors:6,canAddEmoji:true,onSkinToneChanged:a.a.noop,handyRxnNames:[],skinToneChoiceNames:[],searchQuery:"",activeSkinToneId:"",groups:[],onSelected:a.a.noop,onClosed:a.a.noop,featureEmojiPickerFrecencySearch:false,emojiMap:[],skinToneModifier:"",initiallyShowEmojiUpdateOverlay:false,featureEmoji5:false,isMac:false};var W=function(e){L(t,e);R(t,null,[{key:"emojiMatchesSkinTone",value:function e(t,r){var n="1";return!t.is_skin||t.skin_tone_id===(r||n)}},{key:"getEmojiPreviewData",value:function e(t){var r=Object(y["p"])(t.display_name||t.name);var n=t.display_names||t.names||"";n=Object(y["s"])(n);if("ja-JP"===h["n"]&&t.name){var a=Object(y["s"])(t.name);n.indexOf(a)<0&&(n+=" "+a)}return{name:r,aliases:n}}},{key:"buildSearchMap",value:function e(t){var r={};for(var n=0;n<t.length;n++){r[t[n].name]=t[n];if(t[n].name!==t[n].names){var i=t[n].names.split(" ");for(var o=0;o<i.length;o++)if(i[o]!==t[n].name){var s=a.a.clone(t[n]);s.display_name=i[o];s.name=i[o];r[i[o]]=s}}}return r}}]);function t(e){M(this,t);var r=x(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onEmojiMouseEnter=r.onEmojiMouseEnter.bind(r);r.onEmojiMouseLeave=r.onEmojiMouseLeave.bind(r);r.onMouseWhileUsingKeyboard=r.onMouseWhileUsingKeyboard.bind(r);r.onListScroll=r.onListScroll.bind(r);r.onSearch=r.onSearch.bind(r);r.onEmojiPickerClick=r.onEmojiPickerClick.bind(r);r.onGroupTabClick=r.onGroupTabClick.bind(r);r.onSkinToneChanged=r.onSkinToneChanged.bind(r);r.onSkinTonePickerOpened=r.onSkinTonePickerOpened.bind(r);r.triggerSelect=r.triggerSelect.bind(r);r.triggerClose=r.triggerClose.bind(r);r.resetSelection=r.resetSelection.bind(r);r.getRowsForGroup=r.getRowsForGroup.bind(r);r.getSearchResults=r.getSearchResults.bind(r);r.setMenuRef=r.setMenuRef.bind(r);r.setSearchInputRef=r.setSearchInputRef.bind(r);r.onSearchInputChange=r.onSearchInputChange.bind(r);r.onSearchInputClick=r.onSearchInputClick.bind(r);r.onOverlayGotItClick=r.onOverlayGotItClick.bind(r);r.onOverlayLearnMoreClick=r.onOverlayLearnMoreClick.bind(r);r.onSearchDebounced=a.a.debounce(r.onSearch,16,{leading:true});r.onArrowKeyThrottled=a.a.throttle(r.onArrowKey,16);var n=Object(I["a"])(r.props.groups);r.props.featureEmojiPickerFrecencySearch&&(r.searchMap=t.buildSearchMap(n));r.state={currentSelection:{},isPreviewing:false,isSkinTonePickerOpen:false,searchQuery:e.searchQuery,scrollToIndex:null,activeGroup:r.getFirstTab(e.groups),isScrolledToBottom:false,screenRows:r.getAllRows(e.groups,e.activeSkinToneId,e.searchQuery),handyRxns:Object(C["a"])(n,e.handyRxnNames),skinToneChoices:Object(C["a"])(n,e.skinToneChoiceNames),cursorPosition:U,usingKeyboard:false,mousePosition:null,showEmojiUpdateOverlay:r.props.initiallyShowEmojiUpdateOverlay};r.commands=[{keys:["enter","shift+enter"],handler:function e(t){if("tab"===document.activeElement.getAttribute("role"))return;if(r.props.featureEmoji5&&r.state.showEmojiUpdateOverlay){if("button"===document.activeElement.computedRole)return;t.preventDefault();r.hideEmojiUpdateOverlay("ENTER");t.stopPropagation();return}if(!r.state.isPreviewing||!r.state.currentSelection)return;t.preventDefault();r.triggerSelect(t,r.state.currentSelection)}},{keys:["esc"],handler:function e(t){t.preventDefault();if(r.props.featureEmoji5&&r.state.showEmojiUpdateOverlay){r.hideEmojiUpdateOverlay("EXIT_VIEW");t.stopPropagation();return}r.triggerClose(t)}},{keys:["up","shift+up"],handler:r.onArrowKeyThrottled.bind(r,"up")},{keys:["down","shift+down"],handler:r.onArrowKeyThrottled.bind(r,"down")},{keys:["left","shift+left"],handler:r.onArrowKeyThrottled.bind(r,"left")},{keys:["right","shift+right"],handler:r.onArrowKeyThrottled.bind(r,"right")}];return r}R(t,[{key:"componentWillMount",value:function e(){this.props.searchQuery&&this.onSearch(this.props.searchQuery);d["d"]("react_emoji_menu_mount_mark")}},{key:"componentDidMount",value:function e(){this.keyCommands=new b["a"](this.element);this.keyCommands.bindAll(this.commands);this.searchInput.focus();d["f"]("react_emoji_menu_mount","react_emoji_menu_mount_mark");if(this.props.featureEmoji5&&this.props.initiallyShowEmojiUpdateOverlay){var t=true;this.trackEmojiUpdateOverlayEvent(t)}}},{key:"componentWillReceiveProps",value:function e(r){var n=this;var i=!a.a.isEqual(this.props.groups,r.groups);var o=this.props.activeSkinToneId!==r.activeSkinToneId;var s=this.state.searchQuery!==r.searchQuery;var c=s?r.searchQuery:this.state.searchQuery;s&&this.onSearch(c);if(i||o){var l=Object(I["a"])(r.groups);this.props.featureEmojiPickerFrecencySearch&&(this.searchMap=t.buildSearchMap(l));this.setState(function(){return{handyRxns:Object(C["a"])(l,r.handyRxnNames),skinToneChoices:Object(C["a"])(l,r.skinToneChoiceNames),screenRows:n.getAllRows(r.groups,r.activeSkinToneId,c)}})}}},{key:"componentWillUnmount",value:function e(){this.keyCommands.reset()}},{key:"onArrowKey",value:function e(t,r){var n=this;if(this.state.screenRows.length<2)return;var a=t;if(r.target===this.searchInput&&this.state.searchQuery&&(this.state.cursorPosition===U||this.state.cursorPosition===H))if("right"===t&&this.searchInput.selectionEnd===this.searchInput.value.length);else if("left"===t||"right"===t)return;r.preventDefault();this.element.focus();var i=this.moveCursor(a);var o=void 0;o=i[1]<this.state.cursorPosition[1]||1===i[1]?i[1]-1:i[1];this.setState(function(e){return{cursorPosition:i,currentSelection:n.getCell(e.screenRows,i),scrollToIndex:o,isPreviewing:true,usingKeyboard:true,mousePosition:null}})}},{key:"onEmojiMouseEnter",value:function e(t,r){if(this.state.usingKeyboard)return;this.setState(function(){return{currentSelection:t,cursorPosition:[r%F,Math.floor(r/F)],isPreviewing:true,isSkinTonePickerOpen:false}})}},{key:"onEmojiMouseLeave",value:function e(){if(this.state.usingKeyboard)return;this.resetSelection()}},{key:"onMouseWhileUsingKeyboard",value:function e(t){if(!this.state.usingKeyboard)return;var r=[t.clientX,t.clientY];if(!this.state.mousePosition){this.setState(function(){return{mousePosition:r}});return}if(a.a.isEqual(r,this.state.mousePosition))return;this.setState(function(){return{mousePosition:null,usingKeyboard:false,scrollToIndex:null,cursorPosition:U}})}},{key:"onEmojiPickerClick",value:function e(){this.setState(function(){return{isSkinTonePickerOpen:false}})}},{key:"onSkinToneChanged",value:function e(t){this.props.onSkinToneChanged(t.skin_tone_id);this.setState(function(){return{isSkinTonePickerOpen:false}})}},{key:"onSkinTonePickerOpened",value:function e(){this.setState(function(){return{isSkinTonePickerOpen:true}})}},{key:"onSearchInputChange",value:function e(t){this.onSearchDebounced(t.target.value)}},{key:"onSearchInputClick",value:function e(){this.setState(function(){return{cursorPosition:U}})}},{key:"onSearch",value:function e(t){var r=this;d["d"]("react_emoji_menu_search_mark");var n=this.getAllRows(this.props.groups,this.props.activeSkinToneId,t);var i=n.length>=2&&a.a.get(n,"[1].items.length")>=1;var o=t&&i&&a.a.get(n,"[1].items[0]")||{};var s=!!(t&&i);var c=t&&i?H:U;this.setState(function(e,a){return{activeGroup:r.getFirstTab(a.groups),cursorPosition:c,searchQuery:t,screenRows:n,currentSelection:o,isPreviewing:s}},function(){return d["f"]("react_emoji_menu_search","react_emoji_menu_search_mark")})}},{key:"onListScroll",value:function e(t){var r=t.startIndex,n=t.stopIndex;if(this.state.searchQuery)return;var a=this.state.screenRows[r];this.setState(function(e){return{activeGroup:a.group,isScrolledToBottom:n===e.screenRows.length-1,scrollToIndex:null}})}},{key:"onGroupTabClick",value:function e(t){var r=this;var n=this.state.searchQuery?this.getAllRows(this.props.groups,this.props.activeSkinToneId,""):this.state.screenRows;var i=a.a.findIndex(n,function(e){return"group"===e.type&&e.group===t});var o=i||0;this.setState(function(){return{activeGroup:t,scrollToIndex:o,cursorPosition:[0,o+1],searchQuery:"",screenRows:n,currentSelection:a.a.first(t.items),usingKeyboard:true,isPreviewing:true}},function(){return r.searchInput.focus()})}},{key:"onOverlayGotItClick",value:function e(){this.hideEmojiUpdateOverlay("OK")}},{key:"onOverlayLearnMoreClick",value:function e(){this.hideEmojiUpdateOverlay("LEARN_MORE")}},{key:"setMenuRef",value:function e(t){this.element=t}},{key:"setSearchInputRef",value:function e(t){this.searchInput=t}},{key:"getRow",value:function e(t){return a.a.get(this.state.screenRows,"["+t+"]")}},{key:"getCell",value:function e(t,r){var n=P(r,2),i=n[0],o=n[1];return a.a.get(t,"["+o+"].items["+i+"]")}},{key:"getFirstTab",value:function e(t){return a.a.get(t,"[0]")}},{key:"getRowsForGroup",value:function e(r,n){var i=a.a.chain(r.items).compact().filter(function(e){return t.emojiMatchesSkinTone(e,n)}).chunk(F).map(function(e){return{type:"emoji",group:r,items:e}}).value();i.unshift({type:"group",group:r});return i}},{key:"getAllRows",value:function e(t,r,n){var i=this;var o=this.getActiveGroups(t,n);var s=a.a.flatMap(o,function(e){return i.getRowsForGroup(e,r)});!n&&this.props.canAddEmoji&&s.push({type:"canAddEmojiTip"});return s}},{key:"getActiveGroups",value:function e(t,r){if(!r)return t;var n=this.getSearchResults(t,r);if(n.length>0)return[{display_name:"Search Results",items:n,name:"search_results"}];return[]}},{key:"getSearchResults",value:function e(t,r){var n=a.a.reject(t,function(e){return"mine"===e.name});var i=Object(I["a"])(n);if(this.props.featureEmojiPickerFrecencySearch){var o=this.props.skinToneModifier?Object(y["n"])(this.props.skinToneModifier):null;var s={searchQuery:r,searchMap:this.searchMap,emojiMap:this.props.emojiMap,skinToneModifier:o};return Object(T["a"])(s)}return Object(S["a"])(r,i)}},{key:"triggerSelect",value:function e(t,r){this.props.onSelected(t,r,this.state.searchQuery);t.shiftKey||this.triggerClose(t)}},{key:"triggerClose",value:function e(t){this.resetSelection();this.props.onClosed();t.stopPropagation()}},{key:"hideEmojiUpdateOverlay",value:function e(t){var r=false;this.trackEmojiUpdateOverlayEvent(r,t);Object(f["b"])({name:"seen_emoji_update_overlay_coachmark",value:true,set_for_all_logged_in_desktop_users:true});this.setState(function(){return{showEmojiUpdateOverlay:false}});this.searchInput.focus()}},{key:"trackEmojiUpdateOverlayEvent",value:function e(t,r){Object(p["b"])("EMOJI_UPDATE_OVERLAY",{contexts:{ui_context:{step:t?"EMOJI_UPDATE_OVERLAY_SHOW":"EMOJI_UPDATE_OVERLAY_HIDE",action:r}}})}},{key:"moveCursor",value:function e(t,r){var n=r;n||(n=this.state.cursorPosition);var i=n,o=P(i,2),s=o[0],c=o[1];if(-1===c)return[0,1];var l=s;var u=c;switch(t){case"down":if(2===this.state.screenRows.length)return this.moveCursor("right",[s,c]);u=c+1;u>=this.state.screenRows.length&&(u=1);break;case"up":if(2===this.state.screenRows.length)return this.moveCursor("left",[s,c]);u=c-1;u<0&&(u=this.state.screenRows.length-1);break;case"left":l=s-1;if(l<0){if(2===this.state.screenRows.length){l=this.getRow(c).items.length;break}u=c-1;"emoji"!==this.getRow(u).type&&(u-=1);u<0&&(u=a.a.findLastIndex(this.state.screenRows,{type:"emoji"}));l=this.getRow(u).items.length-1}break;case"right":l=s+1;if(l>=this.getRow(c).items.length){if(2===this.state.screenRows.length){l=0;break}u=c+1;u>a.a.findLastIndex(this.state.screenRows,{type:"emoji"})&&(u=0);"emoji"!==this.getRow(u).type&&(u+=1);l=0}break;default:break}if("emoji"!==this.getRow(u).type)return this.moveCursor(t,[l,u]);var p=this.getCell(this.state.screenRows,[l,u]);p||(l=this.getRow(u).items.length-1);return[l,u]}},{key:"resetSelection",value:function e(){this.setState(function(){return{currentSelection:{},isPreviewing:false,scrollToIndex:null,cursorPosition:U}})}},{key:"maybeRenderHandyRxns",value:function e(){if(!this.state.handyRxns.length)return null;return c.a.createElement(w["a"],{handyRxns:this.state.handyRxns,numBackgroundColors:this.props.numBackgroundColors,onSelected:this.triggerSelect,onMouseEnter:this.onEmojiMouseEnter,onMouseLeave:this.onEmojiMouseLeave})}},{key:"maybeRenderSkinTonePicker",value:function e(){if(!this.props.skinToneChoiceNames.length)return null;return c.a.createElement(k["a"],{activeSkinToneId:this.props.activeSkinToneId,choices:this.state.skinToneChoices,isOpen:this.state.isSkinTonePickerOpen,onOpen:this.onSkinTonePickerOpened,onSkinToneChanged:this.onSkinToneChanged})}},{key:"renderEmojiPreview",value:function e(){var r=0===this.state.screenRows.length;var n=this.state.currentSelection;var a=t.getEmojiPreviewData(n);if(r){var i=Object(I["a"])(this.props.groups);n=Object(C["a"])(i,B)[0];a=t.getEmojiPreviewData(n)}var o=u()("p-emoji_picker__preview_text",{"p-emoji_picker__preview_text--shortened":!this.props.activeSkinToneId});return c.a.createElement("div",{className:"p-emoji_picker__preview"},c.a.createElement("span",{className:"p-emoji_picker__preview_img","data-qa":"emoji_preview_img"},c.a.createElement(O["a"],{emoji:n})),c.a.createElement("div",{className:o},c.a.createElement("span",{"data-qa":"emoji_preview_name"},r?D.t("Oh no!"):a.name),c.a.createElement("br",null),c.a.createElement("span",{className:"p-emoji_picker__preview_aliases","data-qa":"emoji_preview_aliases"},r?D.t("We couldn\u2019t find that emoji"):a.aliases)))}},{key:"renderStickyHeader",value:function e(){var t=this.state.searchQuery?D.t("Search Results"):this.state.activeGroup.display_name;return c.a.createElement("div",{className:"p-emoji_picker__sticky_header",id:"emoji-picker-sticky-header"},c.a.createElement("h3",{className:"p-emoji_picker__heading"},t))}},{key:"renderEmojiUpdateOverlay",value:function e(){var t=this.props,r=t.featureEmoji5,n=t.initiallyShowEmojiUpdateOverlay,a=t.isMac;if(!r)return null;if(!n)return null;var i=u()("p-emoji_picker__update_overlay",{"p-emoji_picker__update_overlay--hidden":!this.state.showEmojiUpdateOverlay,"p-emoji_picker__update_overlay--apple":a});var o=Object(v["a"])();var s="https://get.slack.help/hc/"+o+"/articles/202931348-Emoji-and-emoticons#change-your-emoji-display";return c.a.createElement("div",{className:i},c.a.createElement("div",{className:"p-emoji_picker__update_overlay_image_container"}),c.a.createElement("div",null,c.a.createElement("h3",{className:"margin_top_50 margin_bottom_50"},D.rt("Slack\u2019s emoji have a new look")),c.a.createElement("p",null,D.rt("Heads up: the emoji you see in Slack will now look a bit different depending on the device you\u2019re using. Don\u2019t worry \u2014 they\u2019re just as expressive as ever."))),c.a.createElement("div",{className:"display_flex justify_content_between"},c.a.createElement(_["d"],{role:"button",tabIndex:0,type:"outline",size:"large",href:s,onClick:this.onOverlayLearnMoreClick},D.rt("Learn More")),c.a.createElement(_["d"],{role:"button",tabIndex:0,type:"primary",size:"large",onClick:this.onOverlayGotItClick},D.rt("Got It"))))}},{key:"render",value:function e(){var t=this.state,r=t.screenRows,n=t.isScrolledToBottom,i=t.activeGroup;var o=0===r.length;var s=n?a.a.last(this.props.groups):i;var l=this.state.currentSelection.name?"emoji-picker-"+this.state.currentSelection.name.replace(/:/g,""):null;var p=u()("menu","p-emoji_picker",{"p-emoji_picker--keyboard_mode":this.state.usingKeyboard});var f=u()("p-emoji_picker__footer",{"p-emoji_picker__footer--previewing":this.state.isPreviewing||o});var d=D.t("Use the left, right, up and down arrow keys to navigate the emoji search results.");return c.a.createElement("div",{className:p,"data-using-keyboard":this.state.usingKeyboard,onClick:this.onEmojiPickerClick,onMouseMove:this.onMouseWhileUsingKeyboard,ref:this.setMenuRef,role:"presentation"},c.a.createElement("div",{className:"p-emoji_picker__content"},c.a.createElement(j["a"],{groups:this.props.groups,activeGroup:s,onGroupTabClick:this.onGroupTabClick}),c.a.createElement("div",{className:"p-emoji_picker__input_container"},c.a.createElement("input",{ref:this.setSearchInputRef,className:"p-emoji_picker__input",type:"text",placeholder:D.t("Search"),onChange:this.onSearchInputChange,onClick:this.onSearchInputClick,tabIndex:this.state.showEmojiUpdateOverlay?-1:null,"aria-activedescendant":l,"aria-owns":"emoji-picker-list","aria-autocomplete":"list",role:"textbox","aria-label":D.t("Search for an emoji",{fallbackHash:"bce06414177f72ab70e6387b6af9f8ceef0d6049"}),"aria-describedby":"emoji-picker-search-description"}),c.a.createElement("span",{className:"hidden",id:"emoji-picker-search-description"},d),c.a.createElement(m["a"],{type:"search",className:"p-emoji_picker__icon_search"})),c.a.createElement("div",{className:"p-emoji_picker__list_container",role:"tabpanel","aria-labelledby":"emoji-picker-sticky-header"},this.renderStickyHeader(),c.a.createElement("div",{className:"p-emoji_picker__list"},c.a.createElement(E["a"],{screenRows:this.state.screenRows,numBackgroundColors:this.props.numBackgroundColors,onSelected:this.triggerSelect,onMouseEnter:this.onEmojiMouseEnter,onMouseLeave:this.onEmojiMouseLeave,scrollToIndex:this.state.scrollToIndex,onScroll:this.onListScroll,numEmojiPerRow:F,currentSelection:this.state.currentSelection,cursorPosition:this.state.cursorPosition,showEmojiUpdateOverlay:this.state.showEmojiUpdateOverlay}))),c.a.createElement("div",{className:f},this.maybeRenderHandyRxns(),this.renderEmojiPreview(),c.a.createElement("div",{className:"p-emoji_picker__emoji_deluxe_label"},c.a.createElement("span",null,D.t("Emoji Deluxe")),"\u2122"),this.maybeRenderSkinTonePicker())),this.renderEmojiUpdateOverlay())}}]);return t}(s["Component"]);W.displayName="EmojiPicker";W.propTypes=q;W.defaultProps=G;t["a"]=Object(g["a"])("feature_emoji5")(W)},18449:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(8);var o=r.n(i);var s=r(3);var c=r.n(s);var l=r(12159);var u=r.n(l);var p=r(333);var f=r(16917);var d=r(16912);var v=r(16972);var h=r(18598);var m=r(17696);var b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=new d["b"]("emoji_picker");var j=33;var k=54;var w=28;var C=10;var S=/:/g;var T={onSelected:c.a.func,onMouseEnter:c.a.func,onMouseLeave:c.a.func,onScroll:c.a.func,scrollToIndex:c.a.number,numBackgroundColors:c.a.number.isRequired,screenRows:c.a.array,numEmojiPerRow:c.a.number.isRequired,currentSelection:c.a.object,cursorPosition:c.a.array,showEmojiUpdateOverlay:c.a.bool};var I={onSelected:a.a.noop,onMouseEnter:a.a.noop,onMouseLeave:a.a.noop,onScroll:a.a.noop,scrollToIndex:null,screenRows:[],currentSelection:{},cursorPosition:[],showEmojiUpdateOverlay:false};var N=function e(t,r,n){if("emoji"===t.type&&r>0)return a.a.filter(n.slice(0,r),{type:"emoji"}).reduce(function(e,t){return e+t.items.length},0);return 0};var A=function e(t,r){if("emoji"===t.type)return a.a.filter(r,{type:"emoji"}).reduce(function(e,t){return e+t.items.length},0);return 0};var P=function(e){O(t,e);_(t,null,[{key:"renderGroupItem",value:function e(t){return u.a.createElement("h3",{className:"p-emoji_picker__heading"},t.display_name)}},{key:"renderEmptyState",value:function e(){return u.a.createElement("div",null,u.a.createElement("h3",{className:"p-emoji_picker__heading"},E.t("Search Results")),u.a.createElement("div",{className:"p-emoji_picker__no_results"},E.t("No emoji found")))}}]);function t(e){g(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.getRowHeight=r.getRowHeight.bind(r);r.renderRow=r.renderRow.bind(r);r.setListRef=r.setListRef.bind(r);r.virtualList=null;return r}_(t,[{key:"componentWillReceiveProps",value:function e(t){a.a.isNumber(t.scrollToIndex)&&this.virtualList.scrollToRow(t.scrollToIndex)}},{key:"onEmojiClick",value:function e(t,r){t.preventDefault();this.props.onSelected(t,r)}},{key:"getRowHeight",value:function e(t){var r=t.index;var n=this.props.screenRows[r];switch(n.type){case"search":return k;case"group":return w;case"emoji":var a=this.props.screenRows.length-1===r;return a?j+C:j;default:return j}}},{key:"setListRef",value:function e(t){this.virtualList=t}},{key:"isEmojiSelected",value:function e(t,r){var n=this.props,i=n.cursorPosition,o=n.numEmojiPerRow;var s=t.name===a.a.get(this.props.currentSelection,"name");var c=i[1]*o+i[0];var l=r===c;return s&&l}},{key:"usingKeyboard",value:function e(){return-1!==this.props.cursorPosition[1]}},{key:"renderCanAddEmojiTip",value:function e(){return u.a.createElement("div",{className:"p-emoji_picker__tip p-emoji_picker__tip--can_add_emoji"},u.a.createElement(f["a"],{type:"plus",className:"c-deprecated-icon--inherit tiny_right_margin"}),u.a.createElement("span",{dangerouslySetInnerHTML:{__html:E.t('You can <a href="/admin/emoji" target="_blank">add custom emoji here</a>')}}))}},{key:"renderEmojiItem",value:function e(t,r,n,a){var i=this;var s=d["n"]!==d["b"].DEFAULT_LOCALE?Object(v["o"])(t.name):t.name;return u.a.createElement("a",{key:t.name,onClick:function e(r){return i.onEmojiClick(r,t)},onMouseEnter:function e(){return i.props.onMouseEnter(t,r)},onMouseLeave:function e(){return i.props.onMouseLeave(t)},className:o()("p-emoji_picker__list_item",{key_selection:this.usingKeyboard()&&this.isEmojiSelected(t,r)}),"data-color-index":r%this.props.numBackgroundColors,"data-name":t.name,"data-names":t.names,"data-qa":"emoji_list_item",id:"emoji-picker-"+t.name.replace(S,""),"aria-label":Object(h["a"])(s),tabIndex:"-1","aria-selected":this.isEmojiSelected(t,r),role:"option","aria-posinset":a,"aria-setsize":n},u.a.createElement(m["a"],{emoji:t}))}},{key:"renderRow",value:function e(r){var n=this;var a=r.index,i=r.key,o=r.style;var s=this.props.screenRows[a];var c=a;if(0===c)return null;var l=void 0;var p=N(s,c,this.props.screenRows);var f=A(s,this.props.screenRows);switch(s.type){case"group":l=t.renderGroupItem(s.group);break;case"canAddEmojiTip":l=this.renderCanAddEmojiTip();break;case"emoji":l=s.items.map(function(e,t){var r=c*n.props.numEmojiPerRow+t;var a=p+t+1;return n.renderEmojiItem(e,r,f,a)});break;default:break}return u.a.createElement("div",{key:i,style:o,role:"presentation"},l)}},{key:"render",value:function e(){var t=this;var r=this.props,n=r.screenRows,a=r.numBackgroundColors,i=r.numEmojiPerRow;var o={screenRows:n,numBackgroundColors:a,numEmojiPerRow:i};return u.a.createElement(p["a"],null,function(e){var r=e.height,n=e.width;return u.a.createElement(p["b"],b({},o,{className:"p-emoji_picker__list_scroller",height:r,rowCount:t.props.screenRows.length,rowHeight:t.getRowHeight,rowRenderer:t.renderRow,scrollToAlignment:t.usingKeyboard()?"auto":"start",width:n,onRowsRendered:t.props.onScroll,noRowsRenderer:t.renderEmptyState,cursorPosition:t.props.cursorPosition,ref:t.setListRef,tabIndex:t.props.showEmojiUpdateOverlay?-1:null,id:"emoji-picker-list",role:"listbox","aria-label":""}))})}}]);return t}(l["PureComponent"]);P.displayName="EmojiList";t["a"]=P;P.propTypes=T;P.defaultProps=I},18450:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(1);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(16917);var f=r(17035);var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b={groups:a.a.array.isRequired,activeGroup:a.a.object,onGroupTabClick:a.a.func};var _={activeGroup:{},onGroupTabClick:o.a.noop};var g=function(e){m(t,e);function t(){v(this,t);return h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}d(t,[{key:"renderEmojiGroupTab",value:function e(t){var r=this;var n=u()("p-emoji_picker__group_tab",{"p-emoji_picker__group_tab--active":this.props.activeGroup===t});var a=function e(){return r.props.onGroupTabClick(t)};return c.a.createElement(f["a"],{key:t.name,type:"button",role:"tab",className:n,onClick:a,"aria-label":t.display_name,"aria-selected":this.props.activeGroup===t?"true":"false"},c.a.createElement("span",{className:"emoji-sizer",title:t.display_name},c.a.createElement(p["a"],{type:t.tab_icon_name})))}},{key:"render",value:function e(){var t=this;return c.a.createElement("div",{className:"p-emoji_picker__group_tabs",role:"tablist"},this.props.groups.map(function(e){return t.renderEmojiGroupTab(e)}))}}]);return t}(s["PureComponent"]);g.displayName="EmojiGroupTabs";t["a"]=g;g.propTypes=b;g.defaultProps=_},18451:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(16912);var f=r(17696);var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=new p["b"]("emoji_picker");var _={activeSkinToneId:o.a.string,choices:o.a.array,isOpen:o.a.bool,onSkinToneChanged:o.a.func,onOpen:o.a.func};var g={activeSkinToneId:"",choices:[],isOpen:false,onSkinToneChanged:a.a.noop,onOpen:a.a.noop};var y=function(e){m(t,e);function t(){v(this,t);return h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}d(t,[{key:"maybeRenderSkinToneLabel",value:function e(){if(this.props.activeSkinToneId)return null;return c.a.createElement("span",{className:"p-emoji_picker__skintone_label","data-qa":"emoji_skintone_label"},b.t("Skin Tone"))}},{key:"renderToneChoices",value:function e(t){var r=this;return t.map(function(e){return c.a.createElement("span",{key:e.skin_tone_id,onClick:function t(){return r.props.onSkinToneChanged(e)},"data-qa":"emoji_skintone_option_"+e.skin_tone_id},c.a.createElement(f["a"],{emoji:e}))})}},{key:"render",value:function e(){var t=this.props.activeSkinToneId||"1";var r=a.a.find(this.props.choices,{skin_tone_id:t});var n=this.props.choices;if(this.props.activeSkinToneId&&"undefined"!==typeof r){n=a.a.reject(n,{skin_tone_id:r.skin_tone_id});n.push(r)}var i=u()("p-emoji_picker__skintone_btn_container",{hidden:this.props.isOpen});var o=u()("p-emoji_picker__skintone_tip",{"p-emoji_picker__skintone_tip--visible":this.props.isOpen});var s=u()("p-emoji_picker__skintone_options",{"p-emoji_picker__skintone_options--visible":this.props.isOpen});return c.a.createElement("div",{onClick:function e(t){return t.stopPropagation()}},c.a.createElement("div",{onClick:this.props.onOpen,className:i,"data-qa":"emoji_selected_skintone"},c.a.createElement("div",null,c.a.createElement(f["a"],{emoji:r})),this.maybeRenderSkinToneLabel()),c.a.createElement("div",{className:o},b.t("Choose your default skin tone")),c.a.createElement("div",{className:s,"data-qa":"emoji_skintone_options"},this.renderToneChoices(n)))}}]);return t}(s["PureComponent"]);y.displayName="EmojiSkinTonePicker";t["a"]=y;y.propTypes=_;y.defaultProps=g},18452:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16912);var u=r(17696);var p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=new l["b"]("emoji_picker");var m={handyRxns:a.a.array,numBackgroundColors:a.a.number.isRequired,onSelected:a.a.func,onMouseEnter:a.a.func,onMouseLeave:a.a.func};var b={handyRxns:[],onSelected:c.a.noop,onMouseEnter:c.a.noop,onMouseLeave:c.a.noop};var _=function(e){v(t,e);function t(){f(this,t);return d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}p(t,[{key:"onClick",value:function e(t,r){t.preventDefault();this.props.onSelected(t,r)}},{key:"renderRxn",value:function e(t,r){var n=this;return o.a.createElement("a",{key:t.name,className:"p-emoji_picker__list_item",onClick:function e(r){return n.onClick(r,t)},onMouseEnter:function e(){return n.props.onMouseEnter(t)},onMouseLeave:function e(){return n.props.onMouseLeave()},"data-color-index":r%this.props.numBackgroundColors},o.a.createElement(u["a"],{emoji:t}))}},{key:"render",value:function e(){var t=this;return o.a.createElement("div",{className:"p-emoji_picker__handy_rxns"},o.a.createElement("h3",{className:"p-emoji_picker__heading p-emoji_picker__heading--handy_rxns"},h.t("Handy Reactions")),o.a.createElement("div",{className:"p-emoji_picker__handy_rxns_list",role:"menu"},this.props.handyRxns.map(function(e,r){return t.renderRxn(e,r)})))}}]);return t}(i["PureComponent"]);_.displayName="EmojiHandyRxns";t["a"]=_;_.propTypes=m;_.defaultProps=b},18453:function(e,t,r){"use strict";t["a"]=i;var n=r(1);var a=r.n(n);function i(e,t){if(Object(n["isEmpty"])(e)||Object(n["isEmpty"])(t))return[];var r=[];for(var a=0;a<e.length;a+=1){var i=e[a];if(i&&-1!==t.indexOf(i.name)){r.push(i);if(r.length===t.length)break}}var o=r.sort(function(e,r){return t.indexOf(e.name)-t.indexOf(r.name)});return o}},18454:function(e,t,r){"use strict";t["a"]=s;var n=r(1);var a=r.n(n);var i=r(16972);var o=function e(t,r){if(!t||!r)return false;var n=t.split(" ");return a.a.some(n,function(e){return Object(i["p"])(e)===r})};function s(e,t){if(":"===e)return t;var r=a.a.compact(e.split(" "));return a.a.chain(r).flatMap(function(e){if(":"===e.charAt(0)&&":"===e.slice(-1)){var r=e.slice(1,-1);return t.filter(function(e){var t=Object(i["p"])(e.display_name||e.name)===r;!t&&e.display_name&&e.display_name!==e.name&&(t=Object(i["p"])(e.name)===r);!t&&e.display_names&&(t=o(e.display_names,r));!t&&e.display_names&&e.display_names!==e.names&&(t=o(e.names,r));return t})}var n=[];":"!==e.substr(0,1)&&":"!==e.slice(-1)&&(n=Object(i["c"])(e));return t.filter(function(t){return Object(i["b"])(t,e,n)})}).uniqBy("name").value()}},18455:function(e,t,r){"use strict";t["a"]=i;var n=r(1);var a=r.n(n);function i(e){if(Object(n["isEmpty"])(e))return[];var t=[];var r={};for(var a=0;a<e.length;a+=1){var i=e[a];if(i.items)for(var o=0;o<i.items.length;o+=1){var s=i.items[o];if(s&&!r[s.name]){t.push(s);r[s.name]=true}}}return t}},18457:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18458);var a=r(16928);Object(a["a"])("interop.mountExplorePreferences",n["a"])},18458:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(16954);var s=r(16927);var c=r(18459);var l=function e(t,r){if(!t)throw new Error("mountKeyboardShortcuts must be called with a teamId parameter");var n=Object(s["c"])(t);Object(o["a"])(a.a.createElement(i["Provider"],{store:n},a.a.createElement(c["a"],null)),r)};t["a"]=l},18459:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(17411);var p=r(17771);var f=r(17394);var d=r(16918);var v=r(16917);var h=r(16960);var m=r(18460);var b=r(20219);var _=r.n(b);var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k={prefs:o.a.object.isRequired,prefsLoading:o.a.bool.isRequired,fetchExplorePrefs:o.a.func,setRemoteExplorePrefs:o.a.func,fetchExploreFeedMessages:o.a.func};var w={prefs:null,prefsLoading:true,fetchExplorePrefs:l.a.noop,setRemoteExplorePrefs:l.a.noop,fetchExploreFeedMessages:l.a.noop};var C=function(e){j(t,e);function t(){O(this,t);var e=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.retrievalOptions=[{name:"Channel suggestions",retrievalQuery:"channels-suggestions"},{name:"Manual",retrievalQuery:"manual"},{name:"Team Average LRWS",retrievalQuery:"team-average-lrws"},{name:"User Channel LRWS",retrievalQuery:"user-channel-lrws"}];e.knobDropdownOptions=["none","low","medium","high"];e.onPrefSelect=e.onPrefSelect.bind(e);e.toggleAlphaKnobs=e.toggleAlphaKnobs.bind(e);e.onRefreshMessages=e.onRefreshMessages.bind(e);e.state={isAlphaOpen:false};return e}y(t,[{key:"componentDidMount",value:function e(){if(this.props.prefs)return;this.props.fetchExplorePrefs()}},{key:"onPrefSelect",value:function e(t){var r=this;return function(e){var n=g({},r.props.prefs);n[t]=e.target.value;r.props.setRemoteExplorePrefs(n)}}},{key:"onRefreshMessages",value:function e(){this.props.fetchExploreFeedMessages()}},{key:"toggleAlphaKnobs",value:function e(){var t=this;this.setState(function(){return{isAlphaOpen:!t.state.isAlphaOpen}})}},{key:"renderPrefs",value:function e(){return a.a.createElement("div",{className:"p-explore_preferences__module"},this.renderChannelPicker(),this.renderAlphaHeader(),this.renderAlphaKnobs())}},{key:"renderChannelPicker",value:function e(){if(!("manual"===this.props.prefs.retrieval))return null;return a.a.createElement("div",{className:"p-explore_preferences__module"},a.a.createElement(m["a"],{prefsEndpoint:"explore.setFollows"}))}},{key:"renderAlphaHeader",value:function e(){var t=this.state.isAlphaOpen?"caret-down":"caret-right";return a.a.createElement(d["c"],{onClick:this.toggleAlphaKnobs},a.a.createElement("h3",null,"AlphaKnobs\u2122",a.a.createElement(v["b"],{type:t,size:"inherit"})))}},{key:"renderAlphaKnobs",value:function e(){if(!this.state.isAlphaOpen)return null;return a.a.createElement("div",{className:"p-explore_preferences__module"},a.a.createElement("label",{className:"c-label c-label--block",htmlFor:"models"},a.a.createElement("span",{className:"c-label__text"},"Retrieval Method"),a.a.createElement("select",{className:"c-input_select",id:"models",onChange:this.onPrefSelect("retrieval"),value:this.props.prefs.retrieval},this.retrievalOptions.map(function(e){return a.a.createElement("option",{key:e.name,value:e.retrievalQuery},e.name)}))),a.a.createElement("label",{className:"c-label c-label--block",htmlFor:"period_days"},a.a.createElement("span",{className:"c-label__text"},"Message Age (days)"),a.a.createElement("input",{type:"number",className:"c-input_text",id:"period_days",step:"1",min:"0",onChange:this.onPrefSelect("period_days"),value:this.props.prefs.period_days})),a.a.createElement("label",{className:"c-label c-label--block",htmlFor:"message_limit"},a.a.createElement("span",{className:"c-label__text"},"Number of messages from a channel"),a.a.createElement("input",{type:"number",className:"c-input_text",id:"message_limit",step:"1",min:"0",onChange:this.onPrefSelect("message_limit"),value:this.props.prefs.message_limit})),a.a.createElement("label",{className:"c-label c-label--block",htmlFor:"min_score"},a.a.createElement("span",{className:"c-label__text"},"Minimum HighlightsScore\u2122 (0-1) "),a.a.createElement("input",{type:"number",className:"c-input_text",id:"min_score",step:"0.01",min:"0",max:"1",onChange:this.onPrefSelect("min_score"),value:this.props.prefs.min_score})),a.a.createElement("label",{className:"c-label c-label--block",htmlFor:"max_context_mins"},a.a.createElement("span",{className:"c-label__text"},"Context Time Window"),a.a.createElement("input",{type:"number",className:"c-input_text",id:"max_context_mins",step:"15",min:"0",onChange:this.onPrefSelect("max_context_mins"),value:this.props.prefs.max_context_mins})),a.a.createElement("label",{className:"c-label c-label--block",htmlFor:"diversity_level"},a.a.createElement("span",{className:"c-label__text"},"Message Diversity Level"),a.a.createElement("select",{className:"c-input_select",id:"diversity_level",onChange:this.onPrefSelect("diversity_level"),value:this.props.prefs.diversity_level},this.knobDropdownOptions.map(function(e){return a.a.createElement("option",{key:e,value:e},e)}))),a.a.createElement("label",{className:"c-label c-label--block",htmlFor:"time_decay_level"},a.a.createElement("span",{className:"c-label__text"},"Prefer Newer Messages Level"),a.a.createElement("select",{className:"c-input_select",id:"time_decay_level",onChange:this.onPrefSelect("time_decay_level"),value:this.props.prefs.time_decay_level},this.knobDropdownOptions.map(function(e){return a.a.createElement("option",{key:e,value:e},e)}))))}},{key:"renderHeading",value:function e(){return a.a.createElement(h["a"],{disabled:["feature_global_nav_flex"]},a.a.createElement(f["a"],null,a.a.createElement("span",null,"Explore Settings")))}},{key:"renderRefreshButton",value:function e(){return a.a.createElement("div",{className:"p-explore_preferences__module"},a.a.createElement(d["d"],{onClick:this.onRefreshMessages},"Refresh"))}},{key:"render",value:function e(){if(this.props.prefsLoading)return null;return a.a.createElement("div",{className:"p-explore_preferences"},this.renderHeading(),a.a.createElement("div",{className:"p-explore_preferences__body"},this.renderPrefs(),this.renderRefreshButton()))}}]);return t}(n["PureComponent"]);C.displayName="BaseExplorePreferences";C.propTypes=k;C.defaultProps=w;var S=function e(t){return{prefs:Object(u["getExplorePrefs"])(t),prefsLoading:Object(u["getExplorePrefsLoading"])(t)}};var T=function e(t){return{fetchExplorePrefs:function e(){return t(Object(p["c"])())},setRemoteExplorePrefs:function e(r){return t(Object(p["e"])(r))},fetchExploreFeedMessages:function e(){return t(Object(p["a"])())}}};t["a"]=Object(s["connect"])(S,T)(C)},18460:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(3);var s=r.n(o);var c=r(1);var l=r.n(c);var u=r(17596);var p=r(16952);var f=r(17938);var d=r(17019);var v=r(17411);var h=r(17771);var m=r(16925);var b=r(16913);var _=r(16920);var g=r(17072);var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var O=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w={exploreFollowsChannels:s.a.array.isRequired,exploreFollowsUsers:s.a.array.isRequired,exploreFollowsKeywords:s.a.array.isRequired,setRemoteExploreFollows:s.a.func,fetchExploreFollows:s.a.func,followsLoading:s.a.bool.isRequired,teamId:s.a.string.isRequired,enterpriseId:s.a.string};var C={channels:[],exploreFollowsChannels:[],exploreFollowsUsers:[],exploreFollowsKeywords:[],setRemoteExploreFollows:l.a.noop,fetchExploreFollows:l.a.noop,followsLoading:true,teamId:"",enterpriseId:void 0};var S=function(e){k(t,e);function t(){E(this,t);var e=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.onChangeValueSelectedChannels=e.onChangeValueSelectedChannels.bind(e);e.onChangeValueSelectedUsers=e.onChangeValueSelectedUsers.bind(e);e.onChangeValueSelectedKeywords=Object(c["debounce"])(e.onChangeValueSelectedKeywords,300).bind(e);e.getResultsForChannelsQuery=e.getResultsForChannelsQuery.bind(e);e.getResultsForUsersQuery=e.getResultsForUsersQuery.bind(e);e.onPasteCopyPasteArea=e.onPasteCopyPasteArea.bind(e);e.onBundle=e.onBundle.bind(e);return e}O(t,[{key:"componentDidMount",value:function e(){if(this.props.exploreFollowsChannels.length)return;this.props.fetchExploreFollows()}},{key:"onChangeValueSelectedChannels",value:function e(t){var r=this;var n=t.map(function(e){var t=e.is_shared?r.props.enterpriseId:e.team_id||e.team||r.props.teamId;return y({},e,{team:t})});this.props.setRemoteExploreFollows({followChannels:n,followUsers:this.props.exploreFollowsUsers,followKeywords:this.props.exploreFollowsKeywords})}},{key:"onChangeValueSelectedUsers",value:function e(t){this.props.setRemoteExploreFollows({followChannels:this.props.exploreFollowsChannels,followUsers:t,followKeywords:this.props.exploreFollowsKeywords})}},{key:"onChangeValueSelectedKeywords",value:function e(t){var r=t.target?t.target.value.split(",").filter(function(e){return e.trim().length>0}).map(function(e){return{keyword:e.trim()}}):[];this.props.setRemoteExploreFollows({followChannels:this.props.exploreFollowsChannels,followUsers:this.props.exploreFollowsUsers,followKeywords:r})}},{key:"onPasteCopyPasteArea",value:function e(t){var r=t.clipboardData.getData("Text");this.props.setRemoteExploreFollows(JSON.parse(r));this.setState(function(){return{justPasted:true}})}},{key:"onBundle",value:function e(t){this.props.setRemoteExploreFollows(JSON.parse(t))}},{key:"getItemTemplate",value:function e(t){return a.a.createElement("div",null,t.name)}},{key:"getTokenTemplate",value:function e(t){return a.a.createElement("div",null,t.name)}},{key:"getPreselectedChannelItems",value:function e(){return this.props.exploreFollowsChannels.map(function(e){return y({},e,{label:Object(_["getDisplayName"])(e),preselected:true})})}},{key:"getPreselectedUserItems",value:function e(){return this.props.exploreFollowsUsers.map(function(e){return y({},e,{label:e.name,preselected:true})})}},{key:"getPreselectedKeywordItems",value:function e(){return this.props.exploreFollowsKeywords.map(function(e){return e.keyword})}},{key:"getResultsForChannelsQuery",value:function e(t){var r=this;if(!t)return Promise.resolve({items:this.getPreselectedChannelItems(),replace_all_items:true});return Object(g["a"])(t,{channels:{include_archived:false},enterprise_channels:{remote_limit:96},tiered:true}).then(function(e){var t=r.props.exploreFollowsChannels.map(function(e){return e.id});var n=e.concat(r.props.exploreFollowsChannels.map(function(e){return{model_ob:e}})).map(function(e){var r=Object(_["getDisplayName"])(e.model_ob);if(-1!==t.indexOf(e.model_ob.id))return y({},e.model_ob,{label:r,preselected:true});return y({},e.model_ob,{label:r})});return{items:n,replace_all_items:true}})}},{key:"getResultsForUsersQuery",value:function e(t){var r=this;if(!t)return Promise.resolve({items:this.getPreselectedUserItems(),replace_all_items:true});return Object(g["a"])(t,{members:{include_self:true},sort:{allow_empty_query:true,frecency:true,self_first:true}}).then(function(e){var t=r.props.exploreFollowsUsers.map(function(e){return e.id});var n=e.concat(r.props.exploreFollowsUsers.map(function(e){return{model_ob:e}})).map(function(e){if(-1!==t.indexOf(e.model_ob.id))return y({},e.model_ob,{label:e.model_ob.name,preselected:true});return y({},e.model_ob,{label:e.model_ob.name})});return{items:n,replace_all_items:true}})}},{key:"renderPicker",value:function e(){if(this.props.followsLoading)return null;return a.a.createElement("div",{className:"p-explore__channel_picker"},a.a.createElement("label",{className:"c-label c-label--block",htmlFor:"channels"},a.a.createElement("span",{className:"c-label__text"},"Select what channels you would like to see in your feed!"),a.a.createElement(u["a"],{items:this.getPreselectedChannelItems(),onValueChange:this.onChangeValueSelectedChannels,dataPromise:this.getResultsForChannelsQuery,template:this.getItemTemplate,tokenTemplate:this.getTokenTemplate,placeholderText:"Choose some!",id:"channels"})),a.a.createElement("label",{className:"c-label c-label--block",htmlFor:"users"},a.a.createElement("span",{className:"c-label__text"},"Select what users you would like to see in your feed!"),a.a.createElement(u["a"],{items:this.getPreselectedUserItems(),onValueChange:this.onChangeValueSelectedUsers,dataPromise:this.getResultsForUsersQuery,template:this.getItemTemplate,tokenTemplate:this.getTokenTemplate,placeholderText:"Choose some!",id:"users"})),a.a.createElement("label",{className:"c-label c-label--block",htmlFor:"users"},a.a.createElement("span",{className:"c-label__text"},"Type in what keywords you would like to see in your feed!"),a.a.createElement(d["a"],{placeholder:"Enter comma separated keywords",autoFocus:true,onChange:this.onChangeValueSelectedKeywords,value:this.getPreselectedKeywordItems()})))}},{key:"renderLoading",value:function e(){if(this.props.followsLoading)return a.a.createElement(p["a"],{size:"medium"});return null}},{key:"renderCopyPasteVersion",value:function e(){var t=this.props,r=t.exploreFollowsChannels,n=t.exploreFollowsUsers,i=t.exploreFollowsKeywords;return a.a.createElement("div",{className:"p-explore__channel_json"},a.a.createElement("label",{className:"c-label c-label--block",htmlFor:"channels_json"},a.a.createElement("span",{className:"c-label__text"},"Follows, the JSON version"),a.a.createElement(f["b"],{id:"channels_json",name:"channels_json",onPaste:this.onPasteCopyPasteArea,value:JSON.stringify({followChannels:r,followUsers:n,followKeywords:i})})))}},{key:"render",value:function e(){return a.a.createElement("div",null,this.renderPicker(),this.renderCopyPasteVersion())}}]);return t}(n["PureComponent"]);S.displayName="BaseChannelPicker";S.propTypes=w;S.defaultProps=C;var T=function e(t){var r=Object(v["getExploreFollowsChannels"])(t);var n=Object(v["getExploreFollowsUsers"])(t);var a=Object(v["getExploreFollowsKeywords"])(t);var i=Object(v["getExploreFollowsLoading"])(t);var o=Object(m["getTeamId"])(t);var s=Object(b["getFromBootData"])(t,"enterprise_id");return{exploreFollowsChannels:r,exploreFollowsUsers:n,exploreFollowsKeywords:a,followsLoading:i,teamId:o,enterpriseId:s}};var I=function e(t){return{setRemoteExploreFollows:function e(r,n,a){return t(Object(h["d"])(r,n,a))},fetchExploreFollows:function e(){return t(Object(h["b"])())}}};t["a"]=Object(i["connect"])(T,I)(S)},18463:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18464);var a=r(16928);Object(a["a"])("interop.mountExplore",n["a"]);Object(a["a"])("interop.unmountExplore",n["b"])},18464:function(e,t,r){"use strict";r.d(t,"a",function(){return p});r.d(t,"b",function(){return f});var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(16954);var l=r(16927);var u=r(18465);var p=function e(t,r){if(!t)throw new Error("mountExplore must be called with a teamId parameter");Object(c["a"])(a.a.createElement(s["Provider"],{store:Object(l["c"])(t)},a.a.createElement(u["a"],null)),r)};var f=function e(t){o.a.unmountComponentAtNode(t)};var d={mountExplore:p}},18465:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(3);var s=r.n(o);var c=r(1);var l=r.n(c);var u=r(11);var p=r.n(u);var f=r(16925);var d=r(17411);var v=r(17771);var h=r(16952);var m=r(16998);var b=r(17076);var _=r(18466);var g=r(20223);var y=r.n(g);var O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var E=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C={data:s.a.array.isRequired,loading:s.a.bool.isRequired,teamId:s.a.string,lastFetched:s.a.string,prefs:s.a.object.isRequired,fetchExploreFeedMessages:s.a.func};var S={data:null,loading:true,teamId:void 0,lastFetched:void 0,prefs:null,fetchExploreFeedMessages:l.a.noop};var T=function(e){w(t,e);function t(){j(this,t);var e=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.jumpToMessage=e.jumpToMessage.bind(e);return e}E(t,[{key:"componentDidMount",value:function e(){if(this.props.lastFetched&&p()().diff(this.props.lastFetched,"minutes")<20)return;this.props.fetchExploreFeedMessages()}},{key:"jumpToMessage",value:function e(t){var r=t.permalink;this.props.teamId&&Object(b["d"])(this.props.teamId,r)||window.open(r,"_BLANK")}},{key:"renderLoading",value:function e(){if(this.props.loading)return a.a.createElement(h["a"],{size:"medium"});return null}},{key:"renderEmptyState",value:function e(){if(this.props.loading||this.props.data.length)return null;return a.a.createElement("div",{className:"p-explore__module p-explore__module--empty p-explore__module--outer"},a.a.createElement("div",null,a.a.createElement(m["a"],{text:":cactus:"})," Sorry, nothing exciting is going on."))}},{key:"renderMessages",value:function e(){var t=this;if(this.props.loading||!this.props.data.length)return null;return this.props.data.map(function(e){return a.a.createElement(_["a"],O({key:e.message.message.ts},e,{jumpToMessage:t.jumpToMessage,isStandalone:true}))})}},{key:"render",value:function e(){return a.a.createElement("div",{className:"p-explore__module p-explore__module--outer"},this.renderLoading(),this.renderEmptyState(),this.renderMessages())}}]);return t}(n["PureComponent"]);T.displayName="BaseExplore";T.propTypes=C;T.defaultProps=S;var I=function e(t){return{data:Object(d["getExploreFeedMessages"])(t),loading:Object(d["getExploreFeedLoading"])(t),lastFetched:Object(d["getExploreLastFetched"])(t),teamId:Object(f["getTeamId"])(t)}};var N=function e(t){return{fetchExploreFeedMessages:function e(){return t(Object(v["a"])())}}};t["a"]=Object(i["connect"])(I,N)(T)},18466:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16918);var u=r(16963);var p=r(18467);var f=r(18468);var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b={message:o.a.object.isRequired,debug:o.a.object.isRequired,jumpToMessage:o.a.func.isRequired};var _={jumpToMessage:c.a.noop};var g=function(e){m(t,e);function t(){v(this,t);var e=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.openDebugPane=e.openDebugPane.bind(e);return e}d(t,[{key:"constructMessageArray",value:function e(){var t=this.props.message.message;return[t.previous_2,t.previous,t,t.next,t.next_2].filter(function(e){return!!e})}},{key:"openDebugPane",value:function e(){Object(p["a"])(this.props.debug)}},{key:"renderDebugButton",value:function e(){return a.a.createElement(l["d"],{type:"outline",icon:"eye",onClick:this.openDebugPane})}},{key:"renderChannelHeader",value:function e(){return a.a.createElement("div",{className:"p-explore_message__header"},a.a.createElement("div",{className:"p-explore_message__channel"},a.a.createElement(u["a"],{channel:this.props.message.channel})),this.renderDebugButton())}},{key:"renderMessages",value:function e(){var t=this;var r=this.constructMessageArray();return r.map(function(e){return a.a.createElement(f["a"],{message:e,jumpToMessage:t.props.jumpToMessage})})}},{key:"render",value:function e(){return a.a.createElement("div",null,this.renderChannelHeader(),a.a.createElement("div",{className:"p-explore_message_group"},this.renderMessages()))}}]);return t}(n["PureComponent"]);g.displayName="ExploreMessageGroup";g.propTypes=b;g.defaultProps=_;t["a"]=g},18467:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.client.ui.debugger_flexpane.printJSON")},18468:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(3);var s=r.n(o);var c=r(1);var l=r.n(c);var u=r(17146);var p=r(17825);var f=r(17826);var d=r(18012);var v=r(18014);var h=r(17399);var m=r(16938);var b=r(16985);var _=r(18015);var g=r(16917);var y=r(16998);var O=r(16960);var E=r(16942);var j=r(16948);var k=r(17052);var w=r(16919);var C=r(16974);var S=r(17001);var T=r(16912);var I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var N=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function R(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var M=new T["b"]("explore");var x={message:s.a.object.isRequired,user:s.a.object.isRequired,hasAdHocSender:s.a.bool.isRequired,jumpToMessage:s.a.func.isRequired};var L={hasAdHocSender:false,jumpToMessage:l.a.noop};var D=function(e){R(t,e);function t(){A(this,t);var e=P(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.jumpToMessage=e.jumpToMessage.bind(e);return e}N(t,[{key:"jumpToMessage",value:function e(){var t=this.props.message.permalink;this.props.jumpToMessage({permalink:t})}},{key:"renderAvatar",value:function e(){var t=this.props.message,r=t.user,n=t.bot_id;var i=this.props.hasAdHocSender;return a.a.createElement(b["b"],{className:"p-explore_message__avatar",userId:r,isAdHocMember:i,botId:n,size:24,isInteractive:true,showCard:true,showTooltip:true,tabIndex:"-1"})}},{key:"renderGutter",value:function e(){return a.a.createElement("div",{className:"p-explore_message__gutter"},this.renderAvatar())}},{key:"renderContentHeader",value:function e(){var t=this.props.message,r=t.user,n=t.bot_id;var i=this.props,o=i.message,s=i.user;var c=s&&s.real_name||o.username;var l=o.ts;return a.a.createElement("div",{className:"p-explore_message__content_header"},a.a.createElement(_["a"],{name:c,userId:r,botId:n,isInteractive:false,isUnknown:false}),a.a.createElement(E["a"],{className:"p-explore_message__timestamp",onClick:this.jumpToMessage},Object(k["f"])(l)))}},{key:"renderText",value:function e(){var t=this.props.message.text;if(!t||!t.length)return null;return a.a.createElement("div",{className:"p-explore_message__body"},a.a.createElement(m["a"],{text:t}))}},{key:"renderAttachments",value:function e(){var t=this;var r=this.props.message.attachments;if(!r)return null;return r.map(function(e){return a.a.createElement(h["a"],I({},Object(S["b"])(e),{messageTs:t.props.message.ts,showDelete:false}))})}},{key:"renderGeneric",value:function e(t){var r=this.props.message.channel&&this.props.message.channel.id;return a.a.createElement(u["d"],{file:t,channelId:r})}},{key:"renderImage",value:function e(t){var r=this.props.message.channel&&this.props.message.channel.id;return a.a.createElement(v["a"],{file:t,channelId:r,clogLinkClick:this.clogLinkClick})}},{key:"renderSnippet",value:function e(t){var r=this.props.message.ts;var n=this.props.message.channel&&this.props.message.channel.id;var i=t.preview_highlight||"";return a.a.createElement(p["a"],{fileId:t.id,file:t,snippetHtml:i,ts:r,channelId:n,clogLinkClick:this.clogLinkClick})}},{key:"renderPost",value:function e(t){var r=this.props.message,n=r.ts,i=r.unfurlLinkCache;var o=this.props.message.channel&&this.props.message.channel.id;var s=t.preview||"";return a.a.createElement(f["a"],{file:t,postHtml:s,fileId:t.id,ts:n,channelId:o,unfurlLinkCache:i,clogLinkClick:this.clogLinkClick})}},{key:"renderEmail",value:function e(t){var r=this.props.message.ts;var n=this.props.message.channel&&this.props.message.channel.id;return a.a.createElement(d["a"],{fileId:t.id,ts:r,channelId:n,clogLinkClick:this.clogLinkClick})}},{key:"renderFileContent",value:function e(){var t=this;var r=this.props.message.files;if(!r)return null;return r.map(function(e){if(!e)return null;var r=Object(j["getFileType"])(e);if("image"===r)return t.renderImage(e);if("snippet"===r)return t.renderSnippet(e);if("post"===r)return t.renderPost(e);if("docs"===r)return t.renderPost(e);if("email"===r)return t.renderEmail(e);if("generic"===r)return t.renderGeneric(e);return null})}},{key:"renderReactionsAndReplies",value:function e(){var t=this.props.message,r=t.reply_count,n=t.reactions,i=void 0===n?[]:n;if(!i.length&&!r)return null;var o=l.a.chain(i).sortBy("count").take(2).value();var s=l.a.sumBy(i,"count");var c=null;var u=null;s>0&&(c=a.a.createElement(O["a"],{enabled:["feature_sli_explore"]},a.a.createElement("span",{className:"p-explore_message__reactions_count"},M.t("{totalReactionCount, plural, =1 {# reaction} other {# reactions}}",{totalReactionCount:s}))));r>0&&(u=a.a.createElement(O["a"],{enabled:["feature_sli_explore"]},a.a.createElement("span",{className:"p-explore_message__replies_count"},a.a.createElement(g["b"],{type:"comment-alt"})," ",M.t("{replyCount, plural, =1 {# reply} other {# replies}}",{replyCount:r}))));return a.a.createElement("div",{className:"p-explore_message__reactions"},l.a.map(o,function(e){return a.a.createElement(y["a"],{text:":"+e.name+":",key:e.name})}),c,u)}},{key:"render",value:function e(){return a.a.createElement("div",{className:"p-explore_message p-explore_message--light"},this.renderGutter(),a.a.createElement("div",{className:"p-explore_message__content"},this.renderContentHeader(),this.renderText(),this.renderAttachments(),this.renderFileContent(),this.renderReactionsAndReplies()))}}]);return t}(n["PureComponent"]);D.displayName="BaseExploreMessage";D.propTypes=x;D.defaultProps=L;var F=function e(t,r){var n=r.message,a=r.jumpToMessage;var i=n.user,o=n.bot_id;var s=o?Object(C["getBotById"])(t,o):Object(w["getMemberById"])(t,i);return{message:n,user:s,jumpToMessage:a}};t["a"]=Object(i["connect"])(F)(D)},18470:function(e,t,r){"use strict";var n=r(16929);var a=r(17063);var i=Object(a["a"])("Unfurls an attachment for a given URL",function(e,t,r){return e(Object(n["a"])({method:"chat.unfurlLink",args:{url:r}})).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.attachments,n=void 0===t?[]:t;return n[r]})});t["a"]=i},18474:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18475);var a=r(16928);Object(a["a"])("interop.mountFilesFlexpane",n["a"])},18475:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(16954);var s=r(16927);var c=r(18476);var l=function e(t,r){if(!t)throw new Error("mountFilesFlexpane must be called with a teamId parameter");var n=Object(s["c"])(t);Object(o["a"])(a.a.createElement(i["Provider"],{store:n},a.a.createElement(c["a"],null)),r)};t["a"]=l},18476:function(e,t,r){"use strict";var n=r(18477);t["a"]=n["a"]},18477:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(17410);var l=r(18016);var u=r(18478);var p=r(18492);function f(e){if(e.fileId)return a.a.createElement(u["a"],e);if(e.list)return a.a.createElement(p["a"],e);return null}f.propTypes={fileId:o.a.string,list:o.a.bool,origin:o.a.string};f.defaultProps={fileId:null,list:false,origin:null};function d(e){var t=Object(c["getFlexpaneState"])(e),r=t.flexName,n=t.flexExtra,a=t.flexOrigin;var i=Object(l["a"])(n);return{list:"files"===r&&!i,fileId:"files"===r&&i?n:null,origin:"files"===r?a:null}}t["a"]=Object(s["connect"])(d)(f)},18478:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(3);var l=r.n(c);var u=r(333);var p=r(8);var f=r.n(p);var d=r(16913);var v=r(16946);var h=r(16922);var m=r(16919);var b=r(16974);var _=r(16948);var g=r(16921);var y=r(16947);var O=r(17052);var E=r(16912);var j=r(16934);var k=r(18479);var w=r(20536);var C=r(17051);var S=r(17142);var T=r(17146);var I=r(17035);var N=r(17607);var A=r(18480);var P=r(18482);var R=r(18483);var M=r(16942);var x=r(16917);var L=r(17186);var D=r(18484);var F=r(17262);var B=r(16960);var U=r(18488);var H=r(17394);var q=r(18489);var G=r(18490);var W=r(20227);var V=r.n(W);var K=r(20182);var z=r.n(K);var Q=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function X(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Z=new E["b"]("file-details");var $={file:y["a"].File(),origin:l.a.string,featureFileThreads:l.a.bool,do24hrTime:l.a.bool,fileIsFetching:l.a.bool,reloadFile:l.a.func,userId:l.a.string,botId:l.a.string,ownerName:l.a.string};var ee={file:null,origin:null,featureFileThreads:false,do24hrTime:false,fileIsFetching:false,reloadFile:a.a.noop,userId:"",botId:"",ownerName:""};var te=function(e){X(t,e);function t(e){Y(this,t);var r=J(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.goBack=r.goBack.bind(r);r.renderPreview=r.renderPreview.bind(r);r.renderImage=r.renderImage.bind(r);r.renderSnippet=r.renderSnippet.bind(r);r.renderPost=r.renderPost.bind(r);r.renderEmail=r.renderEmail.bind(r);r.renderGeneric=r.renderGeneric.bind(r);r.onNameClick=r.onNameClick.bind(r);return r}Q(t,[{key:"onNameClick",value:function e(t){if(Object(w["a"])(t))return;var r=this.props,n=r.userId,a=r.botId;if(!n&&!a)return;t.preventDefault();t.persist();a?Object(S["a"])(t,a):Object(C["a"])(t,n)}},{key:"goBack",value:function e(){var t=this.props.origin;Object(k["a"])(t)}},{key:"isImage",value:function e(){return"image"===Object(_["getFileType"])(this.props.file)}},{key:"renderImage",value:function e(){return o.a.createElement(N["a"],{file:this.props.file,stretch:true})}},{key:"renderSnippet",value:function e(){return o.a.createElement(A["a"],{fileId:this.props.file.id})}},{key:"renderPost",value:function e(){return o.a.createElement(P["a"],{fileId:this.props.file.id})}},{key:"renderEmail",value:function e(){return o.a.createElement(R["a"],{fileId:this.props.file.id})}},{key:"renderGeneric",value:function e(){return o.a.createElement(T["d"],{file:this.props.file})}},{key:"renderPreview",value:function e(){var t=this.props.file;var r=Object(_["getFileType"])(t);if("image"===r)return this.renderImage();if("snippet"===r)return this.renderSnippet();if("post"===r)return this.renderPost();if("docs"===r)return this.renderPost();if("email"===r)return this.renderEmail();if("generic"===r)return this.renderGeneric();return null}},{key:"renderUserNameAndTimestamp",value:function e(){var t=this.props,r=t.file,n=t.do24hrTime,a=t.featureFileThreads,i=t.ownerName,s=t.userId,c=t.botId;var l="";!Object(_["isFilePublic"])(r)&&a&&(l=o.a.createElement("div",{className:"p-file_details__private"},Z.t("Private file")));var u="";c&&a&&(u=o.a.createElement("span",{className:"c-app_label","data-stringify-suffix":" "},Z.t("APP")));var p="";p=c?"/services/"+c:"/team/"+s;return o.a.createElement("div",{className:"p-file_details__user_meta"},o.a.createElement(M["a"],{href:p,className:"p-file_details__user_link",onClick:this.onNameClick},i),u,o.a.createElement("div",{className:"p-file_details__upload_date"},Z.rt("{date} at {time}",{date:Object(O["f"])(r.timestamp),time:Object(O["i"])(r.timestamp,{do24hrTime:n})})),l)}},{key:"renderBackButtonAndTitle",value:function e(){var t=this.props,r=t.origin,n=t.featureFileThreads;if(!n&&!Object(j["a"])())return null;var a=Z.rt("Files");"member_preview"===r?a=Z.rt("Member"):"starred_items"===r?a=Z.rt("Starred Items"):"search_results"===r?a=Z.rt("Search Results"):"channel_page"===r?a=Z.rt("Channel Details"):"group_page"===r?a=Z.rt("Channel Info"):"im_page"===r?a=Z.rt("Conversation Details"):"mentions"===r&&(a=Z.rt("Activity"));return o.a.createElement(I["a"],{className:"p-file_details__header_back",onClick:this.goBack},o.a.createElement(x["a"],{type:"chevron-medium-left",className:"p-file_details__header_back_icon"}),o.a.createElement("span",null,a))}},{key:"renderComments",value:function e(){var t=this.props.file;if(a.a.isEmpty(t.comments))return null;return o.a.createElement("div",{className:"p-file_details__comments"},o.a.createElement("hr",{className:"p-file_details__comment_separator"}),o.a.createElement(D["a"],{comments:t.comments}))}},{key:"renderBody",value:function e(){var t=this.props,r=t.file,n=t.featureFileThreads,a=t.fileIsFetching,i=t.reloadFile;var s=n||Object(j["a"])();if(a&&!r)return null;if(!r)return o.a.createElement(q["a"],{tryAgain:i,featureFileThreads:s});if(Object(_["isTombstone"])(r))return o.a.createElement(G["a"],{featureFileThreads:s});var c={};if(this.isImage()){c.maxWidth=(r.thumb_480_w||r.thumb_360_w)+"px";c.maxHeight=(r.thumb_480_h||r.thumb_360_h)+"px"}var l=Object(_["getFileType"])(r);var u="image"===l||"snippet"===l;var p=f()("p-file_details__meta",{"p-file_details__meta--show_filename":u});return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"p-file_details__meta_container"},o.a.createElement("div",{className:p},u?o.a.createElement(T["c"],{file:r,className:"p-file_details__name"}):null,this.renderUserNameAndTimestamp()),o.a.createElement(F["a"],{file:r})),o.a.createElement("div",{className:"p-file_details__preview",style:c},this.renderPreview()),this.renderComments(),o.a.createElement(U["a"],{file:r,featureFileThreads:s}))}},{key:"render",value:function e(){var t=this;return o.a.createElement("div",{className:"p-file_flexpane"},o.a.createElement(B["a"],{disabled:["feature_global_nav_flex"]},o.a.createElement(H["a"],null,this.renderBackButtonAndTitle())),o.a.createElement("div",{className:"p-file_flexpane__content"},o.a.createElement(u["a"],null,function(e){var r=e.width,n=e.height;return o.a.createElement(L["a"],{width:r,height:n,fade:true},o.a.createElement("div",{className:"p-file_details"},t.renderBody()))})))}}]);return t}(i["PureComponent"]);te.displayName="FileDetails";te.propTypes=$;te.defaultProps=ee;var re=function e(t,r){var n=r.fileId;if(!n)return{};var a=Object(v["getFileById"])(t,n);if(!a)return{};var i=Object(_["getFileEntityId"])(a),o=i.userId,s=i.botId;var c=o?Object(m["getMemberById"])(t,o):null;var l=c?Object(g["b"])(c):null;var u=s||l;var p="";if(u){var f=Object(b["getBotById"])(t,u);f&&f.name&&(p=f.name)}!p&&c&&(p=Object(g["q"])(t,c));p||(p=a.username);return{file:Object(v["getFileById"])(t,n),featureFileThreads:Object(d["isFeatureEnabled"])(t,"feature_file_threads"),do24hrTime:Object(h["getUserPref"])(t,"time24"),userId:o,botId:u,ownerName:p}};var ne=Object(s["connect"])(re)(te);t["a"]=Object(T["e"])(ne,{alwaysFetchOnMount:true})},18479:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.client.ui.files.backButtonOnClick")},18480:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(16946);var l=r(16913);var u=r(16912);var p=r(17014);var f=r(16957);var d=r(17825);var v=r(20224);var h=r.n(v);var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=new u["b"]("snippet");var E={featureFileThreads:o.a.bool};var j={featureFileThreads:true};var k=function(e){y(t,e);function t(e){_(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onWrapLinesChange=r.onWrapLinesChange.bind(r);r.state={wrapLines:true};return r}b(t,[{key:"onWrapLinesChange",value:function e(t){var r=t.target.checked;this.setState(function(e){return m({},e,{wrapLines:!!r})})}},{key:"render",value:function e(){if(!this.props.featureFileThreads)return null;return[a.a.createElement(d["a"],m({key:"snippet"},this.props,{wrapLines:this.state.wrapLines})),a.a.createElement(f["a"],{key:"checkbox",text:O.rt("Wrap"),htmlFor:"snippet-wrap",type:"inline",cursor:"pointer",className:"p-flexpane_snippet__wrap"},a.a.createElement(p["a"],{checked:this.state.wrapLines,id:"snippet-wrap",onChange:this.onWrapLinesChange}))]}}]);return t}(n["PureComponent"]);k.displayName="FlexpaneSnippet";k.propTypes=E;k.defaultProps=j;function w(e,t){var r=t.fileId;var n=Object(c["getFileById"])(e,r);if(!n)return{};var a=n.is_truncated,i=n.permalink;var o=n.content_highlight_html||n.preview_highlight||"";var s=false;return{file:n,snippetHtml:o,isTruncated:a,permalink:i,isExpandable:s,featureFileThreads:Object(l["isFeatureEnabled"])(e,"feature_file_threads")}}t["a"]=Object(s["connect"])(w)(k)},18482:function(e,t,r){"use strict";var n=r(9);var a=r(16946);var i=r(16922);var o=r(17826);function s(e,t){var r=t.fileId;var n=Object(a["getFileById"])(e,r);if(!n)return{};var o=n.content_html||n.preview||"";var s=false===Object(i["getUserPref"])(e,"a11y_animations");var c=false;var l=false;return{postHtml:o,file:n,timestamp:n.updated||n.timestamp,allowAnimations:!s,showActions:l,isExpandable:c}}t["a"]=Object(n["connect"])(s)(o["a"])},18483:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(9);var o=r(16946);var s=r(16922);var c=r(18013);function l(e,t){var r=t.fileId;var n=Object(o["getFileById"])(e,r);if(!n)return{};var i=false;var c=true;return{file:n,sentToSelf:n.sent_to_self,sender:a.a.first(n.from),to:n.to,cc:n.cc,title:n.title,subject:n.subject,timestamp:n.timestamp,attachments:n.attachments,simplifiedHtml:n.simplified_html,do24hrTime:Object(s["getUserPref"])(e,"time24"),isExpandable:i,isExpanded:c}}t["a"]=Object(i["connect"])(l)(c["a"])},18484:function(e,t,r){"use strict";var n=r(18017);var a=r(18486);r.d(t,"a",function(){return a["a"]});var i=n["a"]},18486:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(3);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(17036);var f=r(16959);var d=r(16934);var v=r(16912);var h=r(17294);var m=r(17035);var b=r(16917);var _=r(18017);var g=r(20226);var y=r.n(g);var O=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=new v["b"]("comments");var C={comments:c.a.array,featureFileThreads:c.a.bool};var S={comments:void 0,featureFileThreads:true};var T=function(e){k(t,e);function t(e){E(this,t);var r=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.toggle=r.toggle.bind(r);r.state={expanded:false};return r}O(t,[{key:"toggle",value:function e(){var t=this;this.setState(function(){return{expanded:!t.state.expanded}})}},{key:"render",value:function e(){var t=this.props,r=t.comments,a=t.featureFileThreads;var i=this.state.expanded;if(!a&&!Object(d["a"])())return null;if(Object(n["isEmpty"])(r))return null;var s=r.map(function(e){var t=e.id;return o.a.createElement(_["a"],{key:t,comment:e})});var c=u()("p-comment_list",{"p-comment_list--expanded":i});return o.a.createElement("div",{className:c},o.a.createElement("div",{className:"p-comment_list__toggle_container"},o.a.createElement(h["a"],{onClick:this.toggle},w.t("See older comments")),o.a.createElement(m["a"],{className:"p-comment_list__toggle_count_button",onClick:this.toggle,ariaLabel:w.t("Click to expand")},o.a.createElement(b["b"],{type:"comment-alt"}),o.a.createElement("span",{className:"p-comment_list__toggle_count"},r.length),i?o.a.createElement(b["b"],{type:"caret-down",className:"p-comment_list__toggle_caret"}):o.a.createElement(b["b"],{type:"caret-right",className:"p-comment_list__toggle_caret"}))),o.a.createElement("div",{className:"p-comment_list__comments"},s))}}]);return t}(p["a"]);T.displayName="CommentList";T.propTypes=C;T.defaultProps=S;t["a"]=Object(f["a"])("feature_file_threads")(T)},18488:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(3);var l=r.n(c);var u=r(16947);var p=r(16912);var f=r(17832);var d=r(16963);var v=r(16940);var h=r(16916);var m=r(17004);var b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=new p["b"]("file-details");var E={file:u["a"].File(),featureFileThreads:l.a.bool,openThread:l.a.func};var j={file:null,featureFileThreads:false,openThread:a.a.noop};var k=function(e){y(t,e);function t(e){_(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onShareClick=r.onShareClick.bind(r);return r}b(t,[{key:"onShareClick",value:function e(t,r){var n=this.props,a=n.file,i=n.openThread;t.preventDefault();var o=r.threadTs||r.ts;var s=o!==r.ts?r.ts:null;var c="file_details";var l=a&&a.id;i({channelId:r.channelId,threadTs:o,highlightTs:s,origin:c,originId:l})}},{key:"getFormattedSharesData",value:function e(t){var r=this;if(!t)return[];var n=a.a.merge(t.public,t.private);return a.a.chain(n).transform(function(e,t,n){t.forEach(function(t){if("0000000000.000000"===t.ts){Object(h["warn"])("Skipping 0000000000.000000 share for "+r.props.file.id);return}var a=t.reply_count||null;var i=t.reply_users;var o=t.reply_users_count;var s=t.latest_reply||t.ts;var c=Object(v["constructMsgPermalink"])(n,t.ts,t.thread_ts);e.push({channelId:n,replyCount:a,replyUsers:i,replyUsersCount:o,latest:s,ts:t.ts,threadTs:t.thread_ts,permalink:c})})},[]).orderBy("ts","desc").value()}},{key:"getReplyCountText",value:function e(t){if(!this.props.featureFileThreads)return null;var r=t.replyCount;if(!r)return null;return o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"p-file_details__share_metadata_dot"},"\xb7"),O.t("{replyCount, plural, =1 {# reply} other {# replies}}",{replyCount:r}))}},{key:"render",value:function e(){var t=this;var r=this.props,n=r.file,a=r.featureFileThreads;if(!a)return null;if(!n||!n.shares)return null;var i=n.shares;var s=this.getFormattedSharesData(i);return o.a.createElement("div",{className:"p-file_details__shares"},o.a.createElement("div",{className:"p-file_details__share_divider"},o.a.createElement("span",null,O.rt("Shared in")),o.a.createElement("hr",null)),s.map(function(e){return o.a.createElement("div",{className:"p-file_details__share",key:e.channelId+"_"+e.ts},o.a.createElement("a",{href:e.permalink,target:"_blank",rel:"noopener noreferrer",onClick:function r(n){return t.onShareClick(n,e)}},o.a.createElement(d["a"],{channelId:e.channelId,className:"p-file_details__share_channel",iconProps:{inherit:true}})),o.a.createElement("span",{className:"p-file_details__share_metadata"},o.a.createElement(f["a"],{timestamp:e.ts,relative:true}),t.getReplyCountText(e)))}))}}]);return t}(i["PureComponent"]);k.displayName="FileDetailsShares";k.propTypes=E;k.defaultProps=j;t["a"]=Object(s["connect"])(null,{openThread:m["d"]})(k)},18489:function(e,t,r){"use strict";t["a"]=v;var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(3);var c=r.n(s);var l=r(16912);var u=r(16918);var p=new l["b"]("file-details");var f={tryAgain:c.a.func,featureFileThreads:c.a.bool};var d={tryAgain:n["noop"],featureFileThreads:true};function v(e){var t=e.tryAgain,r=e.featureFileThreads;if(!r)return null;return o.a.createElement("div",{className:"p-file_details__error"},o.a.createElement("p",{className:"p-file_details__error_header"},p.t("Couldn't load file")),o.a.createElement("p",null,p.rt("If the problem persists, please <a>drop us a line.</a>",null,function(e){var t=e.text,r=e.key;return o.a.createElement("a",{href:"https://slack.com/help/contact",target:"_blank",rel:"noopener noreferrer",key:r},t)})),o.a.createElement(u["d"],{type:"primary",onClick:t},p.t("Try Again")))}v.displayName="FileDetailsError";v.propTypes=f;v.defaultProps=d},18490:function(e,t,r){"use strict";t["a"]=f;var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16917);var c=r(16912);var l=new c["b"]("file-details");var u={featureFileThreads:o.a.bool};var p={featureFileThreads:true};function f(e){var t=e.featureFileThreads;if(!t)return null;return a.a.createElement("div",{className:"p-file_details__tombstone"},a.a.createElement("div",{className:"p-file_details__tombstone_icon"},a.a.createElement(s["b"],{type:"trash",size:"inherit"})),a.a.createElement("p",null,l.t("This file was deleted.")))}f.displayName="FileDetailsTombstone";f.propTypes=u;f.defaultProps=p},18492:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(263);var l=r.n(c);var u=r(333);var p=r(8);var f=r.n(p);var d=r(1);var v=r.n(d);var h=r(16946);var m=r(17289);var b=r(16913);var _=r(16947);var g=r(16912);var y=r(16934);var O=r(17828);var E=r(17706);var j=r(18493);var k=r(17703);var w=r(17394);var C=r(18019);var S=r(18495);var T=r(20229);var I=r.n(T);var N=r(20182);var A=r.n(N);var P=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var L=new g["b"]("files");var D=Object(k["a"])(j["a"]);var F={files:o.a.arrayOf(_["a"].File()),filetype:o.a.string,user:o.a.string,scrollmark:o.a.shape({key:o.a.string,offset:o.a.number}),fetchFilesPre:o.a.func,fetchFilesPost:o.a.func,saveScrollmark:o.a.func,setFiletype:o.a.func,setUser:o.a.func,featureFileThreads:o.a.bool,featureGlobalNavFlex:o.a.bool};var B={files:[],filetype:"",user:"",scrollmark:void 0,fetchFilesPre:d["noop"],fetchFilesPost:d["noop"],saveScrollmark:d["noop"],setFiletype:d["noop"],setUser:d["noop"],featureFileThreads:false,featureGlobalNavFlex:false};var U=function(e){x(t,e);function t(e){R(this,t);var r=M(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onFileClick=r.onFileClick.bind(r);r.onScroll=r.onScroll.bind(r);r.setListRef=r.setListRef.bind(r);r.fetchPre=r.fetchPre.bind(r);r.fetchPost=r.fetchPost.bind(r);r.fetchAround=r.fetchAround.bind(r);r.renderRow=r.renderRow.bind(r);r.renderFile=r.renderFile.bind(r);r.requestPre=null;r.requestPost=null;r.keys=null;r.list=null;r.layout=new E["a"];r.state={reachedStart:false,reachedEnd:false};return r}P(t,[{key:"componentDidMount",value:function e(){if(!this.props.scrollmark)return;var t=this.props.scrollmark,r=t.key,n=t.offset;this.layout.setAnchor(r,n);this.props.saveScrollmark(null)}},{key:"componentWillReceiveProps",value:function e(t){var r=this.props,n=r.filetype,a=r.user;if(t.filetype!==n||t.user!==a){this.requestPre&&this.requestPre.cancel();this.requestPost&&this.requestPost.cancel();this.requestPre=null;this.requestPost=null;this.setState(function(){return{reachedStart:false,reachedEnd:false}});this.layout&&this.layout.setAnchor(false)}}},{key:"onFileClick",value:function e(t,r){if(!this.list)return;if(!r)return;this.props.saveScrollmark({key:r.id,offset:this.layout.getOffsetForKey(r.id)-this.list.getScrollTop()})}},{key:"onScroll",value:function e(){this.layout.anchor&&this.layout.setAnchor(false)}},{key:"setListRef",value:function e(t){this.list=t}},{key:"fetchPre",value:function e(){var t=this;if(this.requestPre)return false;if(this.state.reachedStart)return false;var r=this.props,n=r.filetype,a=r.user;this.requestPre=this.props.fetchFilesPre({types:n,user:a});return this.requestPre.then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.paging;var n=r.page;1===n&&t.setState(function(){return{reachedStart:true}})}).finally(function(){t.requestPre=null})}},{key:"fetchPost",value:function e(){var t=this;if(this.requestPost)return false;if(this.state.reachedEnd)return false;var r=this.props,n=r.filetype,a=r.user;this.requestPost=this.props.fetchFilesPost({types:n,user:a});return this.requestPost.then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.paging;var n=r.page,a=r.pages;n>=a&&t.setState(function(){return{reachedEnd:true}})}).finally(function(){t.requestPost=null})}},{key:"fetchAround",value:function e(){if(this.requestPre&&this.requestPost)return false;if(this.state.reachedEnd)return this.fetchPre();if(this.state.reachedStart)return this.fetchPost();return this.fetchPre()}},{key:"renderRow",value:function e(t){if(!this.props.featureFileThreads&&!Object(y["a"])())return null;var r=this.keys[t];if(!r)return null;switch(r[0]){case"L":return a.a.createElement("div",{className:"p-file_list__loading"},L.t("Loading\u2026"));case"P":return a.a.createElement("div",{className:"p-file_list__empty"},L.t("No matching files were found."));default:return this.renderFile(t)}}},{key:"renderFile",value:function e(t){var r=this.props.files[t];if(!r)return null;var n=t===this.props.files.length-1;var i=f()("p-file_list__file",{"p-file_list__file--last":n});return a.a.createElement(D,{onClick:this.onFileClick,file:r,fileId:r.id,className:i,fullWidth:true})}},{key:"render",value:function e(){var t=this;this.keys=this.props.files.map(function(e){return e.id});this.state.reachedEnd||this.keys.push("Loading"+this.keys.length);!this.keys.length&&this.state.reachedStart&&this.state.reachedEnd&&this.keys.push("Placeholder");var r=this.props.featureGlobalNavFlex?"p-file_list__filters p-file_list__filters--global-nav":"p-file_list__filters";var n=this.props.featureGlobalNavFlex?null:a.a.createElement(w["a"],{className:"p-file_list__header"},a.a.createElement("span",null,L.rt("Files")));return a.a.createElement("div",{className:"p-file_flexpane p-file_flexpane--list"},n,a.a.createElement("div",{className:r},a.a.createElement(C["a"],{filetype:this.props.filetype,onChange:this.props.setFiletype}),a.a.createElement(S["a"],{userId:this.props.user,onChange:function e(r){t.props.setUser(r)}})),a.a.createElement("div",{className:"p-file_list"},a.a.createElement(u["a"],null,function(e){var r=e.width,n=e.height;return a.a.createElement(O["a"],{width:r,height:n,keys:t.keys,layout:t.layout,rowRenderer:t.renderRow,onScroll:t.onScroll,ref:t.setListRef,loadAround:t.fetchAround,loadPre:t.fetchPre,loadPost:t.fetchPost})})))}}]);return t}(n["PureComponent"]);U.displayName="FileList";U.propTypes=F;U.defaultProps=B;var H=Object(c["createSelector"])([h["getAllFiles"],m["getFlexpaneFiles"]],function(e,t){return t.map(function(t){return e[t]}).filter(function(e){return e})});t["a"]=Object(s["connect"])(function(e){return{files:H(e),scrollmark:Object(m["getScrollmark"])(e),filetype:Object(m["getFiletype"])(e),user:Object(m["getUser"])(e),featureFileThreads:Object(b["isFeatureEnabled"])(e,"feature_file_threads"),featureGlobalNavFlex:Object(b["isFeatureEnabled"])(e,"feature_global_nav_flex")}},{fetchFilesPre:m["fetchFilesPre"],fetchFilesPost:m["fetchFilesPost"],saveScrollmark:m["saveScrollmark"],setFiletype:m["setFiletype"],setUser:m["setUser"]})(U)},18493:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(8);var l=r.n(c);var u=r(1);var p=r.n(u);var f=r(16947);var d=r(17004);var v=r(17188);var h=r(17194);var m=r(17642);var b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O={file:f["a"].File().isRequired,clogLinkClick:o.a.func,className:o.a.string,fullWidth:o.a.bool,onClick:o.a.func,previewFile:o.a.func};var E={clogLinkClick:u["noop"],className:null,fullWidth:false,onClick:u["noop"],previewFile:u["noop"]};var j=function(e){y(t,e);function t(e){_(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onClick=r.onClick.bind(r);return r}b(t,[{key:"onClick",value:function e(t){t.preventDefault();this.props.onClick(t,this.props.file);this.props.previewFile({fileId:this.props.file.id})}},{key:"render",value:function e(){var t=this.props,r=t.file,n=t.clogLinkClick,i=t.fullWidth;var o=l()("p-contextual_file",this.props.className);return a.a.createElement(v["a"],{file:r,className:o,fullWidth:i,clogLinkClick:n,onClick:this.onClick},a.a.createElement(h["a"],{file:r},a.a.createElement(m["a"],{file:r})))}}]);return t}(n["PureComponent"]);j.displayName="ContextualFile";j.propTypes=O;j.defaultProps=E;t["a"]=Object(s["connect"])(null,{previewFile:d["b"]})(j)},18495:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(3);var c=r.n(s);var l=r(9);var u=r(16919);var p=r(16912);var f=r(17072);var d=r(16987);var v=r(20034);var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=new p["b"]("files");var y={member:c.a.object,onChange:c.a.func};var O={member:null,onChange:n["noop"]};var E=function(e){_(t,e);function t(e){m(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onChange=r.onChange.bind(r);r.state={value:e.member?e.member.id:null,selectedOption:e.member?j(e.member.id):null};return r}h(t,[{key:"componentWillReceiveProps",value:function e(t){this.setState(function(){return{value:t.member?t.member.id:null,selectedOption:t.member?j(t.member.id):null}})}},{key:"onChange",value:function e(t,r){this.setState(function(){return{value:t,selectedOption:{value:t,label:r}}});this.props.onChange(t)}},{key:"render",value:function e(){return o.a.createElement(d["a"],{className:"p-file_list__select p-file_list__members_select",placeholder:g.t("Everyone",{fallbackHash:"c756f6af1f03c9ce381cb85934ffb274e2f54af3"}),onChange:this.onChange,value:this.state.value,selectedOption:this.state.selectedOption,optionsFetcher:k,optionsRowHeight:30})}}]);return t}(i["PureComponent"]);E.displayName="FilesFlexpaneMembersSelect";E.propTypes=y;E.defaultProps=O;function j(e){return{value:e,label:o.a.createElement("div",{className:"p-file_list__select__member"},o.a.createElement(v["a"],{id:e,size:"small",showPresence:true}))}}function k(e){return Object(f["a"])(e,{members:{include_self:true},sort:{allow_empty_query:true,frecency:true,self_first:true}}).then(function(e){return{options:e.map(function(e){var t=e.model_ob;return j(t.id)})}})}t["a"]=Object(l["connect"])(function(e,t){var r=t.userId;return{member:Object(u["getMemberById"])(e,r)}})(E)},18497:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18498);var a=r(16928);Object(a["a"])("interop.globalNav",{mountGlobalNav:n["a"]})},18498:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(16954);var s=r(16927);var c=r(18499);var l=function e(t,r){if(!t)throw new Error("mountGlobalNav must be called with a teamId parameter");var n=Object(s["c"])(t);Object(o["a"])(a.a.createElement(i["Provider"],{store:n},a.a.createElement(c["a"],null)),r)};t["a"]=l},18499:function(e,t,r){"use strict";var n=r(18500);r.d(t,"a",function(){return n["a"]})},18500:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(18501);var o=r(18543);var s=r(18561);var c=r(20573);var l=r(20184);var u=r.n(l);var p=function e(){return a.a.createElement("div",{className:"p-global_nav"},a.a.createElement(i["c"],null),a.a.createElement("div",{className:"p-global_nav__bottom"},a.a.createElement(s["a"],null),a.a.createElement(o["a"],null),a.a.createElement(c["a"],null)))};p.displayName="GlobalNav";t["a"]=p},18501:function(e,t,r){"use strict";r.d(t,"b",function(){return y});r.d(t,"a",function(){return O});var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(17980);var l=r(16913);var u=r(16912);var p=r(18502);var f=r(18504);var d=r(18511);var v=r(18516);var h=r(18517);var m=r(18518);var b=r(20184);var _=r.n(b);var g=new u["b"]("global_nav");var y=-12;var O=-4;var E={renderSonicMenu:o.a.func,featureGlobalNav:o.a.bool};var j={renderSonicMenu:void 0,featureGlobalNav:false};var k=function e(t){var r=t.renderSonicMenu,n=t.featureGlobalNav;if(!n)return null;return a.a.createElement("div",{className:"p-global_nav__top"},a.a.createElement(f["a"],{renderSonicMenu:r}),a.a.createElement(p["a"],null),a.a.createElement("div",{className:"p-global_nav__top_spacer"}),a.a.createElement(m["a"],null),a.a.createElement("div",{className:"p-global_nav__top_spacer--fill"}),a.a.createElement(c["a"],{className:"p-global_nav__top_button p-global_nav__top_button--dnd",menuPosition:"bottom-right",menuOffsetX:0,menuOffsetY:O,tooltipOffsetY:y}),a.a.createElement(v["a"],{icon:"mentions",pane:"mentions",tooltip:g.t("Activity")}),a.a.createElement(v["a"],{icon:"star-o",pane:"stars",tooltip:g.t("Starred items")}),a.a.createElement(h["a"],null),a.a.createElement("div",{className:"p-global_nav__top_spacer"}),a.a.createElement(d["a"],null))};k.displayName="TopNav";k.propTypes=E;k.defaultProps=j;var w=function e(t){return{featureGlobalNav:Object(l["isFeatureEnabled"])(t,"feature_global_nav")}};t["c"]=Object(s["connect"])(w)(k)},18502:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16917);var p=r(16963);var f=r(16950);var d=r(15852);var v=r(17950);var h=r(17951);var m=r(16925);var b=r(16913);var _=r(16971);var g=r(16961);var y=r(16924);var O=r(16912);var E=r(18503);var j=r(18501);var k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var w=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function T(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var I=new O["b"]("global_nav");var N={history:o.a.object.isRequired,currentTeamId:o.a.string,back:o.a.func,forward:o.a.func,index:o.a.func,sync:o.a.func,action:o.a.func,featureGlobalNav:o.a.bool,featureThreadsCopyChange:o.a.bool};var A={currentTeamId:void 0,back:c["noop"],forward:c["noop"],index:c["noop"],sync:c["noop"],action:o.a.func,featureGlobalNav:false,featureThreadsCopyChange:false};var P=function(e){T(t,e);function t(e){C(this,t);var r=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.renderBackMenu=r.renderBackMenu.bind(r);r.renderForwardMenu=r.renderForwardMenu.bind(r);r.renderBackTooltip=r.renderBackTooltip.bind(r);r.renderForwardTooltip=r.renderForwardTooltip.bind(r);return r}w(t,[{key:"componentDidMount",value:function e(){var t=this;window.requestIdleCallback&&window.requestIdleCallback(function(){return t.props.sync()});var r=Object(y["isWindows"])();var n=[{keys:r?"alt+left":"command+[",handler:function e(r){r.preventDefault();t.props.action("GLOBAL-NAV","Navigating back in history with key command");t.props.back()}},{keys:r?"alt+right":"command+]",handler:function e(r){r.preventDefault();t.props.action("GLOBAL-NAV","Navigating forward in history with key command");t.props.forward()}}];if(window.desktop){this.keyCommands||(this.keyCommands=new g["a"]);this.keyCommands.bindAll(n)}}},{key:"componentWillUnmount",value:function e(){this.keyCommands&&this.keyCommands.reset()}},{key:"renderItem",value:function e(t){var r=t.viewId,n=t.teamId,i=t.teamName;if(!this.props.featureGlobalNav)return null;if("Vall_threads"===r)return this.props.featureThreadsCopyChange?I.t("Threads"):I.t("All Threads");if("Vall_unreads"===r)return I.t("All Unreads");return n===this.props.currentTeamId?a.a.createElement(p["a"],{channelId:r}):r+" in "+(i||n)}},{key:"renderStackMenu",value:function e(t,r){var n=this;var i=function e(t){return t.viewId+":"+t.teamId};var o=Object(c["uniqBy"])(t,i);var s=o.map(function(e){return{label:n.renderItem(e),key:i(e),click:function t(){return n.props.index({target:e.index})},className:"p-global_nav__top_history_item"}});return a.a.createElement(f["a"],k({},r,{template:s}))}},{key:"renderBackMenu",value:function e(t){var r=Object(h["a"])(this.props.history);if(!r)return null;return this.renderStackMenu(r.reverse(),t)}},{key:"renderForwardMenu",value:function e(t){var r=Object(h["b"])(this.props.history);if(!r)return null;return this.renderStackMenu(r,t)}},{key:"renderBackTooltip",value:function e(){if(!this.props.featureGlobalNav)return null;var t=Object(h["a"])(this.props.history);if(!t||!t.length)return null;var r=t[t.length-1];return a.a.createElement(n["Fragment"],null,a.a.createElement("div",null,I.t("Go back")),a.a.createElement("div",{className:"sk_light_gray tiny_top_margin"},this.renderItem(r)))}},{key:"renderForwardTooltip",value:function e(){if(!this.props.featureGlobalNav)return null;var t=Object(h["b"])(this.props.history);if(!t||!t.length)return null;var r=t[0];return a.a.createElement(n["Fragment"],null,a.a.createElement("div",null,I.t("Go forward")),a.a.createElement("div",{className:"sk_light_gray tiny_top_margin"},this.renderItem(r)))}},{key:"render",value:function e(){var t=this.props.history;var r=!Object(h["a"])(t)||!Object(h["a"])(t).length;var i=!Object(h["b"])(t)||!Object(h["b"])(t).length;var o={position:"bottom-left",offsetX:-12,offsetY:j["a"],customTrigger:true};return a.a.createElement(n["Fragment"],null,a.a.createElement(f["d"],k({renderMenu:this.renderBackMenu},o),a.a.createElement(E["a"],{className:"p-global_nav__top_history p-global_nav__top_history--back",onClick:this.props.back,disabled:r,tooltip:this.renderBackTooltip},a.a.createElement(u["b"],{type:"chevron-large-left",className:"p-global_nav__top_button_icon"}))),a.a.createElement(f["d"],k({renderMenu:this.renderForwardMenu},o),a.a.createElement(E["a"],{className:"p-global_nav__top_history",onClick:this.props.forward,disabled:i,tooltip:this.renderForwardTooltip},a.a.createElement(u["b"],{type:"chevron-large-right",className:"p-global_nav__top_button_icon"}))))}}]);return t}(n["Component"]);P.displayName="History";P.propTypes=N;P.defaultProps=A;var R=function e(t){return{history:Object(d["getNavigationHistory"])(t),currentTeamId:Object(m["getTeamId"])(t),featureGlobalNav:Object(b["isFeatureEnabled"])(t,"feature_global_nav"),featureThreadsCopyChange:Object(b["isFeatureEnabled"])(t,"feature_threads_copy_change")}};var M={back:v["a"],forward:v["b"],index:v["c"],sync:v["f"],action:_["action"]};t["a"]=Object(s["connect"])(R,M)(P)},18503:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(16918);var f=r(16932);var d=r(18501);var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=300;var g={children:o.a.node,className:o.a.string,disabled:o.a.bool,tooltip:o.a.oneOfType([o.a.string,o.a.func]),onClick:o.a.func.isRequired,onTrigger:o.a.func};var y={children:null,className:void 0,disabled:false,tooltip:void 0,onTrigger:s["noop"]};var O=function(e){b(t,e);function t(e){h(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onMouseDown=r.onMouseDown.bind(r);r.onMouseUp=r.onMouseUp.bind(r);r.pressTimer=void 0;r.state={mouseHeld:false};return r}v(t,[{key:"componentWillUnmount",value:function e(){this.pressTimer&&clearTimeout(this.pressTimer);this.tipTimer&&clearTimeout(this.tipTimer);window.removeEventListener("mouseup",this.onMouseUp)}},{key:"onMouseDown",value:function e(t){var r=this;if(this.props.disabled)return;if(0!==t.button)return;t.persist();this.pressTimer=setTimeout(function(){return r.props.onTrigger(t)},_);this.tipTimer=setTimeout(function(){return r.setState(function(){return{mouseHeld:true}})},_/3);window.addEventListener("mouseup",this.onMouseUp)}},{key:"onMouseUp",value:function e(){this.pressTimer&&clearTimeout(this.pressTimer);this.tipTimer&&clearTimeout(this.tipTimer);this.state.mouseHeld&&this.setState(function(){return{mouseHeld:false}});window.removeEventListener("mouseup",this.onMouseUp)}},{key:"render",value:function e(){var t=this;var r=this.props,n=r.disabled,i=r.tooltip;var o=u()("p-global_nav__top_button",this.props.className,{"p-global_nav__top_button--disabled":n});var s=function e(r){var i=r.tip,o=r.children;if(n||!i||t.state.mouseHeld)return o;return a.a.createElement(f["c"],{tip:i,delay:f["a"],position:"bottom",offsetY:d["b"],tipClassName:"p-global_nav__top_history_tip"},o)};return a.a.createElement(s,{tip:i},a.a.createElement(p["c"],{className:o,disabled:n,onClick:this.props.onClick,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp},this.props.children))}}]);return t}(n["PureComponent"]);O.displayName="HistoryButton";O.propTypes=g;O.defaultProps=y;t["a"]=O},18504:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(16939);var l=r(17400);var u=r(16917);var p=r(16918);var f=r(16950);var d=r(18505);var v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g={name:o.a.string,renderSonicMenu:o.a.func};var y={name:void 0,renderSonicMenu:void 0};var O=function(e){_(t,e);function t(e){m(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.renderMenu=r.renderMenu.bind(r);return r}h(t,[{key:"renderMenu",value:function e(t){return a.a.createElement(d["a"],v({},t,{renderSonicMenu:this.props.renderSonicMenu}))}},{key:"render",value:function e(){var t=this.props.name;if(!t)return null;return a.a.createElement(f["d"],{renderMenu:this.renderMenu,position:"bottom-left",offsetX:-4,offsetY:-4,allowanceX:12},a.a.createElement(p["c"],{className:"p-global_nav__top_name","data-qa":"team_menu"},t,a.a.createElement(u["b"],{type:"chevron-down",className:"p-global_nav__top_name_chevron"})))}}]);return t}(n["Component"]);O.displayName="Name";O.propTypes=g;O.defaultProps=y;var E=function e(t){var r=Object(c["getCurrentTeam"])(t);if(!r)return{};return{name:Object(l["getTeamDisplayName"])(r)}};t["a"]=Object(s["connect"])(E)(O)},18505:function(e,t,r){"use strict";var n=r(18506);t["a"]=n["a"]},18506:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16950);var p=r(16913);var f=r(16939);var d=r(17400);var v=r(16912);var h=r(16934);var m=r(18507);var b=r(17677);var _=r(18508);var g=r(17699);var y=r(18020);var O=r(18509);var E=r(18510);var j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function k(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}var w=new v["b"]("global_nav");var C={actions:o.a.object,renderSonicMenu:o.a.func,featureGlobalNav:o.a.bool,signOut:o.a.func,signoutName:o.a.string.isRequired};var S={actions:{},renderSonicMenu:void 0,featureGlobalNav:false,signOut:c["noop"]};var T=function e(t){var r=t.actions,n=t.renderSonicMenu,i=t.featureGlobalNav,o=t.signoutName,s=t.signOut,c=k(t,["actions","renderSonicMenu","featureGlobalNav","signoutName","signOut"]);if(!i)return null;var l=[{type:"submenu",label:"Sonic",renderSubmenu:n,hide:!n},{type:"separator"},{type:"custom",children:a.a.createElement(O["a"],{key:"team-header"})},{type:"separator"},{label:w.t("Preferences"),click:function e(){return Object(y["a"])()}},{label:w.t("Administration"),hide:!r.administration},{label:w.t("Invite people"),hide:!r.invite,click:b["a"]},{label:w.t("Customize Slack"),hide:!r.customize,href:"/customize",target:"_blank"},{label:w.t("Shared channels"),hide:!r.orgShared,click:_["a"]},{label:w.t("Shared channels (beta)"),hide:!r.externalShared,click:g["a"]},{label:w.rt("Sign out of <strong>{signoutName}</strong>",{signoutName:o}),hide:!Object(h["a"])(),click:function e(){return s()},dataQa:"logout"}].filter(function(e){return!e.hide});return a.a.createElement(u["a"],j({},c,{template:l,stripTerminalSeparators:true}))};T.displayName="TeamMenu";T.propTypes=C;T.defaultProps=S;var I={signOut:m["a"]};var N=function e(t){var r=Object(f["getCurrentTeam"])(t);return{actions:Object(E["a"])(t),featureGlobalNav:Object(p["isFeatureEnabled"])(t,"feature_global_nav"),teamId:r.id,signoutName:r.enterprise_name||Object(d["getTeamDisplayName"])(r)}};t["a"]=Object(s["connect"])(N,I)(T)},18507:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(17063);var a=r(16929);var i=r(16971);var o=r(16934);var s=Object(n["a"])("Sign out of the current session",function(e){return e(Object(a["a"])({method:"auth.signout",args:{}})).then(function(){if(Object(o["a"])()){r.e(89).then(r.bind(null,17743)).then(function(e){var t=e.fetchAuth;var r=false;t(r)});return}window.location.reload()}).catch(function(t){e(Object(i["error"])("got error when trying to sign out: "+t));throw i["error"]})})},18508:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.ui.enterprise_shared_channels_invites.start")},18509:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(16939);var l=r(17400);var u={name:o.a.string.isRequired,org:o.a.string,icon:o.a.string,url:o.a.string};var p={org:void 0,icon:void 0,url:void 0};var f=function e(t){var r=t.name,n=t.icon,i=t.org,o=t.url;return a.a.createElement("div",{className:"p-global_nav__top_menu_header"},a.a.createElement("div",{className:"p-global_nav__top_menu_header_icon",style:{backgroundImage:n&&"url("+n+")"}}),a.a.createElement("div",{className:"p-global_nav__top_menu_header_right"},a.a.createElement("div",{className:"p-global_nav__top_menu_header_name"},r),a.a.createElement("div",{className:"p-global_nav__top_menu_header_sub"},i||o)))};f.displayName="TeamHeader";f.propTypes=u;f.defaultProps=p;var d=function e(t){var r=Object(c["getCurrentTeam"])(t);return{name:Object(l["getTeamDisplayName"])(r),org:r.enterprise_name,icon:r.icon&&r.icon.image_34||void 0,url:r.domain+".slack.com"}};t["a"]=Object(s["connect"])(d)(f)},18510:function(e,t,r){"use strict";t["a"]=c;var n=r(16919);var a=r(16922);var i=r(16913);var o=r(16921);var s=r(17090);function c(e){var t=Object(n["getCurrentMember"])(e);var r=Object(o["w"])(t);var c=Object(s["k"])();var l=Object(o["w"])(t)||!Object(o["O"])(t)&&(!Object(a["getTeamPref"])(e,"emoji_only_admins")||!Object(a["getTeamPref"])(e,"slackbot_responses_only_admins")||!Object(a["getTeamPref"])(e,"loading_only_admins"));var u=Object(i["pageNeedsEnterprise"])(e)&&!Object(o["O"])(t);var p=Object(s["g"])();return{administration:r,invite:c,customize:l,orgShared:u,externalShared:p}}},18511:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(8);var p=r.n(u);var f=r(16913);var d=r(16919);var v=r(19694);var h=r(16921);var m=r(16985);var b=r(17249);var _=r(17023);var g=r(16917);var y=r(16918);var O=r(16950);var E=r(18512);var j=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function C(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S={userId:o.a.string,hasCustomStatus:o.a.bool,openCustomStatusDialog:o.a.func};var T={userId:void 0,hasCustomStatus:false,openCustomStatusDialog:c["noop"]};var I=function(e){C(t,e);function t(e){k(this,t);var r=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.renderMenu=r.renderMenu.bind(r);return r}j(t,[{key:"renderMenu",value:function e(t){return a.a.createElement(E["a"],t)}},{key:"render",value:function e(){var t=this.props,r=t.userId,n=t.hasCustomStatus;if(!r)return null;return a.a.createElement("div",{className:"p-global_nav__top_user"},a.a.createElement(y["c"],{onClick:this.props.openCustomStatusDialog,className:"p-global_nav__top_user_status_button"},a.a.createElement(b["a"],{memberId:r,tipPosition:"bottom-right",className:"p-global_nav__top_user_status"}),a.a.createElement(g["b"],{type:"pencil",className:"p-global_nav__top_user_status_edit"})),a.a.createElement(O["d"],{renderMenu:this.renderMenu,position:"bottom-right",offsetX:4,offsetY:10,allowanceX:12},a.a.createElement(y["c"],null,a.a.createElement(m["b"],{userId:r,size:24,showBadge:false,isInteractive:false,className:p()("p-global_nav__top_user_avatar",n&&"p-global_nav__top_user_avatar--beside-status")}),a.a.createElement(_["a"],{memberId:r,className:"p-global_nav__top_user_presence"}))))}}]);return t}(n["Component"]);I.displayName="User";I.propTypes=S;I.defaultProps=T;var N=function e(t){return{userId:Object(f["getCurrentUserId"])(t),hasCustomStatus:Object(h["s"])(Object(d["getCurrentMember"])(t))}};var A={openCustomStatusDialog:v["a"]};t["a"]=Object(s["connect"])(N,A)(I)},18512:function(e,t,r){"use strict";var n=r(18513);t["a"]=n["a"]},18513:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(19694);var p=r(16950);var f=r(16919);var d=r(16921);var v=r(17069);var h=r(16913);var m=r(16969);var b=r(17700);var _=r(18020);var g=r(18021);var y=r(16912);var O=r(18514);var E=r(18515);var j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var k=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function w(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function T(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var I=new y["b"]("global_nav");var N={actions:o.a.object,currentMember:o.a.object,currentPresence:o.a.string,onTriggerClose:o.a.func,openCustomStatusDialog:o.a.func,featureGlobalNav:o.a.bool,toggleUserPresence:o.a.func};var A={actions:void 0,currentMember:void 0,currentPresence:void 0,onTriggerClose:c["noop"],openCustomStatusDialog:c["noop"],featureGlobalNav:false,toggleUserPresence:c["noop"]};var P=function(e){T(t,e);function t(e){C(this,t);var r=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.renderPresenceLabel=r.renderPresenceLabel.bind(r);return r}k(t,[{key:"renderPresenceLabel",value:function e(){var t=this.props,r=t.currentPresence,n=t.featureGlobalNav;if(!n)return null;switch(r){case"active":return I.rt("Set yourself to <strong>away</strong>",null,function(e){var t=e.text,r=e.key;return a.a.createElement("strong",{key:r},t)});case"away":return I.rt("<status>Away</status> Set yourself to <strong>active</strong>",null,function(e){var t=e.tag,r=e.text,n=e.key;switch(t){case"status":return a.a.createElement("strong",{className:"half_opacity",key:n},r);case"strong":return a.a.createElement("strong",{key:n},r);default:return null}});default:return null}}},{key:"render",value:function e(){var t=this.props,r=t.actions,n=t.currentMember,i=t.featureGlobalNav,o=w(t,["actions","currentMember","featureGlobalNav"]);if(!i)return null;var s=[{type:"custom",children:a.a.createElement(O["a"],{key:"user-header"})},{type:"separator",key:"header-separator"},{label:Object(d["s"])(n)?I.t("Edit status \u2026"):I.t("Set a status \u2026"),click:this.props.openCustomStatusDialog},{label:I.t("Profile & account"),click:function e(){return Object(m["g"])(n.id)}},{label:I.t("Preferences"),click:function e(){return Object(_["a"])()}},{label:this.renderPresenceLabel(),key:"set-active-away",click:this.props.toggleUserPresence},{label:I.t("Help & feedback"),hide:!r.help,click:g["a"]},{label:"Version info (TS only)",hide:!r.version,click:b["c"]}].filter(function(e){return!e.hide});return a.a.createElement(p["a"],j({},o,{template:s}))}}]);return t}(n["Component"]);P.displayName="UserMenu";P.propTypes=N;P.defaultProps=A;var R=function e(t){return{actions:Object(E["a"])(t),currentMember:Object(f["getCurrentMember"])(t),currentPresence:Object(v["getCurrentMemberPresence"])(t),featureGlobalNav:Object(h["isFeatureEnabled"])(t,"feature_global_nav")}};var M={openCustomStatusDialog:u["a"],toggleUserPresence:v["toggleUserPresence"]};t["a"]=Object(s["connect"])(R,M)(P)},18514:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(16985);var l=r(16919);var u=r(16921);var p={name:o.a.string,secondary:o.a.string,userId:o.a.string};var f={name:void 0,secondary:void 0,userId:void 0};var d=function e(t){var r=t.name,n=t.secondary,i=t.userId;var o=n?a.a.createElement("div",{className:"p-global_nav__top_menu_header_sub"},n):null;return a.a.createElement("div",{className:"p-global_nav__top_menu_header"},a.a.createElement(c["b"],{userId:i,size:36,isInteractive:false,className:"p-global_nav__top_menu_header_icon"}),a.a.createElement("div",{className:"p-global_nav__top_menu_header_right"},a.a.createElement("div",{className:"p-global_nav__top_menu_header_name"},r),o))};d.displayName="UserHeader";d.propTypes=p;d.defaultProps=f;var v=function e(t){var r=Object(l["getCurrentMember"])(t);return{name:Object(u["q"])(t,r),secondary:Object(u["m"])(t,r),userId:r.id}};t["a"]=Object(s["connect"])(v)(d)},18515:function(e,t,r){"use strict";t["a"]=i;var n=r(16913);var a=r(16924);function i(e){var t=Object(n["isFeatureEnabled"])(e,"feature_tinyspeck");return{help:Object(n["getFromBootData"])(e,"help_url"),version:t||a["isDev"]}}},18516:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(8);var l=r.n(c);var u=r(16918);var p=r(16917);var f=r(16932);var d=r(17410);var v=r(17092);var h=r(16969);var m=r(18501);var b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O={icon:o.a.string.isRequired,pane:o.a.string.isRequired,tooltip:o.a.string.isRequired,active:o.a.bool};var E={active:false};var j=function(e){y(t,e);function t(e){_(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onClick=r.onClick.bind(r);return r}b(t,[{key:"onClick",value:function e(){"team"===this.props.pane?Object(h["j"])():Object(v["d"])(this.props.pane)}},{key:"render",value:function e(){var t=this.props,r=t.icon,n=t.tooltip,i=t.active;var o=l()("p-global_nav__top_button","p-global_nav__top_flex",i&&"p-global_nav__top_flex--active");return a.a.createElement(f["c"],{tip:n,delay:f["a"],position:"bottom",offsetY:m["b"]},a.a.createElement(u["c"],{className:o,onClick:this.onClick},a.a.createElement(p["b"],{type:r,className:"p-global_nav__top_button_icon"})))}}]);return t}(n["PureComponent"]);j.displayName="FlexButton";j.propTypes=O;j.defaultProps=E;var k=function e(t,r){var n=r.pane;return{active:Object(d["getFlexpaneState"])(t).flexName===n}};t["a"]=Object(s["connect"])(k)(j)},18517:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16950);var p=r(16918);var f=r(16932);var d=r(16917);var v=r(16919);var h=r(16939);var m=r(16913);var b=r(17004);var _=r(16921);var g=r(17400);var y=r(16912);var O=r(16969);var E=r(17092);var j=r(18021);var k=r(18501);var w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var C=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function I(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var N=new y["b"]("global_nav");var A={isUserRestricted:o.a.bool,isPaid:o.a.bool,isEnterprise:o.a.bool,userId:o.a.string,showFileList:o.a.func,showWhatsNew:o.a.func,showUserGroupList:o.a.func,featureGlobalNav:o.a.bool,featureSonicUserGroups:o.a.bool};var P={isUserRestricted:false,isPaid:false,isEnterprise:false,userId:void 0,showFileList:c["noop"],showWhatsNew:c["noop"],showUserGroupList:c["noop"],featureGlobalNav:false,featureSonicUserGroups:false};var R=function(e){I(t,e);function t(e){S(this,t);var r=T(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.renderMenu=r.renderMenu.bind(r);return r}C(t,[{key:"renderMenu",value:function e(t){var r=this;var n=this.props,i=n.featureGlobalNav,o=n.featureSonicUserGroups,s=n.isUserRestricted,c=n.isPaid,l=n.isEnterprise,p=n.userId;if(!i)return null;var f=[{label:N.t("Your Files"),click:function e(){r.props.showFileList({user:p})}},{label:N.t("All Files"),click:function e(){r.props.showFileList({user:"all"})}},{label:l?N.t("Organization Directory"):N.t("Workspace Directory"),click:O["j"]},{label:N.t("User Groups"),click:function e(){if(o)return r.props.showUserGroupList();return Object(O["i"])()},hide:s||!c},{label:N.t("Help"),click:j["a"]},{label:N.t("What\u2019s New"),click:function e(){return r.props.showWhatsNew()}},{label:N.t("Downloads"),click:function e(){return Object(E["c"])("downloads")},hide:!(window.winssb&&window.winssb.downloads)},{label:N.t("Keyboard Shortcuts"),click:function e(){return Object(E["c"])("shortcuts")}}].filter(function(e){return!e.hide});return a.a.createElement(u["a"],w({},t,{template:f}))}},{key:"render",value:function e(){if(!this.props.featureGlobalNav)return null;return a.a.createElement(u["d"],{position:"bottom-right",renderMenu:this.renderMenu,offsetY:k["a"]},a.a.createElement(f["c"],{tip:N.t("More options"),position:"bottom",delay:f["a"],offsetY:k["b"]},a.a.createElement(p["c"],{className:"p-global_nav__top_button"},a.a.createElement(d["b"],{type:"gn-menu",className:"p-global_nav__top_button_icon"}))))}}]);return t}(n["PureComponent"]);R.displayName="FlexpanesMenu";R.propTypes=A;R.defaultProps=P;var M=function e(t){return{isUserRestricted:Object(_["O"])(Object(v["getCurrentMember"])(t)),isPaid:Object(g["isPaidTeam"])(Object(h["getCurrentTeam"])(t)),isEnterprise:Object(m["pageNeedsEnterprise"])(t),userId:Object(m["getCurrentUserId"])(t),featureGlobalNav:Object(m["isFeatureEnabled"])(t,"feature_global_nav"),featureSonicUserGroups:Object(m["isFeatureEnabled"])(t,"feature_sonic_user_groups")}};var x={showFileList:b["c"],showWhatsNew:b["g"],showUserGroupList:b["f"]};t["a"]=Object(s["connect"])(M,x)(R)},18518:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16912);var p=r(16934);var f=r(17328);var d=r(20327);var v=r(20311);var h=r(16913);var m=r(16980);var b=r(16939);var _=r(17400);var g=r(18022);var y=r(16917);var O=r(16918);var E=r(16938);var j=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function C(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=new u["b"]("search");var T={displayQuery:o.a.string,setSearchIsVisible:o.a.func,clearSearchInputField:o.a.func,featureReactSearch:o.a.bool,orgName:o.a.string,teamName:o.a.string};var I={displayQuery:void 0,orgName:void 0,teamName:void 0,setSearchIsVisible:c["noop"],clearSearchInputField:c["noop"],featureReactSearch:false};var N=function(e){C(t,e);function t(e){k(this,t);var r=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onClick=r.onClick.bind(r);r.onClearClick=r.onClearClick.bind(r);return r}j(t,[{key:"onClick",value:function e(){this.props.setSearchIsVisible({visible:true})}},{key:"onClearClick",value:function e(t){t.stopPropagation();this.props.clearSearchInputField()}},{key:"render",value:function e(){var t=this.props,r=t.displayQuery,i=t.featureReactSearch,o=t.orgName,s=t.teamName;if(!i||Object(p["a"])())return a.a.createElement("div",{className:"p-global_nav__top_search"});var c=r?a.a.createElement(n["Fragment"],null,a.a.createElement(E["a"],{text:r,className:"p-global_nav__top_search_text",showTooltips:false,noLinking:true,noSpecials:true,noHighlights:true}),a.a.createElement(O["c"],{className:"p-global_nav__top_search_clear",onClick:this.onClearClick,label:S.t("Clear")},a.a.createElement(y["b"],{type:"times-small"}))):a.a.createElement("span",{className:"p-global_nav__top_search_text p-global_nav__top_search_text--placeholder"},S.t("Search {teamName}",{teamName:o||s||""}));return a.a.createElement(n["Fragment"],null,a.a.createElement(O["c"],{className:"p-global_nav__top_search",onClick:this.onClick},a.a.createElement(y["b"],{type:"search-medium",className:"p-global_nav__top_search_icon"}),c),a.a.createElement(g["a"],null))}}]);return t}(n["Component"]);N.displayName="SearchPlaceholderInput";N.propTypes=T;N.defaultProps=I;var A=function e(t){return{displayQuery:Object(f["getSearchInputBoxDisplayQuery"])(t),featureReactSearch:Object(h["isFeatureEnabled"])(t,"feature_react_search"),orgName:Object(m["getEnterpriseOrgName"])(t)||"",teamName:Object(_["getTeamDisplayName"])(Object(b["getCurrentTeam"])(t))}};var P=function e(t){return{setSearchIsVisible:function e(r){return t(Object(v["a"])(r))},clearSearchInputField:function e(){return t(Object(d["a"])())}}};t["a"]=Object(s["connect"])(A,P)(N)},18519:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(9);var u=r(2194);var p=r.n(u);var f=r(16912);var d=r(17328);var v=r(17730);var h=r(17325);var m=r(194);var b=r.n(m);var _=r(16924);var g=r(20532);var y=r(18520);var O=r(18526);var E=r(20230);var j=r.n(E);var k=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var T=new f["b"]("search");var I={userQuery:a.a.string,suggestions:a.a.array.isRequired,selectedIndex:a.a.number,onAccept:a.a.func,onSelectedIndexChange:a.a.func,fetchSearchAutocompleteSuggestions:a.a.func.isRequired,setSearchAutocompleteSelection:a.a.func.isRequired,setSearchAutocompleteSuggestions:a.a.func.isRequired};var N={selectedIndex:null,onAccept:s["noop"],onSelectedIndexChange:s["noop"],userQuery:null};var A=function e(t,r){return(t%r+r)%r};var P=function(e){S(t,e);function t(e){w(this,t);var r=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(s["bindAll"])(r,["onKeydown","onUserQueryChange","onSuggestionAccept","onSuggestionDelete","onSuggestionSelected"]);return r}k(t,[{key:"componentDidMount",value:function e(){document.body.addEventListener("keydown",this.onKeydown);this.onUserQueryChange()}},{key:"shouldComponentUpdate",value:function e(t){return t.selectedIndex!==this.props.selectedIndex||t.suggestions!==this.props.suggestions}},{key:"componentDidUpdate",value:function e(t){t.userQuery!==this.props.userQuery&&this.onUserQueryChange()}},{key:"componentWillUnmount",value:function e(){document.body.removeEventListener("keydown",this.onKeydown)}},{key:"onKeydown",value:function e(t){var r=function e(){t.preventDefault();t.stopPropagation();return false};var n=t.shiftKey;var a=t.which;var i=u["codes"].up,o=u["codes"].tab,s=u["codes"].down;if(a===i||n&&a===o){this.decrementSelectedIndex();return r()}if(a===s||a===o){this.incrementSelectedIndex();return r()}return true}},{key:"onUserQueryChange",value:function e(){Object(g["a"])();this.props.fetchSearchAutocompleteSuggestions({query:this.props.userQuery})}},{key:"onSuggestionDelete",value:function e(t){this.props.setSearchAutocompleteSuggestions({suggestions:Object(s["filter"])(this.props.suggestions,function(e){return t.key!==e.key})})}},{key:"onSuggestionSelected",value:function e(t,r){this.props.setSearchAutocompleteSelection({selectedIndex:t,setText:!r})}},{key:"onSuggestionAccept",value:function e(){this.props.onAccept()}},{key:"incrementSelectedIndex",value:function e(){this.props.setSearchAutocompleteSelection({selectedIndex:A((null===this.props.selectedIndex?-1:this.props.selectedIndex)+1,this.props.suggestions.length),setText:true})}},{key:"decrementSelectedIndex",value:function e(){this.props.setSearchAutocompleteSelection({selectedIndex:A(this.props.selectedIndex-1,this.props.suggestions.length),setText:true})}},{key:"propsForSuggestion",value:function e(t,r){return{index:t,suggestion:r,key:r.key,isSelected:t===this.props.selectedIndex,onSelected:this.onSuggestionSelected,onAccept:this.onSuggestionAccept,onDelete:this.onSuggestionDelete}}},{key:"renderScreenReaderWorkaround",value:function e(){var t=this;if(!(b.a.chrome&&b.a.version<67)||!Object(_["isSSB"])())return null;var r=this.props.selectedIndex;var n=Object(s["last"])(this.props.suggestions.map(function(e,n){return e.is_type_navigational&&n===r?o.a.createElement(y["a"],t.propsForSuggestion(n,e)):null}).filter(function(e){return e}));return o.a.createElement("div",{"aria-live":"polite",className:"offscreen"},n)}},{key:"render",value:function e(){var t=this;this.props.userQuery&&Object(s["throttle"])(function(){return Object(g["b"])()},2e3,{leading:true})();var r=Object(s["reduce"])(this.props.suggestions,function(e,t){return e||!t.is_type_query_history},false);var n=o.a.createElement("header",null,o.a.createElement("span",{className:"c-search_autocomplete__header_label"},o.a.createElement("span",{className:"c-search_autocomplete__header_label_text"},T.t("Recent searches"))));var a=this.renderScreenReaderWorkaround();return o.a.createElement("div",{className:"c-search_autocomplete"},r||!this.props.suggestions.length||n,a,o.a.createElement("ol",{className:"c-search_autocomplete__suggestion_list",role:"listbox",id:"c-search_autocomplete__suggestion_list"},this.props.suggestions.map(function(e,r){return o.a.createElement(y["a"],t.propsForSuggestion(r,e))})),o.a.createElement(O["a"],null))}}]);return t}(i["Component"]);P.displayName="SearchAutocomplete";P.propTypes=I;P.defaultProps=N;var R=function e(t){return{suggestions:Object(v["getSearchAutocompleteSuggestions"])(t),selectedIndex:Object(v["getSearchAutocompleteSelectedIndex"])(t),userQuery:Object(d["getSearchInputBoxUserQuery"])(t)}};var M={setSearchAutocompleteSelection:v["setSearchAutocompleteSelection"],setSearchAutocompleteSuggestions:v["setSearchAutocompleteSuggestions"],fetchSearchAutocompleteSuggestions:h["b"]};t["a"]=Object(l["connect"])(R,M)(P)},18520:function(e,t,r){"use strict";r.d(t,"d",function(){return y});r.d(t,"c",function(){return O});r.d(t,"b",function(){return E});var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(9);var u=r(18521);var p=r(18522);var f=r(18523);var d=r(18525);var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _={index:a.a.number.isRequired,suggestion:a.a.object.isRequired,isSelected:a.a.bool.isRequired,onSelected:a.a.func,onAccept:a.a.func,onDelete:a.a.func};var g={onAccept:s["noop"],onSelected:s["noop"],onDelete:s["noop"]};var y={index:a.a.number.isRequired,suggestion:a.a.object.isRequired,onDelete:a.a.func,isSelected:a.a.bool.isRequired,onMouseDown:a.a.func.isRequired,containerProps:a.a.shape({className:a.a.string.isRequired,"data-index":a.a.string.isRequired,"data-type":a.a.string.isRequired,"data-feature-vector":a.a.string.isRequired,onMouseEnter:a.a.func.isRequired,onMouseLeave:a.a.func.isRequired}).isRequired,ariaProps:a.a.shape({id:a.a.string.isRequired,role:a.a.string.isRequired,tabIndex:a.a.number.isRequired,"aria-selected":a.a.bool.isRequired}).isRequired};var O={onDelete:s["noop"]};var E=function e(t){return"c-search_autcomplete__suggestion_"+t};var j=function(e){b(t,e);function t(e){h(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(s["bindAll"])(r,["onMouseDown","onMouseEnter","onMouseLeave","onDelete"]);return r}v(t,[{key:"onMouseDown",value:function e(t){if(0!==t.button||t.ctrlKey)return;this.props.onAccept()}},{key:"onMouseEnter",value:function e(){this.props.onSelected(this.props.index,true)}},{key:"onMouseLeave",value:function e(){this.props.onSelected(null,false)}},{key:"onDelete",value:function e(){this.props.onDelete(this.props.suggestion)}},{key:"componentTypeFromSuggestion",value:function e(t){if(t.is_type_query_completion)return f["a"];if(t.is_type_user)return d["a"];if(t.is_type_channel||t.is_type_mpim)return u["a"];if(t.is_type_file)return p["a"];return null}},{key:"render",value:function e(){var t=this.props.isSelected?"c-search_autocomplete__suggestion c-search_autocomplete__suggestion__highlighted":"c-search_autocomplete__suggestion";var r=E(this.props.index);return o.a.createElement(this.componentTypeFromSuggestion(this.props.suggestion),{index:this.props.index,suggestion:this.props.suggestion,onDelete:this.onDelete,isSelected:this.props.isSelected,onMouseDown:this.onMouseDown,containerProps:{className:t,"data-index":this.props.index,"data-type":this.props.suggestion.type,"data-feature-vector":this.props.suggestion.featureVector,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},ariaProps:{id:r,role:"option",tabIndex:-1,"aria-selected":this.props.isSelected}})}}]);return t}(i["PureComponent"]);j.displayName="Suggestion";j.propTypes=_;j.defaultProps=g;var k=function e(){return{}};var w={};t["a"]=Object(l["connect"])(k,w)(j)},18521:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(16963);var o=r(17830);var s=r(18520);var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){f(t,e);function t(){u(this,t);return p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}l(t,[{key:"render",value:function e(){var t=this.props.suggestion.channel||this.props.suggestion.mpim;return a.a.createElement("li",c({},this.props.containerProps,this.props.ariaProps,{"data-is-navigational":true,"data-id":t.id,key:t.id}),a.a.createElement("button",{onMouseDown:this.props.onMouseDown,className:"btn_unstyle c-search_autocomplete__suggestion_content"},a.a.createElement(i["a"],{channelId:t.id,inline:true}),a.a.createElement(o["a"],null)))}}]);return t}(n["PureComponent"]);d.displayName="SuggestionChannel";t["a"]=d;d.propTypes=s["d"];d.defaultProps=s["c"]},18522:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(17830);var o=r(18520);var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){p(t,e);function t(){l(this,t);return u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}c(t,[{key:"render",value:function e(){var t=this.props.suggestion.file;var r={__html:this.props.suggestion.html};var n=a.a.createElement("b",{dangerouslySetInnerHTML:r});return a.a.createElement("li",s({},this.props.containerProps,this.props.ariaProps,{"data-id":t.id,"data-is-navigational":true,key:t.id}),a.a.createElement("button",{className:"btn_unstyle file_suggestion c-search_autocomplete__suggestion_content",onMouseDown:this.props.onMouseDown},a.a.createElement("div",{className:"c-search_autocomplete__suggestion_icon"},a.a.createElement("i",{className:"filetype_icon "+this.props.suggestion.type+" s20"})),a.a.createElement("div",{className:"c-search_autocomplete__suggestion_text"},n,a.a.createElement("span",{className:"filetype_description"},this.props.suggestion.fileTypeDescription)),a.a.createElement(i["a"],null)))}}]);return t}(n["PureComponent"]);f.displayName="SuggestionFile";t["a"]=f;f.propTypes=o["d"];f.defaultProps=o["c"]},18523:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(16912);var o=r(16917);var s=r(17329);var c=r(18524);var l=r(18520);var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=new i["b"]("search");var m=function(e){v(t,e);function t(){f(this,t);return d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}p(t,[{key:"render",value:function e(){var t={__html:Object(s["a"])(this.props.suggestion.token_list)};var r=a.a.createElement("b",{dangerouslySetInnerHTML:t});var n=a.a.createElement(c["a"],{exactQueryString:this.props.suggestion.exact_string,onDelete:this.props.onDelete});var i=a.a.createElement("div",{className:"c-search_autocomplete__suggestion_hint"},a.a.createElement("span",{className:"description"},h.t("Search")),a.a.createElement(o["a"],{type:"enter",className:"ts_icon_enter modifier_icon"}));return a.a.createElement("li",u({},this.props.containerProps,this.props.ariaProps,{"data-replacement":this.props.suggestion.suggestion_replacement,"data-exact-string":this.props.suggestion.exact_string,"data-feature-vector":this.props.suggestion.featureVector,"data-is-custom-date-filter":this.props.suggestion.isCustomDateFilter,"data-is-replacement-full":true,key:this.props.suggestion.suggestion_replacement}),a.a.createElement("button",{onMouseDown:this.props.onMouseDown,className:"btn_unstyle c-search_autocomplete__suggestion_content"},a.a.createElement("div",{className:"c-search_autocomplete__suggestion_icon"},a.a.createElement(o["a"],{type:"search-medium",className:"prefix"})),a.a.createElement("div",{className:"c-search_autocomplete__suggestion_text"},r),!this.props.suggestion.deletable&&i),this.props.suggestion.deletable&&n)}}]);return t}(n["PureComponent"]);m.displayName="SuggestionQuery";t["a"]=m;m.propTypes=l["d"];m.defaultProps=l["c"]},18524:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(16918);var c=r(16917);var l=r(1);var u=r.n(l);var p=r(16912);var f=r(9);var d=r(17829);var v=r(17325);var h=r(17122);var m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=new p["b"]("search");var O={exactQueryString:a.a.string.isRequired,onDelete:a.a.func,searchSessionId:a.a.string.isRequired,querySessionId:a.a.string.isRequired};var E={onDelete:l["noop"]};var j=function(e){g(t,e);function t(e){b(this,t);var r=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(l["bindAll"])(r,["onMouseDown"]);return r}m(t,[{key:"onMouseDown",value:function e(t){var r=this;var n=Object(d["a"])(this.props.exactQueryString,null,true);Object(v["g"])(n,this.props.searchSessionId,this.props.querySessionId).then(function(){r.props.onDelete()});t.stopPropagation()}},{key:"render",value:function e(){return o.a.createElement("div",{className:"c-search_autocomplete__suggestion_action"},o.a.createElement(s["c"],{className:"c-search_autocomplete__suggestion_delete",onClick:this.onMouseDown,label:y.t("delete history result")},o.a.createElement(c["b"],{type:"times_small",inline:true})))}}]);return t}(i["PureComponent"]);j.displayName="Delete";j.propTypes=O;j.defaultProps=E;var k=function e(t){return{querySessionId:Object(h["getQuerySessionId"])(t),searchSessionId:Object(h["getSearchSessionId"])(t)}};var w={};t["a"]=Object(f["connect"])(k,w)(j)},18525:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(20034);var o=r(17830);var s=r(18520);var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){f(t,e);function t(){u(this,t);return p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}l(t,[{key:"render",value:function e(){var t=this.props.suggestion.user;var r=t&&t.profile&&t.profile.bot_id;return a.a.createElement("li",c({},this.props.containerProps,this.props.ariaProps,{"data-id":t.id,"data-is-navigational":true,"data-bot-id":r,key:t.id,className:"c-search_autocomplete__suggestion__user "+this.props.containerProps.className}),a.a.createElement("button",{onMouseDown:this.props.onMouseDown,className:"btn_unstyle c-search_autocomplete__suggestion_content"},a.a.createElement("div",{className:"c-search_autocomplete__suggestion_text"},a.a.createElement(i["a"],{id:t.id,size:"small",showPresence:true,showAvatar:true})),a.a.createElement(o["a"],null)))}}]);return t}(n["PureComponent"]);d.displayName="SuggestionUser";t["a"]=d;d.propTypes=s["d"];d.defaultProps=s["c"]},18526:function(e,t,r){"use strict";var n=r(16912);var a=r(12159);var i=r.n(a);var o=r(16960);var s=new n["b"]("search");var c=function e(){return i.a.createElement(o["a"],{enabled:["feature_react_search"]},i.a.createElement("footer",null,i.a.createElement("span",{className:"c-search_autocomplete__footer_navigation_help"},i.a.createElement("strong",null,"\u2191")," ",i.a.createElement("strong",null,"\u2193"),"\xa0",s.t("to navigate"),i.a.createElement("strong",{className:"margin_left_100","aria-label":s.t("Return")},"\u21b5"),"\xa0",s.t("to select"),i.a.createElement("strong",{className:"margin_left_100","aria-label":s.t("Escape Character")},i.a.createElement("kbd",null,"esc")),"\xa0",s.t("to dismiss"))))};c.displayName="Footer";t["a"]=c},18528:function(e,t,r){"use strict";var n=r(16912);var a=r(3);var i=r.n(a);var o=r(12159);var s=r.n(o);var c=r(17095);var l=r(9);var u=r(1);var p=r.n(u);var f=r(16917);var d=r(16960);var v=r(16918);var h=r(17328);var m=r(16980);var b=r(16939);var _=r(17400);var g=r(17730);var y=r(20327);var O=r(20231);var E=r.n(O);var j=r(18520);var k=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var T=new n["b"]("search");var I={displayQuery:i.a.string.isRequired,onBlur:i.a.func,onEnter:i.a.func,onEscape:i.a.func,onFocus:i.a.func,setSearchInputBoxUserQuery:i.a.func.isRequired,clearSearchInput:i.a.func.isRequired,orgName:i.a.string.isRequired,teamName:i.a.string.isRequired,autocompleteSelectedIndex:i.a.number};var N={onBlur:u["noop"],onEnter:u["noop"],onEscape:u["noop"],onFocus:u["noop"],autocompleteSelectedIndex:void 0};var A=function(e){S(t,e);function t(e){w(this,t);var r=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.texty=null;Object(u["bindAll"])(r,["onClickClear","getTextyString","onEnter","onUserQueryChange","setTextyRef","updateDisplayQuery"]);return r}k(t,[{key:"componentDidMount",value:function e(){this.texty.setCursorAtEnd();this.texty.focus()}},{key:"shouldComponentUpdate",value:function e(t){return this.props.displayQuery!==t.displayQuery||this.props.autocompleteSelectedIndex!==t.autocompleteSelectedIndex}},{key:"componentDidUpdate",value:function e(t){t.displayQuery!==this.props.displayQuery&&this.updateDisplayQuery()}},{key:"onUserQueryChange",value:function e(t){if("user"!==t)return;this.props.setSearchInputBoxUserQuery({userQuery:this.getTextyString()})}},{key:"onEnter",value:function e(){this.props.onEnter(this.getTextyString())}},{key:"onClickClear",value:function e(){this.props.clearSearchInput()}},{key:"setTextyRef",value:function e(t){var r=!!(t&&t.getWrappedInstance);this.texty=r?t.getWrappedInstance():t}},{key:"getTextyString",value:function e(){return this.texty?this.texty.value():""}},{key:"updateDisplayQuery",value:function e(){if(this.texty&&this.props.displayQuery!==this.getTextyString()){this.texty.value(this.props.displayQuery);this.texty.setCursorAtEnd();this.texty.focus()}}},{key:"render",value:function e(){var t=this.props,r=t.orgName,n=t.teamName;var a=T.t("Search");var i={tabcomplete:{completers:[]},keyboard:{useFormattingCommands:false}};var o=this.props.displayQuery?"c-search__input_box__clear":"c-search__input_box__clear c-search__input_box__clear__hidden";var l="number"===typeof this.props.autocompleteSelectedIndex?Object(j["b"])(this.props.autocompleteSelectedIndex):void 0;var u={autocomplete:"list",owns:"c-search_autocomplete__suggestion_list",expanded:true,activedescendant:l};return s.a.createElement("div",{className:"c-search__input_box"},s.a.createElement(d["a"],{enabled:["feature_react_search"]},s.a.createElement(c["g"],{className:"c-search__input_box__input",modules:i,ref:this.setTextyRef,ariaLabel:a,unsafeAriaProps:u,initialText:this.props.displayQuery,placeholder:T.t("Search {teamName}",{teamName:r||n}),onFocus:this.props.onFocus,onBlur:this.props.onBlur,onEnter:this.onEnter,onTextChange:this.onUserQueryChange,onEscape:this.props.onEscape,useTextChangeQueue:true,isSingleLine:true,focusOnMount:false,useLegacyCreate:true,isJumbomojiEnabled:false}),s.a.createElement(f["a"],{type:"search-medium",className:"c-search__input_box__icon"}),s.a.createElement(v["c"],{className:o,onClick:this.onClickClear,label:T.t("Clear")},T.t("Clear"))))}}]);return t}(o["Component"]);A.displayName="SearchInputBox";A.propTypes=I;A.defaultProps=N;var P=function e(t){return{displayQuery:Object(h["getSearchInputBoxDisplayQuery"])(t),orgName:Object(m["getEnterpriseOrgName"])(t)||"",teamName:Object(_["getTeamDisplayName"])(Object(b["getCurrentTeam"])(t)),autocompleteSelectedIndex:Object(g["getSearchAutocompleteSelectedIndex"])(t)}};var R={setSearchInputBoxUserQuery:h["setSearchInputBoxUserQuery"],clearSearchInput:y["a"]};t["a"]=Object(l["connect"])(P,R,null,{withRef:true})(A)},18530:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(9);var u=r(17122);var p=r(20463);var f=r(17329);var d=r(16912);var v=r(16960);var h=r(18531);var m=r(18541);var b=r(18542);var _=r(20183);var g=r.n(_);var y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=new d["b"]("search");var w={tab:o.a.string.isRequired,setTab:o.a.func,scrollPosition:o.a.object.isRequired,setScrollPosition:o.a.func.isRequired,onClickRefreshSearch:o.a.func.isRequired};var C={setTab:c.a.noop};var S=300;var T=function(e){j(t,e);function t(e){O(this,t);var r=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={messagesScrolledTop:e.scrollPosition.messages<S,filesScrolledTop:e.scrollPosition.files<S};r.setTab=r.setTab.bind(r);r.setMessageScrollPosition=r.setScrollPosition.bind(r,"messages");r.setFileScrollPosition=r.setScrollPosition.bind(r,"files");r.scrollPosition=e.scrollPosition;return r}y(t,[{key:"componentWillUnmount",value:function e(){this.props.setScrollPosition({scrollPosition:this.scrollPosition})}},{key:"setTab",value:function e(t){this.props.setTab({tab:t})}},{key:"setScrollPosition",value:function e(t,r){this.scrollPosition[t]=r;var n="messages"===t&&(r<S||true===this.state.messagesScrolledTop);n&&this.setState(function(){return{messagesScrolledTop:r<S}});var a="files"===t&&(r<S||true===this.state.filesScrolledTop);a&&this.setState(function(){return{filesScrolledTop:r<S}})}},{key:"renderCurrentView",value:function e(){switch(this.props.tab){case"messages":return a.a.createElement(h["a"],{isScrolledTop:this.state.messagesScrolledTop,setScrollPosition:this.setMessageScrollPosition,startWithScrollPosition:this.scrollPosition.messages,onClickRefreshSearch:this.props.onClickRefreshSearch});case"files":return a.a.createElement(m["a"],{isScrolledTop:this.state.filesScrolledTop,setScrollPosition:this.setFileScrollPosition,startWithScrollPosition:this.scrollPosition.files,onClickRefreshSearch:this.props.onClickRefreshSearch});default:return null}}},{key:"render",value:function e(){return a.a.createElement("div",{className:"c-search__container"},a.a.createElement("div",{className:"c-search"},a.a.createElement(v["a"],{enabled:["feature_react_search"]},a.a.createElement(b["a"],{types:[{id:"messages",name:k.t("Messages")},{id:"files",name:k.t("Files")}],selected:this.props.tab,onSelection:this.setTab,onClose:f["c"]})),this.renderCurrentView()))}}]);return t}(n["PureComponent"]);T.displayName="SearchView";T.propTypes=w;T.defaultProps=C;var I=function e(t){return{visible:Object(u["getVisible"])(t),tab:Object(u["getTab"])(t),scrollPosition:Object(u["getScrollPosition"])(t)}};var N={setTab:p["a"],setScrollPosition:u["setScrollPosition"]};t["a"]=Object(l["connect"])(I,N)(T)},18531:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(9);var u=r(17122);var p=r(20567);var f=r(17121);var d=r(16913);var v=r(17325);var h=r(17101);var m=r(17329);var b=r(16912);var _=r(16952);var g=r(16950);var y=r(16918);var O=r(16917);var E=r(16960);var j=r(17076);var k=r(20532);var w=r(17004);var C=r(18532);var S=r(18028);var T=r(18029);var I=r(18030);var N=r(20597);var A=r(20495);var P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var R=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function L(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var D=new b["b"]("search");var F={isScrolledTop:o.a.bool.isRequired,requestQuery:o.a.string.isRequired,relevantResults:o.a.object,recentResults:o.a.object,relevantState:o.a.object,recentState:o.a.object,featureReactSearch:o.a.bool.isRequired,setPageForModule:o.a.func.isRequired,fetchSearchResultsByModule:o.a.func.isRequired,displayModelOrViewById:o.a.func.isRequired,messageSort:o.a.string.isRequired,setMessageSort:o.a.func.isRequired,setScrollPosition:o.a.func.isRequired,showThread:o.a.func.isRequired,startWithScrollPosition:o.a.number.isRequired,onClickRefreshSearch:o.a.func.isRequired};var B={relevantResults:{},recentResults:{},relevantState:{},recentState:{}};var U=function(e){L(t,e);function t(e){M(this,t);var r=x(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(s["bindAll"])(r,["setCurrentFilter","pageForward","pageBack","jumpToMessage","jumpToFile","onRepliesClick","setWrapperRef","reportScrollPosition","renderSortToggleMenu","handleTopScrollElementRef","scrollTop"]);r.markSearchModuleRenderStart=Object(s["throttle"])(function(){var e=r.getVisibleResults();Object(k["e"])("messages",r.props.messageSort,e&&e.pagination&&e.pagination.page||1)},2e3,{leading:true});return r}R(t,[{key:"componentDidMount",value:function e(){this.props.startWithScrollPosition&&(this.wrapperEl.scrollTop=this.props.startWithScrollPosition)}},{key:"onRepliesClick",value:function e(t){var r=t.channelId,n=t.ts;this.props.showThread({channelId:r,threadTs:n});Object(m["c"])()}},{key:"getVisibleResults",value:function e(){return this.props.messageSort===p["a"].recentMessages?this.props.recentResults:this.props.relevantResults}},{key:"getVisibleUIState",value:function e(){return this.props.messageSort===p["a"].recentMessages?this.props.recentState:this.props.relevantState}},{key:"setWrapperRef",value:function e(t){this.wrapperEl=t}},{key:"setCurrentFilter",value:function e(t){this.props.setMessageSort({messageSort:t})}},{key:"reportScrollPosition",value:function e(){this.props.setScrollPosition(this.wrapperEl.scrollTop)}},{key:"handleTopScrollElementRef",value:function e(t){this.topScrollElementRef=t}},{key:"scrollTop",value:function e(){if(this.topScrollElementRef){this.props.setScrollPosition(0);this.topScrollElementRef.scrollIntoView()}}},{key:"jumpToMessage",value:function e(t){var r=t.teamId,n=t.permalink;r&&Object(j["d"])(r,n)||window.open(n,"_BLANK");Object(m["c"])()}},{key:"jumpToFile",value:function e(){Object(m["c"])()}},{key:"pageForward",value:function e(){this.pageSearchResults(1)}},{key:"pageBack",value:function e(){this.pageSearchResults(-1)}},{key:"pageSearchResults",value:function e(t){var r=this.getVisibleResults();var n=this.getVisibleUIState();var a=Math.max(n.page+t,1);r.items[a]?this.props.setPageForModule({moduleType:this.props.messageSort,page:a}):this.props.fetchSearchResultsByModule({module:this.props.messageSort,apiModule:"messages",sort:this.props.messageSort===p["a"].recentMessages?"timestamp":"score",query:this.props.requestQuery,page:a})}},{key:"renderLoading",value:function e(){var t=this.getVisibleUIState();if(t.loading)return a.a.createElement(_["a"],{size:"small"});return null}},{key:"renderError",value:function e(){if(!this.props.featureReactSearch)return null;var t=this.getVisibleUIState();if(t.error===u["MODULE_ERROR_STATE"].None)return null;return a.a.createElement(N["a"],{errorType:t.error,onClickRefreshSearch:this.props.onClickRefreshSearch})}},{key:"renderResults",value:function e(){var t=this;var r=this.getVisibleUIState();if(r.loading)return null;var n=this.getVisibleResults();return c.a.map(n.items[r.page],function(e){return a.a.createElement(C["a"],P({key:e.iid},e,{onMessageJump:t.jumpToMessage,onFileJump:t.jumpToFile,onRepliesClick:t.onRepliesClick}))})}},{key:"renderSortToggleMenu",value:function e(t){var r=this;return a.a.createElement(E["a"],{enabled:["feature_react_search"]},a.a.createElement(g["e"],t,a.a.createElement(g["b"],{key:"recent",label:D.t("Most recent"),onSelected:function e(){return r.props.setMessageSort({messageSort:p["a"].recentMessages})}}),a.a.createElement(g["b"],{key:"relevant",label:D.t("Most relevant"),onSelected:function e(){return r.props.setMessageSort({messageSort:p["a"].relevantMessages})}})))}},{key:"renderSortToggle",value:function e(){var t=this.props.messageSort;var r=a.a.createElement(E["a"],{enabled:["feature_react_search"]},t===p["a"].recentMessages?D.t("Most recent"):D.t("Most relevant"));return a.a.createElement(E["a"],{enabled:["feature_react_search"]},a.a.createElement("div",{className:"c-search__section_more_link"},a.a.createElement(g["d"],{renderMenu:this.renderSortToggleMenu,position:"bottom-right",width:180,offsetX:0,offsetY:0},a.a.createElement(y["c"],null,r," ",a.a.createElement(O["b"],{type:"chevron-down",inline:true})))))}},{key:"renderSearchResults",value:function e(){if(!this.props.featureReactSearch)return null;var t=this.props.messageSort===p["a"].recentMessages?this.props.recentState:this.props.relevantState;var r=this.getVisibleResults();var n=r&&r.pagination&&r.pagination.total_count||0;var i=r&&r.pagination&&r.pagination.page_count||0;var o=i>1;var s=t.page||1;var c=r&&r.pagination&&r.pagination.per_page||0;var l=r&&r.items&&r.pagination&&r.pagination.page&&r.items[r.pagination.page]&&r.items[r.pagination.page].length||0;var u="message";var f=n?D.rt("{totalItemCount,plural,=1{{totalItemCount} Message}other{{totalItemCount} Messages}}",{totalItemCount:n}):null;return a.a.createElement("div",{className:"c-search__section c-search__main"},a.a.createElement("h4",{className:"c-search__section_header"},f,this.renderSortToggle()),this.renderResults(),this.renderLoading(),a.a.createElement(S["a"],{visible:o,currentPageOffset:s,totalPageCount:i,maxPerPageItemCount:c,pageItemCount:l,totalItemCount:n,itemType:u,onForward:this.pageForward,onBack:this.pageBack}))}},{key:"renderNoResults",value:function e(){return a.a.createElement("div",{className:"c-search__section c-search__main"},a.a.createElement(I["a"],{query:this.props.requestQuery}))}},{key:"renderState",value:function e(){var t=this.getVisibleUIState();if(t.error!==u["MODULE_ERROR_STATE"].None)return this.renderError();var r=this.getVisibleResults();var n=r&&r.pagination&&r.pagination.total_count||0;if(0===n&&!t.loading)return this.renderNoResults();return this.renderSearchResults()}},{key:"render",value:function e(){if(!this.props.featureReactSearch)return null;var t=this.getVisibleUIState();t.loading||this.markSearchModuleRenderStart();var r=this.props.isScrolledTop;return a.a.createElement("div",{className:"c-search__view",id:"c-search__tab__messages",onScroll:this.reportScrollPosition,ref:this.setWrapperRef,role:"tabpanel"},this.renderState(),a.a.createElement("div",{className:"c-search__extras",ref:this.handleTopScrollElementRef},a.a.createElement("div",{className:"c-search__section"},a.a.createElement("h4",{className:"c-search__section_header"},D.t("Filter by")),a.a.createElement(T["a"],null))),!r&&a.a.createElement(A["a"],{onClick:this.scrollTop}))}}]);return t}(n["PureComponent"]);U.displayName="MessageView";U.propTypes=F;U.defaultProps=B;var H=function e(t){var r=Object(f["getRequestQuery"])(t);var n=Object(f["getResponseModule"])(t,{module:p["a"].relevantMessages})||{items:{}};var a=Object(f["getResponseModule"])(t,{module:p["a"].recentMessages})||{items:{}};var i=Object(u["getModuleState"])(t,p["a"].relevantMessages);var o=Object(u["getModuleState"])(t,p["a"].recentMessages);var s=Object(p["b"])(t);return{requestQuery:r,relevantResults:n,recentResults:a,relevantState:i,recentState:o,messageSort:s,featureReactSearch:Object(d["isFeatureEnabled"])(t,"feature_react_search")}};var q={displayModelOrViewById:h["a"],fetchSearchResultsByModule:v["c"],setMessageSort:p["c"],setPageForModule:u["setPageForModule"],showThread:w["d"]};t["a"]=Object(l["connect"])(H,q)(U)},18532:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(3);var l=r.n(c);var u=r(8);var p=r.n(u);var f=r(16923);var d=r(16939);var v=r(20474);var h=r(17329);var m=r(17400);var b=r(16920);var _=r(16912);var g=r(17052);var y=r(16960);var O=r(16942);var E=r(16963);var j=r(18533);var k=r(20232);var w=r.n(k);var C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var S=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function N(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A=new _["b"]("search");var P={messages:l.a.arrayOf(l.a.shape({iid:l.a.string.isRequired,user:l.a.string.isRequired,ts:l.a.string.isRequired,extracts:l.a.array})).isRequired,channel:l.a.shape({id:l.a.string.isRequired,name:l.a.string.isRequired}).isRequired,workspaceName:l.a.string,currentTeam:l.a.object.isRequired,isEnterpriseOrg:l.a.bool.isRequired,onMessageJump:l.a.func.isRequired,onFileJump:l.a.func.isRequired,onRepliesClick:l.a.func.isRequired,clogSearchClick:l.a.func};var R={workspaceName:"",clogSearchClick:a.a.noop};var M=function(e){N(t,e);function t(e){T(this,t);var r=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={isExpanded:false,isHoveringOnExpandLinks:false};Object(n["bindAll"])(r,["expand","onChannelClick","onMessageJump","onFileJump","onExpandHoverStart","onExpandHoverEnd","onLinkClick","onRepliesClick"]);return r}S(t,[{key:"onChannelClick",value:function e(){var t=this.state.isExpanded?this.props.messages:this.getCondensedMessageArray();t[0]&&this.onMessageJump({iid:t[0].iid,permalink:t[0].permalink,ts:t[0].ts,channelId:this.props.channel.id,userId:t[0].user,botId:t[0].botId})}},{key:"onLinkClick",value:function e(t){this.props.clogSearchClick(C({},t));"channel"===t.type&&Object(h["c"])()}},{key:"onMessageJump",value:function e(t){var r=t.iid,n=t.permalink,a=t.ts,i=t.channelId,o=t.userId,s=t.botId;this.props.onMessageJump({teamId:this.props.currentTeam.id,permalink:n});this.props.clogSearchClick({type:"message_jump",iid:r,ts:a,channelId:i,userId:o,botId:s})}},{key:"onFileJump",value:function e(t){var r=t.file,n=t.iid,a=t.ts,i=t.channelId,o=t.userId,s=t.botId;this.props.onFileJump();this.props.clogSearchClick({type:"file",iid:n,ts:a,channelId:i,userId:o,botId:s,extraArguments:{click_file_id:r.id}})}},{key:"onRepliesClick",value:function e(t){this.props.onRepliesClick(t);this.props.clogSearchClick(t)}},{key:"onExpandHoverStart",value:function e(){this.setState(function(){return{isHoveringOnExpandLinks:true}})}},{key:"onExpandHoverEnd",value:function e(){this.setState(function(){return{isHoveringOnExpandLinks:false}})}},{key:"getCondensedMessageArray",value:function e(){var t=this.props.messages;return a.a.reduce(t,function(e,t){var r=e.length&&e[e.length-1].collapsedStub;t.stub&&(!t.text||t.text.length>200||r)?r?e[e.length-1].count+=1:e.push({collapsedStub:true,count:1}):e.push(t);return e},[])}},{key:"expand",value:function e(t){var r=t.iid,n=t.ts,a=t.channelId,i=t.userId,o=t.botId;this.setState(function(){return{isExpanded:true}});this.props.clogSearchClick({type:"expand",iid:r,ts:n,channelId:a,userId:i,botId:o})}},{key:"formatHeaderDate",value:function e(){var t=this.props.messages;var r=t[0]&&t[0].ts;if(!r)return"";var n=Object(g["g"])(r,{returnMoment:true});return Object(g["e"])(n,{shortenMonth:false,excludeYear:Object(g["d"])(r)})}},{key:"renderHeader",value:function e(){var t=this.props.channel;if(!t)return null;var r=this.formatHeaderDate();return o.a.createElement(O["a"],{className:"c-message_group__header",onClick:this.onChannelClick},o.a.createElement(E["a"],{channel:t,teamIconSize:"14",showPresence:true,inline:true,showTeamIconForXwsChannels:true}),o.a.createElement("span",null,"\u2013"),o.a.createElement("span",{className:"c-message_group__header_date"},r),o.a.createElement("span",{className:"c-message_group__header_view_label","aria-hidden":"true"},o.a.createElement(y["a"],{enabled:["feature_react_search"]},A.t("View in channel"))))}},{key:"renderMessages",value:function e(){var t=this;var r=this.state.isExpanded?this.props.messages:this.getCondensedMessageArray();return a.a.map(r,function(e,r){if(e.collapsedStub&&!t.state.isExpanded)return o.a.createElement(y["a"],{key:r,enabled:["feature_react_search"]},o.a.createElement("button",{className:"c-message_group__divider",onClick:t.expand},o.a.createElement("hr",{className:"c-message_group__divider_rule"}),o.a.createElement("div",{className:"c-message_group__divider_text"},A.t("+{count, plural, =1 {# message} other {# messages}}",{count:e.count}))));return o.a.createElement(j["a"],C({key:e.ts},e,{channel:t.props.channel,expanded:t.state.isExpanded,onExpand:t.expand,onClick:t.onMessageJump,onLinkClick:t.onLinkClick,onFileClick:t.onFileJump,onRepliesClick:t.onRepliesClick,onExpandHoverStart:t.onExpandHoverStart,onExpandHoverEnd:t.onExpandHoverEnd}))})}},{key:"render",value:function e(){var t=p()("c-message_group",{"c-message_group--hover-expand":this.state.isHoveringOnExpandLinks});return o.a.createElement("div",{className:t},this.renderHeader(),this.renderMessages())}}]);return t}(i["PureComponent"]);M.displayName="SearchMessageGroup";M.propTypes=P;M.defaultProps=R;var x=function e(t,r){var n=r.channel,a=r.team;var i=Object(d["getCurrentTeam"])(t);var o=Object(d["getTeamById"])(t,a||i.id);var s=Object(m["getTeamDisplayName"])(o);var c=n;"string"===typeof n?c=Object(f["getChannelById"])(t,n):Object(b["isMpim"])(n)&&(c=Object(f["getChannelById"])(t,n.id));return{channel:C({},c,{team_id:a}),isEnterpriseOrg:!!(i&&i.enterprise_id),workspaceName:s,currentTeam:i}};var L={clogSearchClick:v["a"]};t["a"]=Object(s["connect"])(x,L)(M)},18533:function(e,t,r){"use strict";var n=r(9);var a=r(1);var i=r.n(a);var o=r(16922);var s=r(16913);var c=r(17831);var l=r(18534);var u=function e(t,r){var n=r.bot_id,a=r.bot_profile,l=r.thread_ts;var u=Object(o["getUserMessagesTheme"])(t);var p=i.a.some(r.extracts,function(e){return e.truncated_head||e.truncated_tail})&&r.text.length>200||!!(r.attachments&&r.attachments.length);return{botId:n,botProfile:a,threadTs:l,theme:u,hasAdHocSender:Object(c["a"])(r),featureTinyspeck:Object(s["isFeatureEnabled"])(t,"feature_tinyspeck"),canBeTruncated:p}};var p=null;t["a"]=Object(n["connect"])(u,p)(l["a"])},18534:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(3);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(16947);var f=r(17001);var d=r(17193);var v=r(17692);var h=r(16920);var m=r(16912);var b=r(17080);var _=r(16965);var g=r(16938);var y=r(16985);var O=r(17078);var E=r(17832);var j=r(17399);var k=r(17190);var w=r(17148);var C=r(17263);var S=r(16998);var T=r(18024);var I=r(17705);var N=r(16960);var A=r(18025);var P=r(18027);var R=r(16917);var M=r(16932);var x=r(16959);var L=r(17035);var D=r(20169);var F=r.n(D);var B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var U=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function G(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var W=new m["b"]("search");var V={iid:c.a.string.isRequired,ts:c.a.string.isRequired,permalink:c.a.string.isRequired,user:c.a.string.isRequired,username:c.a.string,text:c.a.string.isRequired,botId:c.a.string,botProfile:c.a.shape({app_id:c.a.string.isRequired,deleted:c.a.bool,icons:c.a.obj,id:c.a.string,name:c.a.string,updated:c.a.number}),channel:c.a.shape({id:c.a.string.isRequired,name:c.a.string.isRequired}).isRequired,extracts:c.a.arrayOf(c.a.shape({text:c.a.string,truncated_head:c.a.bool,truncated_tail:c.a.bool})),files:c.a.arrayOf(p["a"].File()),subtype:c.a.string,theme:c.a.string,hasAdHocSender:c.a.bool.isRequired,expanded:c.a.bool,onClick:c.a.func,onFileClick:c.a.func,onRepliesClick:c.a.func,onExpand:c.a.func.isRequired,canBeTruncated:c.a.bool.isRequired,attachments:c.a.array,reactions:c.a.array,onExpandHoverStart:c.a.func,onExpandHoverEnd:c.a.func,reply_count:c.a.number,featureReactSearch:c.a.bool.isRequired,onLinkClick:c.a.func};var K={username:null,theme:"light",botId:null,botProfile:null,subtype:"",expanded:false,onClick:a.a.noop,onFileClick:a.a.noop,onRepliesClick:a.a.noop,files:[],attachments:[],reactions:[],extracts:[],onExpandHoverStart:a.a.noop,onExpandHoverEnd:a.a.noop,reply_count:0,onLinkClick:a.a.noop};var z=function(e){G(t,e);function t(e){H(this,t);var r=q(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={hasKeyboardFocus:false};Object(n["bindAll"])(r,["expand","onClick","onFocusEnter","onFocusLeave","onFileClick","onRepliesClick","onCopyLink","onExpandHoverStart","onExpandHoverEnd","onMouseMove","onLinkClick"]);r.dragging=false;r.dragStartX=null;r.dragStartY=null;return r}U(t,[{key:"onClick",value:function e(t){if(t.target.dataset.memberId)return;if(t.target.dataset.channelId||t.target.dataset.messageSender||("A"===t.target.tagName&&"_blank"===t.target.target||"A"===t.target.parentNode.tagName&&"_blank"===t.target.parentNode.target)&&!t.defaultPrevented){this.onLinkClick(t);return}var r=false;if(this.dragging){var n=Math.pow(t.clientX-this.dragStartX,2)+Math.pow(t.clientY-this.dragStartY,2);r=n>16;this.dragging=false}r||t.shiftKey||this.props.onClick({iid:this.props.iid,permalink:this.props.permalink,ts:this.props.ts,channelId:this.props.channel.id,userId:this.props.user,botId:this.props.botId})}},{key:"onFileClick",value:function e(t,r){var n=r.file;t.preventDefault();this.props.onFileClick({file:n,iid:this.props.iid,permalink:this.props.permalink,ts:this.props.ts,channelId:this.props.channel.id,userId:this.props.user,botId:this.props.botId})}},{key:"onRepliesClick",value:function e(t){t.preventDefault();this.props.onRepliesClick({iid:this.props.iid,permalink:this.props.permalink,ts:this.props.ts,channelId:this.props.channel.id,userId:this.props.user,botId:this.props.botId})}},{key:"onCopyLink",value:function e(t){t.preventDefault();t.stopPropagation();var r=this.props,n=r.channel,a=r.ts,i=r.files,o=r.subtype;var s=this.props.permalink||Object(_["b"])(n.id,a);i&&i.length&&"file_comment"!==o&&(s=i[0].permalink);Object(b["writeText"])(s)}},{key:"onExpandHoverStart",value:function e(){this.props.onExpandHoverStart()}},{key:"onExpandHoverEnd",value:function e(){this.props.onExpandHoverEnd()}},{key:"onMouseMove",value:function e(t){if((1===t.button||1===t.buttons)&&!this.dragging){this.dragging=true;this.dragStartX=t.clientX;this.dragStartY=t.clientY}}},{key:"onFocusEnter",value:function e(t){var r=t.relatedEvent;r&&"keydown"===r.type&&this.setState(function(){return{hasKeyboardFocus:true}})}},{key:"onFocusLeave",value:function e(){this.setState(function(){return{hasKeyboardFocus:false}})}},{key:"onLinkClick",value:function e(t){var r={iid:this.props.iid,ts:this.props.ts,channelId:this.props.channel.id,botId:this.props.botId,userId:this.props.user};t.target.dataset.channelId?r.type="channel":t.target.dataset.messageSender?r.type="sender":("A"===t.target.tagName&&"_blank"===t.target.target||"A"===t.target.parentNode.tagName&&"_blank"===t.target.parentNode.target)&&!t.defaultPrevented&&(r.type="link");r.type&&this.props.onLinkClick(r)}},{key:"expand",value:function e(t){t.preventDefault();t.stopPropagation();this.props.onExpand({iid:this.props.iid,permalink:this.props.permalink,ts:this.props.ts,channelId:this.props.channel.id,userId:this.props.user,botId:this.props.botId})}},{key:"renderEllipsisButton",value:function e(){if(!this.props.featureReactSearch)return null;return o.a.createElement(N["a"],{enabled:["feature_react_search"]},o.a.createElement("button",{onClick:this.expand,onMouseEnter:this.onExpandHoverStart,onMouseLeave:this.onExpandHoverEnd,className:"c-search__expand"},o.a.createElement(M["c"],{tip:W.t("Show more")},o.a.createElement("span",{className:"c-search__expand_ellipsis"},"..."))))}},{key:"renderExpandButton",value:function e(){if(!this.props.featureReactSearch)return null;return o.a.createElement("button",{onClick:this.expand,onMouseEnter:this.onExpandHoverStart,onMouseLeave:this.onExpandHoverEnd,className:"c-search__expand"},o.a.createElement("span",{className:"c-search__expand_ellipsis"},"... ",W.t("Show more")))}},{key:"renderText",value:function e(){var t=this;var r=this.props,n=r.text,a=r.extracts,s=r.expanded,c=r.canBeTruncated;if(!(n.length||a.length))return null;if(s||!c)return o.a.createElement("div",{className:"c-search_message__body"},o.a.createElement(g["a"],{text:n,convertHighlightCharacters:true}));if(a.length)return o.a.createElement("div",{className:"c-search_message__body"},o.a.createElement(i["Fragment"],null,a.map(function(e,r){var n=0===r&&e.truncated_head;var s=e.truncated_tail;var l=r===a.length-1;return o.a.createElement(i["Fragment"],{key:r},n?t.renderEllipsisButton():null,o.a.createElement(g["a"],{text:e.text,convertHighlightCharacters:true}),!s||c&&l?null:t.renderEllipsisButton(),c&&l?t.renderExpandButton():null)})));return o.a.createElement("div",{className:"c-search_message__body"},o.a.createElement(g["a"],{text:n,convertHighlightCharacters:true}))}},{key:"renderAvatar",value:function e(){var t=this.props,r=t.user,n=t.hasAdHocSender,a=t.botId;return o.a.createElement(y["b"],{className:"c-search_message__avatar",userId:r,isAdHocMember:n,botId:a,size:36,isInteractive:true,showCard:true,showTooltip:true,tabIndex:"-1"})}},{key:"renderTimestamp",value:function e(){var t=this.props,r=t.ts,n=t.permalink;return o.a.createElement(E["b"],{timestamp:r,relative:false,full:false,link:n})}},{key:"renderGutter",value:function e(){if("light"===this.props.theme)return o.a.createElement("div",{className:"c-search_message__gutter"},this.renderAvatar());return o.a.createElement("div",{className:"c-search_message__gutter"},this.renderTimestamp())}},{key:"renderContentHeader",value:function e(){var t=this.props,r=t.user,n=t.botId,a=t.botProfile,i=t.username,s=t.theme,c=t.channel;return o.a.createElement("div",{className:"c-search_message__content_header"},o.a.createElement(I["a"],{userId:r,botId:n,botProfile:a,username:i,channelName:Object(h["getDisplayName"])(c),isInteractive:true}),"light"===s&&this.renderTimestamp())}},{key:"renderAttachments",value:function e(){var t=this;var r=this.props,n=r.attachments,s=r.expanded,c=r.ts,l=r.channel,u=r.canBeTruncated;if(!n.length)return null;if(s||!u)return a.a.map(n,function(e){return o.a.createElement(j["a"],B({key:l.id},Object(f["b"])(e),{messageTs:c,activeChannelId:l.id,showDelete:false}))});var p=a.a.map(n,function(e){var r=Object(f["b"])(e);var n=null;if(Object(d["c"])(r)){var s=r.serviceIcon||r.authorIcon;var l=r.serviceName||r.authorName;var u=l===r.authorName?r.authorSubname:r.authorName;n=o.a.createElement("div",null,o.a.createElement(w["a"],{icon:s,name:l,link:r.serviceUrl||r.authorLink,subname:u,subnameLink:r.authorLink}))}var p=r.extracts;var v=null;p&&p.title&&(v=o.a.createElement("div",{className:"c-search_message__attachment_title"},a.a.map(p.title,function(e,t){var r=0===t&&e.truncated_head;var n=e.truncated_tail;return o.a.createElement(i["Fragment"],{key:t}," ",r?"\u2026":null,Q(e.text),n?"\u2026":null)})));var h=null;p&&p.pretext&&(h=a.a.map(p.pretext,function(e,r){var n=0===r&&e.truncated_head;var a=e.truncated_tail;return o.a.createElement("span",{className:"c-message_attachment__pretext",key:r}," ",o.a.createElement(i["Fragment"],null,n?t.renderEllipsisButton():null,o.a.createElement(g["a"],{text:e.text,convertHighlightCharacters:true}),a?t.renderEllipsisButton():null))}));var m=null;p&&p.text&&(m=a.a.map(p.text,function(e,r){var n=0===r&&e.truncated_head;var a=e.truncated_tail;return o.a.createElement(i["Fragment"],{key:r}," ",n?t.renderEllipsisButton():null,o.a.createElement(g["a"],{text:e.text,convertHighlightCharacters:true}),a?t.renderEllipsisButton():null)}));var b=null;Object(d["f"])(r)&&(b=o.a.createElement("div",null,o.a.createElement(C["a"],{botId:r.botId,icon:r.footerIcon,isAppUnfurl:r.isAppUnfurl,text:r.footer,ts:c})));return o.a.createElement("div",{className:"c-search_message__attachment"},o.a.createElement(k["a"],{color:r.color}),o.a.createElement("div",{className:"c-search_message__attachment_body"},n,v,h,m,b))});return o.a.createElement("div",{className:"c-search_message__attachments"},p)}},{key:"renderReactionsAndReplies",value:function e(){var t=this.props.reactions;var r=this.props.reply_count;if(!t.length&&!r)return null;var n=a.a.chain(t).sortBy("count").take(2).value();var i=a.a.sumBy(t,"count");var s=null;var c=null;i>0&&(s=o.a.createElement("span",{className:"c-search_message__reactions_count"},W.t("{totalReactionCount, plural, =1 {# reaction} other {# reactions}}",{totalReactionCount:i})));r>0&&(c=o.a.createElement(L["a"],{className:"c-search_message__replies_count",onClick:this.onRepliesClick},o.a.createElement(R["a"],{type:"comment-alt"}),W.t("{replyCount, plural, =1 {# reply} other {# replies}}",{replyCount:r})));return o.a.createElement(N["a"],{enabled:["feature_react_search"]},o.a.createElement("div",{className:"c-search_message__reactions"},a.a.map(n,function(e){return o.a.createElement(S["a"],{text:":"+e.name+":",key:e.name})}),s,c))}},{key:"renderFile",value:function e(){var t=this.props.files;if(!t||!t.length)return null;var r=t[0];if(!r)return null;return o.a.createElement(T["a"],{key:r.id,file:r,onFileClick:this.onFileClick,hasHighlightMarkers:true})}},{key:"renderActions",value:function e(){var t=u()("c-search_message__actions","c-message_actions__container--search",{"c-search_message__actions--dense":"dense"===this.props.theme});return o.a.createElement(N["a"],{enabled:["feature_react_search"]},o.a.createElement(A["a"],{className:t,ariaLabel:W.t("Message actions")},o.a.createElement(P["a"],{iconType:"link",label:W.t("Copy link"),onClick:this.onCopyLink})))}},{key:"render",value:function e(){var t=this.props,r=t.theme,n=t.canBeTruncated,a=t.expanded;var i=u()("c-search_message","c-search_message--"+r,{"c-search_message--collapsed":!a&&n,"c-search_message--focus":this.state.hasKeyboardFocus});return o.a.createElement(O["a"],{onFocusEnter:this.onFocusEnter,onFocusLeave:this.onFocusLeave},o.a.createElement("div",{className:i,role:"presentation","data-qa":"search_result",onClick:this.onClick,onMouseMove:this.onMouseMove},this.renderGutter(),o.a.createElement("div",{className:"c-search_message__content"},this.renderContentHeader(),this.renderText(),this.renderAttachments(),this.renderReactionsAndReplies(),this.renderFile(),this.renderActions())))}}]);return t}(i["PureComponent"]);z.displayName="SearchResult";function Q(e){return Object(v["a"])(e,function(e,t){return o.a.createElement("span",{className:"c-search__match",key:t},e)})}z.propTypes=V;z.defaultProps=K;t["a"]=Object(x["a"])("feature_react_search")(z)},18538:function(e,t,r){"use strict";t["a"]=i;var n=r(1);var a=r.n(n);function i(e){if(!e||Object(n["isEmpty"])(e))return true;if(e.in&&e.in.length)return false;if(e.from&&e.from.length)return false;if(e.to&&e.to.length)return false;if(e.before||e.after)return false;if(e.has_star||e.has_pin||e.has_link||e.has_rxn)return false;return true}},18541:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(9);var u=r(17122);var p=r(17121);var f=r(16913);var d=r(17325);var v=r(20474);var h=r(17329);var m=r(16912);var b=r(18024);var _=r(16952);var g=r(20532);var y=r(18028);var O=r(18029);var E=r(18030);var j=r(20597);var k=r(20495);var w=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function T(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var I=new m["b"]("search");var N={isScrolledTop:o.a.bool.isRequired,loading:o.a.bool,error:o.a.string.isRequired,fileResults:o.a.object,fileState:o.a.object,featureReactSearch:o.a.bool.isRequired,fetchSearchResultsByModule:o.a.func.isRequired,setPageForModule:o.a.func.isRequired,requestQuery:o.a.string,setScrollPosition:o.a.func.isRequired,startWithScrollPosition:o.a.number.isRequired,clogSearchClick:o.a.func,onClickRefreshSearch:o.a.func.isRequired};var A={loading:false,fileResults:{},fileState:{},requestQuery:"",clogSearchClick:s["noop"]};var P=function(e){T(t,e);function t(e){C(this,t);var r=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(s["bindAll"])(r,["pageForward","pageBack","pageSearchResults","setWrapperRef","reportScrollPosition","onFileClick","handleTopScrollElementRef","scrollTop"]);r.markSearchModuleRenderStart=Object(s["throttle"])(function(){var e=r.props.fileResults;Object(g["e"])("files","score",e&&e.pagination&&e.pagination.page||1)},2e3,{leading:true});return r}w(t,[{key:"componentDidMount",value:function e(){this.props.startWithScrollPosition&&(this.wrapperEl.scrollTop=this.props.startWithScrollPosition)}},{key:"onFileClick",value:function e(t,r){var n=r.file,a=r.index;this.props.clogSearchClick({type:"file",iid:n.iid,userId:n.user,extraArguments:{click_file_id:n.id,click_position:a}});Object(h["c"])()}},{key:"setWrapperRef",value:function e(t){this.wrapperEl=t}},{key:"pageForward",value:function e(){this.pageSearchResults(1)}},{key:"pageBack",value:function e(){this.pageSearchResults(-1)}},{key:"pageSearchResults",value:function e(t){var r=this.props,n=r.fileState,a=r.fileResults;var i=Math.max(n.page+t,1);a.items[i]?this.props.setPageForModule({moduleType:"files",page:i}):this.props.fetchSearchResultsByModule({module:"files",sort:"score",query:this.props.requestQuery,page:i})}},{key:"reportScrollPosition",value:function e(){this.props.setScrollPosition(this.wrapperEl.scrollTop)}},{key:"handleTopScrollElementRef",value:function e(t){this.topScrollElementRef=t}},{key:"scrollTop",value:function e(){if(this.topScrollElementRef){this.props.setScrollPosition(0);this.topScrollElementRef.scrollIntoView()}}},{key:"renderLoading",value:function e(){if(this.props.loading)return a.a.createElement(_["a"],{size:"small"});return null}},{key:"renderFiles",value:function e(){var t=this;var r=this.props,n=r.fileState,i=r.fileResults;if(!i.items[n.page||1])return null;Object(g["e"])("files","score",n.page);return(i.items[n.page]||[]).map(function(e,r){return a.a.createElement(b["a"],{key:e.id,index:r,file:e,onClick:t.onFileClick,hasHighlightMarkers:true})})}},{key:"renderSearchResults",value:function e(){if(!this.props.featureReactSearch)return null;var t=this.props,r=t.fileState,n=t.fileResults;var i=n&&n.pagination&&n.pagination.total_count||0;var o=n&&n.pagination&&n.pagination.page_count||0;var s=o>1;var c=r.page||1;var l=n&&n.pagination&&n.pagination.per_page||0;var u=n&&n.items&&n.pagination&&n.pagination.page&&n.items[n.pagination.page]&&n.items[n.pagination.page].length||0;var p="file";var f=i?I.rt("{totalItemCount,plural,=1{{totalItemCount} File}other{{totalItemCount} Files}}",{totalItemCount:i}):null;return a.a.createElement("div",{className:"c-search__section c-search__main"},a.a.createElement("h4",{className:"c-search__section_header"},f),this.renderFiles(),this.renderLoading(),a.a.createElement(y["a"],{visible:s,currentPageOffset:c,totalPageCount:o,maxPerPageItemCount:l,pageItemCount:u,totalItemCount:i,itemType:p,onForward:this.pageForward,onBack:this.pageBack}))}},{key:"renderNoResults",value:function e(){return a.a.createElement("div",{className:"c-search__section c-search__main"},a.a.createElement(E["a"],{query:this.props.requestQuery}))}},{key:"renderError",value:function e(){if(!this.props.featureReactSearch)return null;if(this.props.error===u["MODULE_ERROR_STATE"].None)return null;return a.a.createElement(j["a"],{errorType:this.props.error,onClickRefreshSearch:this.props.onClickRefreshSearch})}},{key:"renderState",value:function e(){var t=this.props.fileResults;if(this.props.error!==u["MODULE_ERROR_STATE"].None)return this.renderError();var r=t&&t.pagination&&t.pagination.total_count||0;if(0===r&&!this.props.loading)return this.renderNoResults();return this.renderSearchResults()}},{key:"render",value:function e(){if(!this.props.featureReactSearch)return null;this.props.loading||this.markSearchModuleRenderStart();var t=this.props.isScrolledTop;return a.a.createElement("div",{className:"c-search__view",id:"c-search__tab_file",onScroll:this.reportScrollPosition,ref:this.setWrapperRef,role:"tabpanel"},this.renderState(),a.a.createElement("div",{className:"c-search__extras",ref:this.handleTopScrollElementRef},a.a.createElement("div",{className:"c-search__section"},a.a.createElement("h4",{className:"c-search__section_header"},I.t("Filter by")),a.a.createElement(O["a"],{showFileFilters:true}))),!t&&a.a.createElement(k["a"],{onClick:this.scrollTop}))}}]);return t}(n["PureComponent"]);P.displayName="FileView";P.propTypes=N;P.defaultProps=A;var R=function e(t){var r=Object(p["getRequestQuery"])(t);var n=Object(p["getResponseModule"])(t,{module:"files"})||{items:[]};var a=Object(u["getModuleState"])(t,"files");return{requestQuery:r,fileResults:n,fileState:a,loading:a&&a.loading,error:a&&a.error,featureReactSearch:Object(f["isFeatureEnabled"])(t,"feature_react_search")}};var M={setPageForModule:u["setPageForModule"],fetchSearchResultsByModule:d["c"],clogSearchClick:v["a"]};t["a"]=Object(l["connect"])(R,M)(P)},18542:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(20183);var f=r.n(p);var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b={types:a.a.arrayOf(a.a.shape({name:a.a.string,id:a.a.id})).isRequired,onSelection:a.a.func,selected:a.a.string};var _={onSelection:s["noop"],selected:""};var g=function(e){m(t,e);function t(e){v(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.renderSwitchItem=r.renderSwitchItem.bind(r);return r}d(t,[{key:"renderSwitchItem",value:function e(t){var r=this;var n=t.name,a=t.id;return o.a.createElement("button",{key:a,className:u()("c-search__tab",{"c-search__tab--selected":this.props.selected===a}),onClick:function e(){return r.props.onSelection(a)},"aria-selected":this.props.selected===a,role:"tab"},n)}},{key:"render",value:function e(){var t=this;return o.a.createElement("div",{role:"tablist",className:"c-search__tabs"},this.props.types.map(function(e){return t.renderSwitchItem(e)}))}}]);return t}(i["PureComponent"]);g.displayName="SearchTypeSwitch";t["a"]=g;g.propTypes=b;g.defaultProps=_},18543:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(20618);var l=r(18544);var u=r(18558);var p=r(18559);var f={id:o.a.string};var d={id:void 0};var v=function e(t){var r=t.id;if(!r)return null;if("Vall_threads"===r)return a.a.createElement(u["a"],null);if("Vall_unreads"===r)return a.a.createElement(p["a"],null);return a.a.createElement(l["a"],{channelId:r})};v.displayName="ChannelHeader";v.propTypes=f;v.defaultProps=d;var h=function e(t){return{id:Object(c["getPrimaryView"])(t)}};t["a"]=Object(s["connect"])(h)(v)},18544:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(16920);var l=r(16923);var u=r(18545);var p=r(18552);var f=r(18554);var d=r(18555);var v=r(18556);var h=r(18557);var m=r(20530);var b={channelId:o.a.string.isRequired,channelType:o.a.oneOf(["channel","private","mpim","im"])};var _={channelType:void 0};var g=function e(t){var r=t.channelId,n=t.channelType;if(!r||!n)return null;return a.a.createElement("div",{className:"p-global_nav__channel"},a.a.createElement(f["a"],{channelId:r}),a.a.createElement(u["a"],{channelId:r}),a.a.createElement(p["a"],{channelId:r}),a.a.createElement("div",{className:"p-global_nav__channel_spacer--fill"}),a.a.createElement(m["a"],{channelId:r}),a.a.createElement(d["a"],{channelId:r}),"im"!==n&&a.a.createElement(v["a"],{channelId:r}),a.a.createElement(h["a"],{channelId:r}))};g.displayName="ModelHeader";g.propTypes=b;g.defaultProps=_;var y=function e(t,r){var n=r.channelId;var a=Object(l["getChannelById"])(t,n);if(!a)return{};return{channelType:Object(c["getChannelType"])(a)}};t["a"]=Object(s["connect"])(y)(g)},18545:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(9);var u=r(1);var p=r.n(u);var f=r(16917);var d=r(17060);var v=r(17249);var h=r(17023);var m=r(16932);var b=r(18003);var _=r(16918);var g=r(16913);var y=r(16923);var O=r(17057);var E=r(16920);var j=r(16912);var k=r(17092);var w=r(18033);var C=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function I(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var N=new j["b"]("channel_header");var A={name:o.a.string.isRequired,type:o.a.string.isRequired,userId:o.a.string,members:o.a.oneOfType([o.a.array,o.a.bool]),currentUser:o.a.string.isRequired,isMuted:o.a.bool,isOrgShared:o.a.bool.isRequired,isExternallyShared:o.a.bool.isRequired,isPendingExternallyShared:o.a.bool.isRequired,sharedTeamIds:o.a.arrayOf(o.a.string),className:o.a.string,featureGlobalNav:o.a.bool};var P={userId:void 0,members:void 0,sharedTeamIds:void 0,className:void 0,isMuted:false,featureGlobalNav:false};var R=function(e){I(t,e);function t(e){S(this,t);var r=T(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.renderChannel=r.renderChannel.bind(r);r.renderPrivate=r.renderPrivate.bind(r);r.renderIM=r.renderIM.bind(r);r.renderMPIM=r.renderMPIM.bind(r);r.onClick=r.onClick.bind(r);return r}C(t,[{key:"onClick",value:function e(){Object(k["c"])("details")}},{key:"renderChannel",value:function e(t){var r="#"+this.props.name;return a.a.createElement(t,null,r)}},{key:"renderPrivate",value:function e(t){return a.a.createElement(n["Fragment"],null,a.a.createElement(f["b"],{type:"lock",className:"p-global_nav__channel_name_icon p-global_nav__channel_name_icon--private"}),a.a.createElement(t,null,this.props.name))}},{key:"renderIM",value:function e(t){var r=this.props.userId;return a.a.createElement(n["Fragment"],null,a.a.createElement(t,null,a.a.createElement(d["a"],{id:r,key:"name"})),a.a.createElement(h["a"],{memberId:r,className:"p-global_nav__channel_name_presence",key:"presence"}),a.a.createElement(v["a"],{memberId:r,tooltip:false,key:"custom-status"}))}},{key:"renderMPIM",value:function e(t){var r=this;var n=this.props.members;var i=Object(u["flatMap"])(Object(u["filter"])(n,function(e){return e!==r.props.currentUser}),function(e,t){return[t>0?", ":null,a.a.createElement(d["a"],{id:e,key:e+"-name"}),a.a.createElement(v["a"],{memberId:e,key:e+"-status",tooltip:false,noText:true})]});return a.a.createElement(t,null,i)}},{key:"renderShared",value:function e(){var t=this.props,r=t.isOrgShared,n=t.isExternallyShared,i=t.isPendingExternallyShared,o=t.sharedTeamIds;if(r)return a.a.createElement(m["c"],{tip:N.t("Shared channel"),position:"bottom"},a.a.createElement(f["b"],{type:"shared-channel",inline:true,className:"p-global_nav__channel_name_icon p-global_nav__channel_name_icon--shared"}));if(n)return a.a.createElement(b["a"],{sharedTeamIds:o,pending:i,inline:true,tooltip:true,tooltipPosition:"bottom",className:"p-global_nav__channel_name_icon p-global_nav__channel_name_icon--shared"});return null}},{key:"renderMenu",value:function e(){return a.a.createElement(w["a"],null)}},{key:"render",value:function e(){var t=this;var r=this.props,n=r.type,i=r.className,o=r.isMuted,s=r.featureGlobalNav;if(!s)return null;var l="channel"===n||"private"===n?N.t("View channel details"):N.t("View conversation details");var u=function e(r){var n=r.children;return a.a.createElement(m["c"],{tip:l,position:"bottom",delay:m["a"]},a.a.createElement(_["c"],{className:"p-global_nav__channel_name_name",onClick:t.onClick},n))};var p=void 0;switch(n){case"channel":p=this.renderChannel(u);break;case"private":p=this.renderPrivate(u);break;case"im":p=this.renderIM(u);break;case"mpim":p=this.renderMPIM(u);break;default:break}var f=c()("p-global_nav__channel_name","p-global_nav__channel_name--model","p-global_nav__channel_name--"+n,o&&"p-global_nav__channel_name--muted",i);return a.a.createElement("div",{className:f},p,this.renderShared())}}]);return t}(n["Component"]);R.displayName="Name";R.propTypes=A;R.defaultProps=P;var M=function e(t,r){var n=r.channelId;var a=Object(y["getChannelById"])(t,n);return{name:Object(E["getDisplayName"])(a),type:Object(E["getChannelType"])(a),userId:Object(E["getMemberIdFromIm"])(a)||a.user_id,members:Object(E["getMemberIdsFromMpim"])(a),currentUser:Object(g["getCurrentUserId"])(t),isMuted:Object(O["isChannelMutedById"])(t,n),isOrgShared:Object(E["isOrgSharedPublicOrPrivateChannel"])(a),isExternallyShared:Object(E["isExternallySharedChannel"])(a),isPendingExternallyShared:Object(E["isPendingExternallySharedChannel"])(a),sharedTeamIds:Object(E["getMaybePendingSharedTeamIds"])(a),featureGlobalNav:Object(g["isFeatureEnabled"])(t,"feature_global_nav")}};t["a"]=Object(l["connect"])(M)(R)},18546:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.ui.edit_member_profile.start")},18547:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.ui.channel_options_dialog.start")},18548:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.ui.channel_prefs_dialog.start")},18549:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.ui.mpim_conversion_modal.startMpimConversionModal")},18550:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.ui.apps_browser.startAddApps")},18551:function(e,t,r){"use strict";t["a"]=f;var n=r(16923);var a=r(16919);var i=r(16922);var o=r(16913);var s=r(16920);var c=r(16921);var l=r(17090);var u=r(17363);var p=r(17674);function f(e,t){var r=Object(n["getChannelById"])(e,t);if(!e||!r)return null;var f=Object(a["getMemberById"])(e,Object(s["getMemberIdFromIm"])(r));var d=Object(a["getCurrentMember"])(e);var v=Object(s["getChannelType"])(r);var h="im"===v;var m="mpim"===v;var b="channel"===v;var _="private"===v;var g=b||_;var y=Object(s["isYou"])(d.id,r);var O=true;var E=!h;var j=y;var k=h&&!y;var w=h&&!y&&!Object(s["isSlackbot"])(r)&&!Object(c["T"])(d)&&!Object(c["T"])(f)&&!Object(c["C"])(f)&&!Object(c["E"])(f);var C=true;var S=g&&!Object(c["T"])(d)&&!Object(c["O"])(d)&&Object(s["isMemberOfChannel"])(r)&&(!Object(s["isRequired"])(r)||Object(l["i"])(d,r))&&(!Object(o["pageNeedsEnterprise"])(e)||!(Object(s["isOrgShared"])(r)&&!Object(l["c"])()));var T=Object(u["b"])(r);var I=m&&Object(l["d"])()&&!Object(s["isExternallySharedChannel"])(r);var N=!h&&(m||Object(s["isMemberOfChannel"])(r)&&!Object(s["isArchived"])(r));var A=N;var P=Object(p["a"])()||g&&!(Object(o["pageNeedsEnterprise"])(e)&&Object(s["isOrgShared"])(r));var R=Object(i["getTeamPref"])(e,"allow_email_ingestion");var M=g&&Object(s["isMemberOfChannel"])(r)&&!Object(s["isArchived"])(r)&&!Object(s["isRequired"])(r)&&!Object(c["T"])(d)&&!Object(c["O"])(d);var x=g&&!Object(s["isMemberOfChannel"])(r)&&!Object(s["isArchived"])(r)&&!Object(c["T"])(d)&&!Object(c["O"])(d);var L=!b&&Object(l["f"])(r);return{jump:O,invite:E,editProfile:j,viewProfile:k,addMember:w,details:C,options:S,retention:T,convertToPrivate:I,notifications:N,mute:A,apps:P,email:R,leave:M,join:x,exportHistory:L}}},18552:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(16917);var l=r(16918);var u=r(16938);var p=r(16932);var f=r(16923);var d=r(16913);var v=r(16920);var h=r(16912);var m=r(18553);var b=new h["b"]("global_nav");var _={topic:o.a.string,isChannel:o.a.bool.isRequired,featureGlobalNav:o.a.bool.isRequired};var g={topic:void 0};var y=function e(t){if(t.target&&"A"===t.target.tagName)return;Object(m["a"])()};var O=function e(t){var r=t.topic,n=t.isChannel,i=t.featureGlobalNav;if(!i||!n)return null;var o=r?a.a.createElement("div",{className:"p-global_nav__channel_topic_text"},a.a.createElement(u["a"],{text:r,className:"p-global_nav__channel_topic_content",noJumbomoji:true})):null;return a.a.createElement(l["c"],{className:"p-global_nav__channel_topic",onClick:y},o,a.a.createElement(p["c"],{tip:r?b.t("Edit topic"):b.t("Add a topic"),position:"bottom"},a.a.createElement("div",{className:"p-global_nav__channel_topic_edit"},a.a.createElement(c["b"],{type:"pencil",className:"p-global_nav__channel_topic_edit_icon"}))))};O.displayName="Topic";O.propTypes=_;O.defaultProps=g;var E=function e(t,r){var n=r.channelId;var a=Object(f["getChannelById"])(t,n);return{topic:a&&a.topic&&a.topic.value,isChannel:!!(Object(v["isPublicChannel"])(a)||Object(v["isPrivateChannel"])(a)),featureGlobalNav:Object(d["isFeatureEnabled"])(t,"feature_global_nav")}};t["a"]=Object(s["connect"])(E)(O)},18553:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.ui.channel_topic_dialog.start");var i={start:a}},18554:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(9);var u=r(16917);var p=r(16932);var f=r(16918);var d=r(17307);var v=r(16923);var h=r(16913);var m=r(16920);var b=r(16912);var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=new b["b"]("global_nav");var j={channelId:o.a.string.isRequired,type:o.a.oneOf(["channel","private","im","mpim"]),starred:o.a.bool,updateStar:o.a.func.isRequired,featureGlobalNav:o.a.bool.isRequired};var k={type:"channel",starred:false};var w=function(e){O(t,e);function t(e){g(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onClick=r.onClick.bind(r);return r}_(t,[{key:"onClick",value:function e(){var t=this.props,r=t.channelId,n=t.starred;this.props.updateStar(!n,{channel:r})}},{key:"getTip",value:function e(){var t=this.props,r=t.type,n=t.starred,a=t.featureGlobalNav;if(!a)return null;if("im"===r||"mpim"===r)return n?E.t("Unstar this conversation"):E.t("Star this conversation");return n?E.t("Unstar this channel"):E.t("Star this channel")}},{key:"render",value:function e(){var t=this.props.starred;return a.a.createElement(p["c"],{position:"bottom",tip:this.getTip()},a.a.createElement(f["c"],{className:c()("p-global_nav__channel_star",t&&"p-global_nav__channel_star--starred"),onClick:this.onClick},a.a.createElement(u["b"],{type:t?"star":"star-o",size:"inherit"})))}}]);return t}(n["Component"]);w.displayName="Star";w.propTypes=j;w.defaultProps=k;var C=function e(t,r){var n=r.channelId;var a=Object(v["getChannelById"])(t,n);return{type:Object(m["getChannelType"])(a),starred:Object(m["isStarred"])(a),featureGlobalNav:Object(h["isFeatureEnabled"])(t,"feature_global_nav")}};var S={updateStar:d["a"]};t["a"]=Object(l["connect"])(C,S)(w)},18555:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(16917);var l=r(16918);var u=r(16932);var p=r(16923);var f=r(16912);var d=r(17092);var v=new f["b"]("channel_header");var h={count:o.a.number};var m={count:0};var b=function e(t){var r=t.count;return a.a.createElement(u["c"],{position:"bottom",tip:v.t("View pinned items")},a.a.createElement(l["c"],{className:"p-global_nav__channel_info_item p-global_nav__channel_info_pins",onClick:d["f"]},a.a.createElement(c["b"],{className:"p-global_nav__channel_info_item_icon",type:"thumb-tack",size:"inherit",inline:true}),r))};b.displayName="Pins";b.propTypes=h;b.defaultProps=m;var _=function e(t,r){var n=r.channelId;var a=Object(p["getChannelById"])(t,n);return{count:a&&a.pinned_items_count}};t["a"]=Object(s["connect"])(_)(b)},18556:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(16917);var l=r(16932);var u=r(16918);var p=r(17046);var f=r(17092);var d=r(16912);var v=new d["b"]("channel_header");var h={count:o.a.number};var m={count:0};var b=function e(t){var r=t.count;return a.a.createElement(l["c"],{position:"bottom",tip:v.t("View member list")},a.a.createElement(u["c"],{className:"p-global_nav__channel_info_item",onClick:f["e"]},a.a.createElement(c["b"],{className:"p-global_nav__channel_info_item_icon",type:"user",size:"inherit",inline:true}),r))};b.displayName="Members";b.propTypes=h;b.defaultProps=m;var _=function e(t,r){var n=r.channelId;var a=Object(p["getMemberCounts"])(t,n);return{count:a&&a.counts&&a.counts.member_count||0}};t["a"]=Object(s["connect"])(_)(b)},18557:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16917);var c=r(16918);var l=r(16950);var u=r(18033);var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m={channelId:o.a.string.isRequired};var b=function(e){h(t,e);function t(e){d(this,t);var r=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.renderMenu=r.renderMenu.bind(r);return r}f(t,[{key:"renderMenu",value:function e(t){return a.a.createElement(u["a"],p({},t,{channelId:this.props.channelId}))}},{key:"render",value:function e(){return a.a.createElement(l["d"],{renderMenu:this.renderMenu,position:"bottom-right"},a.a.createElement(c["c"],{className:"p-global_nav__channel_actions_button"},a.a.createElement(s["b"],{type:"chevron-large-down"})))}}]);return t}(n["Component"]);b.displayName="Actions";b.propTypes=m;t["a"]=b},18558:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16959);var c=r(16912);var l=new c["b"]("global_nav");var u={featureGlobalNav:o.a.bool,featureThreadsCopyChange:o.a.bool};var p={featureGlobalNav:false,featureThreadsCopyChange:false};var f=function e(t){var r=t.featureGlobalNav,n=t.featureThreadsCopyChange;if(!r)return null;return a.a.createElement("div",{className:"p-global_nav__channel"},a.a.createElement("div",{className:"p-global_nav__channel_name"},n?l.t("Threads"):l.t("All Threads")))};f.displayName="AllThreadsHeader";f.propTypes=u;f.defaultProps=p;t["a"]=Object(s["a"])("feature_global_nav","feature_threads_copy_change")(f)},18559:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16917);var p=r(16918);var f=r(16950);var d=r(17707);var v=r(18560);var h=r(17409);var m=r(20529);var b=r(16913);var _=r(17952);var g=r(16912);var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var O=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=new g["b"]("global_nav");var C={hasUnreads:o.a.bool,sortOrder:o.a.string,newUnreads:o.a.number,setUserPrefByApi:o.a.func,featureGlobalNav:o.a.bool};var S={hasUnreads:true,sortOrder:"alphabetical",newUnreads:0,setUserPrefByApi:c["noop"],featureGlobalNav:false};var T=function(e){k(t,e);function t(e){E(this,t);var r=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.renderSortButton=r.renderSortButton.bind(r);r.renderSortMenu=r.renderSortMenu.bind(r);return r}O(t,[{key:"changeSort",value:function e(t){if(t===this.props.sortOrder)return;this.props.setUserPrefByApi({pref:"all_unreads_sort_order",value:t});Object(_["b"])()}},{key:"renderSortMenu",value:function e(t){var r=this;if(!this.props.featureGlobalNav)return null;var n=[{label:w.t("Alphabetically"),click:function e(){return r.changeSort("alphabetical")}},{label:w.t("Scientifically"),click:function e(){return r.changeSort("priority")}},{label:w.t("Newest channel"),click:function e(){return r.changeSort("newest")}},{label:w.t("Oldest channel"),click:function e(){return r.changeSort("oldest")}}];return a.a.createElement(f["a"],y({},t,{template:n}))}},{key:"renderSortButton",value:function e(){var t=this.props,r=t.hasUnreads,n=t.sortOrder,i=t.featureGlobalNav;if(!i)return null;if(!r)return null;var o={alphabetical:w.rt("<strong>Sort:</strong> Alphabetically"),priority:w.rt("<strong>Sort:</strong> Scientifically"),oldest:w.rt("<strong>Sort:</strong> Oldest channel"),newest:w.rt("<strong>Sort:</strong> Newest channel")};var s=o[n];return a.a.createElement(f["d"],{renderMenu:this.renderSortMenu,position:"bottom-right",offsetY:4},a.a.createElement(p["c"],{className:"p-global_nav__unread_sort"},s,a.a.createElement(u["b"],{type:"chevron-down",inline:true})))}},{key:"renderRefreshButton",value:function e(){var t=this.props,r=t.newUnreads,n=t.featureGlobalNav;if(!n||!r)return null;var i=w.t("{newUnreadsCount, plural, =1 {# new message} other {# new messages}}",{newUnreadsCount:r});return a.a.createElement(p["d"],{type:"outline",size:"small",className:"p-global_nav__unread_refresh",onClick:_["c"]},a.a.createElement(u["b"],{type:"sync",className:"p-global_nav__unread_refresh_icon",size:"inherit"}),i)}},{key:"render",value:function e(){if(!this.props.featureGlobalNav)return null;return a.a.createElement("div",{className:"p-global_nav__channel"},a.a.createElement("div",{className:"p-global_nav__channel_name"},w.t("All Unreads")),this.renderRefreshButton(),a.a.createElement("div",{className:"p-global_nav__channel_spacer--fill"}),this.renderSortButton())}}]);return t}(n["Component"]);T.displayName="AllUnreadsHeader";T.propTypes=C;T.defaultProps=S;var I=function e(t){return{hasUnreads:Object(h["hasUnreads"])(t),sortOrder:Object(v["a"])(t),newUnreads:Object(m["getNewUnreads"])(t),featureGlobalNav:Object(b["isFeatureEnabled"])(t,"feature_global_nav")}};var N={setUserPrefByApi:d["b"]};t["a"]=Object(s["connect"])(I,N)(T)},18560:function(e,t,r){"use strict";t["a"]=o;var n=r(16922);var a=r(16939);var i=r(17400);function o(e){var t=Object(n["getUserPref"])(e,"all_unreads_sort_order");if(t)return t;return Object(i["isPaidTeam"])(Object(a["getCurrentTeam"])(e))?"priority":"alphabetical"}},18561:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(16917);var l=r(16932);var u=r(16918);var p=r(16913);var f=r(17090);var d=r(18007);var v=r(17677);var h=r(16912);var m=new h["b"]("global_nav");var b={featureGlobalNav:o.a.bool};var _={featureGlobalNav:false};var g=function e(t){return Object(v["a"])(t,true)};var y=function e(t){var r=t.featureGlobalNav;if(!r)return null;var n=a.a.createElement(u["c"],{className:"p-global_nav__sidebar_jumper",onClick:d["a"]},a.a.createElement(c["b"],{type:"filter",className:"p-global_nav__sidebar_jumper_icon"}),m.t("Go to\u2026",{note:"Used to open the quickswitcher. This label should as short as possible."}));var i=Object(f["k"])()&&a.a.createElement(l["c"],{tip:m.t("Invite people to this workspace"),position:"bottom"},a.a.createElement(u["c"],{className:"p-global_nav__sidebar_button",onClick:g},a.a.createElement(c["b"],{type:"add-user",className:"p-global_nav__sidebar_button_icon"})));return a.a.createElement("div",{className:"p-global_nav__sidebar"},n,i)};y.displayName="SidebarHeader";y.propTypes=b;y.defaultProps=_;var O=function e(t){return{featureGlobalNav:Object(p["isFeatureEnabled"])(t,"feature_global_nav")}};t["a"]=Object(s["connect"])(O)(y)},18562:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18563);var a=r(16928);Object(a["a"])("interop.mountImageViewer",n["a"]);Object(a["a"])("interop.unmountImageViewer",n["b"])},18563:function(e,t,r){"use strict";r.d(t,"a",function(){return p});r.d(t,"b",function(){return f});var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(16954);var l=r(16927);var u=r(18035);var p=function e(t,r,n){var i=n.image,o=n.onDidZoomLevelChange;if(!t)throw new Error("mountImageViewer must be called with a teamId parameter");var p=Object(l["c"])(t);Object(c["a"])(a.a.createElement(s["Provider"],{store:p},a.a.createElement(u["c"],{image:i,onDidZoomLevelChange:o})),r)};var f=function e(t){o.a.unmountComponentAtNode(t)}},18564:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(16959);var u=r(16917);var p=r(1);var f=r.n(p);var d=r(16932);var v=r(16912);var h=r(17599);var m=r(20185);var b=r.n(m);var _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var g=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j=1e3;var k=new v["b"]("image_viewer");var w={className:a.a.string,handleZoomIn:a.a.func,handleZoomOut:a.a.func,handleReset:a.a.func,handleZoomToActualPixels:a.a.func,handleSlider:a.a.func,handlePan:a.a.func,level:a.a.number,displayLevel:a.a.oneOfType([a.a.string,a.a.number]),isVisible:a.a.bool,featureModernImageViewer:a.a.bool.isRequired,onMouseEnter:a.a.func,onMouseLeave:a.a.func};var C={className:null,handleZoomIn:p["noop"],handleZoomOut:p["noop"],handleReset:p["noop"],handleZoomToActualPixels:p["noop"],handleSlider:p["noop"],handlePan:p["noop"],level:.5,displayLevel:.5,isVisible:true,onMouseEnter:p["noop"],onMouseLeave:p["noop"]};var S="p-zoom__slider";var T=function e(t,r){return o.a.createElement(i["Fragment"],null,o.a.createElement("div",null,t),o.a.createElement("div",{className:"sk_light_gray"},r))};T.displayName="makeTooltipContentWithSubtext";var I=function(e){E(t,e);function t(e){y(this,t);var r=O(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.inputWidth=0;r.onKeyDown=r.onKeyDown.bind(r);r.onKeyUp=r.onKeyUp.bind(r);r.handleSliderChange=r.handleSliderChange.bind(r);r.handleInactivity=r.handleInactivity.bind(r);r.throttledOnActivity=Object(p["throttle"])(r.onActivity.bind(r),200,{leading:true,trailing:true});r.state={isHoveringTooltip:false,isRecentlyActive:false};return r}g(t,[{key:"componentDidMount",value:function e(){this.inputWidth=this.tooltip.tooltipContent.getBoundingClientRect().width;this.forceUpdate();document.addEventListener("keydown",this.onKeyDown);document.addEventListener("keyup",this.onKeyUp)}},{key:"componentWillReceiveProps",value:function e(t){t.level!==this.props.level&&this.throttledOnActivity()}},{key:"componentWillUnmount",value:function e(){clearTimeout(this.activityTimeout);this.throttledOnActivity.cancel();document.removeEventListener("keydown",this.onKeyDown);document.removeEventListener("keyup",this.onKeyUp)}},{key:"onKeyDown",value:function e(t){var r=t.shiftKey?300:50;t.ctrlKey&&(this.isCtrlHeld=true);if(Object(h["a"])()&&!t.target.classList.contains(S))return;"+"===t.key||"="===t.key?t.metaKey||this.props.handleZoomIn():"-"===t.key?t.metaKey||this.props.handleZoomOut():" "!==t.key||t.repeat?"0"!==t.key||0===this.props.level||t.repeat?"ArrowDown"===t.key||"Down"===t.key?this.props.handlePan({x:0,y:-r},true):"ArrowUp"===t.key||"Up"===t.key?this.props.handlePan({x:0,y:r},true):"ArrowRight"===t.key||"Right"===t.key?this.props.handlePan({x:-r,y:0},true):"ArrowLeft"!==t.key&&"Left"!==t.key||this.props.handlePan({x:r,y:0},true):t.metaKey||this.props.handleReset():0===this.props.level?this.props.handleZoomToActualPixels():this.props.handleReset()}},{key:"onKeyUp",value:function e(t){t.ctrlKey||(this.isCtrlHeld=false);" "===t.key&&t.preventDefault()}},{key:"onActivity",value:function e(){clearTimeout(this.activityTimeout);this.activityTimeout=setTimeout(this.handleInactivity,j);this.state.isRecentlyActive||this.setState(function(){return{isRecentlyActive:true}})}},{key:"setIsHoveringTooltip",value:function e(t){this.setState(function(){return{isHoveringTooltip:t,isRecentlyActive:false}})}},{key:"handleInactivity",value:function e(){this.setState(function(){return{isRecentlyActive:false}})}},{key:"handleSliderChange",value:function e(t){this.props.handleSlider(Number(t.target.value),this.isCtrlHeld)}},{key:"calcTooltipOffset",value:function e(){var t=12;var r=.5;return(this.props.level-r)*(this.inputWidth-t)}},{key:"_makeSharedTooltipOptions",value:function e(){var t=this;return{zIndex:"above_fs",onMouseEnter:function e(){return t.setIsHoveringTooltip(true)},onMouseLeave:function e(){return t.setIsHoveringTooltip(false)}}}},{key:"renderSlider",value:function e(){var t=this;return o.a.createElement(d["c"],_({},this._makeSharedTooltipOptions(),{ref:function e(r){t.tooltip=r},offsetX:this.calcTooltipOffset(),tip:this.props.displayLevel,shouldForceVisible:this.state.isRecentlyActive&&!this.state.isHoveringTooltip}),o.a.createElement("input",{className:S,type:"range",min:0,max:1,value:this.props.level,onChange:this.handleSliderChange,step:.01,onKeyDown:function e(t){return t.preventDefault()},onKeyPress:function e(t){return t.preventDefault()}}))}},{key:"render",value:function e(){var t=this;var r=this.props.level>0;if(!this.props.featureModernImageViewer)return null;return o.a.createElement("div",{className:c()("p-zoom",this.props.className,{"p-zoom--hidden":!this.props.isVisible}),onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},o.a.createElement("div",{className:"p-zoom__control_group"},o.a.createElement(d["c"],_({},this._makeSharedTooltipOptions(),{tip:T(k.t("Zoom out"),k.t("Press -"))}),o.a.createElement(u["b"],{type:"minus",className:"p-zoom__button--zoom_out",onClick:function e(){return t.props.handleZoomOut()}})),this.renderSlider(),o.a.createElement(d["c"],_({},this._makeSharedTooltipOptions(),{tip:T(k.t("Zoom in"),k.t("Press + or ="))}),o.a.createElement(u["b"],{type:"plus",className:"p-zoom__button--zoom_in",onClick:function e(){return t.props.handleZoomIn()}}))),o.a.createElement(d["c"],_({},this._makeSharedTooltipOptions(),{tip:T(k.t("Reset"),k.t("Press space"))}),o.a.createElement(u["b"],{type:"collapse-vertical",className:"p-zoom__control_group p-zoom__button--reset",disabled:!r,onClick:this.props.handleReset})))}}]);return t}(i["PureComponent"]);I.displayName="ZoomControl";I.propTypes=w;I.defaultProps=C;t["a"]=Object(l["a"])("feature_modern_image_viewer")(I)},18565:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(194);var u=r.n(l);var p=r(18037);var f=r(20185);var d=r.n(f);var v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g={children:a.a.node.isRequired,handleZoomIn:a.a.func,handleZoomOut:a.a.func,handlePan:a.a.func,handleZoomDelta:a.a.func,handleBoxZoom:a.a.func,handleReset:a.a.func,canZoomIn:a.a.bool,canZoomOut:a.a.bool,containerRect:a.a.object};var y={children:null,handleZoomIn:s["noop"],handleZoomOut:s["noop"],handlePan:s["noop"],handleZoomDelta:s["noop"],handleBoxZoom:s["noop"],handleReset:s["noop"],canZoomIn:false,canZoomOut:false,containerRect:null};var O=function(e){_(t,e);function t(e){m(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onMouseDown=r.onMouseDown.bind(r);r.onMouseUp=r.onMouseUp.bind(r);r.onMouseMove=r.onMouseMove.bind(r);r.onMouseWheel=r.onMouseWheel.bind(r);r.onDocumentCaptureClick=r.onDocumentCaptureClick.bind(r);r.onKeyDown=r.onKeyDown.bind(r);r.onKeyUp=r.onKeyUp.bind(r);r.state={cursor:"default",dragBoxCSSPosition:null};return r}h(t,[{key:"componentDidMount",value:function e(){this.targetNode.addEventListener("click",function(e){return e.stopPropagation()});this.targetNode.addEventListener("mousedown",this.onMouseDown);document.addEventListener("wheel",this.onMouseWheel);document.addEventListener("mouseup",this.onMouseUp);document.addEventListener("mousemove",this.onMouseMove);document.addEventListener("keydown",this.onKeyDown);document.addEventListener("keyup",this.onKeyUp);document.addEventListener("click",this.onDocumentCaptureClick,true)}},{key:"componentWillReceiveProps",value:function e(t){var r=this.determineCursor(t);this.setCursor(r)}},{key:"componentWillUnmount",value:function e(){this.targetNode.removeEventListener("click",function(e){return e.stopPropagation()});this.targetNode.removeEventListener("mousedown",this.onMouseDown);document.removeEventListener("wheel",this.onMouseWheel);document.removeEventListener("mouseup",this.onMouseUp);document.removeEventListener("mousemove",this.onMouseMove);document.removeEventListener("keydown",this.onKeyDown);document.removeEventListener("keyup",this.onKeyUp);document.removeEventListener("click",this.onDocumentCaptureClick,true)}},{key:"onMouseDown",value:function e(t){t.stopPropagation();this.isMouseDown=0===t.button;this.dragOrigin={x:t.x,y:t.y};this.numMouseMoves=0;this.wasPlatformCtrlDownAtStart=Object(p["e"])(t);this.wasAltKeyDownAtStart=t.altKey;this.setCursor()}},{key:"onMouseMove",value:function e(t){this.isAltKeyDown=t.altKey;this.isPlatformCtrlDown=Object(p["e"])(t);this.setCursor();if(!this.isMouseDown)return;this.numMouseMoves+=1;if(this.wasPlatformCtrlDownAtStart){var r=Object(p["f"])(this.dragOrigin,{x:t.clientX,y:t.clientY});var n=Object(p["d"])(r,this.props.containerRect);this.setState(function(){return{dragBoxCSSPosition:n}})}else{if(!this.props.canZoomOut)return;this.props.handlePan({x:t.movementX,y:t.movementY})}t.stopPropagation();t.preventDefault()}},{key:"onMouseUp",value:function e(t){var r=this.isMouseDown;var n=this.wasAltKeyDownAtStart;var a=this.wasPlatformCtrlDownAtStart;var i=this.numMouseMoves>5;var o=!i||n;var s=!n&&i&&a;this.shouldCancelClickEvent=r;this.isMouseDown=false;this.isRightClick=false;if(!r)return;t.stopPropagation();t.preventDefault();if(s){var c=Object(p["f"])(this.dragOrigin,{x:t.clientX,y:t.clientY});this.props.handleBoxZoom(c);this.setState(function(){return{dragBoxCSSPosition:null}})}else if(o){var l={x:t.x,y:t.y};n?this.props.handleZoomOut(l):this.props.canZoomIn?this.props.handleZoomIn(l):this.props.handleReset()}this.setCursor()}},{key:"onDocumentCaptureClick",value:function e(t){this.shouldCancelClickEvent&&t.stopPropagation()}},{key:"onMouseWheel",value:function e(t){t.preventDefault();t.stopPropagation();var r={x:t.clientX,y:t.clientY};if(0===t.deltaMode){var n=.01;var a=.6;t.ctrlKey?this.props.handleZoomDelta(r,-t.deltaY*n):this.props.handlePan({x:-t.deltaX*a,y:-t.deltaY*a})}else{var i=.01;this.props.handleZoomDelta(r,-t.deltaY*i)}}},{key:"onKeyDown",value:function e(t){t.altKey&&(this.isAltKeyDown=true);Object(p["e"])(t)&&(this.isPlatformCtrlDown=true);this.setCursor()}},{key:"onKeyUp",value:function e(t){t.altKey||(this.isAltKeyDown=false);Object(p["e"])(t)||(this.isPlatformCtrlDown=false);this.setCursor()}},{key:"setCursor",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.determineCursor();this.setState(function(){return{cursor:t}})}},{key:"determineCursor",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(this.isPlatformCtrlDown)return"crosshair";if(t.canZoomOut&&this.isMouseDown&&this.numMouseMoves>5)return u.a.webkit?"-webkit-grabbing":"grabbing";if(t.canZoomOut&&this.isAltKeyDown||!t.canZoomIn)return"zoom-out";if(t.canZoomIn)return"zoom-in";return u.a.webkit?"-webkit-grab":"grab"}},{key:"render",value:function e(){var t=this;var r=o.a.Children.only(this.props.children);var n=o.a.cloneElement(r,{ref:function e(r){t.targetNode=r},style:v({},r.props.style,{cursor:this.state.cursor})});return o.a.createElement(i["Fragment"],null,n,this.state.dragBoxCSSPosition&&o.a.createElement("div",{className:"p-zoom__box",style:v({},this.state.dragBoxCSSPosition)}))}}]);return t}(i["PureComponent"]);O.displayName="ZoomMouseInteraction";t["a"]=O;O.defaultProps=y;O.propTypes=g},18566:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16912);var u=r(16959);var p=r(18035);var f=r(18037);var d=r(20235);var v=r.n(d);var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=1800;var O=new l["b"]("image_viewer");var E=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.08;if(t<r+n&&t>r-n)return r;return t};var j=function e(t){var r=t.width,n=t.height;return{width:r,height:n}};var k=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;var a=t.width/t.height;return Math.min(a*(r.height-n),r.width-n)/t.width};var w={image:a.a.any,onDidZoomLevelChange:a.a.func,featureModernImageViewer:a.a.bool.isRequired};var C={image:null,onDidZoomLevelChange:s["noop"]};var S=function(e){g(t,e);function t(e){b(this,t);var r=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={scale:0,translate:{x:0,y:0},shouldAnimate:true,isUserRecentlyActive:false};r.scaleSteps=[0,.5,1,1.5,2];r.minScale=r.scaleSteps[0];r.maxScale=r.scaleSteps[r.scaleSteps.length-1];r.throttledOnUserActivity=Object(s["throttle"])(r.onUserActivity.bind(r),200,{leading:true,trailing:true});r.handleSlider=r.handleSlider.bind(r);r.handleZoomIn=r.handleZoomIn.bind(r);r.handleZoomOut=r.handleZoomOut.bind(r);r.handleZoomDelta=r.handleZoomDelta.bind(r);r.handleZoomToActualPixels=r.handleZoomToActualPixels.bind(r);r.handleBoxZoom=r.handleBoxZoom.bind(r);r.handleReset=r.handleReset.bind(r);r.handlePan=r.handlePan.bind(r);r.debouncedViewportResize=Object(s["debounce"])(r.updateViewport.bind(r),200);r.handleUserInactivity=r.handleUserInactivity.bind(r);return r}m(t,[{key:"componentDidMount",value:function e(){this.updateViewport();window.addEventListener("resize",this.debouncedViewportResize)}},{key:"componentDidUpdate",value:function e(t,r){t.image.url!==this.props.image.url&&this.updateViewport();if(r.scale!==this.state.scale){this.props.onDidZoomLevelChange(this.normalizeScale());this.throttledOnUserActivity()}}},{key:"componentWillUnmount",value:function e(){clearTimeout(this.userActivityTimeout);this.throttledOnUserActivity.cancel();this.debouncedViewportResize.cancel();window.removeEventListener("resize",this.debouncedViewportResize)}},{key:"onUserActivity",value:function e(){clearTimeout(this.userActivityTimeout);this.userActivityTimeout=setTimeout(this.handleUserInactivity,y);this.state.isUserRecentlyActive||this.setState(function(){return{isUserRecentlyActive:true}})}},{key:"handleUserInactivity",value:function e(){if(this.mouseIsOverControl)return;this.setState(function(){return{isUserRecentlyActive:false}})}},{key:"updateViewport",value:function e(){var t=this;if(!this.containerElement)return;this.setState(function(e){var r=t.minScale;var n=t.containerElement.getBoundingClientRect();t.minScale=Math.min(1,k(j(t.props.image),n));if(e.scale===r)return{shouldAnimate:0!==r,scale:t.minScale,containerRect:n};return{containerRect:n}})}},{key:"handleZoomIn",value:function e(){var t=this;var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(f["b"])(this.state.containerRect);this.setState(function(e){if(e.scale===t.maxScale)return e;var n=Object(f["i"])(h({},t._buildScaleOptions(e),{newScale:Object(f["c"])({direction:1,value:e.scale,steps:t.scaleSteps}),point:r}));return h({},n,{shouldAnimate:true})})}},{key:"handleZoomOut",value:function e(){var t=this;var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(f["b"])(this.state.containerRect);this.setState(function(e){if(e.scale===t.minScale)return e;var n=Object(f["i"])(h({},t._buildScaleOptions(e),{newScale:Object(f["c"])({direction:-1,value:e.scale,steps:t.scaleSteps}),point:r}));return h({},n,{shouldAnimate:true})})}},{key:"handleZoomDelta",value:function e(t,r){var n=this;this.setState(function(e){if(e.scale===n.minScale&&r<0||e.scale===n.maxScale&&r>0)return e;var a=Object(f["i"])(h({},n._buildScaleOptions(e),{newScale:e.scale+r,point:t}));return h({},a,{shouldAnimate:r>2})})}},{key:"handleReset",value:function e(){var t=this;this.setState(function(){return{shouldAnimate:true,scale:t.minScale,translate:{x:0,y:0}}})}},{key:"handleZoomToActualPixels",value:function e(){this.setState(function(){return{shouldAnimate:true,scale:1}})}},{key:"handlePan",value:function e(t){var r=this;var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setState(function(e){return h({shouldAnimate:n},Object(f["h"])({prevScale:e.scale,prevTranslate:e.translate,delta:t,minScale:r.minScale,targetRect:j(r.props.image)}))})}},{key:"handleBoxZoom",value:function e(t){var r=this;this.setState(function(e){return h({shouldAnimate:true},Object(f["j"])({rect:t,prevScale:e.scale,prevTranslate:e.translate,maxScale:r.maxScale,minScale:r.minScale,targetRect:j(r.props.image),containerRect:e.containerRect}))})}},{key:"handleSlider",value:function e(t,r){var n=this;this.setState(function(e){var a=Object(f["a"])({value:t,min:n.minScale,max:n.maxScale});r||(a=E(a,1,.02));var i=Object(f["i"])(h({},n._buildScaleOptions(e),{newScale:a}));if(i.scale===e.scale)return{};return h({},i,{shouldAnimate:true})})}},{key:"normalizeScale",value:function e(){return Object(f["g"])({value:this.state.scale,min:this.minScale,max:this.maxScale})}},{key:"_buildScaleOptions",value:function e(t){return{point:Object(f["b"])(t.containerRect),prevTranslate:t.translate,prevScale:t.scale,maxScale:this.maxScale,minScale:this.minScale,targetRect:j(this.props.image),containerRect:t.containerRect}}},{key:"render",value:function e(){var t=this;var r=j(this.props.image);if(!this.props.featureModernImageViewer)return null;return o.a.createElement("div",{className:"p-image_viewer",ref:function e(r){t.containerElement=r}},o.a.createElement(p["b"],{handleZoomIn:this.handleZoomIn,handleZoomOut:this.handleZoomOut,handleZoomDelta:this.handleZoomDelta,handlePan:this.handlePan,handleBoxZoom:this.handleBoxZoom,handleReset:this.handleReset,canZoomIn:this.state.scale!==this.maxScale,canZoomOut:this.state.scale!==this.minScale,containerRect:this.state.containerRect},o.a.createElement("img",{className:"p-image_viewer__image",src:this.props.image.url,width:r.width,height:r.height,onMouseMove:this.throttledOnUserActivity,onDragStart:function e(r){(Object(f["e"])(r)||t.state.scale!==t.minScale)&&r.preventDefault()},alt:"",style:{transition:this.state.shouldAnimate?"200ms transform ease":"",transform:"translate3d("+this.state.translate.x+"px, "+this.state.translate.y+"px, 0) scale("+this.state.scale+")"}})),o.a.createElement("div",{className:"p-image_viewer__zoom_positioner"},o.a.createElement(p["a"],{className:"p-image_viewer__zoom_control",isVisible:this.state.isUserRecentlyActive,handleZoomIn:this.handleZoomIn,handleZoomOut:this.handleZoomOut,handleSlider:this.handleSlider,handleReset:this.handleReset,handleZoomToActualPixels:this.handleZoomToActualPixels,handlePan:this.handlePan,level:this.normalizeScale(),onMouseEnter:function e(){t.mouseIsOverControl=true},onMouseLeave:function e(){t.mouseIsOverControl=false},displayLevel:O.t("{imageScale}%",{imageScale:Math.round(100*this.state.scale)})})))}}]);return t}(i["PureComponent"]);S.displayName="ImageViewerWithZoom";S.propTypes=w;S.defaultProps=C;t["a"]=Object(u["a"])("feature_modern_image_viewer")(S)},18568:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18569);var a=r(16928);Object(a["a"])("interop.mountKeyboardShortcuts",n["a"])},18569:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(16954);var s=r(16927);var c=r(18570);var l=function e(t,r,n){if(!t)throw new Error("mountKeyboardShortcuts must be called with a teamId parameter");var l=Object(s["c"])(t);var u=n;Object(o["a"])(a.a.createElement(i["Provider"],{store:l},a.a.createElement(c["a"],u)),r)};t["a"]=l},18570:function(e,t,r){"use strict";var n=r(18571);var a=r(18040);var i=r(18038);t["a"]=n["a"]},18571:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(333);var u=r(9);var p=r(17953);var f=r(17410);var d=r(16913);var v=r(17011);var h=r(16912);var m=r(17186);var b=r(17394);var _=r(18038);var g=r(18575);var y=r(20239);var O=r.n(y);var E=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C={os:o.a.oneOf(["windows","mac","linux"]),browser:o.a.string,keyboardLocale:o.a.string,sections:o.a.arrayOf(o.a.shape({os:o.a.oneOf(["windows","mac","linux"]),browser:o.a.string,title:o.a.string,shortcuts:o.a.arrayOf(o.a.shape({os:o.a.oneOf(["windows","mac","linux"]),browser:o.a.string,title:o.a.string,keys:o.a.array,keysLinux:o.a.array,keysWin:o.a.array,hasInfoButton:o.a.bool,infoButtonMessage:o.a.string,id:o.a.string,isSsbOnly:o.a.bool,browserBlackList:o.a.array}))})).isRequired,isShowing:o.a.bool,featureGlobalNavFlex:o.a.bool};var S={os:null,browser:null,keyboardLocale:null,isShowing:true,featureGlobalNavFlex:false};var T=new h["b"]("shortcuts_flexpane");var I=function(e){w(t,e);function t(){j(this,t);return k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}E(t,[{key:"renderSections",value:function e(){var t=this;return c.a.map(this.props.sections,function(e){return a.a.createElement(_["a"],{os:t.props.os,browser:t.props.browser,keyboardLocale:t.props.keyboardLocale,key:e.id+e.title,title:e.title,id:e.id,shortcuts:e.shortcuts})})}},{key:"renderHeading",value:function e(){if(this.props.featureGlobalNavFlex)return null;var t="mac"===this.props.os?T.t("Cmd"):T.t("Ctrl");var r=Object(v["c"])("/",{kb:this.props.keyboardLocale});var n=T.rt('Press <span className="c-keyboard_key c-keyboard_key--slim">{headerCmdButton}</span><span className="c-keyboard_key c-keyboard_key--slim">{headerSlashButton}</span> to toggle this panel.',{headerCmdButton:t,headerSlashButton:r});return a.a.createElement(b["a"],null,a.a.createElement("span",{id:"shortcuts_tab_aria_label"},T.t("Keyboard Shortcuts")),a.a.createElement("span",{className:"p-shortcuts_flexpane__sub_heading block"},n))}},{key:"render",value:function e(){var t=this;var r=this.props.isShowing;if(!r)return null;return a.a.createElement("div",{className:"p-shortcuts_flexpane"},this.renderHeading(),a.a.createElement("div",{className:"p-shortcuts_flexpane__section"},a.a.createElement(l["a"],null,function(e){var r=e.width,n=e.height;return a.a.createElement(m["a"],{width:r,height:n,monkey:true},t.renderSections())})))}}]);return t}(a.a.PureComponent);I.displayName="KeyboardShortcutsList";I.propTypes=C;I.defaultProps=S;function N(e,t){var r=Object(p["getKeyboardLocale"])(e);var n=Object(f["getFlexpaneState"])(e),a=n.flexName;var i=Object(d["isFeatureEnabled"])(e,"feature_texty_formatting_commands");var o=Object(d["isFeatureEnabled"])(e,"feature_jump_to_unread_shortcut");var s=Object(d["isFeatureEnabled"])(e,"feature_a11y_custom_status");var c=Object(d["isFeatureEnabled"])(e,"feature_threads_copy_change");var l=Object(d["isFeatureEnabled"])(e,"feature_global_nav_flex");return{sections:t.sections||Object(g["a"])(r,{featureTextyFormattingCommands:i,featureJumpToUnreadShortcut:o,featureA11yCustomStatus:s,featureThreadsCopyChange:c}),isShowing:"shortcuts"===a,featureGlobalNavFlex:l}}t["a"]=Object(u["connect"])(N)(I)},18575:function(e,t,r){"use strict";t["a"]=u;var n=r(16912);var a=r(1);var i=r.n(a);var o=r(17011);var s=r(16924);var c=r(16990);var l=new n["b"]("shortcuts_flexpane");function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.featureTextyFormattingCommands,n=t.featureJumpToUnreadShortcut,i=t.featureA11yCustomStatus,u=t.featureThreadsCopyChange;var p=[{title:l.t("Basics"),id:"basics",shortcuts:[{title:l.t("Quick Switcher"),keys:["key_Cmd","key_K","  or  ","key_T"],hasInfoButton:true,infoButtonMessage:l.t("Jump to another conversation by just typing its name",{fallbackHash:"137fbaf2c3cf03812df6ffc1116ae35390b63057"}),id:"quick_switcher",isSsbOnly:true},{title:l.t("Quick Switcher"),keys:["key_Cmd","key_K"],hasInfoButton:true,infoButtonMessage:l.t("Jump to another conversation by just typing its name",{fallbackHash:"137fbaf2c3cf03812df6ffc1116ae35390b63057"}),id:"quick_switcher",browserBlackList:["ssb"]},{title:l.t("Browse DMs"),keys:["key_Cmd","key_Shift","key_K"],id:"browse_dms"},{title:l.t("Edit last message (in empty text input)"),keys:["key_\u2191"]},{title:l.t("Back in history"),keys:["key_Cmd","key_["],keysWin:["key_Alt","key_\u2190"],keysLinux:["key_Alt","key_\u2190"],localeBlackList:["de","es","fr","ja"]},{title:l.t("Forward in history"),keys:["key_Cmd","key_]"],keysWin:["key_Alt","key_\u2192"],keysLinux:["key_Alt","key_\u2192"],localeBlackList:["de","es","fr","ja"]},{title:l.t("All Unreads"),keys:["key_Cmd","key_Shift","key_A"],id:"open_all_unreads"},{title:u?l.t("Threads"):l.t("All Threads"),keys:["key_Cmd","key_Shift","key_T"],id:"open_all_threads",isSsbOnly:true},{title:l.t("Search"),keys:["key_Cmd","key_F"],isSsbOnly:true},{title:l.t("Dismiss dialogs"),keys:["key_Esc"]}]},{title:l.t("Navigation"),id:"navigation",shortcuts:[{title:l.t("Move focus to the next element"),keys:["key_Tab"]},{title:l.t("Move focus to the previous element"),keys:["key_Shift","key_Tab"]},{title:l.t("Move focus through messages"),keys:["key_\u2191","  or  ","key_\u2193"]},{title:l.t("Move focus to the next section"),keys:Object(c["a"])()?["key_F6"]:["key_Cmd","key_F6"]},{title:l.t("Move focus to the previous section"),keys:Object(c["a"])()?["key_Shift","key_F6"]:["key_Cmd","key_Shift","key_F6"]},{title:l.t('Take action or "click" on selected element'),keys:["key_Enter"]},{title:l.t("Increase text size"),keys:["key_Cmd","key_+"]},{title:l.t("Decrease text size"),keys:["key_Cmd","key_-"]},{title:l.t("Scroll up"),keys:["key_fn","key_\u2191","  or  ","key_Page Up"]},{title:l.t("Scroll down"),keys:["key_fn","key_\u2193","  or  ","key_Page Down"]},{title:l.t("Preferences"),keys:["key_Cmd","key_,"],id:"open_preferences",isSsbOnly:true,browserBlackList:["windows","linux"]},{title:l.t("Open or close right pane"),keys:["key_Cmd","key_"+Object(o["c"])(".",{kb:e})]},{title:l.t("Channel Info"),keys:["key_Cmd","key_Shift","key_I"],isSsbOnly:true},{title:l.t("Activity"),keys:["key_Cmd","key_Shift","key_M"],browserBlackList:["chrome_desktop","chrome_mobile"]},{title:l.t("Directory"),keys:["key_Cmd","key_Shift","key_E"],browserBlackList:["ff"]},{title:l.t("Starred items"),keys:["key_Cmd","key_Shift","key_S"]},{title:l.t("Toggle full screen"),keys:["key_Ctrl","key_Cmd","key_F"],keysWin:["key_Ctrl","key_Shift","key_F"],keysLinux:["key_Ctrl","key_Shift","key_F"]}]},{title:l.t("Messaging"),id:"messaging",shortcuts:[{title:l.t("Select text to beginning of current line"),keys:["key_Shift","key_\u2191"]},{title:l.t("Select text to end of current line"),keys:["key_Shift","key_\u2193"]},{title:l.t("Start a new line"),keys:["key_Shift","key_Enter"]},{title:l.t("React to last message (or message with focus)"),keys:["key_Cmd","key_Shift","key_"+Object(o["c"])("\\",{kb:e})]},{title:l.t("Autocomplete @username"),keys:["key_@"]},{title:l.t("Autocomplete channel"),keys:["key_#"]},{title:l.t("Autocomplete emoji"),keys:["key_:"]}]},{title:l.t("Mark Messages Read and Unread"),shortcuts:[{title:l.t("Mark all messages in current channel as read"),keys:["key_Esc"]},{title:l.t("Mark all messages as read"),keys:["key_Shift","key_Esc"]},{title:l.t("Mark a message as unread"),keys:["key_Alt",l.t("  and click message")]}]},{title:l.t("Channels & Direct Messages"),shortcuts:[{title:l.t("Previous channel or DM"),keys:["key_Option","key_\u2191"]},{title:l.t("Next channel or DM"),keys:["key_Option","key_\u2193"]},{title:l.t("Previous unread channel or DM"),keys:["key_Option","key_Shift","key_\u2191"]},{title:l.t("Next unread channel or DM"),keys:["key_Option","key_Shift","key_\u2193"]}]},{title:l.t("All Unreads"),id:"all_unreads",shortcuts:[{title:l.t("Next channel"),keys:["key_\u2192"]},{title:l.t("Previous channel"),keys:["key_\u2190"]},{title:l.t("Mark channel as read"),keys:["key_R"]}]},{title:l.t("Files and Snippets"),shortcuts:[{title:l.t("Upload a file"),keys:["key_Cmd","key_U"]},{title:l.t("Create a snippet"),keys:["key_Cmd","key_Shift","key_Enter"]}]},{title:l.t("Calls"),shortcuts:[{title:l.t("Toggle mute"),keys:["key_M"]},{title:l.t("Toggle video"),keys:["key_V"]},{title:l.t("Invite list"),keys:["key_+",l.t("  or  "),"key_A"]},{title:l.t("Emoji reactions"),keys:["key_E",l.t("  then 1-9")]}]},{title:l.t("Workspace Switching"),id:"workspaces",shortcuts:[{title:l.t("Next workspace"),keys:["key_Cmd","key_Shift","key_["]},{title:l.t("Previous workspace"),keys:["key_Cmd","key_Shift","key_]"]},{title:l.t("A specific workspace"),keys:["key_Cmd",l.t("  and 1-9")]}]}];var f=p[Object(a["findIndex"])(p,["id","basics"])].shortcuts;var d=p[Object(a["findIndex"])(p,["id","navigation"])].shortcuts;var v=p[Object(a["findIndex"])(p,["id","messaging"])].shortcuts;n&&Object(c["a"])()&&d.push({title:l.t("Jump to unread messages"),keys:["key_Cmd","key_J"]});if(r){v.push({title:l.t("Bold text"),keys:["key_Cmd","key_B"]});v.push({title:l.t("Italic text"),keys:["key_Cmd","key_I"]});v.push({title:l.t("Strikethrough text"),keys:["key_Cmd","key_Shift","key_X"]});v.push({title:l.t("Format text as code"),keys:["key_Cmd","key_Shift","key_C"]});if(!Object(c["a"])()||Object(s["isSSBAndAtLeastVersion"])("3.0.0")){v.push({title:l.t("Format selection as bullet list"),keys:["key_Cmd","key_Shift","key_8"]});v.push({title:l.t("Format selection as numbered list"),keys:["key_Cmd","key_Shift","key_7"]})}v.push({title:l.t("Format selection as quote"),keys:["key_Cmd","key_Shift","key_>"]})}i&&f.push({title:i?l.t("Set a status"):"",keys:["key_Cmd","key_S"]});return p}},18577:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18578);var a=r(16928);Object(a["a"])("interop.mountLazyFilterSelect",n["a"])},18578:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(16954);var s=r(16927);var c=r(17596);var l=function e(t,r,n){if(!t)throw new Error("mountLazyFilterSelect must be called with a teamId parameter");var l=Object(s["c"])(t);Object(o["a"])(a.a.createElement(i["Provider"],{store:l},a.a.createElement(c["a"],n)),r)};t["a"]=l},18579:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18580);var a=r(16928);Object(a["a"])("interop.mountMenu",n["a"]);Object(a["a"])("interop.unmountMenu",n["b"])},18580:function(e,t,r){"use strict";r.d(t,"a",function(){return v});r.d(t,"b",function(){return h});var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(16954);var l=r(16927);var u=r(20405);var p=r(17044);var f=r(16950);var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var v=function e(t,r,n,i){if(!t)throw new Error("mountMenu must be called with a teamId parameter");var o=function e(){return r};var v="react_menu_render";Object(u["d"])(v+"_mark");Object(c["a"])(a.a.createElement(s["Provider"],{store:Object(l["c"])(t)},a.a.createElement(p["a"],d({},i,{parentSelector:o,shouldFade:false}),a.a.createElement(f["a"],n))),r,function(){return Object(u["f"])(v,v+"_mark")})};var h=o.a.unmountComponentAtNode;var m={mountMenu:v,unmountMenu:h}},18581:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(18582);var i=r(17082);Object(n["a"])("interop.mountMessageActionsMenu",a["a"]);Object(n["a"])("interop.mountMessageActionsMenu.actionIds",i["a"])},18582:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(16954);var s=r(16927);var c=r(17833);var l=r(17044);function u(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{isOpen:false};if(!e)throw new Error("mountMessageActionsMenu must be called with a teamId parameter");Object(o["a"])(a.a.createElement(i["Provider"],{store:Object(s["c"])(e)},a.a.createElement(l["a"],n,n.isOpen?a.a.createElement(c["a"],r):a.a.createElement("span",null))),t)}t["a"]=u},18583:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(18584);var p=r(16950);var f=r(17137);var d=r(17736);var v=r(16941);var h=r(17082);var m=r(18050);var b=r(18051);var _=r(16913);var g=r(17123);var y=r(16930);var O=r(16940);var E=r(16958);var j=r(17020);var k=r(16947);var w=r(17838);var C=r(20243);var S=r.n(C);var T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var I=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function N(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function A(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function M(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=3;var L={ts:o.a.string.isRequired,channelId:o.a.string.isRequired,messageContainerType:o.a.oneOf(Object(c["values"])(E["MESSAGE_CONTAINERS"])),onSelectAction:o.a.func,onMenuItemSelected:o.a.func,onLoad:o.a.func,slackActions:o.a.arrayOf(o.a.oneOfType([k["a"].MessageAction,o.a.node])).isRequired,canRunAppAction:o.a.bool,appActions:o.a.array,handleMessageAction:o.a.func.isRequired,featureAppActionsFe:o.a.bool};var D={messageContainerType:E["MESSAGE_CONTAINERS"].MESSAGE_PANE,onSelectAction:c["noop"],onMenuItemSelected:c["noop"],onLoad:c["noop"],canRunAppAction:false,appActions:[],runAppAction:c["noop"],featureAppActionsFe:false};var F=function(e){M(t,e);function t(e){P(this,t);var r=R(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={appActions:e.appActions};Object(c["bindAll"])(r,["onSelectAction","renderSingleAppAction","renderSingleSlackAction"]);return r}I(t,[{key:"componentDidMount",value:function e(){this.props.onLoad();Object(v["b"])(d["b"].MSG_ACTION,{contexts:{ui_context:{action:d["g"].IMPRESSION,step:d["i"].MORE_ACTIONS_MENU,ui_element:d["h"].MORE_ACTIONS_MENU},platform:{app_actions_showing:Math.min(this.state.appActions.length,x)}}})}},{key:"onSelectAction",value:function e(t,r){var n=this.props,a=n.ts,i=n.channelId,o=n.handleMessageAction,e=n.onSelectAction;var s=e(t,r,{ts:a,channelId:i});s||o(t,r,{ts:a,channelId:i});Object(j["b"])(r);var c={ui_context:{action:d["g"].CLICK,step:d["i"].MORE_ACTIONS_MENU,ui_element:r.uiElement}};r.appId&&(c.platform={app_id:r.appId,action_id:r.id});Object(v["b"])(d["b"].MSG_ACTION,{contexts:c})}},{key:"renderAppActions",value:function e(){var t=this.props,r=t.onSelectAction,n=t.ts,i=t.channelId;var o=this.state.appActions;var s=o.slice(0,x).map(this.renderSingleAppAction);return[].concat(A(s),[a.a.createElement(u["a"],{key:"browse_app_actions",ts:n,channelId:i,onSelectAction:r})])}},{key:"renderSingleAppAction",value:function e(t){var r=Object(b["a"])(t);return a.a.createElement(w["a"],{key:r.id,type:f["a"].compactItem,action:r,onSelected:this.onSelectAction})}},{key:"renderSlackActions",value:function e(){return this.props.slackActions.map(this.renderSingleSlackAction)}},{key:"renderSingleSlackAction",value:function e(t,r){if(!t)return null;if(a.a.isValidElement(t))return a.a.cloneElement(t,{key:r});var n=Object(c["omit"])(t,["iconType","iconSet"]);return a.a.createElement(w["a"],{key:n.id,className:"p-message_actions_menu__"+n.id,action:n,onSelected:this.onSelectAction})}},{key:"render",value:function e(){var t=this.props,r=t.ts,n=t.channelId,i=t.messageContainerType,o=t.onLoad,s=t.onMenuItemSelected,c=t.onSelectAction,l=t.canRunAppAction,u=t.featureAppActionsFe,f=t.appActions,d=t.slackActions,v=t.handleMessageAction,h=N(t,["ts","channelId","messageContainerType","onLoad","onMenuItemSelected","onSelectAction","canRunAppAction","featureAppActionsFe","appActions","slackActions","handleMessageAction"]);return a.a.createElement(p["e"],T({menuClassNames:"p-message_actions_menu",onMenuItemSelected:s,stripTerminalSeparators:true},h),this.renderSlackActions(),a.a.createElement(p["c"],null),l&&this.renderAppActions())}}]);return t}(n["PureComponent"]);F.displayName="MessageActionsMenu";F.propTypes=L;F.defaultProps=D;var B=function e(t,r){var n=r.channelId,i=r.ts;var o=r.messageContainerType||E["MESSAGE_CONTAINERS"].MESSAGE_PANE;var s=Object(y["getMessageByTimestamp"])(t,n,i);var l=Object(_["isFeatureEnabled"])(t,"feature_app_actions_fe");var u=Object(_["isFeatureEnabled"])(t,"feature_file_threads");var f=l&&Object(O["canRunAppAction"])(s,u);var d=Object(g["selectMessageActions"])(t),v=d.actions;var h=Object(c["filter"])([m["l"](t,r),a.a.createElement(p["c"],null),Object(c["includes"])([E["MESSAGE_CONTAINERS"].THREADS_FLEXPANE,E["MESSAGE_CONTAINERS"].THREADS_VIEW,E["MESSAGE_CONTAINERS"].SLI_BRIEFING],o)&&m["j"](t,r),m["c"](t,r),Object(c["includes"])([E["MESSAGE_CONTAINERS"].MESSAGE_PANE,E["MESSAGE_CONTAINERS"].UNREAD_VIEW],o)&&m["f"](t,T({},r,{allUnreads:o===E["MESSAGE_CONTAINERS"].UNREAD_VIEW})),m["h"](t,r),m["g"](t,r),m["e"](t,r),m["i"](t,r),m["d"](t,r)]);return{slackActions:h,appActions:v,canRunAppAction:f,featureAppActionsFe:l}};var U=function e(t){return{onLoad:function e(){return t(Object(g["ensureFresh"])())},handleMessageAction:function e(){for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return h["b"].apply(void 0,n.concat([t]))}}};t["a"]=Object(s["connect"])(B,U)(F)},18584:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(3);var s=r.n(o);var c=r(17736);var l=r(16941);var u=r(16950);var p=r(18585);var f=r(16913);var d=r(17123);var v=r(16912);var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function b(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=new v["b"]("message");var E=3;var j="/apps/collection/actions?utm_source=messagemenu&utm_medium=inprod&utm_content=overflow-more actions&utm_campaign=inprod";var k={ts:s.a.string.isRequired,channelId:s.a.string.isRequired,onSelectAction:s.a.func.isRequired,featureAppActionsFe:s.a.bool.isRequired,hasActions:s.a.bool.isRequired,hasOverflow:s.a.bool.isRequired,browseAppActions:s.a.func.isRequired};var w=function(e){y(t,e);function t(e){_(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onSelected=r.onSelected.bind(r);r.state={hasActions:e.hasActions};return r}m(t,[{key:"onSelected",value:function e(t){var r=this.props,n=r.ts,a=r.channelId,i=r.onSelectAction;this.props.hasOverflow?this.props.browseAppActions({ts:n,channelId:a,onSelectAction:i}):t&&"click"!==t.type&&window.open(j,"_blank");Object(l["b"])(c["b"].MSG_ACTION,{contexts:{ui_context:{action:c["g"].CLICK,step:c["i"].MORE_ACTIONS_MENU,ui_element:c["h"].MORE_MESSAGE_ACTIONS_BUTTON}}})}},{key:"render",value:function e(){var t=this.props,r=t.ts,n=t.channelId,i=t.onSelectAction,o=t.featureAppActionsFe,s=t.hasActions,c=t.browseAppActions,l=b(t,["ts","channelId","onSelectAction","featureAppActionsFe","hasActions","browseAppActions"]);if(this.props.featureAppActionsFe){var p=this.state.hasActions?O.t("More message actions\u2026"):O.rt("<span>New!</span> Add a message action\u2026",null,function(e){var t=e.key,r=e.text;return a.a.createElement("span",{className:"c-menu_item__glimmer",key:t},r)});return a.a.createElement(u["b"],h({},l,{label:p,"data-qa":this.props.hasOverflow?"app_message_actions_dialog":"app_directory_link",onSelected:this.onSelected,href:this.props.hasOverflow?void 0:j}))}return null}}]);return t}(n["Component"]);w.displayName="BrowseAppActions";w.propTypes=k;var C=function e(t){var r=Object(d["selectMessageActions"])(t),n=r.actions,a=r.loading;var i=n.length;return{featureAppActionsFe:Object(f["isFeatureEnabled"])(t,"feature_app_actions_fe"),hasActions:a||!!i,hasOverflow:a||i>E}};var S=function e(t){return{browseAppActions:function e(){return t(p["a"].apply(void 0,arguments))}}};t["a"]=Object(u["g"])(Object(i["connect"])(C,S)(w))},18585:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16926);var c=r(18041);var l=r(16949);var u=Object(s["b"])("Open app actions dialog",function(e,t,r){var n=a.a.createElement(c["a"],r);e(Object(l["openModal"])({element:n}))});u.propTypes={channelId:o.a.string.isRequired,ts:o.a.string.isRequired,onSelectAction:o.a.func.isRequired};t["a"]=u},18586:function(e,t,r){"use strict";var n=r(17096);var a=r(16946);var i=r(16930);var o=r(17105);var s=function e(t,r,s){var c=r.channelId,l=r.ts;return s(function(e,r){var s=r();var u=Object(i["getMessageByTimestamp"])(s,c,l);var p=Object(a["getFileFromMsg"])(s,u);var f=Object(o["b"])(u,p);return Object(n["a"])({e:t,rxn_key:f})})};t["a"]=s},18587:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(16926);var o=r(17004);var s=r(16913);var c=r(16930);var l=r(16940);var u=Object(i["b"])("Comment on a message or file",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.channelId,a=r.ts;var i=t();var u=Object(c["getMessageByTimestamp"])(i,n,a);var p=Object(s["isFeatureEnabled"])(i,"feature_file_threads");var f=Object(l["getFileIdFromMessage"])(u,p);if(f&&!p)e(Object(o["b"])({fileId:f}));else{var d=u.thread_ts||a;e(Object(o["d"])({channelId:n,threadTs:d}))}});u.propTypes={channelId:a.a.string.isRequired,ts:a.a.string.isRequired};t["a"]=u},18588:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(16926);var o=r(16965);var s=r(16946);var c=r(16930);var l=r(16940);var u=r(17080);var p=Object(i["b"])("Copy link to message",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.channelId,a=r.ts;var i=t();var p=Object(c["getMessageByTimestamp"])(i,n,a);var f=Object(s["getFileFromMsg"])(i,p);var d=f&&!Object(l["isFileComment"])(p)?f.permalink:Object(o["b"])(n,a,p.thread_ts);Object(u["writeText"])(d)});p.propTypes={channelId:a.a.string.isRequired,ts:a.a.string.isRequired};t["a"]=p},18589:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16926);var c=r(17835);var l=r(16949);var u=Object(s["b"])("Delete message",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.channelId,i=r.ts;var o=a.a.createElement(c["a"],{channelId:n,ts:i});Promise.resolve().then(function(){return e(Object(l["openModal"])({element:o}))})});u.propTypes={channelId:o.a.string.isRequired,ts:o.a.string.isRequired};t["a"]=u},18590:function(e,t,r){"use strict";t["a"]=s;var n=r(16929);var a=1.75;var i=10;function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;var c=e.channelId,l=e.ts,u=e.broadcastDelete;var p={channel:c,ts:l,_attempts:r,_delay_ms:s};u&&(p.broadcast_delete=true);Object(n["c"])("chat.delete",p).then(function(){t()}).catch(function(r){var n=r.args,s=r.data;if("message_not_found"===s.error&&n._attempts<i){var c=n._delay_ms*a;setTimeout(function(){o(e,t,n._attempts+1,c)},c)}else t(new Error(s.error||"unknown_error"))})}function s(e){return new Promise(function(t,r){o(e,function(e){e?r(e):t()})})}},18591:function(e,t,r){"use strict";t["a"]=o;var n=r(17126);var a=r(17681);var i=r(16930);function o(e,t){return function(r,o){var s=Object(i["getMessageByTimestamp"])(o(),e,t);if(!s)return;r(Object(n["a"])({channelId:e,ts:t}));r(Object(a["a"])(s,t))}}},18592:function(e,t,r){"use strict";t["a"]=s;var n=r(1);var a=r.n(n);var i=r(16912);var o=new i["b"]("aria_msg_summary");function s(e){if(!e)return null;var t=[];t.push(o.t("{name} at {time}.",{name:e.name,time:e.time}));t.push(e.text);e.reactionCount>0&&t.push(o.t("{count, plural, =1 {# reaction} other {# reactions}}.",{count:e.reactionCount}));e.replyCount>0&&t.push(o.t("{count, plural, =1 {# reply} other {# replies}}.",{count:e.replyCount}));e.isStarred&&t.push(o.t("Message is starred."));e.isPinned&&t.push(o.t("Message is pinned."));e.attachmentCount>0&&t.push(o.t("{count, plural, =1 {# attachment} other {# attachments}}.",{count:e.attachmentCount}));e.attachmentTexts&&e.attachmentTexts.length>0&&(t=t.concat(e.attachmentTexts));return Object(n["unescape"])(t.join(" "))}},18593:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(17059);var f=r(17129);var d=r(17189);var v=r(17068);var h=r(18594);var m=r(18595);var b=r(16940);var _=r(16947);var g=r(16916);var y=r(16958);var O=r(16941);var E=r(17111);var j=r(17001);var k=r(17144);var w=r(16970);var C=r(17094);var S=r(17012);var T=r(16912);var I=r(20536);var N=r(16969);var A=r(18043);var P=r(16918);var R=r(17078);var M=r(17399);var x=r(16985);var L=r(18596);var D=r(16938);var F=r(16932);var B=r(17193);var U=r(17192);var H=r(17308);var q=r(18600);var G=r(16917);var W=r(17704);var V=r(18601);var K=r(17705);var z=r(18602);var Q=r(18603);var Y=r(17832);var J=r(18607);var X=r(18608);var Z=r(18609);var $=r(18614);var ee=r(18616);var te=r(18618);var re=r(18621);var ne=r(18624);var ae=r(20167);var ie=r.n(ae);var oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var se=function(){function e(e,t){var r=[];var n=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){a=true;i=e}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var ce=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function le(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function fe(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var de=new T["b"]("message");var ve=200;var he=20;var me="theme_install_button";var be={quote:true,pre:true};var _e={ts:a.a.string,messageNotFound:a.a.bool,channelId:a.a.string,alertType:a.a.string,subtype:a.a.string,text:a.a.string,noSpecials:a.a.bool,theme:a.a.oneOf(["dense","light"]),userId:a.a.string,botId:a.a.string,appId:a.a.string,username:a.a.string,hasAdHocSender:a.a.bool,reactionKey:a.a.string,reactionKeyForInitialFileComment:a.a.string,replies:a.a.arrayOf(a.a.shape({ts:a.a.string,user:a.a.string})),replyCount:a.a.number,replyUsers:a.a.arrayOf(a.a.string),replyUsersCount:a.a.number,latestReply:a.a.string,threadsEverythingPref:a.a.bool,expandInlineImgsPref:a.a.bool,expandNonMediaAttachmentsPref:a.a.bool,threadTs:a.a.string,attachments:a.a.arrayOf(a.a.shape({color:a.a.string,fallback:a.a.string})),fileId:a.a.string,fileIds:a.a.arrayOf(a.a.string),comment:a.a.shape({id:a.a.string,user:a.a.string,comment:a.a.string,is_starred:a.a.bool}),isUpload:a.a.bool,showUser:a.a.bool,isFileFollowup:a.a.bool,isEditing:a.a.bool,isHovered:a.a.bool,maybeStartEditingMessage:a.a.func,edited:a.a.shape({ts:a.a.string,user:a.a.string}),isLast:a.a.bool,rollup:_["a"].Rollup(),logMessage:a.a.func,setUnreadPoint:a.a.func,isStarred:a.a.bool,isStandalone:a.a.bool,isPinned:a.a.bool,currentUserId:a.a.string,pinnedByMemberId:a.a.string,sliHighlight:a.a.shape({loading:a.a.bool,isHighlight:a.a.bool,feedbackOptions:a.a.object,justification:a.a.string,feedback:a.a.string}),isEphemeral:a.a.bool,isDeleting:a.a.bool,icons:a.a.shape({emoji:a.a.string}),botProfile:a.a.object,slackbotFeels:a.a.string,fadeAwayHighlight:a.a.bool,doneHighlighting:a.a.func,isUnprocessed:a.a.bool,showResend:a.a.bool,showCancel:a.a.bool,resendMsg:a.a.func,removeMsg:a.a.func,unfurlLinkCache:a.a.instanceOf(W["a"]),shouldJumpToTimestamp:a.a.bool,isSelfIm:a.a.bool,isSlackbotIm:a.a.bool,featureTinyspeck:a.a.bool.isRequired,featureFileThreads:a.a.bool.isRequired,featureHideUnfurlUrls:a.a.bool.isRequired,renderFileThread:a.a.bool,channelSessionId:a.a.string,previousMessageIsPinned:a.a.bool,previousMessageIsEphemeral:a.a.bool,previousMessageIsStarred:a.a.bool,previousMessageSubtype:a.a.string,previousMessageSliHighlight:a.a.object,previousMessagePinnedByMemberId:a.a.string,renderActions:a.a.bool,renderActionsOffscreen:a.a.bool,messageContainerType:a.a.string,ariaAssertive:a.a.bool};var ge={ts:null,messageNotFound:false,channelId:void 0,text:null,noSpecials:false,alertType:null,subtype:null,theme:"light",userId:null,botId:null,appId:null,username:null,hasAdHocSender:false,reactionKey:null,reactionKeyForInitialFileComment:null,replies:[],replyCount:0,replyUsers:[],replyUsersCount:0,latestReply:null,threadsEverythingPref:null,expandInlineImgsPref:false,expandNonMediaAttachmentsPref:false,threadTs:null,attachments:[],fileId:null,fileIds:null,comment:null,isUpload:false,showUser:true,isFileFollowup:false,isEditing:false,isHovered:false,maybeStartEditingMessage:l["noop"],edited:null,isLast:false,rollup:null,logMessage:l["noop"],setUnreadPoint:l["noop"],isStarred:false,isStandalone:false,isPinned:false,currentUserId:void 0,pinnedByMemberId:void 0,sliHighlight:null,isEphemeral:false,isDeleting:false,icons:null,botProfile:null,slackbotFeels:null,fadeAwayHighlight:false,doneHighlighting:l["noop"],isUnprocessed:false,showResend:false,showCancel:false,resendMsg:l["noop"],removeMsg:l["noop"],unfurlLinkCache:null,shouldJumpToTimestamp:false,isSelfIm:false,isSlackbotIm:false,renderFileThread:false,channelSessionId:null,previousMessageIsPinned:void 0,previousMessageIsEphemeral:void 0,previousMessageIsStarred:void 0,previousMessageSubtype:void 0,previousMessageSliHighlight:void 0,previousMessagePinnedByMemberId:void 0,renderActions:false,renderActionsOffscreen:false,messageContainerType:void 0,ariaAssertive:void 0};var ye=function(e){fe(t,e);function t(e){ue(this,t);var r=pe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.setRef=r.setRef.bind(r);r.onContainerClick=r.onContainerClick.bind(r);r.onTimestampClick=r.onTimestampClick.bind(r);r.startEditing=r.startEditing.bind(r);r.onFocusEnter=r.onFocusEnter.bind(r);r.onFocusLeave=r.onFocusLeave.bind(r);r.onMouseEnter=r.onMouseEnter.bind(r);r.onMouseLeave=r.onMouseLeave.bind(r);r.onMenuToggle=r.onMenuToggle.bind(r);r.startHighlightingTimer=r.startHighlightingTimer.bind(r);r.onDoneHighlighting=r.onDoneHighlighting.bind(r);r.onDeleteAnimationTick=r.onDeleteAnimationTick.bind(r);r.onDeleteAnimationEnd=r.onDeleteAnimationEnd.bind(r);r.resendMsg=r.resendMsg.bind(r);r.removeMsg=r.removeMsg.bind(r);r.formatInlineAttachmentMaybe=r.formatInlineAttachmentMaybe.bind(r);r.formatThemeInstallButton=r.formatThemeInstallButton.bind(r);r.customFormatHandler=r.customFormatHandler.bind(r);r.customContentHandler=r.customContentHandler.bind(r);r.clogMessageClick=r.clogMessageClick.bind(r);r.clogUserClick=r.clogUserClick.bind(r);r.shouldShowAttachment=r.shouldShowAttachment.bind(r);r.messageRef=null;r.deleteAnimation=null;r.hasDisplayedContent=true;r.inlineAttachmentsKey=0;r.setAttachmentsSorted();r.state={isHovered:e.isHovered,actionsMenuOpen:false,height:null,hasKeyboardFocus:false};return r}ce(t,[{key:"componentDidMount",value:function e(){this.props.fadeAwayHighlight&&this.startHighlightingTimer();this.isDeleting()&&this.onDeleteAnimationEnd()}},{key:"componentWillReceiveProps",value:function e(t){var r=this.props.fadeAwayHighlight;t.fadeAwayHighlight&&!r&&this.startHighlightingTimer();this.isDeleting(t)&&!this.isDeleting()&&this.startDeleteAnimation();this.setAttachmentsSorted(t);this.setState(function(){return{isHovered:t.isHovered}})}},{key:"componentWillUnmount",value:function e(){if(this.highlightTimer){clearTimeout(this.highlightTimer);this.onDoneHighlighting()}if(this.deleteAnimation){this.deleteAnimation.cancel();this.onDeleteAnimationEnd()}}},{key:"onContainerClick",value:function e(t){if(t.shiftKey&&Object(I["a"])(t)){t.stopPropagation();this.props.logMessage({channelId:this.props.channelId,ts:this.props.ts});return}if(t.altKey){t.preventDefault();this.props.setUnreadPoint({channelId:this.props.channelId,unreadTs:this.props.ts})}}},{key:"onFocusEnter",value:function e(t){var r=t.relatedEvent;r&&"keydown"===r.type&&this.setState(function(){return{hasKeyboardFocus:true}})}},{key:"onFocusLeave",value:function e(){this.setState(function(){return{hasKeyboardFocus:false}})}},{key:"onMouseEnter",value:function e(){this.setState(function(){return{isHovered:true}})}},{key:"onMouseLeave",value:function e(){this.setState(function(){return{isHovered:false}})}},{key:"onMenuToggle",value:function e(t){var r=this;if(!t){setTimeout(function(){r.setState(function(){return{actionsMenuOpen:false}})},100);return}this.setState(function(){return{actionsMenuOpen:t}})}},{key:"onDoneHighlighting",value:function e(){this.props.doneHighlighting();this.highlightTimer=null}},{key:"onDeleteAnimationTick",value:function e(t){var r=t.value,n=t.nextTick;if(!this.messageRef)return;this.setState(function(){return{height:r}},n)}},{key:"onDeleteAnimationEnd",value:function e(){this.removeMsg();this.deleteAnimation=null}},{key:"onTimestampClick",value:function e(t){t.preventDefault();this.props.shouldJumpToTimestamp&&Object(N["m"])(this.props.channelId,this.props.ts,this.props.threadTs)}},{key:"setAttachmentsSorted",value:function e(){var t=this;var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=r.attachments,a=r.text;var i=u.a.chain(n).filter(this.shouldShowAttachment).map(j["b"]).partition(function(e){return t.isInlineImage(e,a)}).value(),o=se(i,2),s=o[0],c=o[1];this.attachmentsInline&&s&&!Object(S["a"])(this.attachmentsInline,s,2)&&(this.inlineAttachmentsKey+=1);this.attachmentsInline=s;this.attachmentsBelow=c}},{key:"setRef",value:function e(t){this.messageRef=t}},{key:"getTextWithThemes",value:function e(){if(!this.props.text)return this.props.text;return this.props.text.replace(/((?:#[A-Fa-f0-9]{6} {0,}, {0,}){7})(#[A-Fa-f0-9]{6})(\b)/g,function(e){return e+" <"+me+"|"+e+">"})}},{key:"getUrlsToHide",value:function e(){var t=this.props,r=t.attachments,n=t.featureHideUnfurlUrls;if(!n)return[];return u.a.chain(r).filter(this.shouldShowAttachment).map(j["b"]).filter("isMsgUnfurl").map("fromUrl").map(l["unescape"]).compact().value()}},{key:"componentDidCatch",value:function e(t){this.setState(function(){return{caughtError:true}});var r=t?t.message:"";var n=t?t.stack:"";var a=this.props||{};var i=a.channel&&a.channelId;Object(g["error"])("Message componentDidCatch: "+a.subtype+" "+a.ts+" in "+i+", "+r);n&&Object(g["error"])(n)}},{key:"clogMessageClick",value:function e(t){var r=this.props,n=r.ts,a=r.channelId,i=r.userId,o=r.botId,s=r.appId,c=r.channelSessionId;var l=oe({},t,{message_timestamp:n,channel_id:a,channel_type:a?a.charAt(0):"",channel_session_id:c,member_id:i,app_id:s,bot_id:o,request_id:null});Object(O["b"])("MSG_LINK_CLICKED",l);t&&"msg_photo_expand"===t.subtype&&Object(O["b"])("MSG_PHOTO_EXPAND",l)}},{key:"clogUserClick",value:function e(){var t=this.props,r=t.ts,n=t.channelId,a=t.userId,i=t.botId,o=t.appId;Object(O["b"])("USERNAME_CLICK",{message_timestamp:r,channel_id:n,channel_type:n?n.charAt(0):null,member_id:a,app_id:o,bot_id:i})}},{key:"isInlineImage",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.text;return r&&-1!==u.a.unescape(r).indexOf(t.fromUrl)&&Object(B["k"])(t)}},{key:"shouldShowAttachment",value:function e(t){var r=this.props,n=r.text,a=r.subtype,i=r.isStandalone,o=r.expandInlineImgsPref,s=r.expandNonMediaAttachmentsPref;return Object(v["d"])({attachment:t,messageText:n,messageSubtype:a,messageIsStandalone:i,expandInlineImgsPref:o,expandNonMediaAttachmentsPref:s})}},{key:"isDeleting",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;var e=t.isDeleting,r=t.isStandalone;return e&&!r}},{key:"startHighlightingTimer",value:function e(){if(this.highlightTimer)return;this.highlightTimer=setTimeout(this.onDoneHighlighting,4500)}},{key:"startDeleteAnimation",value:function e(){if(!this.messageRef)return;var t=this.messageRef.clientHeight;this.deleteAnimation=Object(E["a"])({fromValue:t,toValue:0,duration:ve,easing:"easeInOutQuad",onTick:this.onDeleteAnimationTick,onComplete:this.onDeleteAnimationEnd})}},{key:"startEditing",value:function e(){var t=this.props,r=t.maybeStartEditingMessage,n=t.channelId,a=t.ts;r({channelId:n,ts:a})}},{key:"formatInlineAttachmentMaybe",value:function e(t){var r=t.item,n=t.getDefaultOutput;var a=this.props,s=a.ts,c=a.channelId;var p=r.url;var f=Object(l["find"])(this.attachmentsInline,{fromUrl:u.a.unescape(p)});if(!f)return n();return o.a.createElement(i["Fragment"],null,n(),o.a.createElement(M["a"],oe({},f,{messageTs:s,activeChannelId:c,clogLinkClick:this.clogMessageClick,isInline:true})))}},{key:"formatThemeInstallButton",value:function e(t){var r=t.item;var n=r.contents[0].text.replace(/\s/g,"").split(",");return o.a.createElement("div",{className:"c-message__theme_button_container"},o.a.createElement(re["a"],{colors:n,clogLinkClick:this.clogMessageClick}))}},{key:"customContentHandler",value:function e(t){var r=this.props.edited;var n=t;var a=this.getUrlsToHide();a.length&&(n=Object(V["a"])({content:t,urls:a}));if(r){var i=u.a.last(n)||{};n.push({type:"custom_edited_label",omitWhitespace:!!be[i.type]})}this.hasDisplayedContent=!!n.length;return n}},{key:"customFormatHandler",value:function e(t){var r=t.item,n=t.getDefaultOutput;var a=void 0;"link"===r.type?a=r.url===me?this.formatThemeInstallButton(t):this.formatInlineAttachmentMaybe(t):"custom_edited_label"===r.type&&(a=this.renderEditedLabel({omitWhitespace:r.omitWhitespace}));return a||n()}},{key:"focusFirst",value:function e(t){this.focusNode(Object(k["b"])(t))}},{key:"focusLast",value:function e(t){this.focusNode(Object(k["c"])(t))}},{key:"focusNode",value:function e(t){if(!t)return;if(document.activeElement===t)return;t.focus();t.classList.add("focus-ring")}},{key:"isTombstone",value:function e(){return"tombstone"===this.props.subtype}},{key:"shouldShowResendControls",value:function e(){var t=this.props,r=t.showResend,n=t.showCancel;return r||n}},{key:"resendMsg",value:function e(){var t=this.props,r=t.ts,n=t.channelId;this.props.resendMsg(n,r)}},{key:"removeMsg",value:function e(){var t=this.props,r=t.ts,n=t.channelId,a=t.messageContainerType,i=t.subtype;var o="thread_broadcast"===i&&a===y["MESSAGE_CONTAINERS"].THREADS_FLEXPANE;this.props.removeMsg({channelId:n,ts:r,broadcastDelete:o})}},{key:"shouldShowMessageLabel",value:function e(t){var r=t.labelTypes;var n=this.props,a=n.showUser,i=n.isFileFollowup,o=n.pinnedByMemberId,s=n.previousMessageIsStarred,c=n.previousMessageIsPinned,l=n.previousMessageIsEphemeral,p=n.previousMessageSubtype,f=n.previousMessageSliHighlight,d=n.previousMessagePinnedByMemberId;if(u.a.isEmpty(r))return false;if(r.sliHighlight)return true;if(!a||i){var v=Object(m["a"])({isStarred:s,isPinned:c,isEphemeral:l,subtype:p,sliHighlight:f});if(Object(S["a"])(r,v))return r.isPinned&&v.isPinned&&d!==o}return true}},{key:"renderTimestamp",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.isHiddenFromCopy,n=void 0!==r&&r;var a=this.props,i=a.channelId,s=a.ts,c=a.threadTs,l=a.isStandalone;if(!s||!i)return null;var u=void 0;var p=void 0;if(!l){u=Object(b["constructMsgPermalink"])(i,s,c);p=this.onTimestampClick}var f={};n&&(f["data-stringify-text"]="");return o.a.createElement(Y["b"],oe({timestamp:s,relative:false,full:false,link:u,onClick:p},f))}},{key:"renderAvatar",value:function e(){var t=36;if(this.isTombstone())return o.a.createElement("div",{className:"c-message__tombstone_icon"},o.a.createElement(G["a"],{type:"trash",align:"top"}));var r=this.props,n=r.userId,a=r.hasAdHocSender,i=r.botId,s=r.botProfile,c=r.isStandalone,l=r.icons,u=r.slackbotFeels;return o.a.createElement(x["b"],{className:"c-message__avatar",userId:n,isAdHocMember:a,botId:i,botProfile:s,slackbotFeels:u,size:t,icons:l,isInteractive:!c,showCard:true,showTooltip:true,clogLinkClick:this.clogUserClick,ariaHidden:"true",tabIndex:"-1"})}},{key:"renderGutter",value:function e(){if("light"===this.props.theme){if(this.props.isFileFollowup)return o.a.createElement("div",{className:"c-message__gutter c-message__gutter--empty"});if(this.props.isEditing||this.props.showUser)return o.a.createElement("div",{className:"c-message__gutter"},this.renderAvatar())}return o.a.createElement("div",{className:"c-message__gutter"},this.renderTimestamp({isHiddenFromCopy:"dense"===this.props.theme}))}},{key:"renderContent",value:function e(){var t=this.props,r=t.showUser,n=t.theme,a=t.isStandalone,i=t.reactionKey,s=t.reactionKeyForInitialFileComment;return o.a.createElement("div",{className:"c-message__content"},r&&this.renderContentHeader(),"light"===n&&this.renderThreadBroadcastPreamble(),this.renderBody(),this.renderFile(),this.renderFileThreads(),this.renderAttachments(),!a&&!this.isTombstone()&&this.renderReactions(i),this.renderInitialFileComment(),!a&&!this.isTombstone()&&this.renderReactions(s),!a&&this.renderReplyBar(),this.shouldShowResendControls()&&this.renderResendControls())}},{key:"renderContentHeader",value:function e(){var t=this.props,r=t.userId,n=t.botId,a=t.username,i=t.theme,s=t.isStandalone,c=t.botProfile;if(this.isTombstone())return null;return o.a.createElement("div",{className:"c-message__content_header"},o.a.createElement(K["a"],{userId:r,botId:n,username:a,isInteractive:!s,botProfile:c,clogLinkClick:this.clogUserClick}),"light"===i&&this.renderTimestamp(),"dense"===i&&o.a.createElement("span",{className:"c-message__dense_copy_timestamp copy_only"},this.renderTimestamp(),o.a.createElement("br",null)),"dense"===i&&" ","dense"===i&&this.renderThreadBroadcastPreamble())}},{key:"renderThreadBroadcastPreamble",value:function e(){var t=this.props,r=t.ts,n=t.threadTs,a=t.channelId,i=t.subtype,s=t.isStandalone;if(!r||!a||s||"thread_broadcast"!==i)return null;return o.a.createElement($["a"],{ts:r,threadTs:n,channelId:a})}},{key:"renderEditedLabel",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.omitWhitespace,n=void 0!==r&&r;var a=this.props.edited;var i=a.ts;var s=o.a.createElement("span",{key:"edited",className:"c-message__edited_label"},!n&&"\xa0",de.t("(edited)"));if(i){var c=de.t("{date} at {time}",{date:Object(C["a"])(i,{shortenMonth:true}),time:Object(w["a"])(i)});return o.a.createElement(F["c"],{key:"edited",delay:F["a"],tip:c},s)}return s}},{key:"renderReplyBar",value:function e(){var t=this.props,r=t.replies,n=t.replyCount,a=t.replyUsers,i=t.replyUsersCount,s=t.latestReply,c=t.channelId,l=t.threadTs;if(!c||!n)return null;return o.a.createElement(z["a"],{channelId:c,threadTs:l,replies:r,replyCount:n,replyUsers:a,replyUsersCount:i,latestReply:s})}},{key:"renderReactions",value:function e(t){if("file_comment"===this.props.subtype&&this.props.featureFileThreads)return null;if(!t)return null;return o.a.createElement(L["a"],{reactionKey:t})}},{key:"renderAttachments",value:function e(){var t=this;var r=this.props,n=r.ts,a=r.channelId;var i=this.attachmentsBelow;if(!i||!i.length)return null;var s=Object(l["map"])(i,function(e,r){var i=e.id||r+1;var s=e.botId||t.props.botId;return o.a.createElement(M["a"],oe({},e,{service:s,messageTs:n,activeChannelId:a,key:i,clogLinkClick:t.clogMessageClick,isOnlyMessageContent:!t.hasDisplayedContent}))});var c=s.splice(he);return o.a.createElement("div",{className:"c-message__attachments"},s,this.renderAttachmentsOverLimitMaybe(c))}},{key:"renderAttachmentsOverLimitMaybe",value:function e(t){if(!t.length)return null;var r={useAttachmentRules:false,shouldBeExpandedByDefault:false,expandableKey:Object(d["a"])("attachmentsOverLimit",this.props.ts,{limit:he})};return o.a.createElement("div",null,o.a.createElement(U["a"],r,t),o.a.createElement(H["a"],oe({},r,{render:function e(r,n){return o.a.createElement(q["a"],{isExpanded:r.isExpanded,onClick:n,attachmentsOverLimitCount:t.length})}})))}},{key:"renderFile",value:function e(){var t=this.props,r=t.fileId,n=t.comment,a=t.subtype,i=t.renderFileThread;if(!r)return null;var o=null;var s=null;n&&"file_comment"===a&&(s=this.renderFileComment());"file_comment"===a||i||(o=this.renderInlineFile());return[o,s]}},{key:"renderInlineFile",value:function e(){var t=this.props,r=t.ts,n=t.fileId,a=t.channelId,i=t.subtype,s=t.unfurlLinkCache,c=t.isUpload,l=t.userId;if(!n||!a)return null;return o.a.createElement(Q["a"],{key:"inline-file",fileId:n,ts:r,subtype:i,channelId:a,unfurlLinkCache:s,isUpload:c,userId:l,clogLinkClick:this.clogMessageClick})}},{key:"renderFileComment",value:function e(){var t=this.props,r=t.fileId,n=t.comment,a=t.isFileFollowup,i=t.theme,s=t.subtype,c=t.userId;if(!r||!n)return null;var l="file_comment"===s&&(!a||"dense"===i)&&o.a.createElement(J["a"],{fileId:r,comment:n,followup:a,key:n.id+"-meta"});return[l||null,o.a.createElement(D["a"],{text:n.comment,memberId:c,className:"c-message__comment c-message__body",key:n.id+"-body",clogLinkClick:this.clogMessageClick})]}},{key:"renderInitialFileComment",value:function e(){var t=this.props,r=t.comment,n=t.subtype;if(!r||"file_share"!==n)return null;return this.renderFileComment()}},{key:"renderFileThreads",value:function e(){var t=this;if(!this.props.renderFileThread)return null;var r=this.props,n=r.ts,a=r.fileIds,i=r.channelId,s=r.subtype,l=r.unfurlLinkCache,u=r.isUpload,p=r.userId,f=r.botId,d=r.text;if(!a||!a.length||!i)return null;if("file_comment"===s)return null;var v=a.map(function(e){return o.a.createElement(Q["a"],{key:e,fileId:e,ts:n,subtype:s,channelId:i,unfurlLinkCache:l,isUpload:u,userId:p,botId:f,clogLinkClick:t.clogMessageClick})});var h=c()("c-message__files","c-message__files--file_threads_meta_data",{"c-message__files--empty_body":!d||"file_mention"===s});return o.a.createElement("div",{className:h},v)}},{key:"renderRollup",value:function e(){var t=this.props,r=t.rollup,n=t.channelId,a=t.userId;if(!r||!n)return null;return o.a.createElement(X["a"],{rollup:r,channelId:n,user:a})}},{key:"renderAutomatedSubtype",value:function e(){return o.a.createElement(Z["a"],{subtype:this.props.subtype,channelId:this.props.channelId,timestamp:this.props.ts})}},{key:"renderBody",value:function e(){var t=this.props,r=t.ts,n=t.fileId,a=t.subtype,i=t.rollup,s=t.userId,l=t.edited,u=t.noSpecials,p=t.ariaAssertive,d=t.attachments;if(this.isTombstone())return o.a.createElement("span",{className:"c-message__body c-message__body--tombstone"},de.t("This message was deleted."));if(!r)return o.a.createElement("span",{className:"c-message__body c-message__body--unknown"});if(n||"file_comment"===a||"file_mention"===a)return null;if(i)return this.renderRollup();if(Object(f["a"])(a))return this.renderAutomatedSubtype();var v=c()("c-message__body",{"c-message__body--me":"me_message"===a});return o.a.createElement(D["a"],{className:v,text:this.getTextWithThemes(),memberId:s,customFormatHandler:this.customFormatHandler,customContentHandler:this.customContentHandler,key:this.inlineAttachmentsKey,doSlackActionLinks:true,clogLinkClick:this.clogMessageClick,noSpecials:u,ariaAssertive:p,ignoredPropEdited:l,ignoredPropAttachments:d})}},{key:"renderActions",value:function e(){var t=this;var r=this.props,n=r.ts,a=r.reactionKey,i=r.fileId,s=r.fileIds,c=r.comment,l=r.replies,u=r.replyCount,p=r.threadsEverythingPref,f=r.threadTs,d=r.channelId,v=r.subtype,h=r.isStarred,m=r.isPinned,b=r.isEphemeral,_=r.isDeleting,g=r.isStandalone,y=r.setUnreadPoint,O=r.theme,e=r.renderActions,E=r.renderActionsOffscreen,j=r.messageContainerType;var k=this.state,w=k.actionsMenuOpen,C=k.isHovered,S=k.hasKeyboardFocus;if(!n||!d)return null;var T=E&&!S&&!C&&!e;if(!w&&!C&&!S&&!T&&!e)return null;if(_||g)return null;return o.a.createElement(ee["a"],{reactionKey:a,fileId:i,fileIds:s,comment:c&&c.id,replies:l,replyCount:u,ts:n,threadsEverythingPref:p,threadTs:f,channelId:d,subtype:v,isStarred:h,isPinned:m,isEphemeral:b,editHandler:this.startEditing,unreadHandler:y,onMenuOpen:function e(){return t.onMenuToggle(true)},onMenuClose:function e(){return t.onMenuToggle(false)},theme:O,renderOffscreen:T,messageContainerType:j})}},{key:"renderEdit",value:function e(){var t=this.props,r=t.channelId,n=t.ts,a=t.messageContainerType;if(!n||!r)return null;return o.a.createElement("div",{className:"c-message__content"},o.a.createElement(te["a"],{channelId:r,ts:n,messageContainerType:a}))}},{key:"renderResendControls",value:function e(){var t=this.props,r=t.showResend,n=t.showCancel;var a=null;r&&(a=o.a.createElement(P["c"],{className:"c-message__resend",onClick:this.resendMsg},de.t("Try again")));var i=null;n&&(i=o.a.createElement(P["c"],{className:"c-message__cancel",onClick:this.removeMsg},de.t("Cancel")));var s=null;r&&n&&(s=" | ");return o.a.createElement("div",{className:"c-message__resend_controls"},o.a.createElement("div",{className:"c-message__resend_column"}),de.t("Slack couldn\u2019t send this message"),a,s,i)}},{key:"renderError",value:function e(){if(!this.props.featureTinyspeck)return null;var t=this.props,r=t.ts,n=t.channelId;var a={background:"#FFCFCF",padding:"24px"};return o.a.createElement("div",{style:a},o.a.createElement("strong",null,"Message ",r," in ",n," failed to render. "),"Please go to #triage-core and ",o.a.createElement("strong",null,"read up to see if this was already reported."),"If it has not been reported yet please make a report with a link to the message before this one, if this is a public channel. This message is only displayed in workspaces in the Slack org.")}},{key:"renderMessageLabel",value:function e(t){var r=t.labelTypes,n=t.primaryLabelType;var a=this.props,i=a.sliHighlight,s=a.isSlackbotIm,c=a.isSelfIm,l=a.channelId,u=a.ts,p=a.currentUserId,f=a.pinnedByMemberId;var d=this.state.isHovered;if(!this.shouldShowMessageLabel({labelTypes:r}))return null;return o.a.createElement(ne["a"],oe({},r,{primaryType:n,channelId:l,ts:u,isHovered:d,isSlackbotIm:s,isSelfIm:c,sliHighlight:i,currentUserId:p,pinnedByMemberId:f}))}},{key:"render",value:function e(){var t;if(this.state.caughtError)return this.renderError();if(this.props.messageNotFound)return null;var r=this.props,n=r.theme,a=r.isEditing,i=r.showUser,s=r.alertType,l=r.fadeAwayHighlight,u=r.isLast,f=r.isStandalone,d=r.isUnprocessed,v=r.subtype,b=r.rollup,_=r.sliHighlight,g=r.isPinned,y=r.isEphemeral,O=r.isStarred;var E=this.state,j=E.isHovered,k=E.actionsMenuOpen,w=E.height;var C=Object(m["a"])({isPinned:g,isEphemeral:y,isStarred:O,subtype:v,sliHighlight:_});var S=Object(h["a"])(C);var T=c()("c-message",(t={},le(t,"c-message--"+n,n),le(t,"c-message--hover",j||k),le(t,"c-message--focus",this.state.hasKeyboardFocus),le(t,"c-message--adjacent",!a&&!i&&!f),le(t,"c-message--thread_broadcast","thread_broadcast"===v),le(t,"c-message--highlight_yellow_bg","shared_channel_join"===s),le(t,"c-message--highlight",!f&&a),le(t,"c-message--fade_highlight",l&&!S),le(t,"c-message--last",u),le(t,"c-message--rollup",b),le(t,"c-message--standalone",f),le(t,"c-message--unprocessed",d),le(t,"c-message--resend",this.shouldShowResendControls()),le(t,"c-message--deleting",this.isDeleting()),le(t,"c-message--editing",a),le(t,"c-message--sli_highlight_negative",Object(p["isNegativeHighlightFeedback"])(_)),le(t,"c-message--"+S,S),t));var I={};null!==w&&(I={height:w});return o.a.createElement(R["a"],{onFocusEnter:this.onFocusEnter,onFocusLeave:this.onFocusLeave},o.a.createElement("div",{ref:this.setRef,className:T,onClick:this.onContainerClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseOver:this.onMouseEnter,style:I,role:"document","data-qa":"message_container"},this.renderMessageLabel({labelTypes:C,primaryLabelType:S}),this.renderGutter(),!f&&a&&this.renderEdit(),(f||!a)&&this.renderContent(),!f&&!a&&this.renderActions()))}}]);return t}(i["PureComponent"]);ye.displayName="Message";ye.propTypes=_e;ye.defaultProps=ge;t["a"]=Object(A["a"])(ye)},18594:function(e,t,r){"use strict";t["a"]=n;function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isPinned,r=e.isStarred,n=e.isEphemeral,a=e.isCustomResponse,i=e.isSliHighlight;if(t)return"pinned";if(r)return"starred";if(n)return"ephemeral";if(a)return"custom_response";if(i)return"sli_highlight";return}},18595:function(e,t,r){"use strict";var n=r(17059);t["a"]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isPinned,r=void 0!==t&&t,a=e.isEphemeral,i=void 0!==a&&a,o=e.isStarred,s=void 0!==o&&o,c=e.subtype,l=e.sliHighlight;var u="slackbot_response"===c;var p=Object(n["shouldShowHighlightsLabel"])(l);return{isPinned:r,isStarred:s,isEphemeral:i,isCustomResponse:u,isSliHighlight:p}}},18596:function(e,t,r){"use strict";var n=r(18597);var a=r(18046);var i=r(18044);t["a"]=n["a"]},18597:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(8);var l=r.n(c);var u=r(15312);var p=r(16913);var f=r(16934);var d=r(17084);var v=r(16912);var h=r(17096);var m=r(17131);var b=r(17078);var _=r(18044);var g=r(18046);var y=r(20186);var O=r.n(y);var E=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=new v["b"]("reactions");var S={reactions:a.a.arrayOf(a.a.shape(_["b"])),reactionKey:a.a.string,currentUser:a.a.string,emojiMode:a.a.string,featureM11nReactions:a.a.bool,changeReactionFromUserAction:a.a.func.isRequired};var T={reactions:null,reactionKey:null,currentUser:null,emojiMode:null,featureM11nReactions:false};var I=function(e){w(t,e);function t(){j(this,t);var e=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.onAddReaction=e.onAddReaction.bind(e);e.onReactionClick=e.onReactionClick.bind(e);e.onFocusEnter=e.onFocusEnter.bind(e);e.onFocusLeave=e.onFocusLeave.bind(e);e.state={hasKeyboardFocus:false};return e}E(t,[{key:"onAddReaction",value:function e(t){Object(h["a"])({e:t,rxn_key:this.props.reactionKey})}},{key:"onReactionClick",value:function e(t,r){var n=this.props,a=n.reactionKey,i=n.featureM11nReactions;i?this.props.changeReactionFromUserAction({key:a,name:t,adding:!r}):Object(m["c"])(a,t,!r)}},{key:"onFocusEnter",value:function e(t){var r=t.relatedEvent;r&&"keydown"===r.type&&this.setState(function(){return{hasKeyboardFocus:true}})}},{key:"onFocusLeave",value:function e(){this.setState(function(){return{hasKeyboardFocus:false}})}},{key:"render",value:function e(){var t=this;var r=this.props,n=r.reactions,a=r.reactionKey,i=r.currentUser,s=r.emojiMode;if(!n||0===n.length)return null;var c=n.map(function(e){var r=e.count,n=e.name,c=e.users,l=e.url;return o.a.createElement(_["a"],{name:n,count:r,users:c,url:l,currentUser:i,key:n,reactionKey:a,onClick:t.onReactionClick,emojiMode:s})}).concat(o.a.createElement(g["a"],{onClick:this.onAddReaction,key:"reaction-add-button"}));var u=l()("c-reaction_bar",{"c-reaction_bar--focus":this.state.hasKeyboardFocus});var p=C.t("Reactions",{note:"Screenreader: Label for blind users"});return o.a.createElement(b["a"],{onFocusEnter:this.onFocusEnter,onFocusLeave:this.onFocusLeave},o.a.createElement("div",{className:u,role:"group","aria-label":p},c))}}]);return t}(o.a.PureComponent);I.displayName="ReactionBar";I.propTypes=S;I.defaultProps=T;var N=function e(t,r){return{reactions:Object(u["getReactionsForKey"])(t,r.reactionKey),currentUser:Object(p["getCurrentUserId"])(t),emojiMode:Object(d["a"])(t),featureM11nReactions:Object(f["a"])()||Object(p["isFeatureEnabled"])(t,"feature_m11n_reactions")}};var A={changeReactionFromUserAction:u["changeReactionFromUserAction"]};t["a"]=Object(s["connect"])(N,A)(I)},18598:function(e,t,r){"use strict";var n=/_|-/g;var a=/^:(.+):$/g;t["a"]=function(e){return e.replace(n," ").replace(a,"$1")}},18599:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16913);var p=r(16919);var f=r(16921);var d=r(16912);var v=r(16972);var h=r(17113);var m=new d["b"]("reactions");var b={users:a.a.arrayOf(a.a.node),emoji:a.a.string.isRequired,count:a.a.number.isRequired,reacted:a.a.bool};var _={users:[],reacted:false};function g(e){var t=e.users,r=e.emoji,n=e.count,a=e.reacted;var i=":"+r+":";d["n"]!==d["b"].DEFAULT_LOCALE&&(i=Object(v["o"])(i));if(1===n){if(a)return m.rt('You (click to remove) <span className="c-reaction__tip_subtitle">reacted with {emoji}</span>',{emoji:i});return m.rt('{user} <span className="c-reaction__tip_subtitle">reacted with {emoji}</span>',{user:t[0],emoji:i})}n!==t.length&&t.push(m.t("others"));var o=Object(d["e"])(t,{noEscape:true,react:true});if(a)return m.rt('{users_and_you} <span className="c-reaction__tip_subtitle">reacted with {emoji}</span>',{users_and_you:o,emoji:i});return m.rt('{users} <span className="c-reaction__tip_subtitle">reacted with {emoji}</span>',{users:o,emoji:i})}var y=function e(t){var r=t.users,n=t.emoji,a=t.count,i=t.reacted;var s=g({users:r,emoji:n,count:a,reacted:i});return o.a.createElement("span",{className:"c-reaction__tip"},s)};y.displayName="ReactionTip";y.propTypes=b;y.defaultProps=_;var O=function e(t,r){var n=Object(u["getCurrentUserId"])(t);var a=l.a.compact(r.users).slice(0,50);var i=l.a.map(a,function(e,r){if(e===n)return 0===r?m.t("You"):m.t("you");var a=Object(p["getMemberById"])(t,e);if(Object(f["U"])(a))return o.a.createElement(h["a"],{type:"unknown",subtler:true});if(Object(f["K"])(a))return o.a.createElement(h["a"],{type:"non-existent",subtler:true});return Object(f["r"])(t,e)});return{users:i}};t["a"]=Object(s["connect"])(O)(y)},18600:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(45);var c=r(1);var l=r.n(c);var u=r(16912);var p=r(16960);var f=r(17190);var d=r(17311);var v=new u["b"]("attachments");var h={isExpanded:o.a.bool,onClick:o.a.func,attachmentsOverLimitCount:o.a.number};var m={isExpanded:false,onClick:c["noop"],attachmentsOverLimitCount:0};var b=function e(t){var r=t.isExpanded,n=t.onClick,i=t.attachmentsOverLimitCount;return a.a.createElement(p["a"],{enabled:["feature_react_messages"]},a.a.createElement("div",{className:"c-message_attachment"},a.a.createElement(f["a"],null),a.a.createElement("div",{className:"c-message_attachment__body"},a.a.createElement(d["a"],{onClick:n,text:r?v.t("Show fewer items"):v.t("{count, plural, =1 {Show remaining # item} other {Show remaining # items}}",{count:i})}))))};b.displayName="MessageAttachmentOverLimitButton";b.propTypes=h;b.defaultProps=m;t["a"]=Object(s["pure"])(b)},18601:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(16938);var o=function e(t){return t.every(function(e){return"link"===e.type||Object(i["b"])(e)})};t["a"]=function(e){var t=e.content,r=void 0===t?[]:t,a=e.urls,s=void 0===a?[]:a;var c=r.slice();var l=Object(n["findIndex"])(c,"type","link");var u=Math.max(0,l);for(var p=u;p<c.length;p++){var f=c[p];var d=r.slice(p+1);if("link"===f.type){var v=Object(n["includes"])(s,Object(n["unescape"])(f.url));if(v){var h=o(d);if(!h)break;var m=Object(n["takeWhile"])(d,i["b"]);c.splice(p,m.length+1);p-=1}}}c=Object(n["dropRightWhile"])(c,i["b"]);var b=Object(n["last"])(c);b&&b.text&&(b.text=Object(n["trimEnd"])(b.text));return c}},18602:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(9);var u=r(8);var p=r.n(u);var f=r(16922);var d=r(17004);var v=r(16912);var h=r(17078);var m=r(16985);var b=r(16917);var _=r(16965);var g=r(16970);var y=r(17024);var O=r(17037);var E=r(16931);var j=r(17167);var k=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var T=new v["b"]("threads");var I={replies:o.a.array,replyCount:o.a.number.isRequired,replyUsers:o.a.arrayOf(o.a.string),replyUsersCount:o.a.number,latestReply:o.a.string,channelId:o.a.string.isRequired,threadTs:o.a.string.isRequired,do24hrTime:o.a.bool,showThread:o.a.func};var N={replies:null,do24hrTime:false,replyUsers:[],replyUsersCount:0,latestReply:null,showThread:a.a.noop};function A(e,t){var r=Object(j["a"])(e);return c.a.createElement(m["b"],{key:e,userId:r?null:e,botId:r?e:null,size:24,additionalOverlay:t,showCard:true,ariaHidden:"true",tabIndex:"-1"})}A.displayName="renderSingleAvatar";var P=function(e){S(t,e);function t(e){w(this,t);var r=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.openThread=r.openThread.bind(r);r.onFocusEnter=r.onFocusEnter.bind(r);r.onFocusLeave=r.onFocusLeave.bind(r);r.state={hasKeyboardFocus:false};return r}k(t,[{key:"onFocusEnter",value:function e(t){var r=t.relatedEvent;r&&"keydown"===r.type&&this.setState(function(){return{hasKeyboardFocus:true}})}},{key:"onFocusLeave",value:function e(){this.setState(function(){return{hasKeyboardFocus:false}})}},{key:"getLastReplyTs",value:function e(){if(this.props.latestReply)return this.props.latestReply;if(this.props.replies){var t=a.a.last(this.props.replies);if(t)return t.ts}return null}},{key:"openThread",value:function e(t){t.preventDefault();this.props.showThread({channelId:this.props.channelId,threadTs:this.props.threadTs})}},{key:"renderFaces",value:function e(){var t=void 0;t=this.props.replyUsers&&this.props.replyUsers.length?a.a.reject(this.props.replyUsers,function(e){return"B00"===e}):a()(this.props.replies).map("user").reject(function(e){return"B00"===e}).uniq().value();var r=this.props.replyUsersCount?this.props.replyUsersCount:t.length;if(t.length>5)return a()(t).take(4).map(function(e){return A(e)}).value().concat(A(t[4],r-5));return a.a.map(t,function(e){return A(e)})}},{key:"render",value:function e(){var t=T.t("{replyCount, plural, =1 {# reply} other {# replies}}",{replyCount:this.props.replyCount});var r=Object(_["c"])(this.props.channelId,this.props.threadTs);var n=this.getLastReplyTs();var a="";a=Object(O["a"])(Object(E["a"])(n),new Date)?1===this.props.replyCount?T.t("Today at {time}",{time:Object(g["a"])(n,{do24hrTime:this.props.do24hrTime})}):T.t("Last reply today at {time}",{time:Object(g["a"])(n,{do24hrTime:this.props.do24hrTime})}):1===this.props.replyCount?Object(y["a"])(n):T.t("Last reply {time_ago}",{time_ago:Object(y["a"])(n)});var i=p()("c-message__reply_bar",{"c-message__reply_bar--focus":this.state.hasKeyboardFocus});return c.a.createElement(h["a"],{onFocusEnter:this.onFocusEnter,onFocusLeave:this.onFocusLeave},c.a.createElement("div",{role:"presentation",className:i,onClick:this.openThread},this.renderFaces(),c.a.createElement("a",{className:"c-message__reply_count",href:r,target:"_blank",rel:"noopener noreferrer"},t),c.a.createElement("div",{className:"c-message__reply_bar_description"},c.a.createElement("span",{className:"c-message__reply_bar_last_reply"},a),c.a.createElement("span",{className:"c-message__reply_bar_view_thread"},T.t("View thread"))),c.a.createElement(b["a"],{type:"chevron_right",className:"c-message__reply_bar_arrow",align:"baseline","aria-hidden":true})))}}]);return t}(c.a.PureComponent);P.displayName="ReplyBar";P.propTypes=I;P.defaultProps=N;function R(e){return{do24hrTime:Object(f["getUserPref"])(e,"time24")}}t["a"]=Object(l["connect"])(R,{showThread:d["d"]})(P)},18603:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(8);var l=r.n(c);var u=r(1);var p=r.n(u);var f=r(16971);var d=r(16946);var v=r(16974);var h=r(16919);var m=r(16913);var b=r(17016);var _=r(16922);var g=r(16923);var y=r(16930);var O=r(17004);var E=r(18604);var j=r(16940);var k=r(17189);var w=r(16921);var C=r(16948);var S=r(16947);var T=r(17051);var I=r(17142);var N=r(20536);var A=r(17146);var P=r(16918);var R=r(16917);var M=r(16912);var x=r(18605);var L=r(18606);var D=r(18012);var F=r(17704);var B=r(19761);var U=r(18014);var H=r(17735);var q=r(20167);var G=r.n(q);var W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var V=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function Q(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Y=new M["b"]("files");var J={ts:o.a.string.isRequired,subtype:o.a.string,file:S["a"].File().isRequired,fileUserName:o.a.string,fileUserHref:o.a.string,channelId:o.a.string.isRequired,isUpload:o.a.bool.isRequired,userId:o.a.string,botId:o.a.string,teamId:o.a.string,unfurlLinkCache:o.a.instanceOf(F["a"]),expandableKey:o.a.string.isRequired,isExpanded:o.a.bool,expandPref:o.a.bool,setExpanded:o.a.func,previewFile:o.a.func,clogLinkClick:o.a.func,renderFileThread:o.a.bool,canRemoveFile:o.a.bool,callRemoveFileApi:o.a.func,featureBetterWebAppModel:o.a.bool.isRequired,featureAppProfileCardTriggerSharedChannels:o.a.bool,featureFileThreads:o.a.bool};var X={fileUserName:"",fileUserHref:"",userId:null,botId:null,teamId:void 0,unfurlLinkCache:null,isExpanded:void 0,expandPref:true,setExpanded:p.a.noop,onFileTitleClick:p.a.noop,previewFile:p.a.noop,clogLinkClick:p.a.noop,subtype:void 0,renderFileThread:false,canRemoveFile:false,callRemoveFileApi:p.a.noop,featureAppProfileCardTriggerSharedChannels:false,featureFileThreads:false};var Z=function(e){Q(t,e);function t(e){K(this,t);var r=z(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onFileTitleClick=r.onFileTitleClick.bind(r);r.toggleCollapse=r.toggleCollapse.bind(r);r.renderGeneric=r.renderGeneric.bind(r);r.renderImage=r.renderImage.bind(r);r.onUserClick=r.onUserClick.bind(r);r.clogLinkClick=r.clogLinkClick.bind(r);r.removeFile=r.removeFile.bind(r);return r}V(t,[{key:"onUserClick",value:function e(t){if(Object(N["a"])(t))return;t.preventDefault();t.persist();var r=this.props,n=r.file,a=r.featureAppProfileCardTriggerSharedChannels,i=r.featureBetterWebAppModel;var o=Object(C["getFileEntityId"])(n),s=o.userId,c=o.botId;if(c){if(a&&i){Object(f["info"])("APPCARD_SHARED_CHANNELS","feature_app_profile_card_trigger_shared_channels is ON. App cards may not look correct in shared channels (org and external)");return}Object(I["a"])(t,c)}else Object(T["a"])(t,s)}},{key:"onFileTitleClick",value:function e(t){if(Object(N["a"])(t))return;t.preventDefault();this.clogLinkClick({link_action:"file_header"});this.props.previewFile({fileId:this.props.file.id})}},{key:"clogLinkClick",value:function e(t){this.props.clogLinkClick(W({},t,{item_id:this.props.file.id,item_type:"F"}))}},{key:"isExpanded",value:function e(){var t=this.props,r=t.file,n=t.isExpanded,a=t.expandPref;if(void 0!==n)return n;if("image"===Object(C["getFileType"])(r))return a;return true}},{key:"toggleCollapse",value:function e(){this.props.setExpanded({key:this.props.expandableKey,isExpanded:!this.isExpanded()})}},{key:"removeFile",value:function e(){this.props.callRemoveFileApi({channelId:this.props.channelId,ts:this.props.ts,fileId:this.props.file.id})}},{key:"renderMetaText",value:function e(){var t=this;var r=this.props,n=r.file,i=r.subtype,o=r.isUpload,s=r.userId,c=r.fileUserName,l=r.fileUserHref,u=r.botId,p=r.teamId,f=r.featureBetterWebAppModel,d=r.featureAppProfileCardTriggerSharedChannels;var v=Object(H["b"])(this.props.file);if(!v)return null;var h=Object(H["a"])(v,{subtype:i,file:n,isUpload:o,userId:s});var m=n.pretty_type||Y.t("file");var b=Y.rt("<a>{user_name}</a>{possessive}",{user_name:c,possessive:Object(M["k"])(c)},function(e){var r=e.key,i=e.text;if(u&&d&&f)return a.a.createElement(B["a"],{serviceId:u,homeWorkspaceId:p,onClick:t.onUserClick,key:r},a.a.createElement("a",{className:"c-message__file_meta_user",href:l,"data-member-id":n.user,key:r,onClick:t.onUserClick},i));return a.a.createElement("a",{className:"c-message__file_meta_user",href:l,"data-member-id":n.user,key:r,onClick:t.onUserClick},i)});var _=Object(M["l"])("<a data-user />");if(h){var g=h({uploader_name_possessive_html:_,file_pretty_name:m}).split(_);var y=[];for(var O=0;O<g.length;O++){y.push(g[O]);O<g.length-1&&y.push(b)}return y}return null}},{key:"renderFileTitle",value:function e(){var t=this.props.file;if(!t)return null;var r=Object(C["getFileType"])(t);if(this.isExpanded()&&"image"!==r&&"snippet"!==r)return null;return a.a.createElement(a.a.Fragment,null,": ",a.a.createElement("a",{"data-file-id":t.id,className:"c-message__file_link",href:t.permalink,onClick:this.onFileTitleClick},a.a.createElement(A["c"],{file:t,clogLinkClick:this.clogLinkClick})))}},{key:"renderGeneric",value:function e(){var t=this.props,r=t.file,n=t.channelId;return a.a.createElement(A["d"],{file:r,channelId:n,clogLinkClick:this.clogLinkClick,showActions:true})}},{key:"renderImage",value:function e(){var t=this.props,r=t.file,n=t.channelId;return a.a.createElement(U["a"],{file:r,channelId:n,clogLinkClick:this.clogLinkClick})}},{key:"renderSnippet",value:function e(){var t=this.props,r=t.file,n=t.ts,i=t.channelId;return a.a.createElement(x["a"],{fileId:r.id,ts:n,channelId:i,clogLinkClick:this.clogLinkClick})}},{key:"renderPost",value:function e(){var t=this.props,r=t.file,n=t.ts,i=t.channelId,o=t.unfurlLinkCache;return a.a.createElement(L["a"],{fileId:r.id,ts:n,channelId:i,unfurlLinkCache:o,clogLinkClick:this.clogLinkClick})}},{key:"renderEmail",value:function e(){var t=this.props,r=t.file,n=t.ts,i=t.channelId;return a.a.createElement(D["a"],{fileId:r.id,ts:n,channelId:i,clogLinkClick:this.clogLinkClick})}},{key:"renderContent",value:function e(){var t=Object(C["getFileType"])(this.props.file);if("image"===t)return this.renderImage();if("snippet"===t)return this.renderSnippet();if("post"===t)return this.renderPost();if("docs"===t)return this.renderPost();if("email"===t)return this.renderEmail();if("generic"===t)return this.renderGeneric();return null}},{key:"renderDeleteButton",value:function e(){var t=this.props.renderFileThread;if(!t)return null;return a.a.createElement(P["c"],{className:"c-message__file_remove_icon",ariaLabel:Y.t("Remove file"),onClick:this.removeFile},a.a.createElement(R["b"],{type:"times_small"}))}},{key:"renderCollapseToggle",value:function e(){var t=!this.isExpanded();var r=void 0;if(this.props.featureFileThreads){var n=Object(M["l"])(p.a.unescape(this.props.file.title));r=t?Y.t("Expand {fileTitle}",{fileTitle:n}):Y.t("Collapse {fileTitle}",{fileTitle:n})}return a.a.createElement(P["c"],{className:"c-message__file_collapse_toggle",onClick:this.toggleCollapse,ariaLabel:r},a.a.createElement(R["a"],{type:t?"caret-right":"caret-down",className:"c-message__file_collapse_toggle_icon"}))}},{key:"renderMeta",value:function e(){return a.a.createElement("div",{className:"c-message__file_meta"},a.a.createElement("span",{className:"c-message__file_meta_title"},this.renderMetaText(),this.renderFileTitle(),"\xa0",this.renderCollapseToggle()))}},{key:"renderUploaderName",value:function e(){var t=this.props,r=t.renderFileThread,n=t.file,i=t.fileUserName,o=t.userId,s=t.botId;var c=Object(C["getFileEntityId"])(n),l=c.userId,u=c.botId;var p=l!==o&&u!==s;if(!r)return null;if(!p)return null;return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"c-message__file_meta_seperator"},"|"),a.a.createElement("a",{onClick:this.onUserClick,className:"c-message__file_meta_user",role:"button",tabIndex:"0"},i))}},{key:"renderMetaTextFileThreads",value:function e(){var t=this.props,r=t.file,n=t.renderFileThread;if(!n)return null;var i=Object(C["getFileType"])(r);var o="image"===i||"snippet"===i;var s=r.pretty_type||Y.t("file");var c=o||!this.isExpanded()?a.a.createElement(A["c"],{file:r}):s;return a.a.createElement("span",{className:"c-message__file_meta_text"},c,this.renderUploaderName())}},{key:"renderMetaFileThreads",value:function e(){return a.a.createElement("div",{className:"c-message__file_meta c-message__file_meta--file_threads"},this.renderMetaTextFileThreads(),"\xa0",this.renderCollapseToggle())}},{key:"render",value:function e(){var t=this.props,r=t.file,n=t.canRemoveFile,i=t.renderFileThread;if(!r)return null;var o=!this.isExpanded();var s=Object(C["getFileType"])(r);var c=l()("c-message__file",{"c-message__file--collapsed":o,"c-message__file--image":"image"===s,"c-message__file--removable":n});if(Object(C["isTombstone"])(r))return a.a.createElement("div",{className:c},this.renderContent());return a.a.createElement("div",{className:c},i?this.renderMetaFileThreads():this.renderMeta(),n?this.renderDeleteButton():null,o?null:this.renderContent())}}]);return t}(n["PureComponent"]);Z.displayName="InlineFile";Z.propTypes=J;Z.defaultProps=X;var $=function e(t,r){var n=r.fileId,a=r.ts,i=r.channelId;var o=Object(d["getFileById"])(t,n);if(!o)return r;var s=Object(C["getFileEntityId"])(o),c=s.userId,l=s.botId;var u=c&&Object(h["getMemberById"])(t,c);var p=u&&Object(w["o"])(u);var f=Object(w["b"])(u);var O=l||f;var E="";var S="";if(O){var T=Object(v["getBotById"])(t,O);E=T&&T.name||u&&Object(w["q"])(t,u)||o.username;S="/services/"+O}else{E=u&&Object(w["q"])(t,u);S="/team/"+c}var I=Object(k["a"])("file",a,{id:o.id});var N=false;var A=false;if(i&&a){var P=Object(g["getChannelById"])(t,i);var R=Object(y["getMessageByTimestamp"])(t,i,a);N=Object(j["canRemoveFileFromMessage"])(P,R,o);A=Object(j["shouldRenderFileThread"])(R,{featureFileThreads:Object(m["isFeatureEnabled"])(t,"feature_file_threads"),featureFileThreadsDarkLaunch:Object(m["isFeatureEnabled"])(t,"feature_file_threads_dark_launch")})}return{botId:O,file:o,teamId:p,fileUserName:E,fileUserHref:S,expandableKey:I,isExpanded:Object(b["isExpanded"])(t,I),expandPref:Object(_["getUserPref"])(t,"expand_internal_inline_imgs"),renderFileThread:A,canRemoveFile:N,featureAppProfileCardTriggerSharedChannels:Object(m["isFeatureEnabled"])(t,"feature_app_profile_card_trigger_shared_channels"),featureBetterWebAppModel:Object(m["isFeatureEnabled"])(t,"feature_better_web_app_model"),featureFileThreads:Object(m["isFeatureEnabled"])(t,"feature_file_threads")}};var ee={setExpanded:b["setExpanded"],callRemoveFileApi:E["a"],previewFile:O["b"]};var te=Z;var re=Object(s["connect"])($,ee)(Z);t["a"]=Object(A["e"])(re)},18604:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(17063);var o=r(16929);var s=Object(i["a"])("Remove a file from a message",function(e,t,r){var n=r.channelId,a=r.ts,i=r.fileId;return e(Object(o["a"])({method:"chat.removeFile",args:{channel:n,ts:a,file:i}})).catch(function(e){throw e})});s.propTypes={channelId:a.a.string.isRequired,ts:a.a.string.isRequired,fileId:a.a.string.isRequired};t["a"]=s},18605:function(e,t,r){"use strict";var n=r(9);var a=r(16946);var i=r(17679);var o=r(17825);function s(e,t){var r=t.fileId,n=t.ts,o=t.channelId;var s=Object(a["getFileById"])(e,r);if(!s)return{};var c=s.is_truncated,l=s.lines,u=s.permalink;var p=s.preview_highlight||"";var f=s.content_highlight_html||p;var d=s.lines_more>0||s.preview_is_truncated;var v=d&&Object(i["isFileExpanded"])(e,{fileId:r,ts:n,channelId:o});var h=Object(i["isFileExpanding"])(e,{fileId:r,ts:n,channelId:o});return{snippetHtml:v?f:p,wrapLines:true,isTruncated:c&&v,permalink:u,showActions:true,isExpanding:h,isExpandable:d,isExpanded:v,lineCount:l,channelId:o,file:s}}function c(e){var t=e.fileId,r=e.ts,n=e.channelId;return function(e,o){var s=Object(a["getFileById"])(o(),t);if(!s)return;s.content_highlight_html?e(Object(i["expandFile"])({fileId:t,ts:r,channelId:n})):e(Object(i["fetchAndExpand"])({fileId:t,ts:r,channelId:n}))}}var l={expand:c,collapse:i["collapseAndEnsureInView"]};t["a"]=Object(n["connect"])(s,l)(o["a"])},18606:function(e,t,r){"use strict";var n=r(9);var a=r(16946);var i=r(17679);var o=r(16922);var s=r(17826);function c(e){if(!e)return false;if(e.length>=400)return true;if(e.split(" ").length>=50)return true;if(e.split("\n").length>=4)return true;var t=e.match(/<\/(?:h\d|p|li|pre|blockquote)>/g)||[];var r=e.match(/<hr>/g)||[];var n=t.concat(r);if(n.length>=4)return true;return false}function l(e,t){var r=t.fileId,n=t.ts,s=t.channelId;var l=Object(a["getFileById"])(e,r);if(!l)return{};var u=l.preview||"";var p=l.content_html||u;var f=false===Object(o["getUserPref"])(e,"a11y_animations");var d=c(l.preview);var v=d&&Object(i["isFileExpanded"])(e,{fileId:r,ts:n,channelId:s});var h=Object(i["isFileExpanding"])(e,{fileId:r,ts:n,channelId:s});return{postHtml:v?p:u,file:l,timestamp:l.updated||l.timestamp,allowAnimations:!f,isExpanding:h,isExpandable:d,isExpanded:v,channelId:s}}function u(e){var t=e.fileId,r=e.ts,n=e.channelId;return function(e,o){var s=Object(a["getFileById"])(o(),t);if(!s)return;s.content_html?e(Object(i["expandFile"])({fileId:t,ts:r,channelId:n})):e(Object(i["fetchAndExpand"])({fileId:t,ts:r,channelId:n}))}}var p={expand:u,collapse:i["collapseAndEnsureInView"]};t["a"]=Object(n["connect"])(l,p)(s["a"])},18607:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16946);var p=r(16919);var f=r(17004);var d=r(16921);var v=r(20536);var h=r(16947);var m=r(17146);var b=r(17051);var _=r(17960);var g=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j={file:h["a"].File(["name","permalink"]).isRequired,followup:a.a.bool,userId:a.a.string,userName:a.a.string,previewFile:a.a.func};var k={followup:false,userId:null,userName:null,previewFile:c["noop"]};var w=function(e){E(t,e);function t(e){y(this,t);var r=O(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.previewFile=r.previewFile.bind(r);r.onUserClick=r.onUserClick.bind(r);return r}g(t,[{key:"onUserClick",value:function e(t){if(Object(v["a"])(t))return;t.preventDefault();Object(b["a"])(t,this.props.file.user)}},{key:"previewFile",value:function e(t){if(Object(v["a"])(t))return;t.preventDefault();this.props.previewFile({fileId:this.props.file.id})}},{key:"renderUserLink",value:function e(){var t=this.props,r=t.userId,n=t.userName;return o.a.createElement("a",{className:"c-message__file_meta_user member",href:"/team/"+r,"data-member-id":r,onClick:this.onUserClick},n)}},{key:"renderFileLink",value:function e(){var t=this.props.file;return o.a.createElement("a",{className:"c-message__file_link file_preview_link",href:t.permalink,"data-file-id":t.id,onClick:this.previewFile},o.a.createElement(m["c"],{file:t}))}},{key:"render",value:function e(){var t=this.props,r=t.file,n=t.followup,a=t.userId,i=t.userName;var s=Object(_["a"])({plainText:false,isFollowup:n,fileMode:r.mode,fileLink:this.renderFileLink(),userId:a,userName:i,userLink:this.renderUserLink()});return o.a.createElement("span",{className:"c-message__file_meta"},s)}}]);return t}(i["PureComponent"]);w.displayName="FileCommentMeta";w.propTypes=j;w.defaultProps=k;var C=function e(t,r){var n=r.fileId,a=r.comment;if(!n||!a)return{};var i=Object(u["getFileById"])(t,n);if(!i)return{};if(i.user===a.user)return{file:i};var o=i.user;var s=Object(p["getMemberById"])(t,o);return{file:i,userId:o,userName:Object(d["q"])(t,s)}};t["a"]=Object(s["connect"])(C,{previewFile:f["b"]})(w)},18608:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16921);var p=r(16947);var f=r(16932);var d=r(17012);var v=r(16912);var h=r(17051);var m=r(16923);var b=r(16919);var _=r(16913);var g=r(17965);var y=r(17966);var O=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=new v["b"]("message");var S={rollup:p["a"].Rollup(),channel:o.a.shape({name:o.a.string.isRequired}).isRequired,user:o.a.string.isRequired,isAppUser:o.a.bool.isRequired,featureWtaClientSupport:o.a.bool.isRequired,featureBetterJoinLeaveStrings:o.a.bool.isRequired};var T={rollup:null};var I=function e(t,r,n,i){var o=i.tag,s=i.text,c=i.key;var l={className:"c-message__rollup_member",target:"_blank",rel:"noopener noreferrer"};switch(o){case"user":return a.a.createElement("a",E({href:"/team/"+t.id,key:c,onClick:A(t.id)},l),s);case"inviter":return a.a.createElement("a",E({href:"/team/"+r.id,key:c,onClick:A(r.id)},l),s);case"other":return a.a.createElement("a",E({href:"/team/"+n[0].id,key:c,onClick:A(n[0].id)},l),s);case"others":var u=P(n);return a.a.createElement(f["c"],{tip:u,key:c},a.a.createElement("span",{className:"no_wrap"},s));default:return s}};var N=function(e){w(t,e);function t(){j(this,t);return k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}O(t,[{key:"shouldComponentUpdate",value:function e(t){return!Object(d["a"])(t,this.props,3)}},{key:"render",value:function e(){var t=this.props,r=t.rollup,n=t.channel,i=t.user,o=t.isAppUser,s=t.featureWtaClientSupport,c=t.featureBetterJoinLeaveStrings;if(!r||0===r.length)return null;var l=Object(g["a"])({plainText:false,rollup:r,channel:n,user:i,isAppUser:o,featureWtaClientSupport:s,i18nReplaceCallback:I,featureBetterJoinLeaveStrings:c});return a.a.createElement("span",{className:"c-message__body c-message__body--automated"},l)}}]);return t}(n["Component"]);N.displayName="Rollup";N.propTypes=S;N.defaultProps=T;function A(e){return function(t){t.preventDefault();Object(h["a"])(t,e)}}function P(e){var t=100;var r=l.a.take(e,t).map(function(e){return e.name});e.length>t&&r.push(C.t("{count, plural, =1 {# other} other {# others}}",{count:e.length-t}));return Object(v["e"])(r,{noEscape:true}).join("")}var R=function e(t,r){var n=r.rollup,a=r.user,i=r.channelId;return{channel:Object(m["getChannelById"])(t,i),rollup:Object(y["a"])(t,n),isAppUser:Object(u["z"])(Object(b["getMemberById"])(t,a)),featureWtaClientSupport:Object(_["isFeatureEnabled"])(t,"feature_wta_client_support"),featureBetterJoinLeaveStrings:Object(_["isFeatureEnabled"])(t,"feature_better_join_leave_strings")}};t["a"]=Object(s["connect"])(R)(N)},18609:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(9);var u=r(45);var p=r(16940);var f=r(16923);var d=r(16930);var v=r(16919);var h=r(16913);var m=r(17015);var b=r(16938);var _=r(17959);var g=r(18610);var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var O={subtype:a.a.string.isRequired,channelPurpose:a.a.string,channelTopic:a.a.string,channelName:a.a.string,channelOldName:a.a.string,channelNewName:a.a.string,orgName:a.a.string,channelIsMoved:a.a.bool,text:a.a.string,callId:a.a.string,msgTs:a.a.string,memberId:a.a.string,currentMemberId:a.a.string,featureSliChannelArchiveSuggestions:a.a.bool,inSliChannelArchiveSuggestionsExperiment:a.a.bool};var E={channelPurpose:null,channelTopic:null,channelName:null,channelOldName:null,channelNewName:null,orgName:null,channelIsMoved:false,text:"",callId:null,msgTs:null,memberId:null,currentMemberId:null,featureSliChannelArchiveSuggestions:false,inSliChannelArchiveSuggestionsExperiment:false};var j=function e(t){var r=t.subtype,n=t.text,a=t.callId,i=t.msgTs,s=t.memberId;var l=c()("c-message__body","c-message__body--automated",{"c-message__body--call":"sh_room_shared"===r||"sh_room_created"===r});if("sh_room_shared"===r||"sh_room_created"===r)return o.a.createElement(g["a"],{subtype:r,callId:a,msgTs:i});var u={text:n};if("reminder_add"===r||"reminder_delete"===r){u.doInlineImages=true;u.enableSlackActionLinks=true}if("bot_add"===r||"bot_enable"===r||"bot_updated"===r||"bot_disable"===r||"bot_remove"===r){u.noHighlights=true;u.doInlineImages=true;u.enableSlackActionLinks=true;u.explicitlyRenameBotLink=true;u.memberId=s}return o.a.createElement(b["a"],y({className:l},u))};j.displayName="TestableAutomatedSubtype";j.propTypes=O;j.defaultProps=E;var k=Object(u["pure"])(j);var w=function e(t,r){var n=r.subtype,a=r.channelId,i=r.timestamp;var o=Object(h["isFeatureEnabled"])(t,"feature_sli_channel_archive_suggestions");var s=o&&"sli_channel_archive_suggestions"===Object(m["a"])("sli_channel_archive_suggestions");var c=Object(f["getChannelById"])(t,a);var l=Object(d["getMessageByTimestamp"])(t,a,i);var u=Object(v["getCurrentMember"])(t);var b=Object(_["a"])({message:l,channel:c,member:u,inSliChannelArchiveSuggestionsExperiment:s});return{subtype:n,text:b,callId:l._room_id,msgTs:l.ts,memberId:Object(p["getMessageMemberId"])(l)}};var C=Object(l["connect"])(w)(j);C.propTypes={channelId:a.a.string.isRequired,subtype:a.a.string.isRequired,timestamp:a.a.string.isRequired};t["a"]=C},18610:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(9);var u=r(8);var p=r.n(u);var f=r(16919);var d=r(17672);var v=r(16913);var h=r(17189);var m=r(16921);var b=r(17052);var _=r(17036);var g=r(16912);var y=r(17364);var O=r(16917);var E=r(18611);var j=r(17113);var k=r(16985);var w=r(16932);var C=r(16938);var S=r(17192);var T=r(17308);var I=r(17967);var N=r(17968);var A=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function M(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=new g["b"]("calls");var L={participants:a.a.array,dateEnd:a.a.number,dateStart:a.a.number,isDmCall:a.a.bool,wasMissed:a.a.bool,wasRejected:a.a.bool,isCreator:a.a.bool,callName:a.a.string,dmCallName:a.a.string,isParticipant:a.a.bool,callId:a.a.string,msgTs:a.a.string,subtype:a.a.oneOf(["sh_room_shared","sh_room_created"])};var D={participants:[],dateEnd:null,isDmCall:false,wasMissed:false,wasRejected:false,isCreator:false,callName:"",dmCallName:"",isParticipant:false,callId:"",dateStart:null,msgTs:"",subtype:"sh_room_created"};var F=function e(t,r){return c()(r).compact().map(function(e){if(e&&e.isUnknown)return o.a.createElement(j["a"],{key:e.id,type:"unknown"});if(e)return Object(m["q"])(t,e);return}).reduce(function(e,t,n){var a=r[n-1];a&&e.push(", ");e.push(t);return e},[])};var B=function(e){M(t,e);function t(e){P(this,t);var r=R(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.setRef=r.setRef.bind(r);r.onCallClick=r.onCallClick.bind(r);return r}A(t,[{key:"setRef",value:function e(t){this.ref=t}},{key:"onCallClick",value:function e(t){t.preventDefault();this.props.dateEnd||Object(y["a"])(this.ref.querySelector(".c-message__call_description"))}},{key:"render",value:function e(){var t=this.props,r=t.participants,n=t.dateEnd,a=t.isDmCall,i=t.wasMissed,s=t.wasRejected,c=t.isCreator,l=t.callName,u=t.dmCallName,f=t.isParticipant,d=t.callId,v=t.dateStart,m=t.msgTs,_=t.subtype,g=t.featureReactMessages,y=t.participantList,j=t.participantNames;var N=a&&2===r.length;var A=!n&&a&&c;var P=!n&&a;var R=Object(I["a"])({dateEnd:n,isDmCall:a,wasMissed:i,wasRejected:s,isCreator:c,isParticipant:f,dmCallName:u,participantsCount:r.length});var M=n?"c-message__call_icon--ended c-icon--calls-ended":"c-icon--calls";var L=document.location.origin+"/call/"+d;var D=o.a.createElement("span",{className:"c-message__call_description"},R);var F=l?o.a.createElement(C["a"],{text:l,className:"c-message__call_name",noJumbomoji:true}):null;var B=!A&&!P||N?null:o.a.createElement(E["a"],null);if(!n){D=o.a.createElement("a",{href:L,className:"c-message__call_description c-message__call_description--linked","data-qa":"call_attachment_link"},R,B);F=l?o.a.createElement("a",{href:L,className:"c-message__call_name c-message__call_name--linked"},o.a.createElement(C["a"],{text:l,noJumbomoji:true})):null}var U=o.a.createElement("div",{className:"c-message__call_title"},D);F&&(U=o.a.createElement("div",{className:"c-message__call_title"},F,D));var H="";if(a&&n&&v&&i||a&&!n&&v||!a&&0===r.length||A||P)H=o.a.createElement("div",{className:"c-message__call_sub"},x.t("Started at {time}",{time:Object(b["i"])(v)}));else if(a&&n&&v&&!i&&g)H=o.a.createElement("div",{className:"c-message__call_sub"},x.rt("Started at {time} and lasted {duration}",{time:Object(b["i"])(v),duration:o.a.createElement("strong",null,Object(b["j"])(n-v))}));else if(!a&&n&&g)H=o.a.createElement("div",{className:"c-message__call_sub"},x.rt("Lasted {duration} with {participants}",{duration:o.a.createElement("strong",null,Object(b["j"])(n-v)),participants:o.a.createElement("div",{className:"c-message__call_participants"},y)}));else if(!a&&r.length>0){var q=r.map(function(e){var t=e.isUnknown?x.t("Loading\u2026"):j[e.id];return o.a.createElement(w["c"],{tip:t,key:e.id},o.a.createElement("span",{className:"c-message__call_avatar"},o.a.createElement(k["b"],{userId:e.id,size:16})))});H=o.a.createElement("div",{className:"c-message__call_sub"},o.a.createElement("span",null,x.rt("Started at {time}",{time:Object(b["i"])(v)}),o.a.createElement("span",{className:"c-message__call_participant_count"},o.a.createElement(O["a"],{type:"user",className:"c-message__call_user_icon",align:"baseline"})," ",r.length)),o.a.createElement("div",{className:"c-message__call_participants"},q))}var G="sh_room_shared"===_?x.t("Shared a call"):x.t("Started a call");var W=Object(h["a"])("call",m,{id:d});var V=p()("c-message__call",{"c-message__call--active":!n,"c-message__call--ended":n});return o.a.createElement("div",{className:V,ref:this.setRef,onClick:this.onCallClick,role:"presentation","data-qa":"call_attachment"},o.a.createElement("div",{className:"c-message__body c-message__body--automated"},G," ",o.a.createElement(T["a"],{expandableKey:W,useAttachmentRules:false}),o.a.createElement(S["a"],{expandableKey:W,useAttachmentRules:false},o.a.createElement("div",{className:"c-message__call_attachment"},o.a.createElement(O["a"],{className:"c-message__call_icon "+M}),o.a.createElement("div",{className:"c-message__call_info","data-qa":"call_attachment"},U,H)))))}}]);return t}(_["a"]);B.displayName="CallSubtype";B.propTypes=L;B.defaultProps=D;var U=function e(t,r){var n=Object(v["isFeatureEnabled"])(t,"feature_react_messages");var a=Object(d["getCallById"])(t,r.callId);if(!a)return{featureReactMessages:n};var i=Object(v["getCurrentUserId"])(t);var o=Object(d["getParticipantsFromCall"])(a)||[];var s=o.map(function(e){return Object(f["getMemberById"])(t,e)});var l=r.dmCallName;l||(l=Object(N["a"])(t,r.callId));var u={};s.forEach(function(e){u[e.id]=Object(m["q"])(t,e)});return{participants:s,participantList:F(t,s),participantNames:u,dateEnd:a.date_end,dateStart:a.date_start,isDmCall:a.is_dm_call,wasMissed:a.was_missed,wasRejected:a.was_rejected,isCreator:i===a.created_by,callName:a.name,dmCallName:l,isParticipant:!!c.a.find(s,{id:i}),featureReactMessages:n}};t["a"]=Object(l["connect"])(U)(B)},18611:function(e,t,r){"use strict";var n=r(18612);t["a"]=n["a"]},18612:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(20240);var o=r.n(i);var s=function e(){return a.a.createElement("span",{className:"c-animated_ellipsis"},a.a.createElement("span",{className:"c-animated_ellipsis__fullstop"},"."),a.a.createElement("span",{className:"c-animated_ellipsis__fullstop"},"."),a.a.createElement("span",{className:"c-animated_ellipsis__fullstop"},"."))};s.displayName="AnimatedEllipsis";t["a"]=s},18614:function(e,t,r){"use strict";var n=r(9);var a=r(1);var i=r.n(a);var o=r(16922);var s=r(16913);var c=r(16930);var l=r(16946);var u=r(16940);var p=r(17004);var f=r(18615);function d(e,t){var r=t.threadTs,n=t.channelId;var a=Object(c["getMessageByTimestamp"])(e,n,r);if(!a)return{};var p=a.reply_count;var f=a.replies||[];var d=void 0;d=a.reply_users?a.reply_users:i()(f).map("user").uniq().value();var v=a.reply_users_count?a.reply_users_count:d.length;var h=Object(u["getMessageRootText"])(a);var m=Object(s["isFeatureEnabled"])(e,"feature_file_threads");if(m&&a.files&&a.files.length){var b=i.a.first(a.files);var _=Object(l["getFileById"])(e,b);h=Object(u["getMessageRootText"])(a,_)}return{rootText:h,replyCount:p,replyUsers:d,replyUsersCount:v,theme:Object(o["getUserMessagesTheme"])(e),featureFileThreads:m}}var v={showThread:p["d"]};t["a"]=Object(n["connect"])(d,v)(f["a"])},18615:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(17036);var u=r(16912);var p=r(16940);var f=r(16917);var d=r(16938);var v=r(17964);var h=r(18757);var m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=new u["b"]("threads");var O={ts:o.a.string.isRequired,threadTs:o.a.string.isRequired,channelId:o.a.string.isRequired,rootText:o.a.string,theme:o.a.string,replyCount:o.a.number,replyUsers:o.a.arrayOf(o.a.string),replyUsersCount:o.a.number,featureFileThreads:o.a.bool,showThread:o.a.func};var E={rootText:null,theme:"light",replyCount:0,replyUsers:void 0,replyUsersCount:0,featureFileThreads:false,showThread:n["noop"]};var j=function(e){g(t,e);function t(e){b(this,t);var r=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.openThread=r.openThread.bind(r);return r}m(t,[{key:"openThread",value:function e(t){var r=this.props,n=r.showThread,a=r.channelId,i=r.threadTs,o=r.ts;t.preventDefault();n({channelId:a,threadTs:i,highlightTs:o})}},{key:"renderRepliersSummary",value:function e(t){var r=this.props,n=r.replyCount,a=r.replyUsers,i=r.replyUsersCount,o=r.featureFileThreads;if(!n||!i)return null;return c.a.createElement("div",{className:"c-message__broadcast_repliers"},o?null:c.a.createElement(f["a"],{type:"comment_alt",className:"c-message__broadcast_repliers_icon"}),c.a.createElement("a",{className:"c-message__broadcast_repliers_link",href:t,target:"_blank",rel:"noopener noreferrer",onClick:this.openThread},c.a.createElement(h["a"],{replyCount:n,replyUsers:a,replyUsersCount:i,prefixWithReplyCount:true,broadcastPreabmle:true})))}},{key:"render",value:function e(){var t=this;var r=Object(p["constructMsgPermalink"])(this.props.channelId,this.props.ts,this.props.threadTs);var n=void 0;if(this.props.rootText)n=c.a.createElement("div",{className:"c-message__broadcast_preamble"},c.a.createElement("span",{className:"c-message__broadcast_preamble_meta"},Object(v["a"])()),c.a.createElement("a",{className:"c-message__broadcast_preamble_link",href:r,target:"_blank",rel:"noopener noreferrer",onClick:this.openThread},c.a.createElement(d["a"],{text:this.props.rootText,noHighlights:true,noHexColors:true,noJumbomoji:true,noLinking:true,noCode:true,noQuotes:true,customLineEnding:"\u2026"})));else{var a=y.rt("replied to <a>a thread</a>",null,function(e){var n=e.key,a=e.text;return c.a.createElement("a",{className:"c-message__broadcast_preamble_link",key:n,href:r,target:"_blank",rel:"noopener noreferrer",onClick:t.openThread},a)});n=c.a.createElement("div",{className:"c-message__broadcast_preamble"},a)}if("light"===this.props.theme)return c.a.createElement("div",{className:"c-message__broadcast_preamble_outer"},n,this.renderRepliersSummary(r));return n}}]);return t}(l["a"]);j.displayName="ThreadBroadcastPreamble";j.propTypes=O;j.defaultProps=E;t["a"]=j},18616:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(8);var p=r.n(u);var f=r(17736);var d=r(16941);var v=r(17104);var h=r(17307);var m=r(16913);var b=r(16946);var _=r(16923);var g=r(16925);var y=r(17004);var O=r(18047);var E=r(16940);var j=r(17129);var k=r(17080);var w=r(16912);var C=r(17073);var S=r(17096);var T=r(18048);var I=r(17647);var N=r(17324);var A=r(16965);var P=r(17837);var R=r(17835);var M=r(17082);var x=r(16949);var L=r(16950);var D=r(17833);var F=r(18025);var B=r(18027);var U=r(18617);var H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var q=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function V(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var K=new w["b"]("message");var z={reactionKey:o.a.string,fileId:o.a.string,fileIds:o.a.arrayOf(o.a.string),comment:o.a.string,replies:o.a.arrayOf(o.a.shape({ts:o.a.string,user:o.a.string})),replyCount:o.a.number,teamId:o.a.string.isRequired,ts:o.a.string,threadsEverythingPref:o.a.bool,threadTs:o.a.string,channel:o.a.object,file:o.a.object,subtype:o.a.string,channelId:o.a.string,theme:o.a.oneOf(["dense","light"]),isStarred:o.a.bool,isPinned:o.a.bool,isEphemeral:o.a.bool,isFileAuthorExternal:o.a.bool,messageContainerType:o.a.string,editHandler:o.a.func,unreadHandler:o.a.func,onMenuOpen:o.a.func,onMenuClose:o.a.func,pinMessage:o.a.func,unpinMessage:o.a.func,updateStar:o.a.func,featureAppActionsFe:o.a.bool,featureFileThreads:o.a.bool,renderMenuBelowTrigger:o.a.bool,renderOffscreen:o.a.bool.isRequired,openModal:o.a.func,previewFile:o.a.func,showThread:o.a.func};var Q={reactionKey:null,fileId:null,fileIds:null,comment:null,replies:[],replyCount:0,ts:null,threadsEverythingPref:null,threadTs:null,channel:null,file:null,subtype:null,channelId:null,theme:"light",isStarred:false,isPinned:false,isEphemeral:false,isFileAuthorExternal:false,messageContainerType:void 0,editHandler:l.a.noop,unreadHandler:l.a.noop,onMenuOpen:l.a.noop,onMenuClose:l.a.noop,pinMessage:l.a.noop,unpinMessage:l.a.noop,updateStar:l.a.noop,featureAppActionsFe:false,featureFileThreads:false,renderMenuBelowTrigger:false,renderOffscreen:false,openModal:l.a.noop,previewFile:l.a.noop,showThread:l.a.noop};var Y={x:0,y:-8};var J={x:4,y:-16};var X={x:50,y:0};var Z=function(e){V(t,e);function t(e){G(this,t);var r=W(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={moreActionsMenuOpen:false,subscribed:"loading"};Object(c["bindAll"])(r,["onAddReaction","onComment","onCopyLink","onDelete","onEdit","onMarkUnread","onMenuSelectAction","onMoreActionsMenuClose","onMoreActionsMenuOpen","onPin","onRemind","onRemoveBroadcast","onShare","onStar","onSubscribe","renderMoreActionsMenu"]);return r}q(t,[{key:"onStar",value:function e(){var t=this.props,r=t.channelId,n=t.ts,a=t.fileId,i=t.fileIds,o=t.featureFileThreads,s=t.comment,c=t.subtype,l=t.isStarred;var u={channel:r,timestamp:n};a&&(u={file:a});if(s&&"file_comment"===c){var p=o?i[0]:a;u={file_comment:s,file_comment_file:p}}this.props.updateStar(!l,u);var d=l?f["h"].UNSTAR_MESSAGE_BUTTON:f["h"].STAR_MESSAGE_BUTTON;this.trackAction(d)}},{key:"onAddReaction",value:function e(t){if(!this.props.reactionKey)return;Object(S["a"])({e:t,rxn_key:this.props.reactionKey});this.trackAction(f["h"].ADD_REACTION_BUTTON)}},{key:"onComment",value:function e(){if(this.props.fileId&&!this.props.featureFileThreads)this.props.previewFile({fileId:this.props.fileId});else{var t=this.props.threadTs||this.props.ts;this.props.showThread({channelId:this.props.channel.id,threadTs:t})}var r=this.state.subscribed?f["h"].REPLY_TO_THREAD_BUTTON:f["h"].START_A_THREAD_BUTTON;this.trackAction(r)}},{key:"onShare",value:function e(){this.props.fileId&&"file_comment"!==this.props.subtype?Object(I["a"])(this.props.fileId,false,false,this.props.channel,true):Object(T["a"])(this.props.ts,this.props.channel);this.trackAction(f["h"].SHARE_MESSAGE_BUTTON)}},{key:"onEdit",value:function e(t){this.props.onMenuClose();this.props.editHandler();t.stopPropagation();this.trackAction(f["h"].EDIT_MESSAGE_BUTTON,true)}},{key:"onDelete",value:function e(){var t=this.props,r=t.channelId,n=t.ts;this.props.openModal({element:a.a.createElement(R["a"],{channelId:r,ts:n})});this.trackAction(f["h"].DELETE_MESSAGE_BUTTON,true)}},{key:"onMarkUnread",value:function e(){this.props.unreadHandler({channelId:this.props.channel.id,unreadTs:this.props.ts});this.trackAction(f["h"].MARK_UNREAD_BUTTON,true)}},{key:"onRemind",value:function e(t){var r=this.props,n=r.channel,a=r.ts,i=r.subtype;this.trackAction(f["h"].REMIND_ME_BUTTON,true);return function(){Object(O["a"])({time:t,message_channel:n.id,message_ts:a,respond_in_channel:"thread_broadcast"===i})}}},{key:"onSubscribe",value:function e(){var t=this.props,r=t.replies,n=t.ts,a=t.channel;var i=this.state.subscribed;var o=r.length&&r[r.length-1].ts;Object(N["d"])(a.id,n,!i,o);var s=i?f["h"].UNFOLLOW_MESSAGE_BUTTON:f["h"].FOLLOW_MESSAGE_BUTTON;this.trackAction(s,true)}},{key:"onPin",value:function e(){var t=this.props,r=t.ts,n=t.channel,a=t.isPinned,i=t.pinMessage,o=t.unpinMessage;if(a){o({ts:r,channelId:n.id});this.trackAction(f["h"].UNPIN_FROM_THIS_CONVERSATION_BUTTON,true)}else{i({ts:r,channelId:n.id});this.trackAction(f["h"].PIN_TO_THIS_CONVERSATION_BUTTON,true)}}},{key:"onCopyLink",value:function e(){var t=this.props,r=t.channel,n=t.ts,a=t.threadTs,i=t.file,o=t.subtype;var s=Object(A["b"])(r.id,n,a);i&&"file_comment"!==o&&(s=i.permalink);Object(k["writeText"])(s);this.trackAction(f["h"].COPY_LINK_BUTTON,true)}},{key:"onRemoveBroadcast",value:function e(){var t=this.props,r=t.channelId,n=t.ts;this.props.openModal({element:a.a.createElement(P["a"],{channelId:r,ts:n})});this.trackAction(f["h"].REMOVE_FROM_CONVERSATION_BUTTON,true)}},{key:"onMoreActionsMenuOpen",value:function e(){var t=this;this.setState(function(){return{moreActionsMenuOpen:true}});var r=this.props,n=r.channelId,a=r.ts,i=r.featureAppActionsFe;i||Object(N["c"])(n,a).then(function(e){t.setState(function(){return{subscribed:e&&e.subscribed}})});this.props.onMenuOpen();this.trackAction(f["h"].MORE_ACTIONS_BUTTON)}},{key:"onMoreActionsMenuClose",value:function e(){this.setState(function(){return{moreActionsMenuOpen:false}});this.props.onMenuClose()}},{key:"onMenuSelectAction",value:function e(t,r){if(r.id===M["a"].editMessage){this.onEdit(t);return true}return false}},{key:"isAutomated",value:function e(){return Object(j["a"])(this.props.subtype)}},{key:"isTemp",value:function e(){return this.props.ts.indexOf("x")>-1}},{key:"trackAction",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n={action:f["g"].CLICK,ui_element:t};r&&(n.step=f["i"].MORE_ACTIONS_MENU);Object(d["b"])(f["b"].MSG_ACTION,{contexts:{ui_context:n}})}},{key:"renderStar",value:function e(){var t=this.props,r=t.fileId,n=t.subtype,i=t.isStarred,o=t.isEphemeral;if(o||"tombstone"===n)return null;var s="message";r&&(s="file_comment"===n?"file comment":"file");var c=void 0;c=i?"file"===s?K.t("Unstar file"):"file comment"===s?K.t("Unstar file comment"):K.t("Unstar message"):"file"===s?K.t("Star file"):"file comment"===s?K.t("Star file comment"):K.t("Star message");return a.a.createElement(B["a"],{iconType:i?"small-star-filled":"small-star",label:c,onClick:this.onStar,"data-qa":"star_message"})}},{key:"renderShare",value:function e(){var t=this.props,r=t.ts,n=t.subtype,i=t.featureFileThreads,o=t.isEphemeral;if(o||"tombstone"===n||Object(E["isTempTs"])(r))return null;if(i&&"file_comment"===n)return null;var s="file_share"===n||"file_mention"===n?K.t("Share file \u2026",{fallbackHash:"9056b6c934805611f8d5a90ad5c937b656be6641"}):K.t("Share message \u2026",{fallbackHash:"587f9ecd03b16e92d064f4fbbfd4ba7e76e29807"});return a.a.createElement(B["a"],{iconType:"share-action",label:s,onClick:this.onShare,"data-qa":"share_message"})}},{key:"renderReaction",value:function e(){if("tombstone"===this.props.subtype||this.props.isEphemeral)return null;if("file_comment"===this.props.subtype&&this.props.featureFileThreads)return null;return a.a.createElement(B["a"],{iconType:"small-reaction",label:K.t("Add reaction",{fallbackHash:"9203ff94f6bef40e4d9c9db045937b74c11957f1"}),onClick:this.onAddReaction,"data-qa":"add_reaction_action"})}},{key:"renderComment",value:function e(){if(this.props.isFileAuthorExternal)return null;if(this.isAutomated()||this.isTemp()||this.props.isEphemeral)return null;if(this.props.featureFileThreads&&Object(C["b"])(this.props.subtype))return null;var t=void 0;t=this.props.fileId&&!this.props.featureFileThreads?K.t("Add comment",{fallbackHash:"17279ab497dcbdcde85b46254a98e8017a95cebe"}):this.props.replyCount||"thread_broadcast"===this.props.subtype?K.t("Reply to thread"):K.t("Start a thread");return a.a.createElement(B["a"],{iconType:"small-reply",label:t,onClick:this.onComment,ariaHasPopup:null,"data-qa":"start_thread"})}},{key:"renderEllipsis",value:function e(){var t=this.props.renderMenuBelowTrigger;return a.a.createElement(L["d"],{renderMenu:this.renderMoreActionsMenu,position:t?"right-bottom":"top-right",allowanceX:t?X.x:0,offsetX:t?J.x:Y.x,offsetY:t?J.y:Y.y,onOpen:this.onMoreActionsMenuOpen,onClose:this.onMoreActionsMenuClose},a.a.createElement(B["a"],{className:"c-message_actions__button--last-child",iconType:"small-ellipsis",label:K.t("More actions",{fallbackHash:"3a91b1007dce1af87db6afdb266966dd5d7a3df1"}),tooltipPosition:"top-right","data-qa":"more_message_actions"}))}},{key:"renderMoreActionsMenu",value:function e(t){var r=this.props,n=r.channel,i=r.ts,o=r.subtype,s=r.replyCount,c=r.threadsEverythingPref,l=r.isPinned,u=r.isEphemeral,p=r.featureAppActionsFe,f=r.messageContainerType;var d=t.onTriggerClose,v=t.onMenuItemSelected;if(p)return a.a.createElement(D["a"],{ts:i,channelId:n.id,onSelectAction:this.onMenuSelectAction,onTriggerClose:d,onMenuItemSelected:v,messageContainerType:f});return a.a.createElement(U["a"],H({},t,{channel:n,ts:i,subtype:o,isSubscribed:this.state.subscribed,replyCount:s,threadsEverythingPref:c,isPinned:l,isEphemeral:u,onSubscribe:this.onSubscribe,onStar:this.onStar,onCopyLink:this.onCopyLink,onMarkUnread:this.onMarkUnread,onPin:this.onPin,onEdit:this.onEdit,onDelete:this.onDelete,onRemoveBroadcast:this.onRemoveBroadcast,onRemind:this.onRemind}))}},{key:"render",value:function e(){var t=p()("c-message__actions",{"c-message__actions--menu-showing":this.state.moreActionsMenuOpen,"c-message__actions--dense":"dense"===this.props.theme,"c-message__actions--offscreen":this.props.renderOffscreen});var r=K.t("Message actions");return a.a.createElement(F["a"],{className:t,ariaLabel:r},this.renderReaction(),this.renderComment(),this.renderShare(),this.renderStar(),this.renderEllipsis())}}]);return t}(n["PureComponent"]);Z.displayName="MessageActions";Z.propTypes=z;Z.defaultProps=Q;var $=function e(t,r){var n=r.fileId,a=r.channelId;return{channel:Object(_["getChannelById"])(t,a),file:Object(b["getFileById"])(t,n),isFileAuthorExternal:Object(b["isFileAuthorExternal"])(t,n),featureAppActionsFe:Object(m["isFeatureEnabled"])(t,"feature_app_actions_fe"),featureFileThreads:Object(m["isFeatureEnabled"])(t,"feature_file_threads"),renderMenuBelowTrigger:Object(m["isFeatureEnabled"])(t,"feature_app_actions_fe"),teamId:Object(g["getTeamId"])(t)}};var ee={pinMessage:v["pinMessage"],unpinMessage:v["unpinMessage"],updateStar:h["a"],openModal:x["openModal"],previewFile:y["b"],showThread:y["d"]};t["a"]=Object(s["connect"])($,ee)(Z)},18617:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16930);var p=r(16913);var f=r(16920);var d=r(16912);var v=r(16965);var h=r(17324);var m=r(16950);var b=r(17295);var _=r(17648);var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=new d["b"]("message");var w={message:o.a.object.isRequired,channel:o.a.object.isRequired,subtype:o.a.string,isSubscribed:o.a.oneOf(["loading",true,false]),replyCount:o.a.number,threadsEverythingPref:o.a.bool,isPinned:o.a.bool,isEphemeral:o.a.bool,onSubscribe:o.a.func,onCopyLink:o.a.func,onMarkUnread:o.a.func,onPin:o.a.func,onEdit:o.a.func,onDelete:o.a.func,onRemoveBroadcast:o.a.func,onRemind:o.a.func,featureReactMessages:o.a.bool.isRequired,featureFileThreads:o.a.bool.isRequired,featureThreadsCopyChange:o.a.bool.isRequired};var C={subtype:null,isPinned:false,replyCount:null,threadsEverythingPref:false,isSubscribed:"loading",isEphemeral:false,onSubscribe:c["noop"],onCopyLink:c["noop"],onMarkUnread:c["noop"],onPin:c["noop"],onEdit:c["noop"],onDelete:c["noop"],onRemoveBroadcast:c["noop"],onRemind:c["noop"]};var S=function(e){j(t,e);function t(e){O(this,t);var r=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(c["bindAll"])(r,["renderRemindSubmenu"]);return r}y(t,[{key:"getItems",value:function e(){var t=this.props,r=t.channel,n=t.isEphemeral,a=t.isPinned,i=t.message,o=t.onCopyLink,s=t.onMarkUnread,c=t.onPin,l=t.onEdit,u=t.onDelete,p=t.onRemoveBroadcast,d=t.subtype,m=t.featureFileThreads;var b=Object(v["f"])(i,r);var g=m&&"file_comment"===d;return[Object(h["a"])(r,i)?this.getThreadItem():{show:false},{type:"separator",key:"separator-threads"},{label:m?k.t("Copy link to message"):k.t("Copy link"),show:b.copy_link&&!g,click:o,dataQa:"copy_link"},{label:k.t("Mark unread"),show:b.mark_unread&&!n&&!Object(f["isArchived"])(r),click:s,dataQa:"mark_unread"},{type:"submenu",label:k.t("Remind me about this"),show:b.remind_me&&!g,renderSubmenu:this.renderRemindSubmenu},{label:Object(_["a"])(a,Object(f["getDisplayName"])(r),Object(f["getChannelType"])(r)),show:b.pin_msg||b.unpin_msg,click:c,dataQa:"pin_message"},{type:"separator",key:"separator-admin"},{label:k.t("Edit message"),show:b.edit_msg,click:l,dataQa:"edit_message"},{label:k.t("Delete message"),danger:true,show:b.delete_msg&&!b.remove_broadcast,click:u,dataQa:"delete_message"},{label:Object(f["isPublicChannel"])(r)||Object(f["isPrivateChannel"])(r)?k.t("Remove from channel"):k.t("Remove from conversation"),show:b.remove_broadcast,click:p,dataQa:"remove_broadcast"}]}},{key:"getThreadItem",value:function e(){var t=this.props,r=t.isSubscribed,n=t.replyCount,a=t.threadsEverythingPref,i=t.onSubscribe,o=t.featureThreadsCopyChange;if("loading"===r)return{label:k.t("Loading \u2026"),description:"\xa0",show:true};var s=void 0;var c=void 0;var l=void 0;if(r)if(n){s=k.t("Unfollow thread");l=o?k.t("This will be removed from Threads"):k.t("This will be removed from All Threads");c=a?k.t("You won\u2019t be notified about new replies"):l}else{s=k.t("Unfollow message");l=o?k.t("Replies will be excluded from Threads"):k.t("Replies will be excluded from All Threads");c=a?k.t("You won\u2019t be notified about replies"):l}else if(n){s=k.t("Follow thread");l=o?k.t("New replies will appear in Threads"):k.t("New replies will appear in All Threads");c=a?k.t("You\u2019ll be notified about new replies"):l}else{s=k.t("Follow message");l=o?k.t("Any replies will show up in Threads"):k.t("Any replies will show up in All Threads");c=a?k.t("You\u2019ll be notified about any replies"):l}return{label:s,description:c,show:true,click:i,dataQa:"follow_message"}}},{key:"renderRemindSubmenu",value:function e(t){return a.a.createElement(m["e"],g({},t,{width:"auto"}),a.a.createElement(m["b"],{label:k.t("in 20 minutes"),onSelected:this.props.onRemind("in 20 minutes")}),a.a.createElement(m["b"],{label:k.t("in 1 hour"),onSelected:this.props.onRemind("in 1 hour")}),a.a.createElement(m["b"],{label:k.t("in 3 hours"),onSelected:this.props.onRemind("in 3 hours")}),a.a.createElement(m["b"],{label:k.t("Tomorrow"),onSelected:this.props.onRemind("tomorrow")}),a.a.createElement(m["b"],{label:k.t("Next Week"),onSelected:this.props.onRemind("next week")}))}},{key:"render",value:function e(){var t=this.getItems().filter(function(e){return e.show||"separator"===e.type});return a.a.createElement(b["a"],g({},this.props,{template:t,stripTerminalSeparators:true}))}}]);return t}(n["PureComponent"]);S.displayName="MessageActionsMenu";S.propTypes=w;S.defaultProps=C;var T=function e(t,r){return{message:Object(u["getMessageByTimestamp"])(t,r.channel.id,r.ts),featureReactMessages:Object(p["isFeatureEnabled"])(t,"feature_react_messages"),featureFileThreads:Object(p["isFeatureEnabled"])(t,"feature_file_threads"),featureThreadsCopyChange:Object(p["isFeatureEnabled"])(t,"feature_threads_copy_change")}};t["a"]=Object(s["connect"])(T)(S)},18618:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(9);var u=r(16949);var p=r(16913);var f=r(16930);var d=r(16923);var v=r(16922);var h=r(16919);var m=r(17120);var b=r(17837);var _=r(17835);var g=r(18049);var y=r(16920);var O=r(16947);var E=r(16918);var j=r(16917);var k=r(17095);var w=r(16912);var C=r(17182);var S=r(16965);var T=r(16958);var I=r(17052);var N=r(16953);var A=r(17096);var P=r(17022);var R=r(17594);var M=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function x(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function F(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var B=60;var U=1e3;var H=new w["b"]("message");var q={ts:o.a.string.isRequired,text:o.a.string.isRequired,saveMessageEdit:o.a.func,channelId:o.a.string,isSelfIm:o.a.bool,setDidRequestToStopEditing:o.a.func,updateEditState:o.a.func,stopEditingMessage:o.a.func,updateHasUnsavedChanges:o.a.func,subtype:o.a.string,threadTs:o.a.string,file:O["a"].File(),isEphemeral:o.a.bool,userId:o.a.string,initialEditText:o.a.string,didRequestToStopEditing:o.a.bool,editWindowMin:o.a.number,isAdminUser:o.a.bool,useJumbomoji:o.a.bool,featureMessageInputByteLimit:o.a.bool.isRequired,messageContainerType:o.a.string,openModal:o.a.func};var G={saveMessageEdit:a.a.noop,channelId:null,isSelfIm:false,setDidRequestToStopEditing:a.a.noop,updateEditState:a.a.noop,stopEditingMessage:a.a.noop,updateHasUnsavedChanges:a.a.noop,subtype:null,threadTs:null,file:null,isEphemeral:false,userId:null,initialEditText:null,didRequestToStopEditing:false,editWindowMin:-1,isAdminUser:false,useJumbomoji:false,messageContainerType:void 0,openModal:a.a.noop};var W="message_pane_edit_input";function V(e){Object(A["a"])({e:e,input_to_fill:"#"+W,offset_y:-8})}var K=function(e){F(t,e);function t(e){L(this,t);var r=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.setTextyRef=r.setTextyRef.bind(r);r.maybeSave=r.maybeSave.bind(r);r.onTimerInterval=r.onTimerInterval.bind(r);r.renderTimeoutErrorDialog=r.renderTimeoutErrorDialog.bind(r);r.renderLengthErrorDialog=r.renderLengthErrorDialog.bind(r);r.renderUnknownErrorDialog=r.renderUnknownErrorDialog.bind(r);r.stopEditingMessage=r.stopEditingMessage.bind(r);r.handleSaveEditError=r.handleSaveEditError.bind(r);r.onEnter=r.onEnter.bind(r);r.onTextChange=r.onTextChange.bind(r);r.texty=null;r.syncEditStateOnUnmount=true;r.editWindowTimeout=null;r.componentDidUnmount=false;r.searchOptions={complete_member_specials:!(r.props.messageContainerType===T["MESSAGE_CONTAINERS"].THREADS_FLEXPANE)};r.textyModules={tabcomplete:{searchOptions:r.searchOptions,positionMenu:function e(t){t.style.width=r.texty.container.offsetWidth+"px";Object(C["a"])(t,r.texty.container)},completers:["channels","emoji","members"]}};r.state={editSecondsRemaining:r.countRemainingSeconds(),numCharsOverLimit:r.countCharsOverLimit()};return r}M(t,[{key:"componentDidMount",value:function e(){var t=this.props,r=t.isSelfIm,n=t.editWindowMin;n>=0&&!r&&(this.editWindowTimeout=setInterval(this.onTimerInterval,U))}},{key:"componentWillReceiveProps",value:function e(t){t.didRequestToStopEditing&&!this.hasUnsavedChanges()&&this.stopEditingMessage()}},{key:"componentWillUpdate",value:function e(t,r){var n=r.editSecondsRemaining;n<=0&&clearInterval(this.editWindowTimeout)}},{key:"componentWillUnmount",value:function e(){var t=this.props,r=t.channelId,n=t.ts;if(this.syncEditStateOnUnmount){var a=this.texty.value();var i=this.hasUnsavedChanges();this.props.updateEditState({channelId:r,ts:n,editText:a,hasUnsavedChanges:i})}this.editWindowTimeout&&clearInterval(this.editWindowTimeout);this.componentDidUnmount=true}},{key:"onEnter",value:function e(){this.maybeSave();return false}},{key:"onTextChange",value:function e(){var t=this.props,r=t.didRequestToStopEditing,n=t.channelId,a=t.ts;var i=this.state.numCharsOverLimit;var o=this.countCharsOverLimit();(o>0||i>0)&&this.setState(function(){return{numCharsOverLimit:o}});this.props.updateHasUnsavedChanges({channelId:n,ts:a,hasUnsavedChanges:this.hasUnsavedChanges()});r&&!this.hasUnsavedChanges()&&this.props.setDidRequestToStopEditing(x({},n,x({},a,false)))}},{key:"onTimerInterval",value:function e(){var t=this;this.setState(function(){return{editSecondsRemaining:t.countRemainingSeconds()}})}},{key:"setTextyRef",value:function e(t){this.texty=t&&t.getWrappedInstance?t.getWrappedInstance():t}},{key:"getEditText",value:function e(){var t=this.props,r=t.initialEditText,n=t.text;if(this.texty)return Object(P["j"])(this.texty.value(),this.searchOptions);if(a.a.isString(r))return r;return n}},{key:"countRemainingSeconds",value:function e(){var t=this.props,r=t.isSelfIm,n=t.editWindowMin,a=t.ts;if(n<0||r)return null;var i=Object(I["g"])(a);var o=60*n*1e3;var s=i.getTime()+o;return Math.round((s-Date.now())/1e3)}},{key:"countCharsOverLimit",value:function e(){var t=this.getEditText();if(this.props.featureMessageInputByteLimit)return Object(S["a"])(t,T["MAX_MESSAGE_INPUT_BYTES"]);return Math.max(0,t.length-T["MAX_MESSAGE_INPUT_LENGTH"])}},{key:"hasUnsavedChanges",value:function e(){var t=this.props,r=t.initialEditText,n=t.text;if(this.texty)return this.texty.value()!==n;return a.a.isString(r)&&n!==r}},{key:"startDelete",value:function e(){var t=this.props,r=t.channelId,n=t.text,a=t.file,i=t.isEphemeral,o=t.subtype,s=t.threadTs,l=t.ts,u=t.userId,p=t.messageContainerType;var f={file:a,is_ephemeral:i,subtype:o,thread_ts:s,ts:l,user:u};var d=Object(S["f"])(f,null,p);if(d){var v=d.delete_msg;var h=d.remove_broadcast;if(h||v){h?this.props.openModal({element:c.a.createElement(b["a"],{channelId:r,ts:l})}):this.props.openModal({element:c.a.createElement(_["a"],{channelId:r,ts:l})});return}}var m=n.replace(/~/g,"");var g="~"+m+"~";this.props.saveMessageEdit({channelId:r,text:g,ts:l}).catch(this.handleSaveEditError)}},{key:"maybeSave",value:function e(){var t=this.props,r=t.channelId,n=t.text,i=t.ts;var o=this.state,s=o.editSecondsRemaining,c=o.numCharsOverLimit;if(c>0)return false;if(a.a.isNumber(s)&&s<=0)return false;var l=this.getEditText();if(l===n){this.stopEditingMessage();return false}if(this.texty.isEmpty({doIgnoreWhitespace:true})){this.startDelete();return false}this.props.saveMessageEdit({channelId:r,text:Object(N["a"])(l),ts:i}).catch(this.handleSaveEditError);return true}},{key:"handleSaveEditError",value:function e(t){var r=t.message;switch(r){case"edit_window_closed":this.renderTimeoutErrorDialog();break;case"msg_too_long":this.renderLengthErrorDialog();break;default:this.renderUnknownErrorDialog()}}},{key:"stopEditingMessage",value:function e(){var t=this.props,r=t.channelId,n=t.ts;this.syncEditStateOnUnmount=false;this.props.stopEditingMessage({channelId:r,ts:n})}},{key:"shouldShowLengthWarning",value:function e(){var t=this.state.numCharsOverLimit;return t>0}},{key:"shouldShowTimeoutWarning",value:function e(){var t=this.state.editSecondsRemaining;return a.a.isNumber(t)&&t<B}},{key:"shouldShowUnsavedWarning",value:function e(){var t=this.props.didRequestToStopEditing;return t&&this.hasUnsavedChanges()}},{key:"isSavingDisabled",value:function e(){var t=this.state.editSecondsRemaining;var r=a.a.isNumber(t)&&t<=0;return r||this.shouldShowLengthWarning()}},{key:"renderTimeoutErrorDialog",value:function e(){var t=this.props,r=t.editWindowMin,n=t.isAdminUser;var a=Object(I["j"])(r,{units:"minutes"});var i=H.t("Message editing failed");var o=H.rt("Sorry, but messages can only be edited for {duration} after posting.",{duration:c.a.createElement("b",null,a)});var s=void 0;n&&(s=H.rt("(To adjust the message editing window, visit <a>Workspace Settings</a>)",null,function(e){var t=e.text;return c.a.createElement("a",{href:"/admin/settings#message_editing",target:"_new"},t)}));this.props.openModal({element:c.a.createElement(R["a"],{title:i},c.a.createElement("p",null,o),s)})}},{key:"renderUnknownErrorDialog",value:function e(){var t=H.t("Message editing failed");var r=H.t("Sorry, something went wrong with editing your message. Try again in a moment.");this.props.openModal({element:c.a.createElement(R["a"],{title:t},r)})}},{key:"renderLengthErrorDialog",value:function e(){var t=H.t("Message editing failed");var r=H.t("Sorry, your message is too long. Please shorten it and try again.");this.props.openModal({element:c.a.createElement(R["a"],{title:t},r)})}},{key:"renderLengthWarning",value:function e(){var t=this.state.numCharsOverLimit;var r=void 0;r=this.props.featureMessageInputByteLimit?H.t("Your message is {diffCount, plural, =1{# character}other{# characters}} too long",{diffCount:t}):H.t("text is too long!");return c.a.createElement("span",{className:"c-message__editor__warning","data-js":"length_warning"},r)}},{key:"renderTimeoutWarning",value:function e(){var t=this.state.editSecondsRemaining;var r=void 0;t<=0?r=H.t("(your time to edit ran out)"):t<=B&&(r=H.rt("(you have <b>{seconds, number}</b> {seconds, plural, =1{second}other{seconds}})",{seconds:t}));return c.a.createElement("span",{className:"c-message__editor__warning","data-js":"timeout_warning"},r)}},{key:"renderUnsavedWarning",value:function e(){var t=H.rt("Finish editing this message first! Or press <b>escape</b> if you\u2018ve changed your mind.");return c.a.createElement("span",{className:"c-message__editor__info","data-js":"unsaved_warning"},t)}},{key:"renderWarningMessages",value:function e(){var t=this.shouldShowUnsavedWarning()&&this.renderUnsavedWarning();var r=this.shouldShowTimeoutWarning()&&this.renderTimeoutWarning();var n=this.shouldShowLengthWarning()&&this.renderLengthWarning();if(!t&&!r&&!n)return null;return c.a.createElement("div",{className:"c-message__editor__messages"},t,r,n)}},{key:"render",value:function e(){var t=this.props,r=t.initialEditText,n=t.text,i=t.useJumbomoji;var o=a.a.isString(r)?r:n;var s=Object(N["e"])(o,null,{for_edit:true});var l=H.t("Edit message");return c.a.createElement("div",{className:"c-message__editor"},c.a.createElement("div",{className:"c-message__editor__input_container"},c.a.createElement(k["g"],{id:W,ref:this.setTextyRef,className:"c-message__editor__input",modules:this.textyModules,ariaLabel:l,placeholder:l,initialText:s,onEnter:this.onEnter,onEscape:this.stopEditingMessage,onTextChange:this.onTextChange,enableJumbomoji:i,focusOnMount:true,useLegacyCreate:true}),c.a.createElement(E["c"],{onClick:V,className:"c-message__editor__emoji_menu","aria-label":"Emoji menu"},c.a.createElement(j["a"],{className:"c-message__editor__emoji_circle_icon",type:"circle-fill"}),c.a.createElement(j["a"],{className:"c-message__editor__emoji_smile_icon",type:"smile-o"}),c.a.createElement(j["a"],{className:"c-message__editor__emoji_happy_icon",type:"happy-smile"}))),c.a.createElement("div",{className:"c-message__editor__footer"},c.a.createElement(E["d"],{type:"outline",size:"small",onClick:this.stopEditingMessage},H.t("Cancel")),c.a.createElement(E["d"],{size:"small",className:"c-message__editor__save",onClick:this.maybeSave,disabled:this.isSavingDisabled()},c.a.createElement(j["a"],{type:"enter",className:"margin_right_50"}),H.t("Save Changes")),this.renderWarningMessages()))}}]);return t}(s["PureComponent"]);K.displayName="BaseEditMessage";K.propTypes=q;K.defaultProps=G;function z(e,t){var r=t.ts,n=t.channelId;var a=Object(f["getMessageByTimestamp"])(e,n,r);if(!a)return{featureMessageInputByteLimit:Object(p["isFeatureEnabled"])(e,"feature_message_input_byte_limit")};var i=Object(d["getChannelById"])(e,n);var o=Object(v["getTeamPref"])(e,"msg_edit_window_mins");var s=Object(h["getCurrentMember"])(e);var c=Object(v["getUserPref"])(e,"jumbomoji");var l=Object(m["getMessageEditData"])(e,{channelId:n,ts:r}),u=l.editText,b=l.didRequestToStopEditing;return{channelId:i.id,isSelfIm:Object(y["isYou"])(s.id,i),file:a.file,isEphemeral:a.is_ephemeral,subtype:a.subtype,text:a.text||"",threadTs:a.thread_ts,userId:a.user,ts:r,editWindowMin:o,isAdminUser:s.is_admin,initialEditText:u,didRequestToStopEditing:b,featureMessageInputByteLimit:Object(p["isFeatureEnabled"])(e,"feature_message_input_byte_limit"),useJumbomoji:c}}var Q={saveMessageEdit:g["a"],setDidRequestToStopEditing:m["setDidRequestToStopEditing"],updateEditState:m["updateEditState"],stopEditingMessage:m["stopEditingMessage"],updateHasUnsavedChanges:m["updateHasUnsavedChanges"],openModal:u["openModal"]};var Y=Object(l["connect"])(z,Q)(K);Y.propTypes={ts:o.a.string.isRequired,channelId:o.a.string.isRequired};t["a"]=Y},18619:function(e,t,r){"use strict";t["a"]=s;var n=r(16929);var a=1.75;var i=10;function o(e,t){var r=e.channelId,s=e.ts,c=e.text;var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;Object(n["c"])("chat.update",{channel:r,text:c,ts:s,_attempts:l,_delay_ms:u}).then(function(){t()}).catch(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.args,l=e.data,u=void 0===l?{}:l;"message_not_found"===u.error&&n._attempts<i?o({channelId:r,ts:s,text:c},t,n._attempts,n._delay_ms*a):t(new Error(u.error||"unknown_error"))})}function s(e){return new Promise(function(t,r){o(e,function(e){e?r(e):t()})})}},18621:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16913);var p=r(18622);var f=r(16922);var d=r(17311);var v=r(16932);var h=r(16933);var m=r(16912);var b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=new m["b"]("string_format");var E={buttonSidebarTheme:a.a.object,currentSidebarTheme:a.a.object,featureSidebarThemeUndo:a.a.bool,onThemeInstall:a.a.func,clogLinkClick:a.a.func};var j={buttonSidebarTheme:null,currentSidebarTheme:null,featureSidebarThemeUndo:null,onThemeInstall:c["noop"],clogLinkClick:c["noop"]};var k=function(e){y(t,e);function t(e){_(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onClick=r.onClick.bind(r);r.onUndoClick=r.onUndoClick.bind(r);r.state={showUndoButton:false,previousSidebarTheme:null};return r}b(t,[{key:"componentWillReceiveProps",value:function e(t){var r=this.state.showUndoButton;var n=this.props,a=n.buttonSidebarTheme,i=n.featureSidebarThemeUndo;var o=t.currentSidebarTheme;if(!i)return;if(r&&Object(c["isEqual"])(a,o))return;this.setState(function(){return{showUndoButton:false}})}},{key:"onClick",value:function e(){var t=this.props,r=t.onThemeInstall,n=t.clogLinkClick,a=t.currentSidebarTheme,i=t.buttonSidebarTheme,o=t.featureSidebarThemeUndo;if(o){if(this.matchesCurrentTheme())return;this.setState(function(){return{previousSidebarTheme:a,showUndoButton:true}})}r(i);n()}},{key:"onUndoClick",value:function e(){var t=this.props,r=t.clogLinkClick,n=t.onThemeInstall,a=t.featureSidebarThemeUndo;var i=this.state.previousSidebarTheme;if(!a)return;this.setState(function(){return{previousSidebarTheme:null,showUndoButton:false}});n(i);r()}},{key:"shouldShowUndoButton",value:function e(){var t=this.props,r=t.currentSidebarTheme,n=t.featureSidebarThemeUndo;var a=this.state,i=a.showUndoButton,o=a.previousSidebarTheme;return n&&i&&o&&!Object(c["isEqual"])(o,r)}},{key:"matchesCurrentTheme",value:function e(){var t=this.props,r=t.currentSidebarTheme,n=t.buttonSidebarTheme;return Object(c["isEqual"])(r,n)}},{key:"renderSwitchSidebarThemeButton",value:function e(){var t=this.props,r=t.featureSidebarThemeUndo,n=t.buttonSidebarTheme;return o.a.createElement(d["a"],{"data-qa-theme":Object(c["values"])(n).join(),onClick:this.onClick,text:O.t("Switch sidebar theme"),isDisabled:r&&this.matchesCurrentTheme()})}},{key:"renderMatchesCurrentSidebarButton",value:function e(){var t=this.props.featureSidebarThemeUndo;if(!t)return null;return o.a.createElement(v["c"],{tip:O.t("This is your current sidebar theme")},o.a.createElement("span",null,this.renderSwitchSidebarThemeButton()))}},{key:"render",value:function e(){var t=this.props,r=t.featureSidebarThemeUndo,n=t.buttonSidebarTheme;if(!n){Object(h["d"])("Error getting formatted sidebar theme colors. Not rendering attachment button.");return null}if(r){if(this.shouldShowUndoButton())return o.a.createElement(d["a"],{onClick:this.onUndoClick,text:O.t("Undo")});if(this.matchesCurrentTheme())return this.renderMatchesCurrentSidebarButton()}return this.renderSwitchSidebarThemeButton()}}]);return t}(i["PureComponent"]);k.displayName="ThemeInstallButton";k.propTypes=E;k.defaultProps=j;function w(e){if(!Object(c["isArray"])(e)||8!==e.length)return null;return{column_bg:e[0],menu_bg:e[1],active_item:e[2],active_item_text:e[3],hover_item:e[4],text_color:e[5],active_presence:e[6],badge:e[7]}}function C(e,t){var r=t.colors;var n=null;try{n=JSON.parse(Object(f["getUserPref"])(e,"sidebar_theme_custom_values"))}catch(e){Object(h["d"])("Error parsing sidebar_theme_custom_values for sidebar theme button: "+e)}return{featureSidebarThemeUndo:Object(u["isFeatureEnabled"])(e,"feature_sidebar_theme_undo"),buttonSidebarTheme:w(r),currentSidebarTheme:n}}var S={onThemeInstall:p["a"]};t["a"]=Object(s["connect"])(C,S)(k)},18622:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16915);var c=r(16922);var l=r(17279);var u=r(17207);var p=r(18623);var f=Object(s["e"])("Install a custom theme",function(e,t,r){if(!a.a.isObject(r)||8!==Object.keys(r).length)return;Object(p["a"])("custom_theme");var n={sidebar_theme:"custom_theme",sidebar_theme_custom_values:JSON.stringify(r)};Object(l["a"])(n);e(Object(c["setMultipleUserPrefs"])(n));Object(u["a"])()});f.propTypes=o.a.object.isRequired;t["a"]=f},18623:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.sidebar_themes.setLastThemeSelectedInUI",function(){return null})},18624:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(17059);var c=r(16912);var l=r(17092);var u=r(16917);var p=r(16918);var f=r(18625);var d=r(17139);var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=new c["b"]("message");var g=function e(){return Object(l["c"])("stars")};var y={pinned:"thumb-tack-filled",starred:"star",custom_response:"pencil",sli_highlight:"sparkles-filled",ephemeral:"eye-filled"};var O={isPinned:a.a.bool,isStarred:a.a.bool,isEphemeral:a.a.bool,isCustomResponse:a.a.bool,isSliHighlight:a.a.bool,isSelfIm:a.a.bool,isSlackbotIm:a.a.bool,primaryType:a.a.oneOf(["ephemeral","custom_response","pinned","starred","sli_highlight"]),sliHighlight:a.a.shape({loading:a.a.bool,isHighlight:a.a.bool,feedbackOptions:a.a.object,justification:a.a.string,feedback:a.a.string}),isHovered:a.a.bool,channelId:a.a.string,ts:a.a.string,currentUserId:a.a.string,pinnedByMemberId:a.a.string};var E={isPinned:false,isStarred:false,isEphemeral:false,isCustomResponse:false,isSliHighlight:false,isSelfIm:false,isSlackbotIm:false,primaryType:void 0,sliHighlight:void 0,isHovered:false,channelId:void 0,ts:void 0,currentUserId:void 0,pinnedByMemberId:void 0};var j=function(e){b(t,e);function t(e){h(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.renderStarButton=r.renderStarButton.bind(r);return r}v(t,[{key:"getPinnedText",value:function e(){var t=this.props,r=t.currentUserId,n=t.pinnedByMemberId;if(n){if(n===r)return _.t("Pinned by you");return _.rt("Pinned by {member}",{member:o.a.createElement(d["a"],{id:n,className:"c-message__label_link"})})}return _.t("Pinned")}},{key:"getStarredText",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.long,n=void 0!==r&&r;if(n)return _.rt("<star>Added to your starred items</star>",null,this.renderStarButton);return _.rt("<star>starred</star>",null,this.renderStarButton)}},{key:"getLabelText",value:function e(){var t=this.props,r=t.isPinned,n=t.isStarred,a=t.isEphemeral,i=t.isCustomResponse,o=t.isSliHighlight,s=t.isSelfIm,c=t.isSlackbotIm;if(a){if(!s&&!c)return _.t("Only visible to you");return null}if(i){if(r&&n)return _.rt("{pinned} \u2219 {starred} \u2219 Custom response",{pinned:this.getPinnedText(),starred:this.getStarredText()});if(n)return _.rt("{starred} \u2219 Custom response",{starred:this.getStarredText({long:true})});if(r)return _.rt("{pinned} \u2219 Custom response",{pinned:this.getPinnedText()});return _.t("Custom response")}if(o){if(r&&n)return _.rt("{pinned} \u2219 {starred} \u2219 {highlight}",{highlight:this.renderHighlight(),pinned:this.getPinnedText(),starred:this.getStarredText()});if(n)return _.rt("{starred} \u2219 {highlight}",{highlight:this.renderHighlight(),starred:this.getStarredText({long:true})});if(r)return _.rt("{pinned} \u2219 {highlight}",{highlight:this.renderHighlight(),pinned:this.getPinnedText()});return _.rt("{highlight}",{highlight:this.renderHighlight()})}if(r&&n)return _.rt("{pinned} \u2219 {starred}",{pinned:this.getPinnedText(),starred:this.getStarredText()});if(r)return this.getPinnedText();if(n)return this.getStarredText({long:true});return null}},{key:"renderHighlight",value:function e(){var t=this.props,r=t.sliHighlight,n=t.channelId,a=t.ts,i=t.isHovered;if(!Object(s["shouldShowHighlightsLabel"])(r))return null;return o.a.createElement(f["a"],{channelId:n,ts:a,isHovered:i,sliHighlight:r})}},{key:"renderStarButton",value:function e(t){var r=t.text;return o.a.createElement(p["c"],{onClick:g,className:"c-message__label_button"},r)}},{key:"render",value:function e(){var t=this.props.primaryType;var r=this.getLabelText();if(!r)return null;var n=y[t];return o.a.createElement("div",{className:"c-message__label"},o.a.createElement("div",{className:"c-message__label__gutter"},n&&o.a.createElement(u["b"],{type:n,className:"c-message__label__icon",size:"inherit",inline:true})),o.a.createElement("div",{className:"c-message__label__text"},r))}}]);return t}(i["PureComponent"]);j.displayName="MessageLabel";j.propTypes=O;j.defaultProps=E;t["a"]=j},18625:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(8);var l=r.n(c);var u=r(1);var p=r.n(u);var f=r(17059);var d=r(16932);var v=r(16912);var h=r(16917);var m=r(16918);var b=r(16938);var _=r(16950);var g=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j=new v["b"]("message");var k={channelId:a.a.string.isRequired,ts:a.a.string.isRequired,isHovered:a.a.bool,sliHighlight:a.a.shape({loading:a.a.bool,isHighlight:a.a.bool,feedbackOptions:a.a.object,justification:a.a.string,feedback:a.a.string}),onSliHighlightsDefaultFeedback:a.a.func,onSliHighlightsSecondaryFeedbackOption:a.a.func};var w={isHovered:false,justification:null,sliHighlight:null,onSliHighlightsDefaultFeedback:p.a.noop,onSliHighlightsSecondaryFeedbackOption:p.a.noop};var C=function(e){E(t,e);function t(e){y(this,t);var r=O(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onSliHighlightsFeedbackDefaultPositive=r.onSliHighlightsFeedbackDefaultPositive.bind(r);r.onSliHighlightsFeedbackDefaultNegative=r.onSliHighlightsFeedbackDefaultNegative.bind(r);r.renderNegativeFeedbackMenu=r.renderNegativeFeedbackMenu.bind(r);return r}g(t,[{key:"onSliHighlightsFeedbackDefaultPositive",value:function e(){if(this.props.sliHighlight.feedback)return;this.props.onSliHighlightsDefaultFeedback(true)}},{key:"onSliHighlightsFeedbackDefaultNegative",value:function e(){if(this.props.sliHighlight.feedback)return;this.props.onSliHighlightsDefaultFeedback(false)}},{key:"renderPositiveHighlightLabel",value:function e(){return o.a.createElement("span",null,o.a.createElement("span",{className:"c-message__label__highlight_title"},j.t("Highlight")),(this.props.sliHighlight.justification||this.props.isHovered)&&" \u2014 ",this.renderFeedbackControls())}},{key:"renderFeedbackControls",value:function e(){var t=this.props,r=t.isHovered,n=t.sliHighlight;var a="default_positive"===n.feedback;if(r){var i=l()({"c-message__label__highlight_positive":true,"c-message__label__highlight_positive--active":a});var s=l()({"c-message__label__highlight_negative":true,"c-message__label__highlight_negative--inactive":a});return o.a.createElement("span",null,j.t("Is this helpful?"),o.a.createElement(d["c"],{tip:a?j.t("Thank you!"):j.t("This was helpful")},o.a.createElement(m["c"],{className:i,onClick:this.onSliHighlightsFeedbackDefaultPositive},o.a.createElement(h["b"],{type:"thumbs-up",size:"inherit",inline:true}))),o.a.createElement(d["c"],{tip:j.t("This wasn\u2019t helpful")},o.a.createElement(m["c"],{className:s,onClick:this.onSliHighlightsFeedbackDefaultNegative},o.a.createElement(h["b"],{type:"thumbs-down",size:"inherit",inline:true}))))}return o.a.createElement(b["a"],{text:this.props.sliHighlight.justification})}},{key:"renderNegativeHighlightLabel",value:function e(){return o.a.createElement("span",null,o.a.createElement("strong",null,j.t("What\u2019s not working about this highlight?"))," ",j.t("Let us know, and we\u2019ll adjust."),"\xa0",o.a.createElement(_["d"],{renderMenu:this.renderNegativeFeedbackMenu,position:"right",offsetX:0,offsetY:0},o.a.createElement(m["c"],{className:"c-message__label__feedback_dropdown btn_unstyle sk_fill_blue"},j.t("Give Feedback")," ",o.a.createElement(h["b"],{type:"chevron-down",inline:true}))))}},{key:"renderNegativeFeedbackMenu",value:function e(t){var r=this;var n=this.props.sliHighlight.feedbackOptions;if(p.a.isEmpty(n))return null;return o.a.createElement(_["e"],t,p.a.map(n.negative,function(e){return o.a.createElement(_["b"],{key:e.args.ts,label:o.a.createElement(b["a"],{text:e.text,noLinking:true,showTooltips:false}),onSelected:function t(){return r.props.onSliHighlightsSecondaryFeedbackOption(e.args)}})}))}},{key:"render",value:function e(){var t=this.props.sliHighlight;if(!t.feedback||"default_positive"===t.feedback)return this.renderPositiveHighlightLabel();return this.renderNegativeHighlightLabel()}}]);return t}(i["PureComponent"]);C.displayName="SliHighlightsMessageLabel";C.propTypes=k;C.defaultProps=w;function S(e,t){var r=t.channelId,n=t.ts,a=t.sliHighlight;return{onSliHighlightsDefaultFeedback:function t(i){return e(Object(f["setFeedbackForHighlight"])({channelId:r,ts:n,feedback:i?"default_positive":"default_negative",leftFeedback:i,args:a.feedbackOptions[i?"default_positive":"default_negative"].args,requestId:a.requestId}))},onSliHighlightsSecondaryFeedbackOption:function t(i){return e(Object(f["setFeedbackForHighlight"])({channelId:r,ts:n,feedback:"negative",leftFeedback:true,args:i,requestId:a.requestId}))}}}t["a"]=Object(s["connect"])(null,S)(C)},18626:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16926);var c=r(17837);var l=r(16949);var u=Object(s["b"])("Remove message broadcast",function(e,t,r){var n=a.a.createElement(c["a"],r);Promise.resolve().then(function(){return e(Object(l["openModal"])({element:n}))})});u.propTypes={channelId:o.a.string.isRequired,ts:o.a.string.isRequired};t["a"]=u},18627:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(16926);var o=r(17647);var s=r(18048);var c=r(16913);var l=r(16968);var u=r(16930);var p=r(16940);var f=Object(i["b"])("Copy link to message",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.channelId,a=r.ts;var i=t();var f=Object(l["e"])(i,n);var d=Object(u["getMessageByTimestamp"])(i,n,a);var v=Object(c["isFeatureEnabled"])(i,"feature_file_threads");var h=Object(p["getFileIdFromMessage"])(d,v);h&&Object(p["isFileComment"])(d)?Object(o["a"])(h,false,false,f,true):Object(s["a"])(a,f)});f.propTypes={channelId:a.a.string.isRequired,ts:a.a.string.isRequired};t["a"]=f},18628:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(17736);var o=r(17082);var s=r(16915);var c=r(16913);var l=r(16930);var u=r(16940);var p=r(17020);var f=r(16912);var d=new f["b"]("message");var v={ts:a.a.string.isRequired,channelId:a.a.string.isRequired};var h=Object(s["d"])(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.ts,n=t.channelId;var a=Object(l["getMessageByTimestamp"])(e,n,r);if(!a)return null;var s=Object(c["isFeatureEnabled"])(e,"feature_file_threads");if(!Object(u["canAddReaction"])(a,s))return null;return{id:o["a"].addReaction,name:d.t("Add reaction"),iconType:"add-reaction","data-qa":"add_reaction_menu_item",frecencyId:Object(p["f"])("add_reaction"),uiElement:i["h"].ADD_REACTION_BUTTON}});h.propTypes=v;t["a"]=h},18629:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(17736);var o=r(17082);var s=r(16915);var c=r(16913);var l=r(16946);var u=r(16930);var p=r(16940);var f=r(16912);var d=r(17020);var v=new f["b"]("message");var h={ts:a.a.string.isRequired,channelId:a.a.string.isRequired};var m=Object(s["d"])(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.ts,n=t.channelId;var a=Object(u["getMessageByTimestamp"])(e,n,r);if(!a)return null;var s=Object(c["isFeatureEnabled"])(e,"feature_file_threads");var f=s?null:a.file;if(Object(l["isFileAuthorExternal"])(e,f))return null;if(!Object(p["canReplyOrComment"])(a,s))return null;var h=v.t("Start a thread");var m=i["h"].START_A_THREAD_BUTTON;if(f&&!s)h=v.t("Add comment",{fallbackHash:"17279ab497dcbdcde85b46254a98e8017a95cebe"});else if(Object(p["isThreadBroadcast"])(a)||Object(p["getReplyCount"])(a)){h=v.t("Reply to thread");m=i["h"].REPLY_TO_THREAD_BUTTON}return{id:o["a"].comment,name:h,iconType:"comment-alt","data-qa":"start_thread_menu",frecencyId:Object(d["f"])("thread_reply"),uiElement:m}});m.propTypes=h;t["a"]=m},18630:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(17736);var o=r(17082);var s=r(16915);var c=r(16913);var l=r(16968);var u=r(16930);var p=r(16940);var f=r(16912);var d=r(17020);var v=new f["b"]("message");var h={ts:a.a.string.isRequired,channelId:a.a.string.isRequired};var m=Object(s["d"])(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.ts,n=t.channelId;var a=Object(u["getMessageByTimestamp"])(e,n,r);if(!a)return null;var s=Object(l["e"])(e,n);var f=Object(c["isFeatureEnabled"])(e,"feature_file_threads");if(!Object(p["canCopyLink"])(a,s,f))return null;return{id:o["a"].copyLink,name:v.t("Copy link"),iconType:"link","data-qa":"copy_link",frecencyId:Object(d["f"])("copy_link"),uiElement:i["h"].COPY_LINK_BUTTON}});m.propTypes=h;t["a"]=m},18631:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(17736);var o=r(17082);var s=r(16915);var c=r(16968);var l=r(16930);var u=r(16940);var p=r(17020);var f=r(16912);var d=new f["b"]("message");var v={ts:a.a.string.isRequired,channelId:a.a.string.isRequired};var h=Object(s["d"])(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.ts,n=t.channelId,a=t.messageContainerType;var s=Object(l["getMessageByTimestamp"])(e,n,r);if(!s)return null;var f=Object(c["e"])(e,n);if(!Object(u["canDeleteMessage"])(s,f,a))return null;return{id:o["a"].deleteMessage,name:d.t("Delete message"),iconType:"trash",danger:true,"data-qa":"delete_message",frecencyId:Object(p["f"])("delete"),uiElement:i["h"].DELETE_MESSAGE_BUTTON}});h.propTypes=v;t["a"]=h},18632:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(17736);var o=r(17082);var s=r(16915);var c=r(16968);var l=r(16930);var u=r(16922);var p=r(16913);var f=r(16940);var d=r(17020);var v=r(16912);var h=new v["b"]("message");var m={ts:a.a.string.isRequired,channelId:a.a.string.isRequired};var b=Object(s["d"])(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.ts,n=t.channelId;var a=Object(l["getMessageByTimestamp"])(e,n,r);if(!a)return null;var s=Object(c["e"])(e,n);var v=Object(p["getCurrentUserId"])(e);var m=Object(u["getTeamPref"])(e,"msg_edit_window_mins");if(!Object(f["canEditMessage"])(v,a,s,m))return null;return{id:o["a"].editMessage,name:h.t("Edit message"),iconType:"pencil","data-qa":"edit_message",frecencyId:Object(d["f"])("edit"),uiElement:i["h"].EDIT_MESSAGE_BUTTON}});b.propTypes=m;t["a"]=b},18633:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(17736);var o=r(17082);var s=r(16915);var c=r(16923);var l=r(16930);var u=r(16940);var p=r(17020);var f=r(16912);var d=new f["b"]("message");var v=new f["b"]("messages_action_items");var h={ts:a.a.string.isRequired,channelId:a.a.string.isRequired,allUnreads:a.a.string.isRequired};var m=Object(s["d"])(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.ts,n=t.channelId,a=t.allUnreads;var s=Object(l["getMessageByTimestamp"])(e,n,r);if(!s)return null;var f=Object(c["getChannelById"])(e,n);if(!Object(u["canMarkUnread"])(s,f))return null;return{id:o["a"].markUnread,name:a?v.t("Mark above as read"):d.t("Mark unread"),iconType:"mark-unread","data-qa":"mark_unread",frecencyId:Object(p["f"])("mark_unread"),uiElement:i["h"].MARK_UNREAD_BUTTON}});m.propTypes=h;t["a"]=m},18634:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(17736);var o=r(17082);var s=r(16915);var c=r(17074);var l=r(16923);var u=r(16930);var p=r(16920);var f=r(16940);var d=r(17648);var v=r(17020);var h={ts:a.a.string.isRequired,channelId:a.a.string.isRequired};var m=Object(s["d"])(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.ts,n=t.channelId;var a=Object(u["getMessageByTimestamp"])(e,n,r);if(!a)return null;var s=Object(l["getChannelById"])(e,n);if(!Object(f["canPin"])(a,s))return null;var h=Object(c["b"])(a,s);var m=Object(p["getDisplayName"])(s);var b=Object(p["getChannelType"])(s);var _=h?i["h"].PIN_TO_THIS_CONVERSATION_BUTTON:i["h"].UNPIN_FROM_THIS_CONVERSATION_BUTTON;return{id:o["a"].pin,name:Object(d["a"])(h,m,b),iconType:"thumb-tack","data-qa":"pin_message",frecencyId:Object(v["f"])(h?"unpin":"pin"),uiElement:_}});m.propTypes=h;t["a"]=m},18635:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(3);var s=r.n(o);var c=r(16950);var l=r(17136);var u=r(17736);var p=r(16941);var f=r(18636);var d=r(16923);var v=r(16913);var h=r(16930);var m=r(16915);var b=r(16940);var _=r(16912);var g=r(17020);var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var O=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function E(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=new _["b"]("message");var S={ts:s.a.string.isRequired,channelId:s.a.string.isRequired,time:s.a.string.isRequired,remind:s.a.func.isRequired};var T=function(e){w(t,e);function t(e){j(this,t);var r=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onSelected=r.onSelected.bind(r);return r}O(t,[{key:"onSelected",value:function e(){var t=this.props,r=t.remind,n=t.ts,a=t.channelId,i=t.time;r({ts:n,channelId:a,time:i});Object(p["b"])(u["b"].MSG_ACTION,{contexts:{ui_context:{action:u["g"].CLICK,step:u["i"].MORE_ACTIONS_MENU,ui_element:u["h"].REMIND_ME_BUTTON}}})}},{key:"render",value:function e(){var t=this.props,r=t.remind,n=t.ts,i=t.channelId,o=t.time,s=E(t,["remind","ts","channelId","time"]);return a.a.createElement(c["b"],y({},s,{onSelected:this.onSelected}))}}]);return t}(n["PureComponent"]);T.displayName="RemindMenuItem";T.propTypes=S;var I={remind:f["a"]};var N=Object(i["connect"])(null,I)(T);var A=Object(c["g"])(N);var P={ts:s.a.string.isRequired,channelId:s.a.string.isRequired,renderLegacySubmenu:s.a.bool};var R={renderLegacySubmenu:true};var M=function(e){w(t,e);function t(e){j(this,t);var r=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.renderSubmenu=r.renderSubmenu.bind(r);return r}O(t,[{key:"renderSubmenu",value:function e(t){var r=this.props,n=r.channelId,i=r.ts;var o={channelId:n,ts:i};return a.a.createElement(c["e"],y({},t,{width:"auto"}),a.a.createElement(A,y({},o,{label:C.t("in 20 minutes"),time:"in 20 minutes"})),a.a.createElement(A,y({},o,{label:C.t("in 1 hour"),time:"in 1 hour"})),a.a.createElement(A,y({},o,{label:C.t("in 3 hours"),time:"in 3 hours"})),a.a.createElement(A,y({},o,{label:C.t("Tomorrow"),time:"Tomorrow"})),a.a.createElement(A,y({},o,{label:C.t("Next Week"),time:"Next Week"})))}},{key:"render",value:function e(){var t=this.props,r=t.channelId,n=t.ts,i=E(t,["channelId","ts"]);return a.a.createElement(l["a"],y({},i,{renderSubmenu:this.renderSubmenu}))}}]);return t}(n["PureComponent"]);M.displayName="Remind";M.propTypes=P;M.defaultProps=R;var x=Object(l["c"])(M);var L=Object(m["d"])(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.ts,n=t.channelId;var i=Object(h["getMessageByTimestamp"])(e,n,r);if(!i)return null;var o=Object(d["getChannelById"])(e,n);var s=Object(v["isFeatureEnabled"])(e,"feature_file_threads");var c=Object(v["isFeatureEnabled"])(e,"feature_app_actions_fe");if(!Object(b["canAddReminder"])(i,o,s))return null;return a.a.createElement(x,{key:"remind_submenu",label:C.t("Remind me about this"),"data-qa":"remind_me",renderLegacySubmenu:c,frecencyId:Object(g["f"])("remind"),ts:r,channelId:n})});L.propTypes={ts:s.a.string.isRequired,channelId:s.a.string.isRequired};t["a"]=L},18636:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(16926);var o=r(18047);var s=r(16930);var c=r(16940);var l=Object(i["b"])("Add a reminder for a message",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.time,a=r.channelId,i=r.ts;var l=Object(s["getMessageByTimestamp"])(t(),a,i);return Object(o["a"])({time:n,message_channel:a,message_ts:i,respond_in_channel:Object(c["reminderShouldRespondInChannel"])(l)})});l.propTypes={channelId:a.a.string.isRequired,ts:a.a.string.isRequired,time:a.a.string.isRequired};t["a"]=l},18637:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(17736);var o=r(17082);var s=r(16915);var c=r(16968);var l=r(16930);var u=r(16920);var p=r(16940);var f=r(17020);var d=r(16912);var v=new d["b"]("message");var h={ts:a.a.string.isRequired,channelId:a.a.string.isRequired};var m=Object(s["d"])(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.ts,n=t.channelId,a=t.messageContainerType;var s=Object(l["getMessageByTimestamp"])(e,n,r);if(!s)return null;var d=Object(c["e"])(e,n);if(!Object(p["canRemoveBroadcast"])(s,d,a))return null;var h=Object(u["isPublicChannel"])(d)||Object(u["isPrivateChannel"])(d)?v.t("Remove from channel"):v.t("Remove from conversation");return{id:o["a"].removeBroadcast,name:h,iconType:"times","data-qa":"remove_broadcast",frecencyId:Object(f["f"])("remove"),uiElement:i["h"].REMOVE_FROM_CONVERSATION_BUTTON}});m.propTypes=h;t["a"]=m},18638:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(17736);var o=r(17082);var s=r(16915);var c=r(16913);var l=r(16930);var u=r(16940);var p=r(17020);var f=r(16912);var d=new f["b"]("message");var v={ts:a.a.string.isRequired,channelId:a.a.string.isRequired};var h=Object(s["d"])(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.ts,n=t.channelId;var a=Object(c["isFeatureEnabled"])(e,"feature_file_threads");var s=Object(l["getMessageByTimestamp"])(e,n,r);if(!s)return null;if(!Object(u["canBeShared"])(s,a))return null;var f=Object(u["isShareableFileMsg"])(s)?d.t("Share file \u2026",{fallbackHash:"9056b6c934805611f8d5a90ad5c937b656be6641"}):d.t("Share message \u2026",{fallbackHash:"587f9ecd03b16e92d064f4fbbfd4ba7e76e29807"});return{id:o["a"].shareMessage,name:f,iconType:"share-action","data-qa":"share_message_menu",frecencyId:Object(p["f"])("share"),uiElement:i["h"].SHARE_MESSAGE_BUTTON}});h.propTypes=v;t["a"]=h},18639:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(17736);var o=r(17082);var s=r(16915);var c=r(1);var l=r.n(c);var u=r(16913);var p=r(16946);var f=r(16930);var d=r(16940);var v=r(17020);var h=r(16912);var m=new h["b"]("message");var b={ts:a.a.string.isRequired,channelId:a.a.string.isRequired};var _=Object(s["d"])(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.ts,n=t.channelId;var a=Object(f["getMessageByTimestamp"])(e,n,r);if(!a)return null;if(!Object(d["canStar"])(a))return null;var s=Object(u["isFeatureEnabled"])(e,"feature_file_threads");var l=Object(d["getFileIdFromMessage"])(a,s);var h=Object(d["isStarred"])(a);var b=h?m.t("Unstar message"):m.t("Star message");if(Object(d["isFileComment"])(a)){var _=l||Object(c["first"])(a.files);var g=a.comment&&Object(p["getFileCommentById"])(e,_,a.comment.id);g&&(b=h?m.t("Unstar file comment"):m.t("Star file comment"))}else if(l){h=Object(d["isStarred"])(a,Object(p["getFileById"])(e,l),null);b=h?m.t("Unstar file"):m.t("Star file")}var y=h?i["h"].UNSTAR_MESSAGE_BUTTON:i["h"].STAR_MESSAGE_BUTTON;return{id:o["a"].star,name:b,iconType:h?"unstar-o":"star-o","data-qa":"star_message_menu",frecencyId:Object(v["f"])(h?"unstar":"star"),uiElement:y}});_.propTypes=b;t["a"]=_},18640:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(3);var s=r.n(o);var c=r(17736);var l=r(17082);var u=r(16915);var p=r(17733);var f=r(16922);var d=r(17324);var v=r(16913);var h=r(16923);var m=r(16930);var b=r(16940);var _=r(17020);var g=r(16912);var y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=new g["b"]("message");var w=function(e){j(t,e);function t(){O(this,t);return E(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}y(t,[{key:"componentDidMount",value:function e(){var t=this.props,r=t.ts,n=t.channelId;this.props.fetchThreadSubscriptionIfNeeded({ts:r,channelId:n})}},{key:"render",value:function e(){return this.props.name}}]);return t}(n["PureComponent"]);w.displayName="BaseSubscribeLabel";w.propTypes={ts:s.a.string.isRequired,channelId:s.a.string.isRequired,name:s.a.string.isRequired,fetchThreadSubscriptionIfNeeded:s.a.func.isRequired};var C={fetchThreadSubscriptionIfNeeded:p["fetchThreadSubscriptionIfNeeded"]};var S=Object(i["connect"])(null,C)(w);var T=Object(u["d"])(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.ts,n=t.channelId;var i=Object(m["getMessageByTimestamp"])(e,n,r);var o=Object(h["getChannelById"])(e,n);if(!Object(d["a"])(o,i))return null;var s=Object(p["getIsSubscribed"])(e,{ts:r,channelId:n});var u=Object(f["getUserPref"])(e,"threads_everything");var g=Object(b["getReplyCount"])(i);var y=k.t("Follow message");var O=k.t("You\u2019ll be notified about any replies");var E=c["h"].FOLLOW_MESSAGE_BUTTON;var j=Object(v["isFeatureEnabled"])(e,"feature_threads_copy_change");var w=void 0;var C=Object(p["getIsSubscriptionLoading"])(e,{ts:r,channelId:n});if(C){y=k.t("Loading \u2026");O=""}else if(s){if(g){y=k.t("Unfollow thread");w=j?k.t("This will be removed from Threads"):k.t("This will be removed from All Threads");O=u?k.t("You won\u2019t be notified about new replies"):w}else{y=k.t("Unfollow message");w=j?k.t("Replies will be excluded from Threads"):k.t("Replies will be excluded from All Threads");O=u?k.t("You won\u2019t be notified about replies"):w}E=c["h"].UNFOLLOW_MESSAGE_BUTTON}else if(g){y=k.t("Follow thread");w=j?k.t("New replies will appear in Threads"):k.t("New replies will appear in All Threads");O=u?k.t("You\u2019ll be notified about new replies"):w}else{y=k.t("Follow message");w=j?k.t("Any replies will show up in Threads"):k.t("Any replies will show up in All Threads");O=u?k.t("You\u2019ll be notified about any replies"):w}return{id:l["a"].subscribe,name:y,description:O,isLoading:C,label:a.a.createElement(S,{ts:r,channelId:n,name:y}),iconType:"message-notification","data-qa":"follow_message",frecencyId:Object(_["f"])(s?"thread_unfollow":"thread_follow"),uiElement:E}});T.propTypes={ts:s.a.string.isRequired,channelId:s.a.string.isRequired};t["a"]=T},18641:function(e,t,r){"use strict";t["a"]=o;var n=r(17736);var a=r(17020);var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function o(e){return i({id:e.id,appId:e.app.id,name:e.name,description:e.app.name,iconSet:e.app.icons,uiElement:n["h"].APP_ACTION_BUTTON,"data-qa":"app_action_"+e.id},Object(a["e"])(e))}},18642:function(e,t,r){"use strict";t["a"]=o;var n=r(1);var a=r.n(n);var i=r(17834);function o(e,t){if(!e)return false;var r=Object(i["a"])(e.name);if(!r)return false;var a=Object(i["a"])(e.description);var o=t.split(/\s+/);return Object(n["every"])(o,function(e){return Object(n["includes"])(r,e)||Object(n["includes"])(a,e)})}},18643:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(3);var l=r.n(c);var u=r(8);var p=r.n(u);var f=r(16923);var d=r(16930);var v=r(16922);var h=r(16920);var m=r(16940);var b=r(17831);var _=r(17001);var g=r(16938);var y=r(16985);var O=r(17832);var E=r(17399);var j=r(17705);var k=r(20241);var w=r.n(k);var C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var S=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function N(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A={ts:l.a.string.isRequired,channelId:l.a.string.isRequired,channel:l.a.object.isRequired,theme:l.a.string,hasAdHocSender:l.a.bool,userId:l.a.string,username:l.a.string,botId:l.a.string,text:l.a.string.isRequired,attachments:l.a.arrayOf(l.a.object)};var P={className:null,theme:"light",hasAdHocSender:false,userId:null,username:null,botId:null,fileIds:[],attachments:[],unfurlLinkCache:null};var R=function(e){N(t,e);function t(e){T(this,t);var r=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={gradient:false};r.renderAttachment=r.renderAttachment.bind(r);return r}S(t,[{key:"componentDidMount",value:function e(){this.maybeSetGradient()}},{key:"maybeSetGradient",value:function e(){var t=Object(i["findDOMNode"])(this);t&&t.scrollHeight>t.clientHeight&&this.setState(function(){return{gradient:true}})}},{key:"renderText",value:function e(){var t=this.props.text;return a.a.createElement(g["a"],{text:t})}},{key:"renderAvatar",value:function e(){var t=this.props,r=t.userId,n=t.hasAdHocSender,i=t.botId;return a.a.createElement(y["b"],{className:"p-app_actions_pillow__avatar",userId:r,isAdHocMember:n,botId:i,size:24,isInteractive:false,showCard:false,showTooltip:false,tabIndex:"-1"})}},{key:"renderTimestamp",value:function e(){var t=this.props.ts;return a.a.createElement(O["b"],{timestamp:t,relative:false,full:true})}},{key:"renderAttachment",value:function e(t,r){var n=this.props,i=n.ts,o=n.channelId;return a.a.createElement(E["a"],C({key:r},Object(_["b"])(t),{messageTs:i,activeChannelId:o,showDelete:false}))}},{key:"renderAttachments",value:function e(){var t=this.props.attachments;if(!t||!t.length)return null;return a.a.createElement("div",{className:"p-app_actions_pillow__attachments"},t.map(this.renderAttachment))}},{key:"renderGutter",value:function e(){if("light"===this.props.theme)return a.a.createElement("div",{className:"p-app_actions_pillow__gutter"},this.renderAvatar());return a.a.createElement("div",{className:"p-app_actions_pillow__gutter"},this.renderTimestamp())}},{key:"renderContentHeader",value:function e(){var t=this.props,r=t.userId,n=t.botId,i=t.username,o=t.theme,s=t.channel;return a.a.createElement("div",{className:"p-app_actions_pillow__content_header"},a.a.createElement(j["a"],{userId:r,botId:n,username:i,channelName:Object(h["getDisplayName"])(s),isInteractive:false}),"light"===o&&this.renderTimestamp())}},{key:"render",value:function e(){var t=this.props.theme;var r=p()("p-app_actions_pillow","p-app_actions_pillow--"+t,{"p-app_actions_pillow--gradient":this.state.gradient});return a.a.createElement("div",{className:r,role:"presentation","data-qa":"app_action_pillow"},this.renderGutter(),a.a.createElement("div",{className:"p-app_actions_pillow__content"},this.renderContentHeader(),a.a.createElement("div",{className:"p-app_actions_pillow__body",id:"p-app_actions_pillow__body"},this.renderText(),this.renderAttachments(),a.a.createElement("span",{className:"p-app_actions_pillow__blocker"}))))}}]);return t}(n["PureComponent"]);R.displayName="AppActionsPillow";R.propTypes=A;R.defaultProps=P;var M=function e(t,r){var n=r.ts,a=r.channelId;var i=Object(d["getMessageByTimestamp"])(t,a,n);var o=Object(f["getChannelById"])(t,a);var s=Object(m["getMessageMemberId"])(i);var c=Object(m["getMsgSenderEntity"])(t,i),l=c.botId,u=c.username;return{channel:o,userId:s,username:u,botId:l,theme:Object(v["getUserMessagesTheme"])(t),hasAdHocSender:Object(b["a"])(i),text:i.text,attachments:i.attachments}};t["a"]=Object(s["connect"])(M)(R)},18648:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18649);var a=r(16928);Object(a["a"])("interop.mountMessagePane",n["a"])},18649:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(16954);var s=r(16927);var c=r(18650);var l=function e(t,r){if(!t)throw new Error("mountMessagePane must be called with a teamId parameter");Object(o["a"])(a.a.createElement(i["Provider"],{store:Object(s["c"])(t)},a.a.createElement(c["a"],null)),r)};t["a"]=l},18650:function(e,t,r){"use strict";var n=r(18651);t["a"]=n["a"]},18651:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(9);var o=r(263);var s=r.n(o);var c=r(16967);var l=r(17057);var u=r(17123);var p=r(17059);var f=r(16992);var d=r(16923);var v=r(16930);var h=r(16922);var m=r(16913);var b=r(17165);var _=r(16980);var g=r(20618);var y=r(16940);var O=r(16920);var E=r(16971);var j=r(17012);var k=r(16925);var w=r(17055);var C=r(17957);var S=r(18592);var T=r(17958);var I=r(17120);var N=r(18652);var A=r(18068);var P=Object(o["createSelectorCreator"])(o["defaultMemoize"],j["a"]);var R=20;var M=P([f["getPotentiallyOutdatedTimestamps"],v["getMessagesByChannelId"],function(e,t,r){return r}],function(e,t,r){var n=e.timestamps,i=e.start,o=e.end,s=e.reachedStart,c=e.reachedEnd,l=e.prevReachedEnd;if(!c&&!l&&n&&n.length-a.a.sortedLastIndex(n,r)<R)return{messages:[],rollups:{},reachedStart:false,reachedEnd:false};var u=a()(n).map(function(e){return t[e]}).reject(y["isHidden"]).value();var p=Object(A["a"])(u),f=p.rollups,d=p.messages;return{messages:d,timestamps:a.a.map(d,function(e){return e.ts}),rollups:f,reachedStart:s,reachedEnd:c,prevReachedEnd:l,oldest:i,latest:o}});function x(e){var t=e.state,r=e.channelId,n=e.timestamps,i=e.rollups,o=e.lastReadTs;return a.a.find(n,function(e){var n=Object(v["getMessageByTimestamp"])(t,r,e);var s=Object(m["getCurrentUserId"])(t);if(!n)return false;if(i[e]){var c=a.a.values(i[e]);var l=a.a.map(c,"ts");var u=a.a.map(l,function(e){return Object(v["getMessageByTimestamp"])(t,r,e)});return a.a.some(u,function(e){return Object(y["isMessageUnread"])(e,o,s)})}return Object(y["isMessageUnread"])(n,o,s)})}var L=function e(t){var r=Object(g["getPrimaryView"])(t);var n=Object(d["getChannelById"])(t,r);var i=Object(m["isFeatureEnabled"])(t,"feature_react_messages");var o=Object(m["isFeatureEnabled"])(t,"feature_tinyspeck");var s=Object(m["isFeatureEnabled"])(t,"feature_m11n_metrics_responsiveness");var u=Object(m["isFeatureEnabled"])(t,"feature_modernize_banners");var p=Object(m["isFeatureEnabled"])(t,"feature_jump_to_unread_shortcut");var v=Object(m["isFeatureEnabled"])(t,"feature_lazy_channels");var y=Object(m["isFeatureEnabled"])(t,"feature_global_nav");var E=Object(m["getCurrentUserId"])(t);var j=Object(k["getTeamId"])(t);var N=Object(_["getEnterpriseId"])(t);var A=Object(c["getChannelSessionId"])(t);var P=Object(b["getChannelTriggers"])(t);var R=Object(c["getHasMessagePaneUnmounted"])(t);var L=Object(w["getWindowLastBlurEvent"])(t);var D=Object(w["getWindowLastFocusEvent"])(t);if(!n)return{featureReactMessages:i,featureTinyspeck:o,featureM11nMetricsResponsiveness:s,featureModernizeBanners:u,featureLazyChannels:v,currentUserId:E,teamId:j,enterpriseId:N,sessionId:A,msgTriggers:P,hasMessagePaneUnmounted:R,windowLastBlurEvent:L,windowLastFocusEvent:D};var F=Object(f["getLoading"])(t,r);var B=Object(f["getLoadingOlder"])(t,r);var U=Object(O["getLastReadTs"])(n);var H=false;var q=Object(c["getGhostLastRead"])(t);if(q&&q!==U){U=q;H=true}var G=Object(c["getMessagePaneStartTs"])(t);var W=Object(c["getMessagePaneStartTsOffset"])(t);var V=Object(c["getMessagePaneHighlightTs"])(t);var K=Object(c["getMessagePaneHighlightLazy"])(t);var z=Object(O["getUnreadCount"])(n);var Q=Object(f["getTimestampsByChannelId"])(t,r,U);var Y=Q&&Q.reachedEnd;var J=Object(c["getChannelSessionId"])(t);var X=Object(c["getPrevChannelSwitchTs"])(t);var Z=Object(h["getUserMessagesTheme"])(t);var $=M(t,r,G),ee=$.timestamps,te=$.rollups,re=$.reachedStart,ne=$.reachedEnd,ae=$.prevReachedEnd,ie=$.oldest,oe=$.latest;(Object(O["isPublicChannel"])(n)&&!Object(O["isMemberOfChannel"])(n)||Object(O["isArchived"])(n))&&(U=a.a.last(ee));var se=x({state:t,channelId:r,timestamps:ee,rollups:te,lastReadTs:U});var ce=Object(C["isScreenReaderEnabled"])(t);var le=function(){return function(e){var n=e.ts,a=e.previousMessageTs,i=e.rollup,o=e.hasFocus;var s=Object(I["getMessageEditData"])(t,{channelId:r,ts:n}),c=s.isEditing;if(c)return;if(!(ce||o))return;var l=Object(T["a"])(t,{ts:n,channelId:r,previousMessageTs:a,rollup:i});return Object(S["a"])(l)}}();return{channelId:r,type:Object(O["getChannelType"])(n),channelDisplayName:Object(O["getDisplayName"])(n),timestamps:ee,reachedStart:re,reachedEnd:ne,prevReachedEnd:ae,oldest:ie,latest:oe,lastReadTs:U,isGhostLastRead:H,unreadCount:z,unreadCountKnown:Y,startTs:G,startTsOffset:W,highlightTs:V,highlightLazy:K,rollups:te,isArchived:Object(O["isArchived"])(n),isLoading:F,isLoadingOlder:B,isLimited:Object(f["getIsLimited"])(t,r),isSlackbotIm:Object(O["isSlackbot"])(n),overlayVisible:Object(c["isOverlayVisible"])(t),channelSessionId:J,prevChannelSwitchTs:X,theme:Z,newxpOnboardingStep:Object(c["getNewxpOnboardingStep"])(t),firstUnreadTs:se,featureReactMessages:i,featureTinyspeck:o,featureM11nMetricsResponsiveness:s,featureModernizeBanners:u,featureJumpToUnreadShortcut:p,featureLazyChannels:v,featureGlobalNav:y,teamId:j,enterpriseId:N,sessionId:A,msgTriggers:P,hasMessagePaneUnmounted:R,windowLastBlurEvent:L,windowLastFocusEvent:D,currentUserId:E,badgeCount:Object(d["getBadgeCount"])(t,n),isShared:Object(O["isExternallySharedChannel"])(n),isOrgShared:Object(O["isOrgShared"])(n),isYou:Object(O["isYou"])(t,n),isMuted:Object(l["isChannelMutedById"])(t,r),hasUnreads:!!Object(O["getUnreadCount"])(n),hasDraft:Object(O["getHasDraft"])(n),makeMessageSummary:le,isScreenReaderEnabled:ce}};function D(e){return function(t,r){var n=Object(c["isUnreadLineVisible"])(r());if(n!==e){t(Object(E["info"])("CHECK-UNREADS","unreadLineVisible updated: "+n+" -> "+e));t(Object(c["setUnreadLineVisibility"])(e))}}}var F={fetchHistory:c["fetchHistory"],fetchSliHighlights:p["fetchSliHighlights"],setUnreadPoint:d["setUnreadPoint"],markMostRecentMsgRead:d["markMostRecentMsgRead"],setUnreadLineVisibility:D,clearHighlightTs:c["clearHighlightTs"],jumpToTimestamp:c["jumpToTimestamp"],saveScrollmark:c["maybeSaveScrollmark"],onMount:Object(m["ifFeatureEnabled"])("feature_app_actions_fe",u["ensureFresh"]),setMessagePaneHasUnmounted:c["setMessagePaneHasUnmounted"]};t["a"]=Object(i["connect"])(L,F)(N["a"])},18652:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(194);var f=r.n(p);var d=r(16947);var v=r(16971);var h=r(16927);var m=r(20405);var b=r(20411);var _=r(20410);var g=r(17736);var y=r(16958);var O=r(16933);var E=r(16969);var j=r(18053);var k=r(17078);var w=r(18668);var C=r(18004);var S=r(18676);var T=r(18677);var I=r(18678);var N=r(18679);var A=r(17839);var P=r(20187);var R=r.n(P);var M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var x=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function L(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function B(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var U={channelId:o.a.string,channelDisplayName:o.a.string,type:o.a.oneOf(["channel","private","im","mpim"]),theme:o.a.oneOf(["light","dense"]),timestamps:o.a.arrayOf(o.a.string),reachedStart:o.a.bool,reachedEnd:o.a.bool,prevReachedEnd:o.a.bool,oldest:o.a.string,latest:o.a.string,fetchHistory:o.a.func,fetchSliHighlights:o.a.func,onMount:o.a.func,lastReadTs:o.a.string,isGhostLastRead:o.a.bool,unreadCount:o.a.number,unreadCountKnown:o.a.bool,startTs:o.a.string,startTsOffset:o.a.number,highlightTs:o.a.string,highlightLazy:o.a.bool,rollups:o.a.objectOf(d["a"].Rollup()),isLoading:o.a.bool,isLoadingOlder:o.a.bool,setUnreadPoint:o.a.func,markMostRecentMsgRead:o.a.func,setUnreadLineVisibility:o.a.func,clearHighlightTs:o.a.func,jumpToTimestamp:o.a.func,saveScrollmark:o.a.func,isArchived:o.a.bool,isLimited:o.a.bool,isSlackbotIm:o.a.bool,overlayVisible:o.a.bool,channelSessionId:o.a.string,prevChannelSwitchTs:o.a.string,newxpOnboardingStep:o.a.string,firstUnreadTs:o.a.string,featureReactMessages:o.a.bool,featureTinyspeck:o.a.bool,featureM11nMetricsResponsiveness:o.a.bool,featureModernizeBanners:o.a.bool,featureJumpToUnreadShortcut:o.a.bool,featureLazyChannels:o.a.bool,featureGlobalNav:o.a.bool,teamId:o.a.string,enterpriseId:o.a.string,sessionId:o.a.string,msgTriggers:o.a.object,hasMessagePaneUnmounted:o.a.bool,setMessagePaneHasUnmounted:o.a.func,currentUserId:o.a.string,isShared:o.a.bool,isOrgShared:o.a.bool,isYou:o.a.bool,isMuted:o.a.bool,hasUnreads:o.a.bool,hasDraft:o.a.bool,badgeCount:o.a.number,screenReaderOverride:o.a.bool,windowLastBlurEvent:o.a.number,windowLastFocusEvent:o.a.number,makeMessageSummary:o.a.func,isScreenReaderEnabled:o.a.bool};var H={channelId:null,channelDisplayName:void 0,type:"channel",theme:"light",timestamps:[],reachedStart:false,reachedEnd:false,prevReachedEnd:false,oldest:void 0,latest:void 0,fetchHistory:a.a.noop,fetchSliHighlights:a.a.noop,onMount:a.a.noop,lastReadTs:void 0,isGhostLastRead:false,unreadCount:0,unreadCountKnown:false,startTs:null,startTsOffset:null,highlightTs:null,highlightLazy:void 0,rollups:null,isLoading:false,isLoadingOlder:false,setUnreadPoint:a.a.noop,markMostRecentMsgRead:a.a.noop,setUnreadLineVisibility:a.a.noop,clearHighlightTs:a.a.noop,jumpToTimestamp:a.a.noop,saveScrollmark:a.a.noop,isArchived:false,isLimited:false,isSlackbotIm:false,overlayVisible:false,channelSessionId:null,prevChannelSwitchTs:null,newxpOnboardingStep:null,firstUnreadTs:null,featureReactMessages:false,featureTinyspeck:false,featureM11nMetricsResponsiveness:false,featureModernizeBanners:false,featureJumpToUnreadShortcut:false,featureLazyChannels:false,featureGlobalNav:false,teamId:null,enterpriseId:null,sessionId:null,msgTriggers:null,hasMessagePaneUnmounted:false,setMessagePaneHasUnmounted:a.a.noop,currentUserId:null,isShared:false,isOrgShared:false,isYou:false,isMuted:false,hasUnreads:false,hasDraft:false,badgeCount:0,screenReaderOverride:void 0,windowLastBlurEvent:null,windowLastFocusEvent:null,makeMessageSummary:void 0,isScreenReaderEnabled:false};var q={FOCUS_WITHIN:2,CONTAINER_FOCUSED:1,NOT_FOCUSED:-1};var G=function(e){B(t,e);function t(e){D(this,t);var r=F(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.list=null;r.onFocusEnter=r.onFocusEnter.bind(r);r.onFocusWithin=r.onFocusWithin.bind(r);r.onFocusLeave=r.onFocusLeave.bind(r);r.onVisibleRowsChanged=r.onVisibleRowsChanged.bind(r);r.setListRef=r.setListRef.bind(r);r.shouldIgnoreScrollKeys=r.shouldIgnoreScrollKeys.bind(r);r.shouldIgnoreArrowKeys=r.shouldIgnoreArrowKeys.bind(r);r.requestHistory=r.requestHistory.bind(r);r.jumpToMostRecent=r.jumpToMostRecent.bind(r);r.jumpToUnread=r.jumpToUnread.bind(r);r.state={showingArchiveBanner:false,unreadPlacement:j["a"].VISIBLE,hasKeyboardFocus:q.NOT_FOCUSED,hasFocus:false};r.historyRequests={};r.prqMetrics={usableVisible:{}};r.sendSessionFrameStats=r.sendSessionFrameStats.bind(r);r.recordSessionFrameStats=r.recordSessionFrameStats.bind(r);return r}x(t,[{key:"componentDidMount",value:function e(){var t=this;this.props.onMount();var r=!!this.props.timestamps.length;var n=!!(this.props.unreadCount||this.props.unreadCountKnown);r&&n&&("channel"===this.props.type||"private"===this.props.type)&&this.props.fetchSliHighlights({channelId:this.props.channelId,timestamps:a.a.filter(this.props.timestamps,function(e){return e>t.props.lastReadTs}),lastReadTs:this.props.lastReadTs,prevChannelSwitchTs:this.props.prevChannelSwitchTs});this.recordAndTrackTimeToVisible();this.props.featureM11nMetricsResponsiveness&&(document.hasFocus()?this.recordSessionFrameStats():window.addEventListener("focus",this.recordSessionFrameStats))}},{key:"componentWillReceiveProps",value:function e(t){var r=this;var n=this.props.channelId;this.setState(function(e){var n=r.getUnreadLinePlacement();if(!t.isLoading&&!a.a.isEmpty(t.timestamps)){var i=false===t.reachedEnd&&!t.prevReachedEnd;if(i!==e.showingArchiveBanner)return M({},e,{unreadPlacement:n,showingArchiveBanner:i})}if(e.unreadPlacement!==n)return M({},e,{unreadPlacement:n});return e});if(n&&t.channelId!==n){var i=this.list&&this.list.getScrollmark();this.props.saveScrollmark({channelId:n,scrollmark:i});this.historyRequests={};this.recordAndTrackTimeToUsable(g["f"].ABANDONED)}var o=this.props.timestamps.length!==t.timestamps.length;var s=this.props.unreadCount!==t.unreadCount||this.props.unreadCountKnown!==t.unreadCountKnown;!t.channelId||!o&&!s||"channel"!==t.type&&"private"!==t.type||this.props.fetchSliHighlights({channelId:t.channelId,timestamps:a.a.filter(t.timestamps,function(e){return e>t.lastReadTs}),lastReadTs:t.lastReadTs,prevChannelSwitchTs:this.props.prevChannelSwitchTs})}},{key:"componentDidUpdate",value:function e(){if(this.list){var t=this.isUnreadLineVisible();this.props.setUnreadLineVisibility(t)}(true===this.props.reachedStart&&true===this.props.reachedEnd||this.props.timestamps.length>0)&&this.recordAndTrackTimeToUsable(g["f"].COMPLETED)}},{key:"componentWillUnmount",value:function e(){this.sendSessionFrameStats();window.removeEventListener("focus",this.recordSessionFrameStats);this.props.setMessagePaneHasUnmounted(true)}},{key:"onFocusEnter",value:function e(t){var r=t.target,n=t.currentTarget,a=t.relatedEvent;if(!Object(E["e"])())return;var i={hasFocus:true};var o=r===n;var s=o?q.CONTAINER_FOCUSED:q.FOCUS_WITHIN;var c=!a&&o;var l=a&&"keydown"===a.type;var u=l||c;this.setState(function(){return u?M({},i,{hasKeyboardFocus:s}):i})}},{key:"onFocusWithin",value:function e(t){var r=t.relatedEvent;if(!Object(E["e"])())return;if(r&&"mousedown"===r.type)return;this.setState(function(){return{hasKeyboardFocus:q.FOCUS_WITHIN}})}},{key:"onFocusLeave",value:function e(){this.setState(function(){return{hasFocus:false,hasKeyboardFocus:q.NOT_FOCUSED}})}},{key:"onVisibleRowsChanged",value:function e(){if(!this.list)return;var t=this.getUnreadLinePlacement();this.setState(function(){return{unreadPlacement:t}});var r=this.isUnreadLineVisible();this.props.setUnreadLineVisibility(r)}},{key:"getUnreadLinePlacement",value:function e(){if(1===this.props.unreadCount&&!this.props.unreadCountKnown||!this.list)return j["a"].VISIBLE;return this.list.getUnreadLinePlacement()}},{key:"setListRef",value:function e(t){this.list=t}},{key:"recordAndTrackTimeToVisible",value:function e(){if(this.props.hasMessagePaneUnmounted)return;if(0!==this.props.windowLastBlurEvent){this.prqMetrics.usableVisible={};return}var t=Object(m["e"])("prq_time_to_visible","navigationStart",null,{return_unprocessed:true}).unprocessed;this.prqMetrics.usableVisible=L({},this.props.channelId,t);Object(b["i"])(t,"APP_ICON",false,this.props.teamId,this.props.enterpriseId,this.props.sessionId,this.props.currentUserId,window.desktop,this.props.featureLazyChannels);this.props.setMessagePaneHasUnmounted(true)}},{key:"recordAndTrackTimeToUsable",value:function e(t){if(0===Object.keys(this.prqMetrics.usableVisible).length)return;if(0!==this.props.windowLastBlurEvent){this.prqMetrics.usableVisible={};return}var r=Object(m["e"])("prq_time_to_usable","navigationStart",null,{return_unprocessed:true}).unprocessed;Object(b["h"])(r,"APP_ICON",true,this.props.teamId,this.props.enterpriseId,this.props.sessionId,this.props.currentUserId,t,window.desktop,this.props.featureLazyChannels);this.prqMetrics.usableVisible={}}},{key:"recordSessionFrameStats",value:function e(){window.removeEventListener("focus",this.recordSessionFrameStats);window.addEventListener("blur",this.sendSessionFrameStats);window.addEventListener("beforeunload",this.sendSessionFrameStats);Object(b["d"])(this.props.teamId,this.props.enterpriseId,g["b"].PRQ_SESSION_FRAME_STATS)&&Object(_["g"])()}},{key:"sendSessionFrameStats",value:function e(){window.addEventListener("focus",this.recordSessionFrameStats);window.removeEventListener("blur",this.sendSessionFrameStats);window.removeEventListener("beforeunload",this.sendSessionFrameStats);if(!Object(_["e"])())return;Object(_["i"])();var t=Object(_["a"])();if(0===t.durationMs)return;Object(b["g"])(t.durationMs,t.histFrameRenderTime,t.histJankyWindows,this.props.teamId,this.props.enterpriseId,this.props.sessionId,this.props.currentUserId,window.desktop)}},{key:"shouldIgnoreScrollKeys",value:function e(t){var r=t.target;var n=r===document.body;var a=this.state.hasFocus;var i=Object(E["d"])();return!(n||a||i)}},{key:"shouldIgnoreArrowKeys",value:function e(t){var r=t.target;var n=document.querySelector(".client_channels_list_container");var a=document.getElementById("col_flex");var i=n&&n.contains(r);var o=a&&a.contains(r);return!Object(E["e"])()||o||i||!this.state.hasKeyboardFocus}},{key:"isUnreadLineVisible",value:function e(){var t=this.props,r=t.isGhostLastRead,n=t.unreadCount,a=t.reachedEnd,i=t.isLoading;if(i)return false;if(!r&&this.list.getUnreadLinePlacement()===j["a"].VISIBLE)return true;if(!n&&a&&this.list.isAtBottom())return true;return false}},{key:"componentDidCatch",value:function e(t){this.setState(function(){return{caughtError:true}});var r=t?t.message:"";var n=t?t.stack:"";Object(h["a"])(this.props.teamId,Object(v["error"])("MessagePane componentDidCatch: "+r));n&&Object(h["a"])(this.props.teamId,Object(v["error"])(n))}},{key:"requestHistory",value:function e(t){var r=t.oldest,n=t.latest;var a=this.props,i=a.channelId,o=a.type,s=a.reachedStart,c=a.reachedEnd;if(s&&c)return false;var l=r;var u=n;if(u&&s){if(!l)return false;u=null}if(l&&c){if(!u)return false;l=null}if(this.shouldPreventHistoryRequest({oldest:r,latest:n})){Object(O["d"])({channelId:i,latestTs:u,oldestTs:l},"message_pane_request_rate_limited");return false}var p="message-pane/requestHistory";var f=this.props.fetchHistory({channelId:i,type:o,oldest:l,latest:u,reason:p});f&&this.logHistoryRequest({oldest:l,latest:u});return f}},{key:"logHistoryRequest",value:function e(t){var r=t.oldest,n=t.latest,a=t.now,i=void 0===a?Date.now():a;var o=r+"_"+n;var s=this.historyRequests[o];if(!s){s={count:0,time:0};this.historyRequests[o]=s}if(i-1e4>s.time){s.count=1;s.time=i}else s.count+=1}},{key:"shouldPreventHistoryRequest",value:function e(t){var r=t.oldest,n=t.latest,a=t.now,i=void 0===a?Date.now():a;var o=this.historyRequests[r+"_"+n];if(!o)return false;if(o.count<=3)return false;if(o.time<i-1e4)return false;return true}},{key:"jumpToMostRecent",value:function e(){this.props.jumpToTimestamp({ts:null})}},{key:"jumpToUnread",value:function e(t){this.list.jumpToUnread(t)}},{key:"renderArchivesBanner",value:function e(){if(!this.state.showingArchiveBanner)return null;var t=this.props.timestamps;if(a.a.isEmpty(t))return null;return c.a.createElement(S["a"],{firstTimestamp:a.a.first(t),lastTimestamp:a.a.last(t),jumpToRecent:this.jumpToMostRecent})}},{key:"renderFocusOutline",value:function e(){if(this.state.hasKeyboardFocus===q.CONTAINER_FOCUSED)return c.a.createElement("div",{className:"sectionfocusindicator"});return null}},{key:"renderUnreadBanner",value:function e(){var t=this.props,r=t.unreadCount,n=t.unreadCountKnown,a=t.lastReadTs,i=t.channelId,o=t.isGhostLastRead,s=t.markMostRecentMsgRead,l=t.timestamps,u=t.reachedEnd,p=t.newxpOnboardingStep,f=t.overlayVisible,d=t.isArchived,v=t.featureJumpToUnreadShortcut;if(f)return null;if(p)return null;if(d)return null;var h=l.length&&u?l.filter(function(e){return e>a}).length:r;return c.a.createElement(I["a"],{channelId:i,hasUnreads:r>0,displayCount:h,known:n,since:a,ghost:o,unreadPlacement:this.state.unreadPlacement,jumpToUnread:this.jumpToUnread,markMostRecentMsgRead:s,featureJumpToUnreadShortcut:v})}},{key:"renderMessagePaneBannerContainer",value:function e(){var t=this.props,r=t.newxpOnboardingStep,n=t.overlayVisible;if(!this.props.featureModernizeBanners)return null;if(n)return null;if(r)return null;return c.a.createElement(w["a"],null)}},{key:"render",value:function e(){if(this.state.caughtError)return null;if(this.props.newxpOnboardingStep===A["a"].START)return c.a.createElement(A["b"],{step:this.props.newxpOnboardingStep});if(!this.props.channelId)return null;var t=f.a.msie||f.a.msedge;var r=!this.props.overlayVisible&&!t;var n=this.state.hasKeyboardFocus;var a=n!==q.NOT_FOCUSED;var i=u()("p-message_pane",{"p-message_pane--ie":t,"p-message_pane--global-nav":this.props.featureGlobalNav,focusablesection:a});var o=n===q.CONTAINER_FOCUSED?"-1":null;var s=this.props,l=s.type,p=s.channelDisplayName,d=s.isShared,v=s.isOrgShared,h=s.isYou,m=s.isMuted,b=s.hasUnreads,_=s.hasDraft,g=s.isArchived,O=s.unreadCount,E=s.badgeCount;var w=Object(C["a"])({type:l,displayName:p,isShared:d,isOrgShared:v,isYou:h,isMuted:m,hasUnreads:b,hasDraft:_,isArchived:g,unreadCount:O,badgeCount:E,isSelected:false,userActive:false,isTyping:false});return c.a.createElement(k["a"],{onFocusEnter:this.onFocusEnter,onFocusWithin:this.onFocusWithin,onFocusLeave:this.onFocusLeave},c.a.createElement("div",{className:i,tabIndex:o,"data-is-focusable-section":true},c.a.createElement("div",{className:"p-message_pane__top_banners"},c.a.createElement(N["a"],null),c.a.createElement(T["a"],null),this.renderUnreadBanner()),this.renderMessagePaneBannerContainer(),c.a.createElement(j["b"],{ref:this.setListRef,channelId:this.props.channelId,ariaLabel:w,timestamps:this.props.timestamps,startTs:this.props.startTs,startTsOffset:this.props.startTsOffset,hasKeyboardFocus:a,shouldIgnoreScrollKeys:this.shouldIgnoreScrollKeys,shouldIgnoreArrowKeys:this.shouldIgnoreArrowKeys,highlightTs:this.props.highlightTs,highlightLazy:this.props.highlightLazy,requestHistory:this.requestHistory,lastReadTs:this.props.lastReadTs,isGhostLastRead:this.props.isGhostLastRead,rollups:this.props.rollups,isLoading:this.props.isLoading,isLoadingOlder:this.props.isLoadingOlder,setUnreadPoint:this.props.setUnreadPoint,reachedStart:this.props.reachedStart,reachedEnd:this.props.reachedEnd,prevReachedEnd:this.props.prevReachedEnd,oldest:this.props.oldest,latest:this.props.latest,onVisibleRowsChanged:this.onVisibleRowsChanged,doneHighlighting:this.props.clearHighlightTs,channelType:this.props.type,isLimited:this.props.isLimited,isSlackbotIm:this.props.isSlackbotIm,useStickyDayDividers:r,theme:this.props.theme,channelSessionId:this.props.channelSessionId,firstUnreadTs:this.props.firstUnreadTs,messageContainerType:y["MESSAGE_CONTAINERS"].MESSAGE_PANE,featureReactMessages:this.props.featureReactMessages,featureTinyspeck:this.props.featureTinyspeck,featureJumpToUnreadShortcut:this.props.featureJumpToUnreadShortcut,teamId:this.props.teamId,enterpriseId:this.props.enterpriseId,sessionId:this.props.sessionId,msgTriggers:this.props.msgTriggers,windowLastFocusEvent:this.props.windowLastFocusEvent,currentUserId:this.props.currentUserId,screenReaderOverride:this.props.screenReaderOverride,jumpToTimestamp:this.props.jumpToTimestamp,makeMessageSummary:this.props.makeMessageSummary,isScreenReaderEnabled:this.props.isScreenReaderEnabled}),this.renderArchivesBanner(),this.renderFocusOutline()))}}]);return t}(s["PureComponent"]);G.displayName="MessagePane";G.propTypes=U;G.defaultProps=H;t["a"]=G},18653:function(e,t,r){"use strict";r.d(t,"a",function(){return X});var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(333);var u=r(8);var p=r.n(u);var f=r(16947);var d=r(20405);var v=r(20411);var h=r(16971);var m=r(16927);var b=r(17036);var _=r(17086);var g=r(17185);var y=r(16931);var O=r(18043);var E=r(18054);var j=r(18661);var k=r(18064);var w=r(18662);var C=r(18664);var S=r(17388);var T=r(18065);var I=r(16917);var N=r(17704);var A=r(16990);var P=r(18066);var R=r(18665);var M=r(18666);var x=r(20245);var L=r.n(x);var D=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function U(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var H=k["a"];var q=w["a"];var G={channelId:o.a.string,timestamps:o.a.arrayOf(o.a.string),requestHistory:o.a.func,lastReadTs:o.a.string,isGhostLastRead:o.a.bool,startTs:o.a.string,startTsOffset:o.a.number,highlightTs:o.a.string,rollups:o.a.objectOf(f["a"].Rollup()),setUnreadPoint:o.a.func,isLoading:o.a.bool,isLoadingOlder:o.a.bool,reachedStart:o.a.bool,reachedEnd:o.a.bool,prevReachedEnd:o.a.bool,oldest:o.a.string,latest:o.a.string,onScroll:o.a.func,onVisibleRowsChanged:o.a.func,doneHighlighting:o.a.func,isLimited:o.a.bool,isSlackbotIm:o.a.bool,useStickyDayDividers:o.a.bool,hasKeyboardFocus:o.a.bool,shouldIgnoreScrollKeys:o.a.func,shouldIgnoreArrowKeys:o.a.func,channelSessionId:o.a.string,theme:o.a.string,firstUnreadTs:o.a.string,featureReactMessages:o.a.bool,featureTinyspeck:o.a.bool,featureJumpToUnreadShortcut:o.a.bool,messageContainerType:o.a.string,ariaLabel:o.a.string.isRequired,teamId:o.a.string,enterpriseId:o.a.string,sessionId:o.a.string,msgTriggers:o.a.object,currentUserId:o.a.string,jumpToTimestamp:o.a.func,makeMessageSummary:o.a.func,isScreenReaderEnabled:o.a.bool,windowLastFocusEvent:o.a.number};var W={channelId:null,timestamps:[],requestHistory:a.a.noop,lastReadTs:void 0,isGhostLastRead:false,startTs:null,startTsOffset:null,highlightTs:null,rollups:null,setUnreadPoint:a.a.noop,isLoading:false,isLoadingOlder:false,reachedStart:false,reachedEnd:false,prevReachedEnd:false,oldest:void 0,latest:void 0,onScroll:a.a.noop,onVisibleRowsChanged:a.a.noop,doneHighlighting:a.a.noop,isLimited:false,isSlackbotIm:false,useStickyDayDividers:true,hasKeyboardFocus:false,shouldIgnoreScrollKeys:function e(){return false},shouldIgnoreArrowKeys:function e(){return false},channelSessionId:null,theme:"light",firstUnreadTs:null,featureReactMessages:false,featureTinyspeck:false,featureJumpToUnreadShortcut:false,messageContainerType:void 0,teamId:null,enterpriseId:null,sessionId:null,msgTriggers:null,currentUserId:null,jumpToTimestamp:a.a.noop,makeMessageSummary:void 0,isScreenReaderEnabled:false,windowLastFocusEvent:null};var V=80;var K=60;var z=21;var Q=64;var Y=120;var J="MESSAGE-LIST";var X={ABOVE:1,VISIBLE:2,BELOW:3};var Z=function(e){U(t,e);function t(e){F(this,t);var r=B(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));var n=$();r.state={degraded:n,isLoading:e.isLoading,isLoadingOlder:e.isLoadingOlder,isSelecting:false};r.DEFAULT_ROW_HEIGHT="light"===e.theme?V:K;r.STICKY_EPSILON=r.DEFAULT_ROW_HEIGHT/2;r.ANCHOR_OFFSET=n?Y:Q;r.heightCache=new S["a"]({DEFAULT_HEIGHT:r.DEFAULT_ROW_HEIGHT});r.layout=new C["a"]({heightCache:r.heightCache,stickToBottom:e.reachedEnd||e.prevReachedEnd,shouldExcludeFirstItemFromGravity:r.isFirstRowLimitedHistoryForeword.bind(r),STICKY_EPSILON:r.STICKY_EPSILON,STICKY_EPSILON_SETHEIGHT:2,ANCHOR_OFFSET:r.ANCHOR_OFFSET});r.keys=[];r.rows=[];r.visibleRows=[];r.unreadIndex=null;r.list=null;r.useAnchor=true;r.useScroll=false;r.width=0;r.hasRenderedOneMessage=false;r.requestAround=r.requestAround.bind(r);r.requestOlder=r.requestOlder.bind(r);r.requestNewer=r.requestNewer.bind(r);r.renderRow=r.renderRow.bind(r);r.setListRef=r.setListRef.bind(r);r.getAriaLabelForRow=r.getAriaLabelForRow.bind(r);r.onScroll=r.onScroll.bind(r);r.onListScrolled=r.onListScrolled.bind(r);r.debouncedOnListScrolled=Object(g["a"])(r.onListScrolled,150);r.shouldFocusNextItem=r.shouldFocusNextItem.bind(r);r.onSelectionChange=r.onSelectionChange.bind(r);r.onJumpToUnreadShortcut=r.onJumpToUnreadShortcut.bind(r);r.onPageUp=r.onPageUp.bind(r);r.onPageDown=r.onPageDown.bind(r);r.onHome=r.onHome.bind(r);r.onEnd=r.onEnd.bind(r);r.scrollToOffset=a.a.throttle(r.scrollToOffset.bind(r),200);r.unfurlLinkCache=new N["a"];r.messagesRendered={};r.loadingHistoriesSeen=0;r.loadingHistoriesSeenHighEnd=0;r.loadingHistoriesPerHowManyMessages=84;r.loadingHistoriesPerHowManyMessagesHighEnd=500;r.scrollMetricsGatheringEnabled=Object(_["a"])(1)||r.props.featureTinyspeck;if(r.scrollMetricsGatheringEnabled){r.debounceBatchMessagesSeen=a.a.debounce(function(){Object(d["g"])("modern_history_load_seen_per_84_messages",r.loadingHistoriesSeen,{allow_zero:true});r.loadingHistoriesSeen=0},1e3);r.debounceBatchMessagesSeenHighEnd=a.a.debounce(function(){Object(d["g"])("modern_history_load_seen_per_500_messages",r.loadingHistoriesSeenHighEnd,{allow_zero:true});r.loadingHistoriesSeenHighEnd=0},1e3)}r.debounceCountHistoryLoadSeen=a.a.debounce(function(){r.loadingHistoriesSeen+=1;r.loadingHistoriesSeenHighEnd+=1},1e3);r.prqMetrics={channelSwitch:{}};return r}D(t,[{key:"componentDidMount",value:function e(){this.trackFirstMessagePaint()}},{key:"componentDidUpdate",value:function e(t){this.trackFirstMessagePaint();if(this.useScroll&&this.list){this.list.scrollToKey(this.useScroll,{anim:true,lazy:this.lazyScroll});this.useScroll=false}this.layout.setStickToBottom(this.props.reachedEnd||this.props.prevReachedEnd);this.onListScrolled();this.maybeLogChannelSwitch(t)}},{key:"maybeLogChannelSwitch",value:function e(t){if(!navigator.onLine)return;if("undefined"===typeof this.props.msgTriggers[this.props.channelId]||this.props.windowLastFocusEvent!==this.props.msgTriggers[this.props.channelId].lastFocus){this.prqMetrics.channelSwitch={};return}if(t.channelId!==this.props.channelId)this.trackChannelSwitchWithoutSync(t.channelId);else if(this.prqMetrics.channelSwitch.duration&&this.prqMetrics.channelSwitch.nextChannelId===this.props.channelId&&false===t.isLoading&&true===this.props.isLoading&&true!==this.props.isLoadingOlder&&false===this.prqMetrics.channelSwitch.hasLoggedVisible&&false===this.prqMetrics.channelSwitch.hasLoggedUsable){var r=false;this.trackChannelSwitchWithSync(v["f"],r)}else if(this.prqMetrics.channelSwitch.duration&&this.prqMetrics.channelSwitch.nextChannelId===this.props.channelId&&true===t.isLoading&&false===this.props.isLoading&&true!==this.props.isLoadingOlder&&true===this.prqMetrics.channelSwitch.hasLoggedVisible){var n=true;this.trackChannelSwitchWithSync(v["e"],n)}}},{key:"trackChannelSwitchWithoutSync",value:function e(t){if(this.prqMetrics.channelSwitch.duration){Object(v["e"])(this.prqMetrics.channelSwitch.duration,this.props.msgTriggers[this.prqMetrics.channelSwitch.nextChannelId].trigger,this.prqMetrics.channelSwitch.nextChannelId,this.prqMetrics.channelSwitch.fetchHistoryState,this.props.teamId,this.props.enterpriseId,this.props.sessionId,this.props.currentUserId,window.desktop);Object(v["f"])(this.prqMetrics.channelSwitch.duration,this.props.msgTriggers[this.prqMetrics.channelSwitch.nextChannelId].trigger,this.prqMetrics.channelSwitch.nextChannelId,this.prqMetrics.channelSwitch.fetchHistoryState,this.props.teamId,this.props.enterpriseId,this.props.sessionId,this.props.currentUserId,window.desktop)}var r="start_channel_change_"+this.props.channelId;var n=Object(d["e"])("channel_change_react_msgs",r,null,{return_unprocessed:true}).unprocessed;this.prqMetrics.channelSwitch={duration:n,prevChannelId:t,nextChannelId:this.props.channelId,fetchHistoryState:v["c"],hasLoggedVisible:false,hasLoggedUsable:false}}},{key:"trackChannelSwitchWithSync",value:function e(t,r){var n="start_channel_change_"+this.prqMetrics.channelSwitch.nextChannelId;t(Object(d["e"])("channel_change_not_stored",n,null,{ephemeral:true,return_unprocessed:true}).unprocessed,this.props.msgTriggers[this.prqMetrics.channelSwitch.nextChannelId].trigger,this.prqMetrics.channelSwitch.nextChannelId,v["a"],this.props.teamId,this.props.enterpriseId,this.props.sessionId,this.props.currentUserId,window.desktop);if(r){this.prqMetrics.channelSwitch={};this.prqMetrics.channelSwitch.hasLoggedUsable=true}else this.prqMetrics.channelSwitch.hasLoggedVisible=true}},{key:"trackFirstMessagePaint",value:function e(){if(!window.performance||!performance.timing)return;if(this.props.timestamps.length>0&&false===this.hasRenderedOneMessage){this.hasRenderedOneMessage=true;Object(m["a"])(this.props.teamId,Object(h["info"])("BOOT-TIMING","First meaningful paint: "+(Date.now()-window.performance.timing.fetchStart)+"ms"))}}},{key:"getTimestampForStartTs",value:function e(){var t=this.props,r=t.startTs,n=t.timestamps;if(!n.length)return false;if(!r)return null;return a.a.find(n,function(e){return e>=r})}},{key:"setListRef",value:function e(t){this.list=t}},{key:"jumpToUnread",value:function e(t){var r=this.props,n=r.lastReadTs,i=r.jumpToTimestamp,o=r.isScreenReaderEnabled,s=r.hasKeyboardFocus;var c=t&&"keydown"===t.type&&(o||s);var l=a.a.isNumber(this.unreadIndex)&&this.keys[this.unreadIndex];if(c){this.focusFirstUnreadMsgAfterUpdate=true;if(l){this.forceUpdate();return}i({ts:n});return}if(l){this.list.scrollToKey(l,{anim:true});return}i({ts:n})}},{key:"isAtBottom",value:function e(){if(!this.list)return false;var t=this.list.getScrollTop();var r=this.layout.getTotalHeight();var n=this.height;return t+n>=Math.floor(r)-this.STICKY_EPSILON}},{key:"getUnreadLinePlacement",value:function e(){if("number"!==typeof this.unreadIndex)return X.ABOVE;if(!this.list)return X.ABOVE;var t=this.list.getVisibleRange(),r=t.start,n=t.end;if(this.unreadIndex<r)return X.ABOVE;if(this.unreadIndex<n)return X.VISIBLE;return X.BELOW}},{key:"getVisibleRows",value:function e(){if(!this.list)return[];var t=this.list.getVisibleRange(),r=t.start,n=t.end;var a=this.rows.slice(r,n);return a}},{key:"getScrollmark",value:function e(){if(!this.list||!this.layout)return null;var t=this.list.getScrollTop();if(this.layout.shouldStickToBottom(t))return null;var r=this.layout.findAnchor(this.props.timestamps,this.props.timestamps,t+this.ANCHOR_OFFSET);var n=this.layout.getTop(r)-t;return{mark:r,offset:n}}},{key:"onScroll",value:function e(){this.useAnchor=false;this.layout.setAnchor(false);this.debouncedOnListScrolled();this.props.onScroll()}},{key:"onSelectionChange",value:function e(t){if(!this.node)return;this.setState(function(){return{isSelecting:t}})}},{key:"shouldFocusNextItem",value:function e(t){var r=this.rows[t.index];return"message"===r.type}},{key:"onListScrolled",value:function e(){var t=this.getVisibleRows();if(a.a.isEqual(t,this.visibleRows))return;this.visibleRows=t;this.props.onVisibleRowsChanged(t)}},{key:"onPageUp",value:function e(){this.scrollToOffset(this.list.getScrollTop()-(this.height-z),{animate:true})}},{key:"onPageDown",value:function e(){this.scrollToOffset(this.list.getScrollTop()+(this.height-z),{animate:true})}},{key:"onHome",value:function e(){this.scrollToOffset(0,{absolute:true})}},{key:"onEnd",value:function e(){this.props.reachedEnd?this.scrollToOffset(Infinity,{absolute:true}):this.props.jumpToTimestamp({ts:null})}},{key:"onJumpToUnreadShortcut",value:function e(t){if(!this.props.featureJumpToUnreadShortcut)return;if(!A["a"])return;this.jumpToUnread(t)}},{key:"scrollToOffset",value:function e(){var t;if(!this.list)return;(t=this.list).scrollToOffset.apply(t,arguments)}},{key:"shouldShowLimitedHistoryAlert",value:function e(){var t=this.props,r=t.isLimited,n=t.isSlackbotIm;return r&&n}},{key:"shouldShowLimitedHistoryForeword",value:function e(){var t=this.props,r=t.isLimited,n=t.isSlackbotIm;return r&&!n}},{key:"isFirstRowLimitedHistoryForeword",value:function e(){if(!this.shouldShowLimitedHistoryForeword())return false;var t=a.a.first(this.rows);return t&&"foreword"===t.type}},{key:"requestAround",value:function e(){var t=this;if(this.state.isLoading)return false;if(this.props.reachedEnd)return this.requestOlder();if(this.props.reachedStart)return this.requestNewer();Object(m["a"])(this.props.teamId,Object(h["info"])(J,"requestAround channelId: "+this.props.channelId+" isLoading: "+this.state.isLoading+" timestamps: "+a.a.size(this.props.timestamps)+" reachedStart: "+this.props.reachedStart+" reachedEnd: "+this.props.reachedEnd));var r=this.props,n=r.oldest,i=r.latest,o=r.timestamps,s=r.startTs;if(a.a.isEmpty(o)&&!s)return this.props.requestHistory({});var c=n||o&&a.a.first(o)||s;var l=i||o&&a.a.last(o)||s;var u=this.props.requestHistory({latest:c,oldest:l});if(u){this.prqMetrics.channelSwitch.fetchHistoryState!==v["a"]&&(this.prqMetrics.channelSwitch.fetchHistoryState=v["b"]);u.then(function(){t.prqMetrics.channelSwitch.fetchHistoryState=v["a"]});this.setState(function(){return{isLoading:true,isLoadingOlder:false}})}return u}},{key:"requestOlder",value:function e(){var t=this;if(this.state.isLoading)return false;var r=this.props,n=r.oldest,i=r.timestamps,o=r.startTs;var s=n||i&&a.a.first(i)||o;var c=this.props.requestHistory({latest:s});if(c){this.prqMetrics.channelSwitch.fetchHistoryState!==v["a"]&&(this.prqMetrics.channelSwitch.fetchHistoryState=v["b"]);c.then(function(){t.prqMetrics.channelSwitch.fetchHistoryState=v["a"]});this.setState(function(){return{isLoading:true,isLoadingOlder:true}})}return c}},{key:"requestNewer",value:function e(){var t=this;if(this.state.isLoading)return false;var r=this.props,n=r.latest,i=r.timestamps,o=r.startTs;var s=n||i&&a.a.last(i)||o;var c=this.props.requestHistory({oldest:s});if(c){this.prqMetrics.channelSwitch.fetchHistoryState!==v["a"]&&(this.prqMetrics.channelSwitch.fetchHistoryState=v["b"]);c.then(function(){t.prqMetrics.channelSwitch.fetchHistoryState=v["a"]});this.setState(function(){return{isLoading:true,isLoadingOlder:false}})}return c}},{key:"renderMessage",value:function e(t,r){var n=r.hasFocus,i=r.isHovered;var o=t.ts,s=t.previousMessageTs;var l=a.a.last(this.props.timestamps);var u=o&&o===this.props.highlightTs;if(this.scrollMetricsGatheringEnabled){this.messagesRendered[t.ts]=true;var p=a.a.keys(this.messagesRendered).length;p%this.loadingHistoriesPerHowManyMessages===0&&this.debounceBatchMessagesSeen();p%this.loadingHistoriesPerHowManyMessagesHighEnd===0&&this.debounceBatchMessagesSeenHighEnd()}var f=c.a.createElement(T["a"],{ts:o,key:o,channelId:this.props.channelId,previousMessageTs:s,isLast:o===l,rollup:this.props.rollups[o],setUnreadPoint:this.props.setUnreadPoint,fadeAwayHighlight:u,doneHighlighting:this.props.doneHighlighting,unfurlLinkCache:this.unfurlLinkCache,channelSessionId:this.props.channelSessionId,isHovered:i,messageContainerType:this.props.messageContainerType,renderActions:i||n,hasFocus:n,renderActionsOffscreen:this.props.hasKeyboardFocus});if(n)return[f,c.a.createElement(M["a"],{key:"message-list-focus-indicator"})];return f}},{key:"renderRow",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.hasFocus,a=r.isHovered;var i=this.rows[t];if(!i||!i.type)return null;switch(i.type){case"message":return this.renderMessage(i,{hasFocus:n,isHovered:a});case"dayDividerLabel":return c.a.createElement(R["b"],{key:i.day,date:i.day,sticky:this.props.useStickyDayDividers});case"dayDivider":return c.a.createElement(R["a"],{key:i.day,date:i.day,isUnread:i.showDayDividerAsUnread,ghost:this.props.isGhostLastRead});case"unread":return c.a.createElement(P["a"],{key:"unread",ghost:this.props.isGhostLastRead});case"loading":this.debounceCountHistoryLoadSeen();return c.a.createElement("div",{key:"loading",className:p()("c-message_list__placeholders","c-message_list__placeholders--"+this.props.theme)});case"loadingSpinner":return c.a.createElement("div",{className:"c-message_list__spinner"},c.a.createElement(I["a"],{type:"spinner",animation:"spin"}));case"foreword":return c.a.createElement(E["j"],{channelType:this.props.channelType,channelId:this.props.channelId,hasLimitedHistory:this.shouldShowLimitedHistoryForeword()});case"limited_history":return c.a.createElement(j["a"],null);default:return null}}},{key:"getAriaLabelForRow",value:function e(t){var r=this.rows[t];if(!r||!r.type)return;if("message"!==r.type)return;var n=r.ts,a=r.previousMessageTs;var i=this.props,o=i.makeMessageSummary,s=i.hasKeyboardFocus;var c=this.props.rollups[n];if(o)return o({ts:n,previousMessageTs:a,rollup:c,hasFocus:s})}},{key:"componentWillReceiveProps",value:function e(t){var r=this;this.setState(function(e){if(t.isLoading===e.isLoading&&t.isLoadingOlder===e.isLoadingOlder)return null;Object(m["a"])(r.props.teamId,Object(h["info"])(J,"componentWillReceiveProps isLoading: "+t.isLoading+" isLoadingOlder: "+t.isLoadingOlder+" timestamps: "+a.a.size(t.timestamps)));return{isLoading:t.isLoading,isLoadingOlder:t.isLoadingOlder}});if(t.channelId!==this.props.channelId||t.startTs!==this.props.startTs||t.highlightTs&&t.highlightTs!==this.props.highlightTs||t.timestamps.length&&!this.props.timestamps.length){this.useAnchor=true;var n=t.startTs;var i=this.props.timestamps;var o=t.timestamps;if(a.a.inRange(n,a.a.floor(a.a.first(i)),a.a.ceil(a.a.last(i)))&&t.channelId===this.props.channelId){var s=a.a.findLast(o,function(e){return e<=t.startTs});this.useScroll=s;this.lazyScroll=t.highlightLazy;this.useAnchor=false}}if(t.channelId!==this.props.channelId){this.unfurlLinkCache=new N["a"];this.heightCache.invalidate();this.list&&this.list.resetRendered&&this.list.resetRendered();Object(m["a"])(this.props.teamId,Object(h["info"])(J,"Switching channels: "+t.channelId+" timestamps: "+a.a.size(t.timestamps)))}t.lastReadTs!==this.props.lastReadTs&&(this.unreadIndex=null)}},{key:"render",value:function e(){var t=this;var r=a.a.groupBy(this.props.timestamps,function(e){var t=Object(y["a"])(e);var r=new Date(t.getFullYear(),t.getMonth(),t.getDate());return r.getTime()});var n=a.a.keys(r).sort();var i=[];var o=[];var s=[];var u=this.getTimestampForStartTs();var p=this.props.firstUnreadTs;var f=u;if(this.props.reachedStart){o.push("foreword");i.push({type:"foreword"});if(this.shouldShowLimitedHistoryAlert()){o.push("limited_history");i.push({type:"limited_history"})}}this.unreadIndex=null;var d=a.a.first(this.props.timestamps)<=this.props.lastReadTs||this.props.reachedStart;a.a.forEach(n,function(e,n){var c=parseInt(e,10);var l=r[e];var u=e+"."+t.props.channelId;var v=d&&a.a.first(l)===p;if(v){t.unreadIndex=i.length;t.props.startTs===t.props.lastReadTs&&(f=u)}i.push({type:"dayDividerLabel",day:c,showDayDividerAsUnread:v});t.props.useStickyDayDividers&&s.push({key:u,index:o.length});o.push(u);if(n>0||t.props.reachedStart||t.state.degraded){i.push({type:"dayDivider",day:c,showDayDividerAsUnread:v});o.push(e+"divider")}if(!t.state.degraded&&!t.state.isSelecting&&0===n&&t.state.isLoadingOlder){o.push("loading");i.push({type:"loading"})}var h=void 0;a.a.forEach(l,function(e,r){if(d&&0!==r&&e===p){t.unreadIndex=i.length;var n="unreadDivider";o.push(n);i.push({type:"unread"});t.props.startTs===t.props.lastReadTs&&(f=p)}i.push({type:"message",ts:e,previousMessageTs:h});o.push(e);h=e})});if(this.state.isLoading&&!this.state.isLoadingOlder&&!this.props.reachedEnd&&!this.props.prevReachedEnd){o.push("loadingSpinner");i.push({type:"loadingSpinner"})}this.layout.setAnchor(this.useAnchor&&f,this.useAnchor&&this.props.startTsOffset);this.keys=o;this.rows=i;var v={firstVisibleUnreadTs:p,isGhostLastRead:this.props.isGhostLastRead,highlightTs:this.props.highlightTs,lastTimestamp:a.a.last(this.props.timestamps),reachedEnd:this.props.reachedEnd,isLimited:this.props.isLimited,isSlackbotIm:this.props.isSlackbotIm,useStickyDayDividers:this.props.useStickyDayDividers};var h=this.state.degraded?q:H;var m=[{keys:["command+j","ctrl+j"],handler:this.onJumpToUnreadShortcut}];var b=function(){if(t.focusFirstUnreadMsgAfterUpdate&&p){t.focusFirstUnreadMsgAfterUpdate=false;return p}return}();return c.a.createElement(l["a"],null,function(e){var r=e.width,n=e.height;if(0===r||0===n)return null;if(r!==t.width){t.heightCache.invalidate();t.width=r}t.height=n;return c.a.createElement(h,{ref:t.setListRef,className:"c-message_list",ariaLabel:t.props.ariaLabel,height:n,width:r,keys:o,rowRenderer:t.renderRow,getAriaLabelForRow:t.getAriaLabelForRow,layout:t.layout,itemToFocus:b,hasKeyboardFocus:t.props.hasKeyboardFocus,stickyItems:s,stickyOffsetTop:-21,stickyZIndex:200,loadAround:t.requestAround,loadPre:t.requestOlder,loadPost:t.requestNewer,isLoading:t.state.isLoading,reachedStart:t.props.reachedStart,reachedEnd:t.props.reachedEnd,fadeScrollbar:true,onScroll:t.onScroll,onSelectionChange:t.onSelectionChange,onPageUp:t.onPageUp,onPageDown:t.onPageDown,onHome:t.onHome,onEnd:t.onEnd,keyCommands:m,shouldIgnoreScrollKeys:t.props.shouldIgnoreScrollKeys,shouldIgnoreArrowKeys:t.props.shouldIgnoreArrowKeys,shouldFocusNextItem:t.shouldFocusNextItem,unrelatedUpdateProps:v,featureReactMessages:t.props.featureReactMessages})})}}]);return t}(b["a"]);Z.displayName="MessageList";Z.propTypes=G;Z.defaultProps=W;t["b"]=Object(O["a"])(Z);function $(){var e=window.location.search||"";if(e.indexOf("force_degraded_list=1")>0)return true;if(e.indexOf("force_infinite_list=1")>0)return false;var t=window.navigator.userAgent;if(-1!==t.indexOf("Firefox"))return true;if(-1!==t.indexOf("Windows"))return true;if(-1!==t.indexOf("Linux"))return true;return false}},18654:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(16923);var l=r(16967);var u=r(16920);var p=r(16916);var f=r(18054);var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b={channelId:a.a.string,channelType:a.a.string,hasLimitedHistory:a.a.bool,isShared:a.a.bool,isSlackbotIm:a.a.bool,newxpOnboardingStep:a.a.string};var _={channelId:null,channelType:null,hasLimitedHistory:false,isShared:false,isSlackbotIm:false,newxpOnboardingStep:null};var g=function(e){m(t,e);function t(){v(this,t);return h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}d(t,[{key:"render",value:function e(){var t=this.props,r=t.channelId,n=t.channelType,a=t.hasLimitedHistory,i=t.isShared,s=t.isSlackbotIm,c=t.newxpOnboardingStep;if(s){if(c&&c!==f["g"].COMPLETE)return o.a.createElement(f["f"],{step:c});return o.a.createElement(f["i"],null)}if(a)return o.a.createElement(f["d"],{channelId:r});if("channel"===n||"private"===n){if(i)return o.a.createElement(f["h"],{channelId:r});return o.a.createElement(f["a"],{channelId:r})}if("im"===n){if(i)return o.a.createElement(f["c"],{channelId:r});return o.a.createElement(f["b"],{channelId:r})}if("mpim"===n)return o.a.createElement(f["e"],{channelId:r});Object(p["warn"])('Unknown foreword type "'+n+'"');return null}}]);return t}(i["PureComponent"]);g.displayName="Foreword";g.propTypes=b;g.defaultProps=_;function y(e,t){var r=t.channelId;var n=Object(c["getChannelById"])(e,r);if(!n)return null;return{isShared:Object(u["isExternallySharedChannel"])(n),isSlackbotIm:Object(u["isSlackbot"])(n),newxpOnboardingStep:Object(l["getNewxpOnboardingStep"])(e)}}t["a"]=Object(s["connect"])(y)(g)},18655:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16912);var u=r(16917);var p=r(16918);var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=new l["b"]("message_pane_foreword");var b={onClick:a.a.func};var _={onClick:c.a.noop};var g=function(e){h(t,e);function t(){d(this,t);return v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}f(t,[{key:"render",value:function e(){var t=this.props.onClick;return o.a.createElement(p["a"],{type:"link",className:"p-message_pane__foreword__button",onClick:t},o.a.createElement(u["a"],{type:"plus",inherit:true})," ",m.t("Add an app"))}}]);return t}(i["PureComponent"]);g.displayName="AppButton";g.propTypes=b;g.defaultProps=_;t["a"]=g},18656:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16912);var u=r(16917);var p=r(16918);var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=new l["b"]("message_pane_foreword");var b={isPrivate:a.a.bool,onClick:a.a.func};var _={isPrivate:false,onClick:c.a.noop};var g=function(e){h(t,e);function t(){d(this,t);return v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}f(t,[{key:"render",value:function e(){var t=this.props,r=t.isPrivate,n=t.onClick;var a=void 0;a=r?m.t("Invite others to this private channel"):m.t("Invite others to this channel");return o.a.createElement(p["a"],{type:"link",className:"p-message_pane__foreword__button",onClick:n},o.a.createElement(u["a"],{type:"user",inherit:true})," ",a)}}]);return t}(i["PureComponent"]);g.displayName="InviteButton";g.propTypes=b;g.defaultProps=_;t["a"]=g},18657:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16912);var u=r(16917);var p=r(16918);var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=new l["b"]("message_pane_foreword");var b={onClick:a.a.func};var _={onClick:c.a.noop};var g=function(e){h(t,e);function t(){d(this,t);return v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}f(t,[{key:"render",value:function e(){var t=this.props.onClick;return o.a.createElement(p["a"],{type:"link",className:"p-message_pane__foreword__button",onClick:t},o.a.createElement(u["a"],{type:"pencil",inherit:true})," ",m.t("Set a purpose"))}}]);return t}(i["PureComponent"]);g.displayName="PurposeButton";g.propTypes=b;g.defaultProps=_;t["a"]=g},18658:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(16919);var l=r(16912);var u=r(16917);var p=r(16918);var f=r(16921);var d=r(17353);var v=r(16941);var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=new l["b"]("message_pane_foreword");var y={botName:a.a.string};var O={botName:null};var E=function(e){_(t,e);function t(e){m(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onClick=r.onClick.bind(r);return r}h(t,[{key:"onClick",value:function e(){Object(d["a"])("about");Object(v["b"])("APP_SPACE_ABOUT_CLICKED",{about_clicked_from_bot_dm:true})}},{key:"render",value:function e(){var t=this.props.botName;return o.a.createElement(p["a"],{type:"link",className:"p-message_pane__foreword__button",onClick:this.onClick},o.a.createElement(u["a"],{type:"lightbulb-o",inherit:true})," ",g.t("How does {name} work?",{name:t}))}}]);return t}(i["PureComponent"]);E.displayName="AppHelpButton";E.propTypes=y;E.defaultProps=O;function j(e,t){var r=t.botId;var n=Object(c["getMemberById"])(e,r);if(!n)return{};var a=Object(f["f"])(n);return{botName:a}}t["a"]=Object(s["connect"])(j)(E)},18659:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(16923);var l=r(16920);var u=r(16912);var p=r(16941);var f=r(16998);var d=r(16918);var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=new u["b"]("message_pane_foreword");var g={channelType:a.a.string.isRequired,channelName:a.a.string};var y={channelName:""};var O=function(e){b(t,e);function t(e){h(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.clogLearnMoreClick=r.clogLearnMoreClick.bind(r);return r}v(t,[{key:"componentDidMount",value:function e(){Object(p["b"])("GROWTH_PRICING",{contexts:{ui_context:{step:"history",action:"impression",ui_element:this.getClogUiElementVal()}}})}},{key:"getClogUiElementVal",value:function e(){var t=this.props.channelType;if("mpim"===t||"im"===t)return 33;return 34}},{key:"clogLearnMoreClick",value:function e(){Object(p["b"])("GROWTH_PRICING",{contexts:{ui_context:{step:"history",action:"click",ui_element:this.getClogUiElementVal()}}})}},{key:"render",value:function e(){var t=this.props,r=t.channelName,n=t.channelType;var a="";var i="";var s=void 0;"private"===n?s=r:"channel"===n&&(s="#"+r);if("mpim"===n||"im"===n){i=_.t("To see and search this conversation\u2019s full history, upgrade to one of our paid plans.");a=_.t("There\u2019s more to this conversation")}else{a=_.t("There\u2019s more to the conversation in {name}",{name:s});i=_.t("To see and search this channel\u2019s full history, upgrade to one of our paid plans.")}var c="/pricing?ui_step=42&ui_element="+this.getClogUiElementVal();return o.a.createElement("div",{className:"p-message_pane__limited_history_foreword","data-qa":"msg_lim_header"},o.a.createElement("div",{className:"p-message_pane__limited_history_foreword_headline"},o.a.createElement(f["a"],{text:":speech_balloon:"})," ",a),o.a.createElement("div",{className:"p-message_pane__limited_history_foreword_subheading"},i),o.a.createElement(d["a"],{href:c,onClick:this.clogLearnMoreClick,target:"_blank","data-qa":"learn_more_btn",size:"small"},_.t("Learn More")))}}]);return t}(i["PureComponent"]);O.displayName="LimitedHistoryForeword";O.propTypes=g;O.defaultProps=y;function E(e,t){var r=t.channelId;var n=Object(c["getChannelById"])(e,r);if(!n)return{};return{channelType:Object(l["getChannelType"])(n),channelName:Object(l["getDisplayName"])(n)}}t["a"]=Object(s["connect"])(E)(O)},18660:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(8);var o=r.n(i);var s=r(16985);var c=r(16912);var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=new c["b"]("message_pane_foreword");var v="USLACKBOT";var h=a.a.createElement("h1",{className:"p-message_pane__foreword__title"},d.t("Hi, Slackbot here!"));var m=a.a.createElement("div",{className:"p-message_pane__foreword__description display_flex"},a.a.createElement(s["b"],{userId:v,size:48,className:"p-message_pane__foreword__avatar"}),a.a.createElement("div",null,a.a.createElement("p",null,d.rt("You can ask me simple questions about how Slack works, or just type a few keywords. For example: <b>Can I edit a message I\u2019ve posted?</b> Or simply: <b>edit message</b>.")),a.a.createElement("p",{className:"margin_0"},d.rt("I\u2019m only a bot, but I\u2019ll do my best to answer! If I don\u2019t understand, I\u2019ll search the <a>Help Center</a>.",null,function(e){var t=e.key,r=e.text;return a.a.createElement("a",{key:t,target:"_blank",rel:"noopener noreferrer",href:"https://get.slack.help/hc/en-us"},r)}))));var b=function(e){f(t,e);function t(){u(this,t);return p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}l(t,[{key:"shouldComponentUpdate",value:function e(){return false}},{key:"render",value:function e(){var t=o()("p-message_pane__foreword","p-message_pane__foreword--slackbot");return a.a.createElement("div",{className:t},h,m)}}]);return t}(n["Component"]);b.displayName="SlackbotForeword";t["a"]=b},18661:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(16998);var o=r(16912);var s=r(16941);var c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=new o["b"]("message_pane_foreword");var d=35;var v=function(e){p(t,e);function t(){l(this,t);return u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}c(t,[{key:"componentDidMount",value:function e(){Object(s["b"])("GROWTH_PRICING",{contexts:{ui_context:{step:"history",action:"impression",ui_element:d}}})}},{key:"render",value:function e(){var t="/pricing?ui_step=42&ui_element="+d;return a.a.createElement("div",{className:"p-message_pane__limited_history_alert"},a.a.createElement(i["a"],{text:":speech_balloon:"}),"\xa0",f.rt("<b>There\u2019s more to this conversation.</b> To see and search this conversation\u2019s full history, upgrade to one of our paid plans."),"\xa0",a.a.createElement("a",{href:t,target:"_blank","data-clog-event":"GROWTH_PRICING","data-clog-ui-element":"slackbot_message_limit_header","data-clog-ui-action":"click","data-clog-ui-step":"history"},f.t("Learn More")))}}]);return t}(n["PureComponent"]);v.displayName="LimitedHistoryAlert";t["a"]=v},18662:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(16912);var o=r(18064);var s=r(20244);var c=r.n(s);var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var p=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;if(void 0===o)return;return o.call(n)};function f(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=new i["b"]("messages");var b=20;var _=function(e){h(t,e);function t(e){d(this,t);var r=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.pendingUpdate=null;r.recomputeOffsets(e);r.overscan=Math.max(200,e.height/2);return r}u(t,[{key:"componentDidUpdate",value:function e(){var r;for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];(r=p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidUpdate",this)).call.apply(r,[this].concat(a));0===this.props.keys.length&&this.loadMore();this.layout.setBottomMargin(this.getLoadingOffsetBottom());this.pendingUpdate=false}},{key:"getOffset",value:function e(){var t=this.getLoadingOffsetTop();return this.startTop-t}},{key:"getLoadingOffsetTop",value:function e(){if(!this.props.keys.length)return 0;if(this.props.reachedStart&&0===this.state.start)return 0;if(this.layout.getTotalHeight()<=this.props.height)return 0;if(0!==this.state.start)return 96;return 56}},{key:"getLoadingOffsetBottom",value:function e(){if(!this.props.keys.length)return 0;if(this.props.reachedEnd&&this.state.end===this.props.keys.length)return 0;return 96}},{key:"getScrollTop",value:function e(){if("number"===typeof this.scrollTop)return this.scrollTop;if("number"===typeof this.pendingScrollTop)return this.pendingScrollTop;return p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getScrollTop",this).call(this)+this.getOffset()}},{key:"getContentHeight",value:function e(){return this.endBottom-this.getOffset()+this.getLoadingOffsetBottom()}},{key:"getTop",value:function e(t){return this.layout.getTop(t)-this.getOffset()}},{key:"getBottom",value:function e(t){return this.layout.getBottom(t)-this.getOffset()}},{key:"setScrollTop",value:function e(r){var n=r<this.getOffset();var a=r+this.props.height>this.endBottom+this.getLoadingOffsetBottom();if(n&&0!==this.state.start||a&&this.state.end!==this.props.keys.length){this.scrollTop=r;this.relayout()}p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setScrollTop",this).call(this,r-this.getOffset())}},{key:"scrollToOffset",value:function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.animate,i=n.absolute;if(!this.node)return;if(this.pendingUpdate)return;var o=i?r:r-this.getOffset();var s=this.bracketScrollTop(o);if(!i&&s!==o){this.setScrollTop(r);return}if(a){this.scrollAnimation=this.node.scrollWithAnimation(s);return}p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setScrollTop",this).call(this,s)}},{key:"bracketScrollTop",value:function e(t){return Math.max(0,Math.min(this.getContentHeight()-this.props.height,t))}},{key:"isItemInView",value:function e(t){var r=this.getScrollTop();var n=this.layout.getTop(t);return n>r&&n<r+this.props.height}},{key:"resetRendered",value:function e(){this.overscan=this.props.height/2}},{key:"loadMore",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.start;var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.end;var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props;var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.getScrollTop();var i=this.layout.getTotalHeight();var o=0===t&&a<=0;var s=r===n.keys.length&&a+n.height>=i;var c=!n.keys.length||i<=n.height||o;var l=!n.keys.length||i<=n.height||s;if(c&&l)return n.loadAround();if(c)return n.loadPre();if(l)return n.loadPost();return false}},{key:"relayout",value:function e(){var t=this;this.setState(function(e,r){if(r.isLoading)return null;var n=e.start,a=e.end;var i=t.startKey;var o=t.endKey;t.recomputeOffsets(r,n,a);var s=t.node?t.node.scrollTop():0;var c=t.getScrollTop();var u=s-1<=0||c-1<=t.getOffset();var p=s+1>=t.getContentHeight()-r.height||c+1>=t.endBottom-r.height;var f={start:n,end:a};if(t.startKey!==i||t.endKey!==o||u&&0!==n||p&&a!==r.keys.length){e.scrolling&&(t.overscan=8e3);f=t.computeBounds(r,c);var d=f,v=d.start,h=d.end;t.recomputeOffsets(r,v,h);u=c-1<=t.getOffset();p=c+r.height+1>=t.endBottom+t.getLoadingOffsetBottom()}(u&&0===f.start||p&&f.end===r.keys.length||t.layout.getTotalHeight()<r.height&&0===f.start)&&t.loadMore(n,a,r);var m=t.layout.getTops();if(f.start===n&&f.end===a&&m===e.tops)return null;t.scrollAnimation&&t.scrollAnimation.cancel();t.pendingUpdate=true;t.scrollTop=c;return l({},f,{tops:m})})}},{key:"recomputeOffsets",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.start;var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.end;var a=this.layout.getTotalHeight()<=t.height;this.startKey=t.keys[r];this.endKey=t.keys[n-1];this.startTop=a?0:this.layout.getTop(this.startKey)||0;this.endBottom=this.layout.getBottom(this.endKey)||0}},{key:"computeBounds",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;var n=arguments[1];var a=n-this.overscan;var i=n+r.height+this.overscan;var o=p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getBounds",this).call(this,a,i);return this.snapBounds(r,o)}},{key:"snapBounds",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;var r=arguments[1];var n=r.start,a=r.end;return{start:n<b?0:n,end:t.keys.length-a<b?t.keys.length:a}}},{key:"renderLoading",value:function e(t){if(!this.props.featureReactMessages)return null;var r=t?{top:0,paddingTop:40}:{bottom:0,paddingBottom:15};var n=t?"degradedLoadingTop":"degradedLoadingBottom";return a.a.createElement("div",{key:n,className:"p-degraded_list__loading",style:r},m.rt("Loading history..."))}},{key:"renderItems",value:function e(){var r=p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"renderItems",this).call(this);var n=this.props.keys.length>1&&(!this.props.reachedStart||this.state.start>0);var a=this.props.keys.length>1&&(!this.props.reachedEnd||this.state.end<this.props.keys.length);return[n&&this.renderLoading(true)].concat(f(r),[a&&this.renderLoading(false)])}}]);return t}(o["a"]);t["a"]=_},18664:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(17706);var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var s=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;if(void 0===o)return;return o.call(n)};function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){u(t,e);function t(e){c(this,t);var r=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.a.isFunction(e.shouldExcludeFirstItemFromGravity)&&(r.shouldExcludeFirstItemFromGravity=e.shouldExcludeFirstItemFromGravity);return r}o(t,[{key:"layout",value:function e(){s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"layout",this).call(this);if(this.totalHeight<this.containerHeight){var r=this.containerHeight-this.totalHeight;this.tops=a.a.mapValues(this.tops,function(e){return e+r});this.totalHeight=this.containerHeight}this.shouldExcludeFirstItemFromGravity&&this.shouldExcludeFirstItemFromGravity()&&this.keys.length>0&&(this.tops[a.a.first(this.keys)]=0)}}]);return t}(i["a"]);t["a"]=p},18665:function(e,t,r){"use strict";r.d(t,"a",function(){return _});r.d(t,"b",function(){return g});var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(45);var c=r(8);var l=r.n(c);var u=r(17077);var p=r(17299);var f=r(18066);function d(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}var v={date:a.a.number.isRequired,isUnread:a.a.bool,ghost:a.a.bool};var h={isUnread:false,ghost:false};function m(e){var t=e.isUnread,r=d(e,["isUnread"]);var n=t?o.a.createElement(f["a"],{ghost:r.ghost}):o.a.createElement("hr",{className:"c-message_list__day_divider__line"});return o.a.createElement("div",{className:"c-message_list__day_divider"},n)}m.displayName="DayDivider";m.propTypes=v;m.defaultProps=h;function b(e){var t=e.date,r=e.sticky;var n=t/1e3;var a=Object(p["a"])(n,"{day_divider_pretty}");var i=Object(u["a"])(n,{omitTime:true,dateFormat:"MMMM Do, YYYY"});var s=l()("c-message_list__day_divider__label",{"c-message_list__day_divider__label--non_sticky":!r});return o.a.createElement("div",{className:s,"aria-label":i},o.a.createElement("div",{className:"c-message_list__day_divider__label__pill"},a))}b.displayName="DayDividerLabel";b.propTypes={date:a.a.number.isRequired,sticky:a.a.bool};b.defaultProps={sticky:true};var _=Object(s["pure"])(m);var g=Object(s["pure"])(b)},18666:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(e){c(t,e);function t(){o(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.state={isVisible:true};e.onMouseMove=e.onMouseMove.bind(e);return e}i(t,[{key:"onMouseMove",value:function e(){this.setState(function(){return{isVisible:false}})}},{key:"render",value:function e(){var t=a.a.createElement("div",{className:"c-message_list__focus_indicator",onMouseMove:this.onMouseMove});return this.state.isVisible?t:null}}]);return t}(n["PureComponent"]);l.displayName="FocusIndicator";t["a"]=l},18668:function(e,t,r){"use strict";var n=r(18670);t["a"]=n["a"]},18670:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(17737);var l=r(18671);var u=r(16913);var p=r(19771);var f=r(19743);var d=r(19744);var v=r(18672);var h=r(19778);var m=r(20280);var b=r(20361);var _=r(20382);var g=r(20412);var y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k={bannerName:o.a.string,bannerData:o.a.object,loadBanner:o.a.func.isRequired,featureModernizeBanners:o.a.bool.isRequired,featureModernizeBannersV2:o.a.bool.isRequired,featureModernizeBannersV3:o.a.bool.isRequired};var w={bannerName:"",bannerData:{}};var C=function e(){return a.a.createElement(p["a"],null)};C.displayName="renderI18nJapanBetaSendBtnBanner";var S=function e(t){var r=t.bannerData;return a.a.createElement(f["a"],{numDaysLeft:r.no_of_days_left,expirationDate:r.pay_date_next})};S.displayName="renderTwoWeeksLeftEscTrialBanner";S.propTypes={bannerData:o.a.shape({no_of_days_left:o.a.string.isRequired,expirationDate:o.a.string.isRequired}).isRequired};var T=function e(t){var r=t.bannerData;return a.a.createElement(d["a"],{numDaysLeft:r.no_of_days_left,expirationDate:r.pay_date_next})};T.displayName="renderOneWeekLeftEscTrialBanner";T.propTypes={bannerData:o.a.shape({no_of_days_left:o.a.string.isRequired,expirationDate:o.a.string.isRequired}).isRequired};var I=function e(){return a.a.createElement(m["a"],null)};I.displayName="renderApproachingFileLimitBanner";var N=function e(t){var r=t.bannerData;return a.a.createElement(v["a"],{numMsgs:r.messages_count_abbrev})};N.displayName="renderInProdTrialBanner";N.propTypes={bannerData:o.a.shape({messages_count_abbrev:o.a.string}).isRequired};var A=function e(t){var r=t.bannerData;return a.a.createElement(h["a"],{expirationDate:r.expiration_date})};A.displayName="renderInProdTrialReminderBanner";A.propTypes={bannerData:o.a.shape({expirationDate:o.a.string.isRequired}).isRequired};var P=function e(t){var r=t.bannerData;return a.a.createElement(b["a"],{messagesCount:r.messages_count})};P.displayName="renderApproachingMsgLimitBanner";P.propTypes={bannerData:o.a.shape({messagesCount:o.a.number.isRequired}).isRequired};var R=function e(t){var r=t.bannerData;return a.a.createElement(_["a"],{messagesCount:r.messages_count})};R.displayName="renderJustReachedMsgLimitBanner";R.propTypes={bannerData:o.a.shape({messagesCount:o.a.number.isRequired}).isRequired};var M=function e(t){var r=t.bannerData;return a.a.createElement(g["a"],{messagesCount:r.messages_count})};M.displayName="renderThirtyDaysAfterMsgLimitBanner";M.propTypes={bannerData:o.a.shape({messagesCount:o.a.number.isRequired}).isRequired};var x={activation_msg_limit_banner:null};var L={approaching_msg_limit_banner:P,just_reached_msg_limit_banner:R,thirty_days_after_msg_limit_banner:M};var D={i18n_japan_beta_send_btn_banner:C,two_weeks_left_esc_trial_banner:S,one_week_left_esc_trial_banner:T,in_prod_trial_banner:N,in_prod_trial_reminder_banner:A,approaching_file_limit_banner:I};var F=function(e){j(t,e);function t(){O(this,t);return E(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}y(t,[{key:"componentDidMount",value:function e(){this.props.loadBanner()}},{key:"render",value:function e(){var t=this.props,r=t.bannerName,n=t.bannerData,a=t.featureModernizeBanners,i=t.featureModernizeBannersV2,o=t.featureModernizeBannersV3;if(!a)return null;if(!r)return null;var s=D[r];i&&(s=s||L[r]);o&&(s=s||x[r]);if(!s){Object(l["a"])({name:r,data:n});return null}return s({bannerData:n})}}]);return t}(n["PureComponent"]);F.displayName="MessagePaneBannerContainer";F.propTypes=k;F.defaultProps=w;var B=function e(t){return{bannerName:Object(c["getMessagePaneBannerName"])(t),bannerData:Object(c["getMessagePaneBannerData"])(t),featureModernizeBanners:Object(u["isFeatureEnabled"])(t,"feature_modernize_banners"),featureModernizeBannersV2:Object(u["isFeatureEnabled"])(t,"feature_modernize_banners_v2"),featureModernizeBannersV3:Object(u["isFeatureEnabled"])(t,"feature_modernize_banners_v3")}};var U={loadBanner:c["loadBanner"]};t["a"]=Object(s["connect"])(B,U)(F)},18671:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(16914);var a=Object(n["c"])("TS.generic_notification_banner.banner_to_show_sig.dispatch")},18672:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16912);var c=r(1);var l=r.n(c);var u=r(16959);var p=r(17015);var f=r(16941);var d=r(18674);var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=new s["b"]("free_trial_banners");var g={numMsgs:o.a.string};var y={numMsgs:""};var O={countPref:"in_prod_trial_banner_cta_count",tsPref:"in_prod_trial_banner_cta_last_ts"};var E=205;var j="UPGRDEXP_FREE_TRIAL_IN_PROD";var k="/trial";var w=function(e){b(t,e);function t(e){h(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.experimentGroup=Object(p["a"])("free_trial_in_prod");Object(c["bindAll"])(r,["onGo","onCloseIcon"]);return r}v(t,[{key:"componentDidMount",value:function e(){Object(f["b"])(j,{contexts:{ui_context:{step:E,action:"impression"}}})}},{key:"onGo",value:function e(){Object(f["b"])(j,{contexts:{ui_context:{step:E,action:"click",ui_element:"learn_more_btn"}}});window.open(k,"_blank")}},{key:"onCloseIcon",value:function e(){Object(f["b"])(j,{contexts:{ui_context:{step:E,action:"close",ui_element:"btn_close"}}})}},{key:"getContent",value:function e(){var t=this.props.numMsgs;switch(this.experimentGroup){case"banner":return{headerText:_.t("Try Standard for 30 days. It\u2019s on us."),bodyText:_.rt("On a <b>Standard plan</b>, you\u2019ll be able to view all of your {num_of_msgs} messages instead of just the last 10k. That means you\u2019ll always have access to things like project details, important docs, and key decisions made along the way.",{num_of_msgs:t})};case"banner_and_email":return{headerText:_.t("Start your free trial of the Standard plan"),bodyText:_.t("With unlimited searchable messages, you\u2019ll never lose access to your conversations \u2014 or to things like project details, important docs, and key decisions made along the way.")};default:return{}}}},{key:"render",value:function e(){var t=this.getContent();if(Object(c["isEmpty"])(t))return null;return a.a.createElement(d["a"],{emojiSrc:cdn_url+"/f5d6f/img/emoji_2016_06_08/apple/1f381.png",emojiAlt:_.t("present emoji"),headerText:t.headerText,bodyText:t.bodyText,showCancelButton:false,showCloseIcon:true,isLearnMoreButton:true,onGo:this.onGo,onCloseIcon:this.onCloseIcon,bannerPrefs:O})}}]);return t}(n["PureComponent"]);w.displayName="InProdTrialMessagePaneBanner";w.propTypes=g;w.defaultProps=y;t["a"]=Object(u["a"])("feature_modernize_banners")(w)},18674:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(16912);var l=r(16913);var u=r(1);var p=r.n(u);var f=r(8);var d=r.n(f);var v=r(17737);var h=r(17293);var m=r(16918);var b=r(20246);var _=r.n(b);var g=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j=new c["b"]("notification_banner");var k={learn_more:j.t("Learn More"),show_me:j.t("Show Me"),skip:j.t("Skip for Now")};var w={emojiSrc:o.a.string,emojiAlt:o.a.string,headerText:o.a.node,bodyText:o.a.node,bodyClass:o.a.string,goButtonText:o.a.string,goButtonClass:o.a.string,onGo:o.a.func,showGoButton:o.a.bool,isLearnMoreButton:o.a.bool,cancelButtonText:o.a.string,cancelButtonClass:o.a.string,onCancel:o.a.func,showCancelButton:o.a.bool,showCloseIcon:o.a.bool,onCloseIcon:o.a.func,closeBanner:o.a.func.isRequired,onCloseBanner:o.a.func,bannerPrefs:o.a.shape({countPref:o.a.string.isRequired,tsPref:o.a.string.isRequired}),featureModernizeBanners:o.a.bool.isRequired};var C={emojiSrc:"",emojiAlt:"",headerText:"",bodyText:"",bodyClass:"",goButtonText:"",goButtonClass:"",onGo:u["noop"],showGoButton:true,isLearnMoreButton:false,cancelButtonText:k.skip,cancelButtonClass:"",onCancel:u["noop"],showCancelButton:true,showCloseIcon:false,onCloseIcon:u["noop"],onCloseBanner:u["noop"],bannerPrefs:{}};var S=function(e){E(t,e);function t(e){y(this,t);var r=O(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(u["bindAll"])(r,["handleGoButton","handleCancelButton","handleCloseIcon"]);return r}g(t,[{key:"closeBanner",value:function e(){var t=this.props,r=t.onCloseBanner,n=t.bannerPrefs;this.props.closeBanner({bannerPrefs:n});r()}},{key:"handleGoButton",value:function e(){var t=this.props.onGo;this.closeBanner();t()}},{key:"handleCancelButton",value:function e(){var t=this.props.onCancel;this.closeBanner();t()}},{key:"handleCloseIcon",value:function e(){var t=this.props.onCloseIcon;this.closeBanner();t()}},{key:"renderHeader",value:function e(){var t=this.props,r=t.headerText,n=t.emojiSrc,i=t.emojiAlt;if(!r)return null;return a.a.createElement("h1",{className:"p-message_pane_banner__header"},n&&a.a.createElement("img",{src:n,alt:i,className:"p-message_pane_banner__header_emoji"}),r)}},{key:"renderBody",value:function e(){var t=this.props,r=t.bodyText,n=t.bodyClass;if(!r)return null;var i=d()("p-message_pane_banner__body",n);return a.a.createElement("div",{className:i},r)}},{key:"renderGoButton",value:function e(){var t=this.props,r=t.goButtonText,n=t.goButtonClass,i=t.isLearnMoreButton;var o=i?k.learn_more:k.show_me;var s=d()("p-message_pane_banner__button ","p-message_pane_banner__button--go",n);return a.a.createElement(m["b"],{className:s,onClick:this.handleGoButton,size:"small"},r||o)}},{key:"renderCancelButton",value:function e(){var t=this.props,r=t.cancelButtonText,n=t.cancelButtonClass;var i=d()("p-message_pane_banner__button","p-message_pane_banner__button--cancel",n);return a.a.createElement(m["b"],{className:i,onClick:this.handleCancelButton,size:"small",type:"outline"},r)}},{key:"renderCloseIcon",value:function e(){if(!this.props.featureModernizeBanners)return null;return a.a.createElement(m["c"],{ariaLabel:j.t("Close"),className:"p-message_pane_banner__close_icon",onClick:this.handleCloseIcon},a.a.createElement(h["a"],{type:"times"}))}},{key:"render",value:function e(){var t=this.props,r=t.showGoButton,n=t.showCancelButton,i=t.showCloseIcon;return a.a.createElement("div",{className:"p-message_pane_banner"},this.renderHeader(),this.renderBody(),a.a.createElement("div",{className:"p-message_pane_banner__button_container"},r&&this.renderGoButton(),n&&this.renderCancelButton()),i&&this.renderCloseIcon())}}]);return t}(n["PureComponent"]);S.displayName="MessagePaneBanner";S.propTypes=w;S.defaultProps=C;var T=function e(t){return{featureModernizeBanners:Object(l["isFeatureEnabled"])(t,"feature_modernize_banners")}};var I={closeBanner:v["closeBanner"]};t["a"]=Object(s["connect"])(T,I)(S)},18676:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16917);var c=r(16912);var l=r(16976);var u=r(20187);var p=r.n(u);var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=new c["b"]("messages");var b={firstTimestamp:o.a.string.isRequired,lastTimestamp:o.a.string.isRequired,jumpToRecent:o.a.func.isRequired};var _={};var g=function(e){h(t,e);function t(){d(this,t);return v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}f(t,[{key:"render",value:function e(){var t=Object(l["a"])(this.props.firstTimestamp,{shortenMonth:true});var r=Object(l["a"])(this.props.lastTimestamp,{shortenMonth:true});return a.a.createElement("div",{className:"p-archives_banner"},a.a.createElement("span",{className:"p-archives_banner__date_range"},m.t("Viewing archives from {rangeStart} - {rangeEnd}",{rangeStart:t,rangeEnd:r})),a.a.createElement("button",{className:"p-archives_banner__jump",onClick:this.props.jumpToRecent},m.t("Jump to recent messages"),a.a.createElement(s["a"],{type:"arrow_down"})))}}]);return t}(n["PureComponent"]);g.displayName="ArchivesBanner";t["a"]=g;g.propTypes=b;g.defaultProps=_},18677:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(8);var l=r.n(c);var u=r(3);var p=r.n(u);var f=r(17970);var d=r(16912);var v=r(16918);var h=r(16977);var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=new d["b"]("files");var E={status:p.a.oneOf([f["IDLE"],f["UPLOADING"],f["COMPLETE"],f["CANCELED"]]),fileName:p.a.string,percentComplete:p.a.number,cancelable:p.a.bool,cancelUpload:p.a.func,isRetry:p.a.bool};var j={fileName:"",percentComplete:0,status:f["UPLOADING"],cancelable:false,cancelUpload:a.a.noop,isRetry:false};var k=function(e){y(t,e);b(t,null,[{key:"renderComplete",value:function e(){var t=O.t("Processing uploaded file\u2026 complete!");return o.a.createElement("div",{className:"p-file_upload_banner__progress p-file_upload_banner__progress--complete"},o.a.createElement("div",{className:"p-file_upload_banner__text"},t))}}]);function t(e){_(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.cancel=r.cancel.bind(r);r.clearOverrides=r.clearOverrides.bind(r);r.doneProlongingStatus=r.doneProlongingStatus.bind(r);r.state={statusOverride:null,fileNameOverride:null,timer:null,fading:false};return r}b(t,[{key:"componentWillReceiveProps",value:function e(t){var r=this;var n=[f["COMPLETE"],f["CANCELED"]];this.props.status!==t.status&&a.a.includes(n,t.status)&&this.setState(function(){return{statusOverride:t.status,fileNameOverride:t.fileName,timer:setTimeout(r.doneProlongingStatus,1e3)}})}},{key:"componentWillUnmount",value:function e(){this.state.timer&&clearTimeout(this.state.timer)}},{key:"getStatus",value:function e(){var t=this.props.status;var r=this.state.statusOverride;return r||t}},{key:"getFileName",value:function e(){var t=this.props.fileName;var r=this.state.fileNameOverride;return r||t}},{key:"cancel",value:function e(){var t=this;setTimeout(function(){t.props.cancelUpload()},1)}},{key:"clearOverrides",value:function e(){this.setState(function(){return{statusOverride:null,fileNameOverride:null,timer:null,fading:false}})}},{key:"doneProlongingStatus",value:function e(){var t=this;this.props.status===f["IDLE"]?this.setState(function(){return{fading:true,timer:setTimeout(t.clearOverrides,250)}}):this.clearOverrides()}},{key:"renderCanceled",value:function e(){var t=this.getFileName();var r=O.t("Canceling {fileName}\u2026",{fileName:t});return o.a.createElement("div",{className:"p-file_upload_banner__progress p-file_upload_banner__progress--canceled"},o.a.createElement("div",{className:"p-file_upload_banner__text"},r))}},{key:"renderUploading",value:function e(){var t=this.props,r=t.fileName,n=t.percentComplete,a=t.cancelable,i=t.isRetry;var s=n>=99;var c=void 0;if(s)c=O.t("Processing uploaded file\u2026");else{c=i?O.t("Re-uploading {fileName}",{fileName:r}):O.t("Uploading {fileName}",{fileName:r});c+="\u2026"+n+"%"}var u=l()("p-file_upload_banner__progress_inner",{"p-file_upload_banner__progress_inner--animated":s});var p={width:n+"%"};var f=null;a&&!s&&(f=o.a.createElement(v["c"],{key:"cancel",className:"p-file_upload_banner__cancel",onClick:this.cancel},O.t("cancel")));return[o.a.createElement("div",{key:"bar",className:"p-file_upload_banner__progress"},o.a.createElement("span",{className:u,style:p})),o.a.createElement("div",{key:"text",className:"p-file_upload_banner__text"},c),f]}},{key:"render",value:function e(){var r=this.getStatus();var n=this.state.fading;if(r===f["IDLE"])return null;var a=void 0;a=r===f["UPLOADING"]?this.renderUploading():r===f["COMPLETE"]?t.renderComplete():this.renderCanceled();var i=l()("p-file_upload_banner p-message_pane__banner",{"p-file_upload_banner--fading":n});return o.a.createElement("div",{className:i},a)}}]);return t}(i["PureComponent"]);k.displayName="FileUploadBanner";k.propTypes=E;k.defaultProps=j;function w(e){var t=Object(f["getFileUploadState"])(e);return m({},t,{cancelUpload:h["a"]})}t["a"]=Object(s["connect"])(w)(k)},18678:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(8);var l=r.n(c);var u=r(1);var p=r.n(u);var f=r(16916);var d=r(16923);var v=r(16922);var h=r(16917);var m=r(16932);var b=r(18053);var _=r(16912);var g=r(16976);var y=r(16970);var O=r(17111);var E=r(16958);var j=r(16918);var k=r(17038);var w=r(16990);var C=r(16924);var S=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function N(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A=new _["b"]("messages");var P=3e3;var R=100;var M={hasUnreads:a.a.bool.isRequired,displayCount:a.a.number,since:a.a.oneOfType([a.a.string,a.a.number]),known:a.a.bool,do24hrTime:a.a.bool,channelId:a.a.string,ghost:a.a.bool,unreadPlacement:a.a.oneOf(Object(u["values"])(b["a"])),jumpToUnread:a.a.func,markMostRecentMsgRead:a.a.func,featureJumpToUnreadShortcut:a.a.bool};var x={displayCount:0,since:null,do24hrTime:false,known:false,channelId:null,ghost:false,unreadPlacement:b["a"].VISIBLE,jumpToUnread:u["noop"],markMostRecentMsgRead:u["noop"],featureJumpToUnreadShortcut:false};var L=function(e){N(t,e);function t(e){T(this,t);var r=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.startFade=r.startFade.bind(r);r.onAnimationTick=r.onAnimationTick.bind(r);r.onAnimationEnd=r.onAnimationEnd.bind(r);r.onKeyDown=r.onKeyDown.bind(r);r.jumpOrMark=r.jumpOrMark.bind(r);r.markAsRead=r.markAsRead.bind(r);r.animation=null;r.delay=null;r.state={hasUnreads:e.hasUnreads,displayCount:e.displayCount,since:e.since,unreadPlacement:e.unreadPlacement,opacity:1};return r}S(t,[{key:"componentWillReceiveProps",value:function e(t){clearTimeout(this.delay);if(this.state.hasUnreads&&!t.hasUnreads){if(t.ghost){this.delay=setTimeout(this.startFade,P);return}this.startFade();return}this.setState(function(){return{hasUnreads:t.hasUnreads,displayCount:t.displayCount,since:t.since,unreadPlacement:t.unreadPlacement,opacity:1}})}},{key:"componentWillUnmount",value:function e(){clearTimeout(this.delay);this.animation&&this.animation.cancel()}},{key:"onAnimationTick",value:function e(t){var r=t.value,n=t.nextTick;if(!this.animation)return;this.setState(function(){return{opacity:r}});n()}},{key:"onAnimationEnd",value:function e(){this.setState(function(){return{hasUnreads:false,opacity:1}})}},{key:"onKeyDown",value:function e(t){var r=[k["c"],k["h"]];Object(u["includes"])(r,t.keyCode)&&this.jumpOrMark(t)}},{key:"startFade",value:function e(){this.animation=Object(O["a"])({fromValue:1,toValue:0,duration:R,easing:"easeInQuad",onTick:this.onAnimationTick,onComplete:this.onAnimationEnd})}},{key:"markAsRead",value:function e(t){t.stopPropagation();Object(f["action"])("UNREAD-BANNER","Mark "+this.props.channelId+" read");this.props.markMostRecentMsgRead({channelId:this.props.channelId,reason:E["MARKED_REASONS"].CLICKED});clearTimeout(this.delay);this.animation&&this.animation.cancel();this.onAnimationEnd()}},{key:"jumpOrMark",value:function e(t){this.state.unreadPlacement===b["a"].VISIBLE?this.markAsRead(t):this.props.jumpToUnread(t)}},{key:"makeJumpLabel",value:function e(){if(!this.props.featureJumpToUnreadShortcut)return A.t("Jump");if(!Object(w["a"])())return A.t("Jump");var t=Object(C["isMac"])()?A.t("Cmd"):A.t("Ctrl");return A.rt("Jump <span>({cmdButton} + J)</span>",{cmdButton:t},function(e){var t=e.text,r=e.key;return o.a.createElement("span",{key:r,className:"normal"},t)})}},{key:"makeJumpAriaLabel",value:function e(){if(!this.props.featureJumpToUnreadShortcut)return;if(!Object(w["a"])())return;var t=Object(C["isMac"])()?A.t("Cmd"):A.t("Ctrl");return A.t("Jump to first unread message ({cmdButton} J)",{cmdButton:t,fallbackHash:"1eba140fdd9c6860a1730c408e3064aa417ca2a3"})}},{key:"renderJump",value:function e(){var t=this.state.unreadPlacement;if(t===b["a"].VISIBLE)return null;var r=t===b["a"].ABOVE?"arrow_up":"arrow_down";var n=this.makeJumpLabel();var a=this.makeJumpAriaLabel();return o.a.createElement(j["c"],{ariaLabel:a,onMouseDown:this.jumpOrMark,onKeyDown:this.onKeyDown,className:"p-message_pane__unread_banner__jump"},o.a.createElement(h["a"],{type:r,className:"p-message_pane__unread_banner__jump__arrow"}),n)}},{key:"renderClose",value:function e(){var t=l()("p-message_pane__unread_banner__close",{"p-message_pane__unread_banner__close--detached":this.state.unreadPlacement!==b["a"].VISIBLE});return o.a.createElement(m["c"],{tip:A.t("Mark as read (esc)"),position:"bottom-right"},o.a.createElement(j["c"],{className:t,onClick:this.markAsRead,ariaLabel:A.t("Mark as read")},o.a.createElement("span",{className:"p-message_pane__unread_banner__close__label"},A.t("Mark as read")),o.a.createElement(h["a"],{type:"times_small",className:"p-message_pane__unread_banner__close__icon"})))}},{key:"render",value:function e(){var t=this.state,r=t.hasUnreads,n=t.since,a=t.displayCount;var i=this.props,s=i.do24hrTime,c=i.known;if(!r||!n)return null;var l=Math.floor(parseFloat(n));if(!l)return null;var u=Object(g["a"])(l,{excludeYear:true});var p=Object(y["a"])(l,{do24hrTime:s});var f=c?"":"+";var d=a;!c&&d>10&&(d=10*Math.floor(d/10));var v=A.t("{count, plural, =1 {#{certainty} new message} other {#{certainty} new messages}} since {time} on {date}",{certainty:f,count:d,time:p,date:u});d&&(1!==d||c)||(v=A.t("New messages since {time} on {date}",{time:p,date:u}));return o.a.createElement("div",{className:"p-message_pane__unread_banner p-message_pane__banner"},o.a.createElement("div",{className:"p-message_pane__unread_banner__banner"},this.renderJump(),o.a.createElement(j["c"],{className:"p-message_pane__unread_banner__msg",onMouseDown:this.jumpOrMark,onKeyDown:this.jumpOrMark,style:{opacity:this.state.opacity}},v)),this.renderClose())}}]);return t}(i["PureComponent"]);L.displayName="UnreadBanner";L.propTypes=M;L.defaultProps=x;var D=function e(t,r){var n=r.since;if("0000000000.000000"===n){var a=Object(d["getChannelById"])(t,r.channelId);n=a.created}return{do24hrTime:Object(v["getUserPref"])(t,"time24"),since:n}};t["a"]=Object(s["connect"])(D)(L)},18679:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(3);var s=r.n(o);var c=r(16967);var l=r(17101);var u=r(16912);var p=r(16918);var f=r(16917);var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=new u["b"]("messages");var _={displayModelOrViewById:s.a.func.isRequired,isHighlightsBackButtonVisible:s.a.bool};var g={isHighlightsBackButtonVisible:false};var y=function(e){m(t,e);function t(e){v(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.backToBriefings=r.backToBriefings.bind(r);return r}d(t,[{key:"backToBriefings",value:function e(){this.props.displayModelOrViewById({id:"Vall_unreads"})}},{key:"render",value:function e(){if(!this.props.isHighlightsBackButtonVisible)return null;return a.a.createElement(p["a"],{type:"outline",size:"small",className:"p-message_pane__briefings_back_button",onClick:this.backToBriefings},a.a.createElement(f["a"],{className:"p-message_pane__briefings_back_button_icon",type:"arrow-left"}),b.t("Back to my highlights"))}}]);return t}(n["PureComponent"]);y.displayName="BriefingsBackButton";y.propTypes=_;y.defaultProps=g;var O=function e(t){return{isHighlightsBackButtonVisible:Object(c["isHighlightsBackButtonVisible"])(t)}};var E=function e(t){return{displayModelOrViewById:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.id;return t(Object(l["a"])({id:n}))}}};t["a"]=Object(i["connect"])(O,E)(y)},18680:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18681);var a=r(16928);Object(a["a"])("interop.modalContainer",{mountModalContainer:n["a"],unmountModalContainer:n["b"]})},18681:function(e,t,r){"use strict";r.d(t,"a",function(){return p});r.d(t,"b",function(){return f});var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(16954);var l=r(16927);var u=r(17650);var p=function e(t,r){if(!t)throw new Error("mountModalContainer must be called with a teamId parameter");var n=Object(l["c"])(t);Object(c["a"])(a.a.createElement(s["Provider"],{store:n},a.a.createElement(u["a"],null)),r)};var f=function e(t){o.a.unmountComponentAtNode(t)};var d={mountModalContainer:p,unmountModalContainer:f}},18682:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18683);var a=r(16928);Object(a["a"])("interop.mountNotificationBar",n["a"])},18683:function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(12159);var a=r.n(n);var i=r(9);var o=r(16954);var s=r(16927);var c=r(18684);var l=function e(t,r,n){if(!t)throw new Error("mountNotificationBar must be called with a teamId parameter");var l=Object(s["c"])(t);Object(o["a"])(a.a.createElement(i["Provider"],{store:l},a.a.createElement(c["a"],n)),r)};var u={mountNotificationBar:l}},18684:function(e,t,r){"use strict";var n=r(18685);t["a"]=n["a"]},18685:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(12159);var u=r.n(l);var p=r(16942);var f=r(16932);var d=r(16912);var v=r(16917);var h=r(16936);var m=r(20247);var b=r.n(m);var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=new d["b"]("notification_bar");var j={offline:o.a.bool,isTyping:o.a.bool,typingNames:o.a.array,tooLongCount:o.a.number,snippetCallback:o.a.func,formatting:o.a.bool};var k={offline:null,isTyping:null,typingNames:null,tooLongCount:null,snippetCallback:a.a.noop,formatting:null};var w=function(e){O(t,e);function t(){g(this,t);return y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}_(t,[{key:"renderLeft",value:function e(){if(this.props.offline){var t=this.props.isTyping?E.t("Slack is trying to connect, so messages can\u2019t be sent yet."):E.t("Slack is trying to connect.");return u.a.createElement("span",{id:"msg_input_info",className:"p-notification_bar__offline","aria-live":"polite"},t," ",u.a.createElement(v["a"],{type:"cloud-offline-small-filled",className:"p-notification_bar__offline_icon"}))}if(this.props.typingNames&&this.props.typingNames.length>0){var r=E.t("several people are typing");1===this.props.typingNames.length?r=E.rt("<b>{name}</b> is typing",{name:this.props.typingNames[0]}):2===this.props.typingNames.length&&(r=E.rt("<b>{name}</b> and <b>{other_name}</b> are typing",{name:this.props.typingNames[0],other_name:this.props.typingNames[1]}));return u.a.createElement("div",{role:"status","aria-live":"polite","aria-atomic":"true",className:"p-notification_bar__typing"},r)}return null}},{key:"renderRight",value:function e(){var t=this;if(!this.props.offline&&this.props.tooLongCount>0){var r=E.t("Your message is {diff_count, plural, =1{# character}other{# characters}} too long.",{diff_count:this.props.tooLongCount});var n=E.t("Make a snippet instead?");var a=E.t("A snippet is a text file that can be much longer than a normal message.");return u.a.createElement("div",null,u.a.createElement("span",null,r," "),u.a.createElement(f["c"],{tip:a},u.a.createElement("span",null,u.a.createElement(p["a"],{tabIndex:"5",onClick:this.props.snippetCallback},n))))}var i=function(){if(t.props.offline)return"";if(h["b"])return E.rt("<b>\uff0abold\uff0a</b> <code>\uff40code\uff40</code> <code>\uff40\uff40\uff40preformatted\uff40\uff40\uff40</code> <span>\uff1equote</span>");return E.rt("<b>*bold*</b> <i>_italics_</i> ~strike~ <code>`code`</code> <code>```preformatted```</code> <span>{quote}quote</span>",{quote:">",fallbackHash:"78fa2eabded9ec376bac82c1ade55d4f646aca2c"})}();return u.a.createElement("span",{className:"p-notification_bar__formatting","aria-hidden":"true"},i)}},{key:"render",value:function e(){var t=c()("p-notification_bar__section","p-notification_bar__section--right",{"p-notification_bar__section--is-visible":!this.props.offline&&(this.props.formatting||this.props.tooLongCount>0)});return u.a.createElement("div",{className:"p-notification_bar"},u.a.createElement("div",{className:"p-notification_bar__section p-notification_bar__section--left"},this.renderLeft()),u.a.createElement("div",{className:t},this.renderRight()))}}]);return t}(l["PureComponent"]);w.displayName="NotificationBar";w.propTypes=j;w.defaultProps=k;t["a"]=w},18687:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18688);var a=r(16928);Object(a["a"])("interop.mountOAuthConfirm",n["a"])},18688:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(16954);var s=r(16927);var c=r(18689);var l=function e(t,r,n){if(!t)throw new Error("mountOAuthConfirm must be called with a teamId parameter");Object(o["a"])(a.a.createElement(i["Provider"],{store:Object(s["c"])(t)},a.a.createElement(c["a"],n)),r)};t["a"]=l},18689:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16912);var u=r(16918);var p=r(17361);var f=r(16957);var d=r(20078);var v=r.n(d);var h=r(18001);var m=r(17356);var b=r(17184);var _=r(16917);var g=r(16942);var y=r(16932);var O=r(17840);var E=r(16959);var j=r(16941);var k=r(17013);var w=r(18690);var C=r(20248);var S=r.n(C);var T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var I=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function P(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=new l["b"]("pages_oauth");var M=o.a.arrayOf(k["a"]);var x={featureOauthReactWta:o.a.bool.isRequired,appIsReviewed:o.a.bool,appIsInternalIntegration:o.a.bool,authRowIdentifier:o.a.string.isRequired,crumbKey:o.a.string.isRequired,appIcon:o.a.string.isRequired,appName:o.a.string.isRequired,teamIcon:o.a.string.isRequired,teamName:o.a.string.isRequired,denyUrl:o.a.string.isRequired,safeTeamScopeInfo:M,dangerousTeamScopeInfo:M,safeChannelScopeInfo:M,dangerousChannelScopeInfo:M,needSecondStep:o.a.bool.isRequired,needTeamPicker:o.a.bool.isRequired,singleChannel:o.a.bool,channelItems:o.a.shape({channels:o.a.object,group_channels:o.a.object,im_channels:o.a.object,mpim_channels:o.a.object}),appId:o.a.string,appType:o.a.string,appIsInstalled:o.a.bool,initialSelectedTeamID:o.a.string,teamsList:o.a.arrayOf(o.a.shape({href:o.a.string.required,teamId:o.a.string.required,teamImg:o.a.string.required,teamName:o.a.string.required})),signInUrl:o.a.string,switchTeamUrlPathAndQuery:o.a.string,onTeamSelected:o.a.func,orgName:o.a.string,appDevelopmentTeamName:o.a.string,featureOauthInternalIntegrationBanner:o.a.bool,featureWtaAppDetailOauthUpdates:o.a.bool};var L={appIsReviewed:true,appIsInternalIntegration:false,safeTeamScopeInfo:[],dangerousTeamScopeInfo:[],safeChannelScopeInfo:[],dangerousChannelScopeInfo:[],singleChannel:false,appId:void 0,appType:void 0,appIsInstalled:false,initialSelectedTeamID:void 0,teamsList:[],onTeamSelected:s["noop"],signInUrl:void 0,switchTeamUrlPathAndQuery:void 0,channelItems:{},orgName:void 0,appDevelopmentTeamName:void 0,appCreatedOnTeam:false,featureOauthInternalIntegrationBanner:false,featureWtaAppDetailOauthUpdates:false};var D=300;var F=function e(t){return"p-oauth_flow__channel_picker_list_item"+(t.group?"--group-title":"")};var B=function e(t,r,n){return t.map(function(e){var t={id:e.encoded_id,channelType:r};t.label="im"===r?"@"+e.username:"channel"===r||"private"===r?"#"+e.name:e.name;n&&n.find(function(t){return t.id===e.encoded_id})&&(t.preselected=true);return t})};var U=function e(t,r){var n=[];t.channels&&n.push({id:"channels",label:"Channels",group:true,children:B(Object(s["values"])(t.channels),"channel",r)});t.group_channels&&n.push({id:"group_channels",label:"Private Channels",group:true,children:B(Object(s["values"])(t.group_channels),"private",r)});if(t.im_channels||t.mpim_channels){var a=[];var i=[];t.im_channels&&(a=B(Object(s["values"])(t.im_channels),"im",r));t.mpim_channels&&(i=B(Object(s["values"])(t.mpim_channels),"mpim",r));var o=a.concat(i);n.push({id:"im_mpim_channels",label:"Direct Messages",group:true,children:o})}return n};var H=function e(t,r,n,a){var i=Object(s["compact"])(t.concat(r,n,a));return Object(s["map"])(i,function(e){return e.scopes.join(",")}).join(",")};var q=function(e){P(t,e);function t(e){N(this,t);var r=A(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));var n=r.props,a=n.appId,i=n.appName,o=n.safeTeamScopeInfo,c=n.dangerousTeamScopeInfo,l=n.safeChannelScopeInfo,u=n.dangerousChannelScopeInfo,p=n.singleChannel,f=n.needSecondStep,d=n.featureWtaAppDetailOauthUpdates;r.trackingProps={app_scopes:H(o,c,l,u),app_name:i,app_id:a};r.state={step:0,selectedRadioValue:"all-channels",selectedChannelValues:[],disableInstallButton:p&&(!f||d&&r.noWorkspaceScopesUsed()&&f)};Object(s["bindAll"])(r,["onDenyClick","onContinueClick","onBackClick","onInputKeyUp","changeRadioButtonCheck","updateSpecificChannelsValues","setLfsRef"]);return r}I(t,[{key:"componentDidMount",value:function e(){var t=this.props,r=t.appIsInstalled,n=t.appId,a=t.appType;window.dataLayer=window.dataLayer||[];window.dataLayer.push({event:"AppDirectoryApp_OAuthDetails",is_installed:r,app_id:n,app_type:a});Object(j["b"])("OAUTH_REVIEWS_SCOPES",this.trackingProps);Object(j["e"])("#oauth_authorize_confirm_form","OAUTH_AUTHORIZE_CONFIRM_FORM",this.trackingProps)}},{key:"onDenyClick",value:function e(){Object(j["b"])("OAUTH_DENY",this.trackingProps)}},{key:"onContinueClick",value:function e(t){t.preventDefault();var r=this.props.singleChannel;Object(j["b"])("OAUTH_NEXT_PAGE",this.trackingProps);this.setState(function(e){var t=e.selectedChannelValues,n=e.selectedRadioValue;return{step:1,disableInstallButton:0===t.length&&"specific-channels"===n||r&&0===t.length}})}},{key:"onBackClick",value:function e(t){t.preventDefault();Object(j["b"])("OAUTH_PREVIOUS_PAGE",this.trackingProps);this.setState(function(){return{step:0,disableInstallButton:false}})}},{key:"onInputKeyUp",value:function e(){var t=this;var r=Object(s["get"])(this,"lfs.input.value","");this.setState(function(){return{disableInstallButton:r.length>0||0===t.state.selectedChannelValues.length}})}},{key:"setLfsRef",value:function e(t){this.lfs=t}},{key:"updateSpecificChannelsValues",value:function e(t){this.setState(function(){return{selectedChannelValues:t,selectedRadioValue:"specific-channels",disableInstallButton:0===t.length}})}},{key:"changeRadioButtonCheck",value:function e(t){var r=Object(s["get"])(this,"lfs.input.value","");var n=t.target.id;this.setState(function(e){return{selectedRadioValue:n,disableInstallButton:"specific-channels"===n&&(0===e.selectedChannelValues.length||r.length>0)}})}},{key:"noWorkspaceScopesUsed",value:function e(){var t=this.props,r=t.dangerousTeamScopeInfo,n=t.safeTeamScopeInfo;return Object(s["isEmpty"])(r)&&Object(s["isEmpty"])(n)}},{key:"noChannelScopesUsed",value:function e(){var t=this.props,r=t.dangerousChannelScopeInfo,n=t.safeChannelScopeInfo;return Object(s["isEmpty"])(r)&&Object(s["isEmpty"])(n)}},{key:"maybeRenderBackButton",value:function e(){var t=this.props.needSecondStep;var r=this.state.step;if(t&&1===r)return a.a.createElement(g["a"],{role:"button",className:"p-oauth_flow__nav_anchor margin_left_100 margin_top_25 position_relative",onClick:this.onBackClick},a.a.createElement(_["b"],{type:"arrow-large-left",className:"position_relative p-oauth_flow__nav_back_arrow"}));return false}},{key:"maybeRenderTeamPicker",value:function e(){var t=this.props,r=t.needTeamPicker,n=t.initialSelectedTeamID,i=t.teamsList,o=t.signInUrl,c=t.switchTeamUrlPathAndQuery;var l=this.state.step;if(r&&0===l){var u=i;c&&(u=Object(s["map"])(i,function(e){return T({},e,{href:window.location.protocol+"//"+window.location.hostname+c+"&switch_to_team="+e.teamId})}));return a.a.createElement("div",{className:"p-oauth_flow__team_switcher position_relative"},a.a.createElement(O["a"],{initialSelectedTeamID:n,teamsList:u,signInUrl:o}))}return false}},{key:"renderAlert",value:function e(){var t=this.props,r=t.appDevelopmentTeamName,n=t.appIsInternalIntegration,i=t.appIsReviewed,o=t.featureOauthReactWta,s=t.featureOauthInternalIntegrationBanner,c=t.orgName,u=t.teamName;if(i)return null;var f=void 0;s?f=n?r?R.t("This app was created by a member of {teamName}, another workspace in {orgName}.",{orgName:Object(l["l"])(c),teamName:Object(l["l"])(r)}):R.t("This app was created by a member of your workspace, {teamName}.",{teamName:Object(l["l"])(u)}):R.rt("This app hasn\u2019t been reviewed or approved by Slack. <a>Learn More</a>.",null,function(e){var t=e.key,r=e.text;return a.a.createElement("a",{key:t,className:"p-oauth_flow__app_not_reviewed_link",href:"https://get.slack.help/hc/en-us/articles/222386767-Manage-apps-for-your-team",target:"_blank",rel:"noopener noreferrer"},r)}):o&&(f=R.rt("This app hasn\u2019t been reviewed or approved by Slack. <a>Learn More</a>",null,function(e){var t=e.key,r=e.text;return a.a.createElement("a",{key:t,className:"p-oauth_flow__app_not_reviewed_link",href:"https://get.slack.help/hc/en-us/articles/222386767-Manage-apps-for-your-team",target:"_blank",rel:"noopener noreferrer"},r)}));return a.a.createElement(p["a"],{type:n?"neutral":"warning",text:f,showCloseButton:false})}},{key:"renderConfirmTitle",value:function e(){var t=this.props,r=t.appIsInstalled,n=t.appName,a=t.featureOauthReactWta,i=t.featureWtaAppDetailOauthUpdates,o=t.needSecondStep,s=t.singleChannel,c=t.teamName;var u=this.state.step;var p=void 0;i?p=1===u?s?R.rt("{appName} would like to do the following in the <strong>selected channel:</strong>",{appName:n}):r?R.rt("{appName} would like to do the following in the <strong>all channels it\u2018s a member of:</strong>",{appName:n}):R.rt("{appName} would like to do the following in the <strong>selected channels:</strong>",{appName:n}):r?this.noWorkspaceScopesUsed()?o?s?R.rt("{appName} is already installed on {teamName}, and would now also like to do the following in the <strong>selected channel:</strong>",{appName:n,teamName:c}):R.rt("{appName} is already installed on {teamName}, and would now also like to do the following in <strong>all channels it\u2019s a member of:</strong>",{appName:n,teamName:c}):this.noChannelScopesUsed()?R.t("{appName} is already installed on {teamName}.",{teamName:Object(l["l"])(c),appName:Object(l["l"])(n)}):R.t("{appName} is already installed on {teamName}, and would now also like to:",{teamName:Object(l["l"])(c),appName:Object(l["l"])(n)}):R.t("{appName} is already installed on {teamName}, and would now also like to:",{teamName:Object(l["l"])(c),appName:Object(l["l"])(n)}):R.t("On {teamName}, {appName} would like to:",{teamName:Object(l["l"])(c),appName:Object(l["l"])(n)}):a&&(p=1===u?R.rt("{app_name} would like to do the following in the <strong>selected channels:</strong>",{app_name:n}):R.t("On {team}, {app_name} would like to:",{team:Object(l["l"])(c),app_name:Object(l["l"])(n)}));return p}},{key:"renderContinueOrInstallButton",value:function e(){var t=this.state,r=t.step,n=t.disableInstallButton;var i=this.props,o=i.featureOauthReactWta,s=i.needSecondStep,c=i.appIsInstalled,l=i.appId,p=i.appType,f=i.featureWtaAppDetailOauthUpdates,d=i.singleChannel;var v=void 0;var h=void 0;var m=void 0;var b=void 0;var _=void 0;var g=void 0;var O=void 0;if(o){b=R.t("Continue");_=R.t("Install")}f&&(g=R.t("Allow"));if(0!==r||!s||f&&this.noWorkspaceScopesUsed()){v=f&&c?this.noWorkspaceScopesUsed()&&this.noChannelScopesUsed()?b:g:_;h=function e(){window.dataLayer.push({event:"AppDirectoryApp_Authorize",is_installed:c,app_id:l,app_type:p})};m="submit"}else{v=b;h=this.onContinueClick;m="button"}f&&n&&(O=d?R.t("Select channel"):R.t("Select channels"));return a.a.createElement(u["d"],{className:"p-oauth_flow__button",htmlType:m,onClick:h,disabled:n},v,O&&a.a.createElement(y["c"],{tip:O},a.a.createElement("div",{className:"p-oauth_flow__button_tooltip_target"})))}},{key:"renderChannelSelections",value:function e(){var t=this.state,r=t.selectedChannelValues,n=t.selectedRadioValue;var i=this.props,o=i.channelItems,s=i.featureOauthReactWta,c=i.appName;var l=void 0;var u=void 0;var p=void 0;var d=void 0;var v=void 0;var m=void 0;var _=void 0;if(s){l=R.t("Select channels");u=R.t("All Public Channels");p=R.t("Any channel accessible to full members of your team.");d=R.t("Specific channels");v=R.t("Search for channels");m=R.t("No channels");_=R.t("{app_name} will still be able to access a private conversation with you",{app_name:c})}var g=U(o,r);var y=r.map(function(e){return'"'+e.id+'"'}).join(",");return a.a.createElement("div",{className:"margin_auto no_right_padding"},a.a.createElement("div",{className:"large_top_margin"},a.a.createElement("p",{className:"p-oauth_flow__para bold"},l),a.a.createElement("div",{className:"margin_bottom_100"},a.a.createElement(f["a"],{text:u,htmlFor:"all-channels",type:"inline",subtext:p,cursor:"pointer"},a.a.createElement(b["a"],{name:"channels",id:"all-channels",value:"['*']",checked:"all-channels"===n,onChange:this.changeRadioButtonCheck}))),a.a.createElement("div",{className:"margin_bottom_100"},a.a.createElement("label",{htmlFor:"specific-channels",className:"c-label c-label--inline c-label--pointer margin_bottom_100"},a.a.createElement("div",{className:"c-label__text full_width"},a.a.createElement("span",{className:"bold"},d)),a.a.createElement("input",{id:"specific-channels",className:"c-input_radio",type:"radio",name:"channels",value:"["+y+"]",checked:"specific-channels"===n,onChange:this.changeRadioButtonCheck})),a.a.createElement("div",{className:"margin_left_150 margin_top_50 p-oauth_flow__lazy-filter-select-container"},a.a.createElement(h["a"],{ref:this.setLfsRef,items:g,scrollThreshold:D,placeholderText:v,onKeyUp:this.onInputKeyUp,onValueChange:this.updateSpecificChannelsValues,listItemClass:F}))),a.a.createElement("div",{className:"margin_bottom_100"},a.a.createElement(f["a"],{text:m,htmlFor:"no-channels",type:"inline",subtext:_,cursor:"pointer"},a.a.createElement(b["a"],{name:"channels",id:"no-channels",value:"[]",checked:"no-channels"===n,onChange:this.changeRadioButtonCheck})))))}},{key:"renderSingleChannelPicker",value:function e(){var t=this.props,r=t.channelItems,n=t.featureOauthReactWta,i=t.featureWtaAppDetailOauthUpdates,o=t.needSecondStep;var s=this.state.selectedChannelValues;var c=s.map(function(e){return e.id});var l=U(r,s);var u=void 0;var p=void 0;if(n){u=R.t("Post to");p=R.t("Select Channel")}var f=a.a.createElement(h["a"],{ref:this.setLfsRef,items:l,scrollThreshold:D,placeholderText:p,onValueChange:this.updateSpecificChannelsValues,listItemClass:F,single:true});return o&&i?a.a.createElement("div",{className:"margin_top_200"},a.a.createElement("p",{className:"p-oauth_flow__para bold"},R.t("Select a channel")),a.a.createElement("div",{className:"p-oauth_flow__lazy-filter-select-container"},f),a.a.createElement("input",{type:"hidden",name:"channel",value:c})):a.a.createElement("div",{className:"p-oauth_flow__single_channel_picker display_flex align_items_center"},a.a.createElement("span",{className:"margin_right_50"},u),a.a.createElement("div",{className:"flex_one p-oauth_flow__lazy-filter-select-container"},f),a.a.createElement("input",{type:"hidden",name:"channel",value:c}))}},{key:"renderSingleChannelOrChannelSelections",value:function e(){var t=this.state.step;var r=this.props,n=r.appIsInstalled,a=r.singleChannel,i=r.needSecondStep,o=r.channelItems,c=r.featureWtaAppDetailOauthUpdates;if(Object(s["isEmpty"])(o)||this.noChannelScopesUsed())return null;if(1===t){if(c&&!a&&n)return null}else if(i&&!this.noWorkspaceScopesUsed())return null;return a?this.renderSingleChannelPicker():this.renderChannelSelections()}},{key:"render",value:function e(){var t=this.state.step;var r=this.props,n=r.appIcon,i=r.appName,o=r.teamIcon,c=r.teamName,l=r.safeTeamScopeInfo,p=r.dangerousTeamScopeInfo,f=r.safeChannelScopeInfo,d=r.dangerousChannelScopeInfo,v=r.authRowIdentifier,h=r.crumbKey,b=r.denyUrl,_=r.needSecondStep,g=r.featureOauthReactWta,y=r.featureWtaAppDetailOauthUpdates;var O={appIcon:n,appName:i,teamIcon:o,teamName:c};var E=void 0;E=0!==t||y&&this.noWorkspaceScopesUsed()&&_?f.concat(d):Object(s["compact"])(l.concat(p));var j=void 0;g&&(j=R.t("Cancel"));return a.a.createElement("div",null,this.renderAlert(),a.a.createElement("header",{className:"p-oauth_flow__nav"},a.a.createElement("div",{className:"p-oauth_flow__nav_back"},this.maybeRenderBackButton()),a.a.createElement("div",{className:"p-oauth_flow__nav_back clearfix"},this.maybeRenderTeamPicker())),a.a.createElement("section",{className:"p-oauth_flow__header align_center"},a.a.createElement(w["a"],O),a.a.createElement("h3",{className:"p-oauth_flow__title normal","data-qa":"oauth_page_title"},this.renderConfirmTitle())),a.a.createElement("section",{className:"p-oauth_flow__body"},a.a.createElement("form",{id:"oauth_authorize_confirm_form",name:"oauth-confirm",action:"/oauth/"+v,method:"post","accept-encoding":"UTF-8"},a.a.createElement("input",{type:"hidden",name:"create_authorization",value:"1"}),a.a.createElement("input",{type:"hidden",name:"crumb",value:h}),a.a.createElement("div",{className:"p-oauth_flow__scopes_container"},a.a.createElement(m["a"],{scopeInfo:E}),this.renderSingleChannelOrChannelSelections(),a.a.createElement("div",{className:"p-oauth_flow__buttons_container"},a.a.createElement(u["d"],{type:"outline",onClick:this.onDenyClick,href:b,className:"p-oauth_flow__button",target:"_self"},j),this.renderContinueOrInstallButton())))))}}]);return t}(n["PureComponent"]);q.displayName="OAuthConfirm";q.propTypes=x;q.defaultProps=L;q.displayName="OAuthConfirm";var G=q;t["a"]=Object(E["a"])("feature_oauth_react_wta","feature_oauth_internal_integration_banner","feature_wta_app_detail_oauth_updates")(q)},18690:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(45);var c=r(16917);var l={appIcon:o.a.string.isRequired,appName:o.a.string.isRequired,teamIcon:o.a.string.isRequired,teamName:o.a.string.isRequired};var u={appIcon:void 0,appName:void 0,teamIcon:void 0,teamName:void 0};var p=function e(t){var r=t.appIcon,n=t.appName,i=t.teamIcon,o=t.teamName;return a.a.createElement("div",{className:"p-oauth_flow__logos margin_auto display_flex"},a.a.createElement("img",{className:"p-oauth_flow__logo_img",src:r,alt:n,title:n}),a.a.createElement("span",{className:"p-oauth_flow__arrows flex_one sk_light_grey"},a.a.createElement(c["a"],{type:"arrow-large-left",className:"p-oauth_flow__left_directional_arrow--secondary full_width inline_block position_relative"}),a.a.createElement(c["a"],{type:"arrow-large-right",className:"p-oauth_flow__right_directional_arrow--secondary full_width inline_block position_relative"})),a.a.createElement("img",{className:"p-oauth_flow__logo_img",src:i,alt:n,title:o}))};p.displayName="OAuthPageLogos";p.propTypes=l;p.defaultProps=u;t["a"]=Object(s["pure"])(p)},18692:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18693);var a=r(16928);Object(a["a"])("interop.mountOrgRetentionRequest",n["a"])},18693:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(16954);var s=r(16927);var c=r(18694);var l=r(16943);var u=r(18695);var p=function e(t,r,n,p){if(!t)throw new Error("mountOrgRetentionRequest must be called with a teamId parameter");var f=Object(s["c"])(t);var d=function a(i,o){Object(c["b"])(i,o).then(function(){e(t,r,n,p)}).catch(function(e){return Object(l["f"])("Failed to submit retention request:",e)})};Object(c["a"])(n).then(function(e){var t=e.id,n=e.has_permission,s=e.all_org_owners,c=e.current_settings,l=e.pending;Object(o["a"])(a.a.createElement(i["Provider"],{store:f},a.a.createElement(u["a"],{submitRequest:d,orgId:t,orgName:p,hasPermission:n,orgOwners:s,currentSettings:c,pendingData:l})),r)}).catch(function(e){return Object(l["f"])("Failed to fetch retention settings:",e)})};t["a"]=p},18694:function(e,t,r){"use strict";t["a"]=a;t["b"]=i;var n=r(16929);function a(e){return Object(n["c"])("mc.enterprise.retention.get",{enterprise:e}).then(function(e){return e.data})}function i(e,t){var r="newRequest"===e?"mc.enterprise.retention.requestChange":"mc.enterprise.retention.cancelRequest";return Object(n["c"])(r,t).then(function(e){return e.data})}},18695:function(e,t,r){"use strict";var n=r(18696);t["a"]=n["a"]},18696:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16912);var u=r(16959);var p=r(18697);var f=r(18698);var d=r(18699);var v=r(18700);var h=r(18701);var m=r(17844);var b=r(20249);var _=r.n(b);var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function O(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=new l["b"]("policy-retention");var C={orgId:a.a.string.isRequired,hasPermission:a.a.bool.isRequired,orgName:a.a.string.isRequired,orgOwners:a.a.object.isRequired,currentSettings:a.a.object.isRequired,submitRequest:a.a.func.isRequired,pendingData:a.a.object,featureGdprExports:a.a.bool.isRequired};var S={pendingData:{}};var T=function(e){k(t,e);function t(e){E(this,t);var r=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={requestedSettings:{},mcUser:"",requester:{},modalOpen:false,isSubmittable:false};r.onUpdatePolicySelect=r.onUpdatePolicySelect.bind(r);r.onUpdateRequesterSelect=r.onUpdateRequesterSelect.bind(r);r.onMcUserInput=r.onMcUserInput.bind(r);r.onSubmitRequest=r.onSubmitRequest.bind(r);r.onCancelRequest=r.onCancelRequest.bind(r);r.onCloseModal=r.onCloseModal.bind(r);r.onOpenModal=r.onOpenModal.bind(r);return r}y(t,[{key:"onUpdatePolicySelect",value:function e(t){var r=t.policyType,n=t.data;var a=this.props.featureGdprExports;var i=this.state.requestedSettings;var o=i[r]||{};var s=this.props.currentSettings[r];var l=g({},s,o,n);var u=void 0;var p=Object(m["a"])({policyType:r,settingValues:l,featureGdprExports:a});u=c.a.isEqual(s,p)?c.a.omit(i,r):g({},this.state.requestedSettings,O({},r,l));this.setState(function(){return{requestedSettings:u}})}},{key:"onUpdateRequesterSelect",value:function e(t){this.setState(function(){return{requester:t}})}},{key:"onMcUserInput",value:function e(t){this.setState(function(){return{mcUser:t}})}},{key:"onSubmitRequest",value:function e(){var t=this;var r=this.formatSettings();this.setState(function(){return{modalOpen:false,requestedSettings:{}}},function(){t.props.submitRequest("newRequest",r)})}},{key:"onCancelRequest",value:function e(){var t=this;var r={enterprise:this.props.orgId};this.setState(function(){return{modalOpen:false,requestedSettings:{}}},function(){t.props.submitRequest("cancelRequest",r)})}},{key:"onCloseModal",value:function e(){this.setState(function(){return{modalOpen:false}})}},{key:"onOpenModal",value:function e(){this.setState(function(){return{modalOpen:true}})}},{key:"formatSettings",value:function e(){var t=this.props.featureGdprExports;var r=this.state,n=r.requestedSettings,a=r.mcUser,i=r.requester;var o=c.a.reduce(n,function(e,r,n){e[n]=Object(m["a"])({policyType:n,settingValues:r,featureGdprExports:t});return e},{});return{mc_user:a,enterprise:this.props.orgId,requester:i.id,requested_settings:JSON.stringify(o)}}},{key:"isFormDataValid",value:function e(){var t=this.props.featureGdprExports;var r=this.state.requestedSettings;return c.a.every(r,function(e,r){var n=e.retention_duration,a=e.retention_type;return!(Object(m["f"])({policyType:r,retentionType:a,featureGdprExports:t})&&(0===n||""===n))})}},{key:"isFormSubmittable",value:function e(){var t=this.state,r=t.requestedSettings,n=t.mcUser,a=t.requester;return this.isFormDataValid()&&!c.a.isEmpty(r)&&!c.a.isUndefined(n)&&!c.a.isEmpty(n)&&!c.a.isUndefined(a)&&!c.a.isEmpty(a)}},{key:"maybeRenderPendingAlert",value:function e(t,r,n){if(t)return o.a.createElement(f["a"],{requestTimestamp:c.a.parseInt(n),requesterName:r});return null}},{key:"maybeRenderModal",value:function e(){if(!this.state.modalOpen)return"";var t=void 0;var r=!c.a.isEmpty(this.props.pendingData);var n=this.props.pendingData,a=n.date_create,i=n.requester;if(r){var s=i.name;t=o.a.createElement(p["a"],{orgName:this.props.orgName,requestDate:a,requesterName:s,onConfirm:this.onCancelRequest,onCancel:this.onCloseModal,cancelRequest:true})}else{var l=this.state.requester.name;t=o.a.createElement(p["a"],{orgName:this.props.orgName,currentPolicies:this.props.currentSettings,requestedPolicies:this.state.requestedSettings,requesterName:l,onConfirm:this.onSubmitRequest,onCancel:this.onCloseModal})}return t}},{key:"renderPolicyItem",value:function e(t,r,n){var a=this.props.featureGdprExports;return o.a.createElement(h["a"],{displaySettings:c.a.get(this.state.requestedSettings,t)||c.a.get(this.props.currentSettings,t),currentSettings:n?c.a.get(this.props.currentSettings,t):{},pendingSettings:c.a.get(r,t),onUpdatePolicy:this.onUpdatePolicySelect,policyType:t,policyLabel:Object(m["c"])({policyType:t,featureGdprExports:a}),isFormPending:n})}},{key:"renderButtons",value:function e(){var t=!c.a.isEmpty(this.props.pendingData);var r=this.isFormSubmittable();var n=void 0;n=t?o.a.createElement("div",null,o.a.createElement("button",{type:"button",className:"btn btn_outline disabled margin_right_75",disabled:true},w.t("Request Submitted")),o.a.createElement("button",{className:"btn btn_outline",onClick:this.onOpenModal},w.t("Cancel"))):r?o.a.createElement("div",null,o.a.createElement("button",{className:"btn",onClick:this.onOpenModal},w.t("Continue"))):o.a.createElement("div",null,o.a.createElement("button",{className:"btn btn_outline disabled",disabled:true},w.t("Continue")));return n}},{key:"render",value:function e(){var t=!c.a.isEmpty(this.props.pendingData)||!this.props.hasPermission;var r=this.props.pendingData,n=r.requested_settings,a=r.mc_user,i=r.requester,s=r.date_create;return o.a.createElement("div",{className:"p-org_retention_request"},this.maybeRenderModal(),o.a.createElement("div",null,this.maybeRenderPendingAlert(!c.a.isEmpty(this.props.pendingData),a,s),o.a.createElement("div",{className:"p-org_retention_request__section_header"},w.t("Message Retention")),o.a.createElement("div",null,this.renderPolicyItem("channels",n,t)),o.a.createElement("div",null,this.renderPolicyItem("private_channels",n,t)),o.a.createElement("div",null,this.renderPolicyItem("dms",n,t)),o.a.createElement("div",null,this.renderPolicyItem("allow_override",n,t)),o.a.createElement("div",{className:"p-org_retention_request__section_header"},w.t("File Retention")),o.a.createElement("div",null,this.renderPolicyItem("files",n,t)),o.a.createElement("div",{className:"p-org_retention_request__section_header margin_bottom_100"},w.t("Authorization")),o.a.createElement("p",{className:"margin_bottom_200"},w.t("Please include information about who is requesting this update, and your name.")),o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(d["a"],{users:this.props.orgOwners,currentSelectionValue:c.a.get(this.state.requester,"id")||c.a.get(i,"id"),onUpdateUserSelection:this.onUpdateRequesterSelect,isFormPending:t}))),o.a.createElement(v["a"],{currentUserValue:this.state.mcUser||a,isDisabled:t,placeholder:w.t("Please enter your full name"),onUpdateUserInput:this.onMcUserInput}),this.renderButtons()))}}]);return t}(o.a.Component);T.displayName="OrgRetentionRequest";T.propTypes=C;T.defaultProps=S;t["a"]=Object(u["a"])("feature_gdpr_exports")(T)},18697:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(16959);var f=r(16917);var d=r(16912);var v=r(17077);var h=r(17844);var m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=new d["b"]("policy-retention");var O={orgName:a.a.string.isRequired,requesterName:a.a.string.isRequired,onConfirm:a.a.func.isRequired,onCancel:a.a.func.isRequired,requestedPolicies:a.a.object,currentPolicies:a.a.object,requestDate:a.a.string,cancelRequest:a.a.bool,featureGdprExports:a.a.bool.isRequired};var E={cancelRequest:false,requestDate:"",currentPolicies:{},requestedPolicies:{}};var j=function(e){g(t,e);function t(e){b(this,t);var r=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onClickCloseOrCancelButton=r.onClickCloseOrCancelButton.bind(r);r.onClickSubmitButton=r.onClickSubmitButton.bind(r);return r}m(t,[{key:"onClickCloseOrCancelButton",value:function e(){this.props.onCancel()}},{key:"onClickSubmitButton",value:function e(){this.props.onConfirm()}},{key:"buildRequestModalContent",value:function e(){var t=this.props,r=t.requesterName,n=t.orgName;return o.a.createElement("div",null,o.a.createElement("div",{className:"p-org_retention_request__modal_sectionp-org_retention_request__modal_section--lead"},o.a.createElement("p",{className:"p-org_retention_request--font_bump"},o.a.createElement("strong",null,r,"\u2019s")," requested changes are listed below. Once you\u2019ve clicked ",o.a.createElement("strong",null,"Confirm with Customer"),", a Slackbot message will be sent to the Primary Org Owner of ",n," to confirm the change."),o.a.createElement("p",null,o.a.createElement("strong",null,"Your name will be included with this request."))),o.a.createElement("div",null,this.renderRequestedPolicies()))}},{key:"buildCancelModalContent",value:function e(){var t=Object(v["a"])(this.props.requestDate,{omitTime:true,dateFormat:"MMMM Do, YYYY"});return o.a.createElement("div",null,o.a.createElement("h2",{className:"margin_bottom_150"},y.t("Are you sure you\u2019d like to cancel the retention policy update request?")),o.a.createElement("div",{className:"p-org_retention_request--font_bump margin_bottom_300"},"Once you\u2019ve clicked ",o.a.createElement("strong",null,"Confirm Cancellation"),", Slackbot mark the approval request sent to ",this.props.orgName," on",o.a.createElement("strong",null,t)," as expired."))}},{key:"renderRequestedPolicies",value:function e(){var t=this;var r=this.props.featureGdprExports;return c.a.map(this.props.requestedPolicies,function(e,n){var a=e.retention_type,i=e.retention_duration,s=e.is_locked;var l=0!==a&&"allow_override"!==n||s?a:4;var u=c.a.get(t.props.currentPolicies,n);var p=u.retention_type,f=u.retention_duration,d=u.is_locked;var v=0!==p&&"allow_override"!==n||d?p:4;return o.a.createElement("div",{key:n,className:"p-org_retention_request__modal_section"},o.a.createElement("div",{className:"bold margin_bottom_50 p-org_retention_request--font_bump"},Object(h["c"])({policyType:n,featureGdprExports:r})),o.a.createElement("div",null,o.a.createElement("div",{className:"bold"}," ","\ud83d\udc49\ud83c\udffe ",o.a.createElement("span",{className:"margin_left_50"},y.t("New:")," ",Object(h["b"])({policyType:n,retentionType:l,policyDurationValue:i,featureGdprExports:r}))),o.a.createElement("div",null," ","\ud83d\udc74\ud83c\udffb ",o.a.createElement("span",{className:"margin_left_50"},y.t("Old:")," ",Object(h["b"])({policyType:n,retentionType:v,policyDurationValue:f,featureGdprExports:r})))))})}},{key:"render",value:function e(){var t=this.props.cancelRequest?"":y.t("Ready to confirm with {orgName}?",{orgName:this.props.orgName});var r=this.props.cancelRequest?this.buildCancelModalContent():this.buildRequestModalContent();var n=this.props.cancelRequest?y.t("Confirm Cancellation"):y.t("Confirm with Customer");var a=u()("btn",{btn_danger:this.props.cancelRequest});return o.a.createElement("div",{className:"c-modal c-modal--active"},o.a.createElement("div",{className:"c-modal__background"}),o.a.createElement("div",{className:"c-modal__contents c-modal__contents--active p-org_retention_request__modal"},o.a.createElement(f["a"],{type:"times",onClick:this.onClickCloseOrCancelButton,className:"c-modal__close"}),o.a.createElement("div",{className:"c-modal__header"},o.a.createElement("h2",{className:"margin_bottom_0"},t)),o.a.createElement("div",{className:"c-modal__body p-org_retention_request__modal_content"},r,o.a.createElement("div",{className:"margin_bottom_400"},o.a.createElement("button",{type:"button",className:"btn btn_outline margin_right_75",onClick:this.onClickCloseOrCancelButton},y.t("Cancel")),o.a.createElement("button",{type:"button",className:a,onClick:this.onClickSubmitButton},n)))))}}]);return t}(o.a.PureComponent);j.displayName="PolicyRequestModal";j.propTypes=O;j.defaultProps=E;t["a"]=Object(p["a"])("feature_gdpr_exports")(j)},18698:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(45);var c=r(17077);var l=r(16912);var u=new l["b"]("policy-retention");var p=function e(t){var r=Object(c["a"])(t.requestTimestamp,{omitTime:true,dateFormat:"MMMM Do, YYYY"});var n=u.t("{requesterName} requested the following policy updates on {displayDate}",{requesterName:t.requesterName,displayDate:r});var a=u.t("If you need to modify this request, please cancel it and initiate a new one. ");return o.a.createElement("div",{className:"alert alert_info p-org_retention_request--font_bump padding_top_150 padding_bottom_150 margin_bottom_200"},o.a.createElement("ts-icon",{class:"ts_icon_info_circle"}),o.a.createElement("strong",null,n),o.a.createElement("p",{className:"no_margin"},a))};p.displayName="PendingRequestAlert";p.propTypes={requestTimestamp:a.a.number.isRequired,requesterName:a.a.string.isRequired};t["a"]=Object(s["pure"])(p)},18699:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16912);var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=new l["b"]("policy-retention");var h={users:a.a.object.isRequired,onUpdateUserSelection:a.a.func,currentSelectionValue:a.a.string,isFormPending:a.a.bool};var m={onUpdateUserSelection:c.a.noop,currentSelectionValue:"",isFormPending:false};var b=function(e){d(t,e);function t(e){p(this,t);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onOptionSelection=r.onOptionSelection.bind(r);return r}u(t,[{key:"onOptionSelection",value:function e(t){var r=t.target[t.target.selectedIndex].getAttribute("data-name");this.props.onUpdateUserSelection({id:t.target.value,name:r})}},{key:"renderOptions",value:function e(){return c.a.map(this.props.users,function(e){return o.a.createElement("option",{value:e.id,key:e.id,"data-name":e.name},e.name)})}},{key:"render",value:function e(){return o.a.createElement("div",{className:"margin_bottom_200"},o.a.createElement("label",{htmlFor:"policy-requester"},v.t("Requester")),o.a.createElement("div",{className:"p-org_retention_request__select_wrapper"},o.a.createElement("select",{value:this.props.currentSelectionValue,onChange:this.onOptionSelection,disabled:this.props.isFormPending,className:"p-org_retention_request__select",id:"policy-requester"},o.a.createElement("option",{value:"",disabled:true},v.t("Choose an Organization Owner")),this.renderOptions())))}}]);return t}(o.a.Component);b.displayName="RequesterSelect";b.propTypes=h;b.defaultProps=m;t["a"]=b},18700:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16912);var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=new l["b"]("policy-retention");var h={onUpdateUserInput:a.a.func,currentUserValue:a.a.string,placeholder:a.a.string,isDisabled:a.a.bool};var m={onUpdateUserInput:c.a.noop,currentUserValue:"",placeholder:"",isDisabled:false};var b=function(e){d(t,e);function t(e){p(this,t);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onUpdateInput=r.onUpdateInput.bind(r);return r}u(t,[{key:"onUpdateInput",value:function e(t){this.props.onUpdateUserInput(t.target.value)}},{key:"render",value:function e(){return o.a.createElement("div",{className:"margin_bottom_200"},o.a.createElement("label",{htmlFor:"mc-user"},v.t("Your Full Name")),o.a.createElement("div",{className:"p-org_retention_request__requester_input",id:"mc-user"},o.a.createElement("input",{type:"text",value:this.props.currentUserValue,placeholder:this.props.placeholder,onChange:this.onUpdateInput,disabled:this.props.isDisabled?"disabled":""})))}}]);return t}(o.a.Component);b.displayName="McUserInput";b.propTypes=h;b.defaultProps=m;t["a"]=b},18701:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16959);var u=r(16912);var p=r(18702);var f=r(17844);var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=new u["b"]("policy-retention");var _={displaySettings:a.a.shape({is_locked:a.a.bool,retention_duration:a.a.oneOfType([a.a.string,a.a.number]),retention_type:a.a.number}).isRequired,policyType:a.a.oneOf(["channels","private_channels","dms","allow_override","files"]).isRequired,policyLabel:a.a.string.isRequired,currentSettings:a.a.shape({is_locked:a.a.bool,retention_duration:a.a.number,retention_type:a.a.number}),onUpdatePolicy:a.a.func,pendingSettings:a.a.shape({is_locked:a.a.bool,retention_duration:a.a.number,retention_type:a.a.number}),isFormPending:a.a.bool,featureGdprExports:a.a.bool.isRequired};var g={pendingSettings:{},currentSettings:{},onUpdatePolicy:c.a.noop,isFormPending:false};var y=function(e){m(t,e);function t(e){v(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onUpdatePolicy=r.onUpdatePolicy.bind(r);return r}d(t,[{key:"onUpdatePolicy",value:function e(t){this.props.onUpdatePolicy({data:t,policyType:this.props.policyType})}},{key:"maybeRenderCurrentPolicyText",value:function e(){var t=this.props,r=t.featureGdprExports,n=t.policyType;if(!c.a.isEmpty(this.props.pendingSettings)){var a=this.props.currentSettings,i=a.retention_type,s=a.retention_duration,l=a.is_locked;var u=0!==i&&"allow_override"!==this.props.policyType||l?i:4;var p=Object(f["b"])({policyType:n,retentionType:u,policyDurationValue:s,featureGdprExports:r});var d=b.t("Current:");return o.a.createElement("p",null,d," ",p)}return null}},{key:"renderPolicyItem",value:function e(){var t=this.props,r=t.isFormPending,n=t.policyType,a=t.featureGdprExports;var i=Object(f["d"])({policyType:n,featureGdprExports:a});var s=this.props.displaySettings;!c.a.isEmpty(this.props.pendingSettings)&&r&&(s=this.props.pendingSettings);var l=s,u=l.is_locked,d=l.retention_duration,v=l.retention_type;var h="allow_override"===n&&!u||0===v&&!u&&Object(f["e"])(n)?4:v;return o.a.createElement(p["a"],{id:"policy_select_"+this.props.policyType,options:i,currentSelectionValue:h,currentDurationValue:d,isDeactivated:r,onUpdatePolicySelection:this.onUpdatePolicy})}},{key:"render",value:function e(){return o.a.createElement("div",{className:"p-org_retention_request__policy_item margin_bottom_200"},o.a.createElement("label",{htmlFor:"policy_select_"+this.props.policyType,className:"inline_block"},this.props.policyLabel),this.renderPolicyItem(),this.maybeRenderCurrentPolicyText())}}]);return t}(o.a.Component);y.displayName="PolicyItem";y.propTypes=_;y.defaultProps=g;t["a"]=Object(l["a"])("feature_gdpr_exports")(y)},18702:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(16912);var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=new l["b"]("policy-retention");var h={options:a.a.array.isRequired,onUpdatePolicySelection:a.a.func,currentSelectionValue:a.a.number,currentDurationValue:a.a.oneOfType([a.a.string,a.a.number]),isDeactivated:a.a.bool};var m={onUpdatePolicySelection:c.a.noop,currentSelectionValue:0,currentDurationValue:0,isDeactivated:false};var b=function(e){d(t,e);function t(e){p(this,t);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onTextInput=r.onTextInput.bind(r);r.onOptionSelection=r.onOptionSelection.bind(r);return r}u(t,[{key:"onOptionSelection",value:function e(t){var r=t.target.value;var n=4!==c.a.parseInt(r);this.props.onUpdatePolicySelection({retention_type:c.a.parseInt(r),is_locked:n})}},{key:"onTextInput",value:function e(t){var r=c.a.parseInt(t.target.value)||"";this.props.onUpdatePolicySelection({retention_duration:r})}},{key:"maybeRenderDuration",value:function e(){var t=this;var r=c.a.find(this.props.options,function(e){return e.value===c.a.parseInt(t.props.currentSelectionValue)}),n=r.showDuration;if(n)return o.a.createElement("div",{className:"p-org_retention_request__duration_group "},o.a.createElement("span",{className:"p-org_retention_request__duration_label"},v.t("Duration")),o.a.createElement("input",{className:"p-org_retention_request__duration_input",type:"text",value:this.props.currentDurationValue,onChange:this.onTextInput,disabled:this.props.isDeactivated}),o.a.createElement("span",{className:"p-org_retention_request__duration_label--secondary margin_left_50"},"days"));return null}},{key:"renderOptions",value:function e(){return c.a.map(this.props.options,function(e){return o.a.createElement("option",{value:e.value,key:e.value},e.label)})}},{key:"render",value:function e(){return o.a.createElement("div",{className:"p-org_retention_request__policy_select_group"},o.a.createElement("div",{className:"p-org_retention_request__select_wrapper margin_right_150"},o.a.createElement("select",{value:this.props.currentSelectionValue,onChange:this.onOptionSelection,disabled:this.props.isDeactivated,className:"p-org_retention_request__select margin_right_200"},this.renderOptions())),this.maybeRenderDuration())}}]);return t}(o.a.Component);b.displayName="PolicySelect";b.propTypes=h;b.defaultProps=m;t["a"]=b},18704:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18705);var a=r(16928);Object(a["a"])("interop.mountPricingCalculator",n["a"])},18705:function(e,t,r){"use strict";t["a"]=l;var n=r(12159);var a=r.n(n);var i=r(9);var o=r(16954);var s=r(16927);var c=r(18706);function l(e,t,r){if(!e)throw new Error("mountPricingCalculator must be called with a teamId parameter");var n=Object(s["c"])(e);Object(o["a"])(a.a.createElement(i["Provider"],{store:n},a.a.createElement(c["a"],r)),t)}},18706:function(e,t,r){"use strict";var n=r(18707);t["a"]=n["a"]},18707:function(e,t,r){"use strict";var n=r(9);var a=r(17738);var i=r(20322);var o=r(18708);var s=function e(t){return Object(i["a"])(t)};var c=function e(t){return{loadPlansAndCostData:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t(Object(a["fetchPlansAndCostData"])({country:r}))},switchTerms:function e(r){return t(Object(a["changeActivePlan"])({term:r}))},switchCurrency:function e(r){return t(Object(a["changeActivePlan"])({currency:r}))},updatePlanLevel:function e(r){return t(Object(a["updatePlanLevel"])(r))}}};t["a"]=Object(n["connect"])(s,c)(o["a"])},18708:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(8);var o=r.n(i);var s=r(3);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(16912);var f=r(20377);var d=r(16994);var v=r(16918);var h=r(18709);var m=r(20171);var b=r.n(m);var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=new p["b"]("pricing_calculator");var j={isUserRestricted:c.a.bool,title:c.a.string,showHeader:c.a.bool,headerBackgroundColor:c.a.string,yearlyPlanCostPerMonthRaw:c.a.number,monthlyPlanCostPerMonthRaw:c.a.number,planLevel:c.a.string.isRequired,planIsYearly:c.a.bool,numMonthsPerPlan:c.a.number,planCostPerMonth:c.a.number,planCurrency:c.a.string,numBillableMembers:c.a.number,numInactiveMembers:c.a.number,isZeroActiveMembers:c.a.bool,totalMembers:c.a.number,totalCost:c.a.number,totalCostWithTax:c.a.number,teamName:c.a.string,tax:c.a.object,teamCredits:c.a.number,showSubmitButton:c.a.bool,submitButtonText:c.a.string,onSubmit:c.a.func,display:c.a.oneOf(["boxed","inline"]),loadPlansAndCostData:c.a.func,switchTerms:c.a.func,switchCurrency:c.a.func,updatePlanLevel:c.a.func,isPlansAndCostDataLoaded:c.a.bool};var k={isUserRestricted:false,title:"",showHeader:true,headerBackgroundColor:"sk_fill_blue",yearlyPlanCostPerMonthRaw:0,monthlyPlanCostPerMonthRaw:0,planIsYearly:false,numMonthsPerPlan:1,planCostPerMonth:0,planCurrency:"USD",numBillableMembers:0,numInactiveMembers:0,isZeroActiveMembers:true,totalMembers:0,totalCost:0,totalCostWithTax:0,teamName:"",tax:null,teamCredits:0,showSubmitButton:true,submitButtonText:null,onSubmit:l["noop"],display:"inline",loadPlansAndCostData:l["noop"],switchTerms:l["noop"],switchCurrency:l["noop"],updatePlanLevel:l["noop"],isPlansAndCostDataLoaded:false};var w=function(e){O(t,e);function t(e){g(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={submitButtonIsPending:false};Object(l["bindAll"])(r,["switchCurrency","handleSubmit","switchtoYearly","switchToMonthly"]);return r}_(t,[{key:"componentDidMount",value:function e(){if(!this.props.isPlansAndCostDataLoaded){this.props.updatePlanLevel(this.props.planLevel);this.props.loadPlansAndCostData()}}},{key:"switchtoYearly",value:function e(){this.props.switchTerms("yearly")}},{key:"switchToMonthly",value:function e(){this.props.switchTerms("monthly")}},{key:"switchCurrency",value:function e(t){this.props.switchCurrency(t.target.value)}},{key:"handleSubmit",value:function e(){var t=this.props.onSubmit;this.setState(function(){return{submitButtonIsPending:true}},t)}},{key:"renderHeader",value:function e(){var t=this.props,r=t.title,n=t.headerBackgroundColor;if(!r)return null;var i=o()("p-pricing_calculator__header","p-pricing_calculator__header--"+n);return a.a.createElement("h3",{className:i},r)}},{key:"renderTermsToggle",value:function e(){var t=this.props,r=t.yearlyPlanCostPerMonthRaw,n=t.monthlyPlanCostPerMonthRaw,i=t.planIsYearly,s=t.planCurrency;var c=Object(f["a"])(r,s);var l=Object(f["a"])(n,s);var u=o()("p-pricing_calculator__terms_toggle_button",{"p-pricing_calculator__terms_toggle_button--active":i});var p=o()("p-pricing_calculator__terms_toggle_button",{"p-pricing_calculator__terms_toggle_button--active":!i});return a.a.createElement("div",{className:"p-pricing_calculator__terms_toggle_container"},a.a.createElement(v["c"],{onClick:this.switchtoYearly,className:u},a.a.createElement("div",{tabIndex:"-1",className:"p-pricing_calculator__terms_toggle_button_focus_wrapper"}),a.a.createElement("h3",null,E.t("Pay each year")),a.a.createElement("span",{className:"p-pricing_calculator__terms_toggle_button_caption"},E.t("{annualPlanCostPerMonth} per member, per month",{annualPlanCostPerMonth:c}))),a.a.createElement(v["c"],{onClick:this.switchToMonthly,className:p},a.a.createElement("div",{tabIndex:"-1",className:"p-pricing_calculator__terms_toggle_button_focus_wrapper"}),a.a.createElement("h3",null,E.t("Pay each month")),a.a.createElement("span",{className:"p-pricing_calculator__terms_toggle_button_caption"},E.t("{monthlyPlanCostPerMonth} per member, per month",{monthlyPlanCostPerMonth:l}))))}},{key:"renderCreditToast",value:function e(){var t=this.props,r=t.teamName,n=t.teamCredits,i=t.planCurrency;if(!n)return null;var o=Object(f["a"])(Math.abs(n),i);var s=n>0?E.rt("{teamName} has <strong>{creditsAppliedFormatted} in credit</strong>, which will be applied at checkout.",{teamName:r,creditsAppliedFormatted:o}):E.rt("{teamName}\u2018s account has an outstanding balance of <strong>{creditsAppliedFormatted}</strong>, which will be added to the final price during checkout",{teamName:r,creditsAppliedFormatted:o});return a.a.createElement(d["d"],{type:"inline",className:"p-pricing_calculator__credit_alert"},s)}},{key:"renderSubmitBtn",value:function e(){var t=this.props,r=t.submitButtonText,n=t.showSubmitButton;var i=this.state.submitButtonIsPending;if(!n)return null;return a.a.createElement(v["b"],{id:"pricing_calculator_submit_btn",size:"large",className:"p-pricing_calculator__submit_btn",onClick:this.handleSubmit,loading:i},r||E.t("Upgrade"))}},{key:"render",value:function e(){var t=this.props,r=t.isUserRestricted,n=t.showHeader,i=t.showSubmitButton,s=t.display,c=t.teamCredits,l=t.isPlansAndCostDataLoaded;if(!l||r)return null;var u=o()("p-pricing_calculator","p-pricing_calculator--"+s,{"p-pricing_calculator--has-header":this.props.showHeader});return a.a.createElement("div",{className:u},n&&this.renderHeader(),a.a.createElement("div",{className:"p-pricing_calculator__body"},this.renderTermsToggle(),a.a.createElement(h["a"],this.props),!!c&&this.renderCreditToast(),i&&this.renderSubmitBtn()))}}]);return t}(n["PureComponent"]);w.displayName="PricingCalculator";w.propTypes=j;w.displayName="PricingCalculator";w.defaultProps=k;t["a"]=w},18709:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(8);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(16912);var u=r(20377);var p=r(20329);var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=new l["b"]("pricing_calculator");var b={planIsYearly:a.a.bool.isRequired,numMonthsPerPlan:a.a.number.isRequired,planCostPerMonth:a.a.number.isRequired,planCurrency:a.a.string.isRequired,teamName:a.a.string,numBillableMembers:a.a.number.isRequired,numInactiveMembers:a.a.number.isRequired,isZeroActiveMembers:a.a.bool.isRequired,totalMembers:a.a.number.isRequired,totalCost:a.a.number.isRequired,totalCostWithTax:a.a.number.isRequired,tax:a.a.shape({value:a.a.number,type:a.a.string})};var _={tax:null,teamName:""};var g=function(e){h(t,e);function t(){d(this,t);return v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}f(t,[{key:"renderRow",value:function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var a=o()("p-pricing_calculator__table_row","p-pricing_calculator__table_row--"+n.type);return c.a.createElement("div",{className:a},c.a.createElement("div",{className:"p-pricing_calculator__table_item p-pricing_calculator__table_item--key"},t),c.a.createElement("div",{className:"p-pricing_calculator__table_item p-pricing_calculator__table_item--value"},r))}},{key:"renderSubtotalRow",value:function e(){var t=this.props,r=t.numMonthsPerPlan,n=t.planCostPerMonth,a=t.numBillableMembers,i=t.numInactiveMembers,o=t.isZeroActiveMembers,s=t.totalMembers,l=t.totalCost,f=t.teamName,d=t.planCurrency;var v=void 0;o?v=m.rt("Your team hasn\u2019t been especially active on Slack lately. We\u2019ll only charge you for one member today, but as your team becomes active that could change. <a>Learn about billing</a>",null,function(e){var t=e.text,r=e.key;return c.a.createElement("a",{key:r,className:"bold",href:"https://get.slack.help/hc/en-us/articles/218915077-Fair-Billing-policy"},t)}):i&&(v=m.rt("{teamName} has {totalMembers, plural, =1 {# member} other {# members}}, but {numInactiveMembers, plural, =1 {# isn\u2019t} other {# aren\u2019t}} actively using Slack. We won\u2019t charge you for {numInactiveMembers, plural, =1 {them} other {them}}, as part of our <a>Fair Billing policy</a>.",{teamName:f,totalMembers:s,numInactiveMembers:i,fallbackHash:"dbc00b53e0783bd19d07fb7811c83b75647ee285"},function(e){var t=e.text,r=e.key;return c.a.createElement("a",{key:r,className:"bold",href:"https://get.slack.help/hc/en-us/articles/218915077-Fair-Billing-policy"},t)}));var h=c.a.createElement("div",null,c.a.createElement(p["a"],{numMonthsPerPlan:r,numBillableMembers:a,numInactiveMembers:i,formattedPlanCostPerMonth:Object(u["a"])(n,d)}),v&&c.a.createElement("div",{className:"p-pricing_calculator__table_item_caption"},v));var b=Object(u["a"])(l,d);return this.renderRow(h,b,{type:"subtotal"})}},{key:"renderTaxRow",value:function e(){var t=this.props,r=t.tax,n=t.planCurrency;var a=void 0;var i=void 0;if(r){switch(r.type){case"vat":a=m.t("Estimated VAT",{fallbackHash:"dbbd5280272ac77ded46312841ade3c45ec237e7"});break;case"sales_tax":a=m.t("Estimated sales tax");break;default:a=m.t("Estimated tax");break}i=Object(u["a"])(r.value,n)}else{a=m.t("Tax");i=m.t("Applied at checkout")}return this.renderRow(a,i,{type:"tax"})}},{key:"renderTotalRow",value:function e(){var t=this.props,r=t.planCurrency,n=t.totalCostWithTax,a=t.planIsYearly;var i=void 0;var o=void 0;if(a){i=m.t("Yearly payment");o=m.rt("Your yearly payment will change when members are added, removed, or go inactive. <a>Learn more</a>",null,function(e){var t=e.text,r=e.key;return c.a.createElement("a",{key:r,className:"bold",href:"https://get.slack.help/hc/en-us/articles/218915077-Fair-Billing-policy"},t)})}else{i=m.t("Monthly payment");o=m.rt("Your monthly payment will change when members are added, removed, or go inactive. <a>Learn more</a>",null,function(e){var t=e.text,r=e.key;return c.a.createElement("a",{key:r,className:"bold",href:"https://get.slack.help/hc/en-us/articles/218915077-Fair-Billing-policy"},t)})}var s=c.a.createElement("div",null,i,c.a.createElement("div",{className:"p-pricing_calculator__table_item_caption"},o));var l=Object(u["a"])(n,r);return this.renderRow(s,l,{type:"total"})}},{key:"render",value:function e(){return c.a.createElement("div",{className:"p-pricing_calculator__table"},this.renderSubtotalRow(),this.renderTaxRow(),this.renderTotalRow())}}]);return t}(s["PureComponent"]);g.displayName="PricingCalculatorTable";g.propTypes=b;g.defaultProps=_;t["a"]=g},18711:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18712);var a=r(16924);var i=r(16916);var o=r(16928);var s=r(17040);var c="redox-container";var l=false;function u(){if(l)return;if(!a["isDev"]&&!a["isJsPath"]){Object(i["warn"])("Redox only works in a development environment");return}var e=document.getElementById(c);if(!e){e=document.createElement("div");e.id=c;document.body.appendChild(e)}l=true;Object(n["a"])(TS.boot_data.team_id,e,p)}function p(){if(!a["isDev"]&&!a["isJsPath"]){Object(i["warn"])("Redox only works in a development environment");return}l=false;Object(n["b"])(document.getElementById(c))}Object(o["a"])("interop.mountRedox",u);Object(o["a"])("interop.unmountRedox",p);Object(s["a"])("redox",u);Object(s["a"])("unmountRedox",p)},18712:function(e,t,r){"use strict";r.d(t,"a",function(){return d});r.d(t,"b",function(){return v});var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(50);var c=r.n(s);var l=r(9);var u=r(16954);var p=r(16927);var f=r(18713);var d=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.a.noop;if(!t)throw new Error("mountRedox must be called with a teamId parameter");var i=Object(p["c"])(t);Object(u["a"])(o.a.createElement(l["Provider"],{store:i},o.a.createElement(f["a"],{onClose:n})),r)};var v=function e(t){c.a.unmountComponentAtNode(t)};var h={mountRedox:d,unmountRedox:v}},18713:function(e,t,r){"use strict";var n=r(18714);t["a"]=n["a"]},18714:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(16966);var u=r(16926);var p=r(17340);var f=r(17342);var d=r(17341);var v=r(17007);var h=r(18715);var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=Object(p["a"])();var E=Object(u["a"])();var j=Object(f["a"])();var k=Object(d["a"])();var w=Object(v["a"])();var C={onClose:o.a.func};var S={onClose:a.a.noop};var T=function(e){y(t,e);function t(){_(this,t);return g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}b(t,[{key:"componentDidMount",value:function e(){var t=this;this.interval=setInterval(function(){t.forceUpdate()},1e3)}},{key:"componentWillUnmount",value:function e(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function e(){var t=M();return c.a.createElement(h["a"],m({onClose:this.props.onClose},t))}}]);return t}(s["Component"]);T.displayName="ConnectedRedox";T.propTypes=C;T.defaultProps=S;function I(e){if(!e)return["(no props)"];if(!a.a.isFunction(e)&&a.a.isObject(e))return Object.keys(e);return["(single unnamed payload)"]}function N(e){var t=[];k.forEach(function(r){r&&r.has&&r.has(e)&&t.push(r&&r.meta&&r.meta.name)});return t}function A(e){var t=a.a.values(O);if(e&&e.has){var r=t.filter(function(t){return e.has(t)});return r.map(function(e){return e.meta.name})}return[]}function P(e){if(e&&e.meta&&e.meta.file){var t=e.meta.file.replace(/-store.*/,"");var r=j.filter(function(e){var r=e&&e.meta&&e.meta.file&&e.meta.file.replace(/-store.*/,"");return r&&r===t});return r.map(function(e){return e.meta.name})}return[]}function R(e){if(!e||!e.meta||!e.meta.file)return"";var t=[];var r=e.meta.file.replace(/-store.*/,"");k.forEach(function(e){if(e&&e.meta&&e.meta.file){var n=e.meta.file.replace(/-store.*/,"");r===n&&t.push(e&&e.meta&&e.meta.name)}});return t}function M(){var e=a.a.map(O,function(e){var t=e.meta,r=t.name,n=t.description,a=t.file,i=t.usageCount;return{action:e,name:r,description:n,file:a,usageCount:i||0,isThunk:false,isFetcher:false,props:I(e.propTypes),reducers:N(e),sideEffectsCount:l["c"][e]?l["c"][e].length:0}});var t=a.a.map(E,function(e){var t=e.meta,r=t.name,n=t.description,a=t.file,i=t.usageCount;return{thunk:e,name:r,description:n,file:a,usageCount:i||0,isThunk:true,isFetcher:!!e.isFetcherCreator,props:I(e.propTypes),sideEffectsCount:0}});var r=a.a.map(j,function(e){var t=e.meta,r=t.name,n=t.file,a=t.usageCount;return{selector:e,name:r,file:n,reducers:R(e),usageCount:a||0}});var n=a.a.map(k,function(e){var t=e.meta||{},r=t.name,n=t.file;return{reducer:e,name:r||"",file:n||"",actions:A(e),selectors:P(e)}});var i=a.a.map(w,function(e){var t=e.meta||{},r=t.name,n=t.file,a=t.description;return{middleware:e,name:r||"",file:n||"",description:a||""}});return{actions:e.concat(t),selectors:r,reducers:n,middlewares:i}}t["a"]=T},18715:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(17066);var f=r(17035);var d=r(17019);var v=r(16917);var h=r(17302);var m=r(18716);var b=r(20250);var _=r.n(b);var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=m["a"].ActionOrThunkInfo,w=m["a"].SelectorInfo,C=m["a"].ReducerInfo,S=m["a"].MiddlewareInfo;var T={actions:o.a.arrayOf(k).isRequired,selectors:o.a.arrayOf(w).isRequired,reducers:o.a.arrayOf(C).isRequired,middlewares:o.a.arrayOf(S).isRequired,onClose:o.a.func};var I={onClose:a.a.noop};var N={name:"asc",usageCount:"desc",reducers:"asc",actions:"asc",selectors:"asc",file:"asc",isThunk:"desc",isFetcher:"desc",sideEffectsCount:"desc"};var A=function(e){j(t,e);function t(){O(this,t);var e=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));a.a.bindAll(e,["renderReducers","renderSelectors","renderMiddlewares","renderActionsAndThunks","onSearchTermChange","renderSearchInput","filterResults","changeToTabAndUpdateSearch","onTabChange","sortCollection","updateSort","renderColumnHeader"]);e.state={searchTerm:"",defaultTabId:"selectors",sort:{selectors:{direction:"desc",key:"usageCount"},actionsAndThunks:{direction:"desc",key:"usageCount"},reducers:{direction:"asc",key:"name"},middlewares:{direction:"asc",key:"name"}}};return e}y(t,[{key:"onSearchTermChange",value:function e(t){t.preventDefault();var r=t.target.value;this.setState(function(){return{searchTerm:r}})}},{key:"onTabChange",value:function e(){this.setState(function(){return{searchTerm:""}})}},{key:"updateSort",value:function e(t,r){this.setState(function(e){var n=g({},e.sort);if(n[t].key===r)n[t].direction="asc"===n[t].direction?"desc":"asc";else{n[t].key=r;n[t].direction=N[r]||"asc"}return{sort:n}})}},{key:"sortCollection",value:function e(t,r){var n=this.state.sort;var i=a.a.sortBy(t,n[r].key);"desc"===n[r].direction&&i.reverse();return i}},{key:"changeToTabAndUpdateSearch",value:function e(t,r){var n=this;this.setState(function(){return{defaultTabId:null}},function(){n.setState(function(){return{defaultTabId:t}},function(){n.setState(function(){return{searchTerm:r}})})})}},{key:"filterResults",value:function e(t,r,n){if(!t)return r;var i=t.toLowerCase();var o=r.filter(function(e){var t=false;n.forEach(function(r){var n=e&&e[r];a.a.isArray(n)&&(n=n.join(","));n.toLowerCase().indexOf(i)>=0&&(t=true)});return t});return o}},{key:"renderSearchInput",value:function e(){var t=this.state.searchTerm;return c.a.createElement(d["a"],{className:"p-redox__search_input margin_top_150 margin_bottom_150",value:t,onChange:this.onSearchTermChange,placeholder:"search"})}},{key:"renderColumnHeader",value:function e(t,r,n){var a=this;var i=this.state.sort;var o={};var s=void 0;var l=false;if(r&&n){l=true;o.onClick=function(){a.updateSort(r,n)};i[r].key===n&&(s="asc"===i[r].direction?c.a.createElement(v["b"],{className:"nudge_top_2",inline:true,type:"caret-up"}):c.a.createElement(v["b"],{className:"nudge_top_2",inline:true,type:"caret-down"}))}var p=u()("p-redox__table_cell","p-redox__table_column_header","p-redox__table_column_header--"+n,{"p-redox__table_column_header--sortable":l});return c.a.createElement("td",g({className:p},o),t,s)}},{key:"renderReducers",value:function e(){var t=this;var r=this.props.reducers;var n=this.state.searchTerm;var a=this.filterResults(n,r,["name","file","actions","selectors"]);var i=this.sortCollection(a,"reducers");return c.a.createElement(c.a.Fragment,null,this.renderSearchInput(),c.a.createElement("table",{className:"p-redox__table"},c.a.createElement("tbody",null,c.a.createElement("tr",{className:"bold p-redox__table_header_row"},this.renderColumnHeader("Name","reducers","name"),this.renderColumnHeader("Actions"),this.renderColumnHeader("Selectors"),this.renderColumnHeader("File","reducers","file")),i.map(function(e,r){return c.a.createElement(M,{key:""+e.name+r,reducer:e,changeToTabAndUpdateSearch:t.changeToTabAndUpdateSearch})}))))}},{key:"renderMiddlewares",value:function e(){var t=this.props.middlewares;var r=this.state.searchTerm;var n=this.filterResults(r,t,["name","description","file"]);var a=this.sortCollection(n,"middlewares");return c.a.createElement(c.a.Fragment,null,this.renderSearchInput(),c.a.createElement("table",{className:"p-redox__table"},c.a.createElement("tbody",null,c.a.createElement("tr",{className:"bold p-redox__table_header_row"},this.renderColumnHeader("Name","middlewares","name"),this.renderColumnHeader("Description"),this.renderColumnHeader("File","middlewares","file")),a.map(function(e,t){return c.a.createElement(x,{key:""+e.name+t,middleware:e})}))))}},{key:"renderSelectors",value:function e(){var t=this;var r=this.props.selectors;var n=this.state.searchTerm;var a=this.filterResults(n,r,["name","file"]);var i=this.sortCollection(a,"selectors");return c.a.createElement(c.a.Fragment,null,this.renderSearchInput(),c.a.createElement("table",{className:"p-redox__table"},c.a.createElement("tbody",null,c.a.createElement("tr",{className:"bold p-redox__table_header_row"},this.renderColumnHeader("Name","selectors","name"),this.renderColumnHeader("Usage Count","selectors","usageCount"),this.renderColumnHeader("Reducers"),this.renderColumnHeader("File","selectors","file")),i.map(function(e,r){return c.a.createElement(R,{key:""+e.name+r,selector:e,changeToTabAndUpdateSearch:t.changeToTabAndUpdateSearch})}))))}},{key:"renderActionsAndThunks",value:function e(){var t=this;var r=this.props.actions;var n=this.state.searchTerm;var a=this.filterResults(n,r,["name","description","file"]);var i=this.sortCollection(a,"actionsAndThunks");var o=c.a.createElement("tr",{className:"bold p-redox__table_header_row"},this.renderColumnHeader("Name","actionsAndThunks","name"),this.renderColumnHeader("Description"),this.renderColumnHeader("Usage Count","actionsAndThunks","usageCount"),this.renderColumnHeader("Thunk?","actionsAndThunks","isThunk"),this.renderColumnHeader("Fetcher?","actionsAndThunks","isFetcher"),this.renderColumnHeader("Props"),this.renderColumnHeader("Reducers"),this.renderColumnHeader("# Side Effects","actionsAndThunks","sideEffectsCount"),this.renderColumnHeader("File","actionsAndThunks","file"));return c.a.createElement(c.a.Fragment,null,this.renderSearchInput(),c.a.createElement("table",{className:"p-redox__table"},c.a.createElement("tbody",null,i.map(function(e,r){return c.a.createElement(c.a.Fragment,{key:""+e.name+r},r%30===0?o:null,c.a.createElement(P,{action:e,changeToTabAndUpdateSearch:t.changeToTabAndUpdateSearch}))}))))}},{key:"render",value:function e(){var t=this.state.defaultTabId;var r=[{title:"Selectors",id:"selectors",content:this.renderSelectors()},{title:"Actions and Thunks",id:"actionsAndThunks",content:this.renderActionsAndThunks()},{title:"Reducers",id:"reducers",content:this.renderReducers()},{title:"Middleware",id:"middlewares",content:this.renderMiddlewares()}];return c.a.createElement(p["a"],{modalClasses:"p-redox_modal",title:"Redox",showCancelButton:false,showGoButton:false,onCancel:this.props.onClose},c.a.createElement(h["a"],{defaultTabId:t,tabs:r,onTabChange:this.onTabChange}))}}]);return t}(s["Component"]);A.displayName="Redox";A.propTypes=T;A.defaultProps=I;var P=function e(t){var r=t.action,n=t.changeToTabAndUpdateSearch;var a=void 0;if(r.isThunk)a=c.a.createElement("td",{className:"p-redox__table_cell"},"n/a");else if(r.reducers&&r.reducers.length){var i=r.reducers;a=c.a.createElement("td",{className:"p-redox__table_cell"},i.map(function(e){return c.a.createElement(f["a"],{key:e,className:"p-redox__search_term_link",onClick:function t(){n("reducers",e)}},e)}))}else a=c.a.createElement("td",{className:"p-redox__table_cell"});return c.a.createElement("tr",{className:"p-redox__table_row"},c.a.createElement("td",{className:"p-redox__table_cell"},r.name),c.a.createElement("td",{className:"p-redox__table_cell"},r.description),c.a.createElement("td",{className:"p-redox__table_cell"},r.usageCount),c.a.createElement("td",{className:"p-redox__table_cell"},r.isThunk?"x":""),c.a.createElement("td",{className:"p-redox__table_cell"},r.isFetcher?"x":""),c.a.createElement("td",{className:"p-redox__table_cell"},r.props.map(function(e){return c.a.createElement("div",{key:e},e)})),a,c.a.createElement("td",{className:"p-redox__table_cell"},r.sideEffectsCount),c.a.createElement("td",{className:"p-redox__table_cell"},r.file))};P.displayName="ActionThunkRow";P.propTypes={action:k.isRequired,changeToTabAndUpdateSearch:o.a.func.isRequired};var R=function e(t){var r=t.selector,n=t.changeToTabAndUpdateSearch;var a=void 0;if(r.reducers&&r.reducers.length){var i=r.reducers;a=c.a.createElement("td",{className:"p-redox__table_cell"},i.map(function(e,t){return c.a.createElement(f["a"],{key:""+e+t,className:"p-redox__search_term_link",onClick:function t(){n("reducers",e)}},e)}))}else a=c.a.createElement("td",{className:"p-redox__table_cell"});return c.a.createElement("tr",{className:"p-redox__table_row"},c.a.createElement("td",{className:"p-redox__table_cell"},r.name),c.a.createElement("td",{className:"p-redox__table_cell"},r.usageCount),a,c.a.createElement("td",{className:"p-redox__table_cell"},r.file))};R.displayName="SelectorRow";R.propTypes={selector:w.isRequired,changeToTabAndUpdateSearch:o.a.func.isRequired};var M=function e(t){var r=t.reducer,n=t.changeToTabAndUpdateSearch;var a=void 0;if(r.actions&&r.actions.length){var i=r.actions;a=c.a.createElement("td",{className:"p-redox__table_cell"},i.map(function(e,t){return c.a.createElement(f["a"],{key:""+e+t,className:"p-redox__search_term_link",onClick:function t(){n("actionsAndThunks",e)}},e)}))}else a=c.a.createElement("td",{className:"p-redox__table_cell"});var o=void 0;if(r.selectors&&r.selectors.length){var s=r.selectors;o=c.a.createElement("td",{className:"p-redox__table_cell"},s.map(function(e,t){return c.a.createElement(f["a"],{key:""+e+t,className:"p-redox__search_term_link",onClick:function t(){n("selectors",e)}},e)}))}else o=c.a.createElement("td",{className:"p-redox__table_cell"});return c.a.createElement("tr",{className:"p-redox__table_row"},c.a.createElement("td",{className:"p-redox__table_cell"},r.name),a,o,c.a.createElement("td",{className:"p-redox__table_cell"},r.file))};M.displayName="ReducerRow";M.propTypes={reducer:C.isRequired,changeToTabAndUpdateSearch:o.a.func.isRequired};var x=function e(t){var r=t.middleware;return c.a.createElement("tr",{className:"p-redox__table_row"},c.a.createElement("td",{className:"p-redox__table_cell"},r.name),c.a.createElement("td",{className:"p-redox__table_cell"},r.description),c.a.createElement("td",{className:"p-redox__table_cell"},r.file))};x.displayName="MiddlewareRow";x.propTypes={middleware:S.isRequired};t["a"]=A},18716:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i={};i.SelectorInfo=a.a.shape({selector:a.a.func.isRequired,name:a.a.string.isRequired,file:a.a.string.isRequired,usageCount:a.a.number.isRequired,reducers:a.a.arrayOf(a.a.string)});i.ActionOrThunkInfo=a.a.shape({action:a.a.func,thunk:a.a.func,name:a.a.string.isRequired,description:a.a.string.isRequired,file:a.a.string.isRequired,usageCount:a.a.number.isRequired,sideEffectsCount:a.a.number,props:a.a.arrayOf(a.a.string),reducers:a.a.arrayOf(a.a.string),isThunk:a.a.bool.isRequired,isFetcher:a.a.bool.isRequired});i.ReducerInfo=a.a.shape({reducer:a.a.func.isRequired,name:a.a.string.isRequired,file:a.a.string.isRequired,actions:a.a.arrayOf(a.a.string).isRequired,selectors:a.a.arrayOf(a.a.string).isRequired});i.MiddlewareInfo=a.a.shape({middleware:a.a.func.isRequired,name:a.a.string.isRequired,file:a.a.string.isRequired,description:a.a.string.isRequired});t["a"]=i},18718:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18719);var a=r(16928);Object(a["a"])("interop.mountScrollbar",n["a"]);Object(a["a"])("interop.unmountScrollbar",n["b"])},18719:function(e,t,r){"use strict";r.d(t,"a",function(){return f});r.d(t,"b",function(){return d});var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(16954);var l=r(16927);var u=r(17186);function p(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}var f=function e(t,r,n){if(!t)throw new Error("mountScrollbar must be called with a teamId parameter");var i=Object(l["c"])(t);var o=n.safeHtml,f=p(n,["safeHtml"]);Object(c["a"])(a.a.createElement(s["Provider"],{store:i},a.a.createElement(u["a"],f,a.a.createElement("div",{dangerouslySetInnerHTML:{__html:o}}))),r)};var d=function e(t){o.a.unmountComponentAtNode(t)};var v={mountScrollbar:f,unmountScrollbar:d}},18720:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18721);var a=r(16928);Object(a["a"])("interop.mountSearch",n["a"]);Object(a["a"])("interop.unmountSearch",n["b"])},18721:function(e,t,r){"use strict";r.d(t,"a",function(){return p});r.d(t,"b",function(){return f});var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(16954);var l=r(16927);var u=r(18722);var p=function e(t,r){if(!t)throw new Error("mountSearch must be called with a teamId parameter");Object(c["a"])(a.a.createElement(s["Provider"],{store:Object(l["c"])(t)},a.a.createElement(u["a"],null)),r)};var f=function e(t){o.a.unmountComponentAtNode(t)};var d={mountSearch:p}},18722:function(e,t,r){"use strict";var n=r(18022);t["a"]=n["a"]},18723:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18724);var a=r(16928);Object(a["a"])("interop.mountServiceImportMappingForm",n["a"]);Object(a["a"])("interop.unmountServiceImportMappingForm",n["b"])},18724:function(e,t,r){"use strict";r.d(t,"a",function(){return p});r.d(t,"b",function(){return f});var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(16954);var l=r(16927);var u=r(18725);var p=function e(t,r,n){if(!t)throw new Error("mountServiceImportMappingForm must be called with a teamId parameter");Object(c["a"])(a.a.createElement(s["Provider"],{store:Object(l["c"])(t)},a.a.createElement(u["a"],n)),r)};var f=o.a.unmountComponentAtNode;var d={mountServiceImportMappingForm:p,unmountServiceImportMappingForm:f}},18725:function(e,t,r){"use strict";var n=r(18726);var a=r(18070);var i=r(17845);t["a"]=n["a"]},18726:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(333);var l=r(1);var u=r.n(l);var p=r(16957);var f=r(16918);var d=r(17014);var v=r(17085);var h=r(17258);var m=r(16960);var b=r(16919);var _=r(18727);var g=r(16912);var y=r(17845);var O=r(18070);var E=r(20188);var j=r.n(E);var k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var w=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function C(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function S(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function N(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A=new g["b"]("imports");var P={service:a.a.string.isRequired,crumb:a.a.string.isRequired,allMembers:a.a.object.isRequired,initialUserMappings:a.a.arrayOf(a.a.shape({id:a.a.oneOfType([a.a.string,a.a.number]).isRequired,name:a.a.string.isRequired,import_email:a.a.string.isRequired,email:a.a.string.isRequired,email_state:a.a.string.isRequired,mapping:a.a.string.isRequired})).isRequired,initialChannelMappings:a.a.array.isRequired,ignoreApiUsers:a.a.bool};var R={ignoreApiUsers:false};var M=[{label:A.t("Map users when possible, and manually configure the rest"),value:"-"},{label:A.t("Create and invite users"),value:"invite"},{label:A.t("Create deactivated users, without inviting anyone"),value:"create"},{label:A.t("Do not create users, leaving messages as bot messages"),value:"bot"},{label:A.t("Skip users, without importing their messages"),value:"0"}];var x=function(e){N(t,e);function t(e){T(this,t);var r=I(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={batchUserAction:"-",isUserMappingFormExpanded:false,userMappings:e.initialUserMappings,ignoreApiUsers:e.ignoreApiUsers};r.onUserMappingChange=r.onUserMappingChange.bind(r);r.onChange=r.onChange.bind(r);r.renderUserMapping=r.renderUserMapping.bind(r);r.onApplyBatchUserActionToAll=r.onApplyBatchUserActionToAll.bind(r);r.onApplyBatchUserActionToUnmapped=r.onApplyBatchUserActionToUnmapped.bind(r);return r}w(t,[{key:"onChange",value:function e(t,r){this.setState(function(){return S({},t,r)})}},{key:"onUserMappingChange",value:function e(){var t=this;var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!r.id)return;var n=this.state.userMappings;var a=Object(l["findIndex"])(n,function(e){return e.id===r.id});if(-1===a)return;var i=[].concat(C(n.slice(0,a)),[r],C(n.slice(a+1)));this.setState(function(){return{userMappings:Object(y["b"])(i,Object.values(t.props.allMembers))}})}},{key:"onApplyBatchUserActionToAll",value:function e(){var t=this;this.setState(function(e){return{userMappings:Object(y["b"])(e.userMappings.map(function(r,n){return k({},r,{mapping:"-"===e.batchUserAction?t.props.initialUserMappings[n].mapping:e.batchUserAction,email:r.import_email})}),Object.values(t.props.allMembers))}})}},{key:"onApplyBatchUserActionToUnmapped",value:function e(){var t=this;this.setState(function(e){return{userMappings:Object(y["b"])(e.userMappings.map(function(r,n){return Object(O["b"])(r.mapping)?r:k({},r,{mapping:"-"===e.batchUserAction?t.props.initialUserMappings[n].mapping:e.batchUserAction,email:r.import_email})}),Object.values(t.props.allMembers))}})}},{key:"maybeRenderIgnoreApiUsersInput",value:function e(){var t=this;return"hipchat"!==this.props.service?null:o.a.createElement(m["a"],{enabled:["feature_service_import_lfs"]},o.a.createElement(p["a"],{text:A.t('Also import "api" messages from the HipChat logs'),htmlFor:"service_import_ignore_api_user",type:"inline",cursor:"pointer"},o.a.createElement(d["a"],{id:"service_import_ignore_api_user",name:"service_import_ignore_api_user",value:!this.state.ignoreApiUsers,checked:!this.state.ignoreApiUsers,onChange:function e(){return t.onChange("ignoreApiUsers",!t.state.ignoreApiUsers)}})))}},{key:"renderUserMapping",value:function e(t){return o.a.createElement(O["a"],{key:t,userMapping:this.state.userMappings[t],allMembers:this.props.allMembers,onUserMappingChange:this.onUserMappingChange})}},{key:"renderUserMappingForm",value:function e(){var t=this;var r=this.state.userMappings.map(function(e){return String(e.id)});return o.a.createElement(m["a"],{enabled:["feature_service_import_lfs"]},o.a.createElement("div",null,o.a.createElement("div",{className:"display_flex align_items_center justify_content_between bottom_margin"},o.a.createElement("h4",{className:"medium_bottom_margin col span_3_of_6"},A.t("View Users ({userCount})",{userCount:this.state.userMappings.length})),o.a.createElement(f["d"],{type:"outline",onClick:function e(){return t.onChange("isUserMappingFormExpanded",!t.state.isUserMappingFormExpanded)}},this.state.isUserMappingFormExpanded?A.t("close"):A.t("expand"))),o.a.createElement(_["a"],{isExpanded:this.state.isUserMappingFormExpanded},o.a.createElement("div",{className:"p-service_import_mapping_form--user_mappings"},o.a.createElement(c["a"],null,function(e){var n=e.width,a=e.height;return o.a.createElement(h["b"],{width:n,height:a,keys:r,rowRenderer:t.renderUserMapping})})))))}},{key:"renderUserImportMappingForm",value:function e(){var t=this;var r=this.state.batchUserAction;return o.a.createElement(m["a"],{enabled:["feature_service_import_lfs"]},o.a.createElement("div",null,o.a.createElement("h3",null,A.t("Users")),o.a.createElement("h4",{className:"medium_bottom_margin"},A.t("Batch Actions")),o.a.createElement("div",{className:"p-service_import_mapping_form--batch_actions display_flex justify_content_between"},o.a.createElement("div",{className:"flex_one"},o.a.createElement(v["d"],{id:"batchUserAction",name:"batchUserAction",onChange:function e(r){return t.onChange("batchUserAction",r)},options:M,value:r,usePlaceholderOption:false})),o.a.createElement("div",{className:"flex_one align_right"},o.a.createElement(f["d"],{type:"outline",className:"right_margin",onClick:this.onApplyBatchUserActionToAll},A.t("Apply to All Users")),o.a.createElement(f["d"],{type:"outline",onClick:this.onApplyBatchUserActionToUnmapped},A.t("Apply to Unmapped Users")))),this.renderUserMappingForm(),this.maybeRenderIgnoreApiUsersInput()))}},{key:"renderFormInputs",value:function e(){var t=JSON.stringify(this.state.userMappings);var r=JSON.stringify(this.props.initialChannelMappings);var n=this.state.userMappings.map(function(e){return o.a.createElement("div",{key:e.id},o.a.createElement("input",{type:"hidden",value:e.mapping,name:"user_"+e.id}),o.a.createElement("input",{type:"hidden",value:e.email,name:"email_"+e.id}))});var a=this.props.initialChannelMappings.map(function(e){return o.a.createElement("input",{key:e.id,type:"hidden",value:e.mapping,name:"channel_"+e.id})});var i="hipchat"!==this.props.service?null:o.a.createElement("input",{type:"hidden",value:this.state.ignoreApiUsers?1:0,name:"ignore_api_user"});return o.a.createElement("div",null,o.a.createElement("input",{type:"hidden",value:this.props.crumb,name:"crumb"}),o.a.createElement("input",{type:"hidden",value:"mapping",name:"step"}),n,a,o.a.createElement("input",{type:"hidden",value:t,name:"user_list"}),o.a.createElement("input",{type:"hidden",value:r,name:"channel_list"}),i)}},{key:"render",value:function e(){return o.a.createElement("div",{className:"p-service_import_mapping_form large_bottom_margin"},this.renderUserImportMappingForm(),o.a.createElement("form",{method:"post",action:"/services/import/"+this.props.service},this.renderFormInputs(),o.a.createElement(f["d"],{htmlType:"submit",size:"large"},"Save Changes")))}}]);return t}(i["PureComponent"]);x.displayName="ServiceImportMappingForm";x.propTypes=P;x.defaultProps=R;function L(e){var t=Object(b["getAllMembers"])(e);return{allMembers:t}}t["a"]=Object(s["connect"])(L)(x)},18727:function(e,t,r){"use strict";var n=r(17398);var a=r(17397);r.d(t,"a",function(){return n["a"]})},18728:function(e,t,r){"use strict";t["a"]=o;var n=r(12159);var a=r.n(n);var i=r(17765);function o(e){if(e.member)return a.a.createElement(i["a"],{item:e});return e.label}},18729:function(e,t,r){"use strict";t["a"]=o;var n=r(12159);var a=r.n(n);var i=r(17766);function o(e){if(e.member)return a.a.createElement(i["a"],{item:e});return e.label}},18730:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18731);var a=r(16928);Object(a["a"])("interop.mountThreadsFlexpane",n["a"])},18731:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(16954);var s=r(16927);var c=r(18732);var l=function e(t,r){if(!t)throw new Error("mountThreadsFlexpane must be called with a teamId parameter");var n=Object(s["c"])(t);Object(o["a"])(a.a.createElement(i["Provider"],{store:n},a.a.createElement(c["a"],null)),r)};t["a"]=l},18732:function(e,t,r){"use strict";var n=r(18733);t["a"]=n["a"]},18733:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(3);var s=r.n(o);var c=r(333);var l=r(1);var u=r.n(l);var p=r(16992);var f=r(17410);var d=r(17971);var v=r(17155);var h=r(17394);var m=r(18734);var b=r(17828);var _=r(18065);var g=r(17095);var y=r(16960);var O=function(){function e(e,t){var r=[];var n=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){a=true;i=e}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var j=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function C(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S={threadTs:s.a.string,channelId:s.a.string,timestamps:s.a.arrayOf(s.a.string),reachedStart:s.a.bool,reachedEnd:s.a.bool,startTs:s.a.string,highlightTs:s.a.string,requestHistory:s.a.func,clearHighlight:s.a.func};var T={threadTs:void 0,channelId:void 0,timestamps:[],reachedStart:false,reachedEnd:false,startTs:void 0,highlightTs:void 0,requestHistory:l["noop"],clearHighlight:l["noop"]};var I=function(e){C(t,e);function t(e){k(this,t);var r=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.requestHistory=r.requestHistory.bind(r);r.renderRow=r.renderRow.bind(r);r.renderList=r.renderList.bind(r);r.keys=null;r.rows=null;return r}j(t,[{key:"requestHistory",value:function e(t){var r=t.oldest,n=t.latest;var a=this.props,i=a.channelId,o=a.threadTs,e=a.requestHistory;return e({oldest:r,latest:n,channelId:i,threadTs:o})}},{key:"renderRow",value:function e(t){var r=this.props,n=r.channelId,i=r.highlightTs;var o=this.rows[t];if(!o)return null;switch(o.type){case"separator":return a.a.createElement("hr",null);case"message":return a.a.createElement(_["a"],{channelId:n,ts:o.ts,previousMessageTs:o.prevTs,fadeAwayHighlight:o.ts===i,doneHighlighting:this.props.clearHighlight});case"input":return a.a.createElement(g["g"],{id:"threads-input",ariaLabel:"Reply to this thread"});default:return null}}},{key:"renderList",value:function e(t){var r=this;var n=this.props,i=n.threadTs,o=n.startTs,s=n.reachedStart,l=n.timestamps;var u=[];var p=[];if(s||o===i){u.push(i);p.push({type:"message",ts:i});u.push("separator");p.push({type:"separator"})}l.forEach(function(e,t){u.push(e);p.push({type:"message",ts:e,prevTs:l[t-1]})});u.push("input");p.push({type:"input"});this.keys=u;this.rows=p;return a.a.createElement("div",{style:{flex:1}},a.a.createElement(c["a"],null,function(e){var n=e.width,i=e.height;return a.a.createElement(b["a"],E({},t,{keys:u,width:n,height:i,rowRenderer:r.renderRow}))}))}},{key:"render",value:function e(){var t=this.props,r=t.channelId,n=t.threadTs,i=t.timestamps,o=t.startTs,s=t.reachedStart,c=t.reachedEnd;if(!r||!n)return null;return a.a.createElement("div",{className:"p-threads_flexpane",style:{height:"100%",display:"flex",flexDirection:"column"}},a.a.createElement(y["a"],{disabled:["feature_global_nav_flex"]},a.a.createElement(h["a"],null,"Thread")),a.a.createElement(m["a"],{timestamps:i,listRenderer:this.renderList,startTs:o,requestHistory:this.requestHistory,reachedStart:s,reachedEnd:c}))}}]);return t}(n["PureComponent"]);I.displayName="ThreadsFlexpane";I.propTypes=S;I.defaultProps=T;var N=function e(t,r){var n=Object(f["getFlexpaneState"])(t),a=n.flexExtra;var i=(a||"").split("-"),o=O(i,2),s=o[0],c=o[1];var l=r.threadTs||c;var u=r.channelId||s;var h=Object(d["getStartTs"])(t)||l;var m=Object(d["getHighlight"])(t),b=m.highlightTs,_=m.highlightKey;var g=Object(v["a"])(u,l);var y=Object(p["getTimestampsByChannelId"])(t,g,h),E=y.timestamps,j=y.reachedStart,k=y.reachedEnd;return{threadTs:l,channelId:u,timestamps:E,reachedStart:j,reachedEnd:k,startTs:h,highlightTs:b,highlightKey:_}};t["a"]=Object(i["connect"])(N,{requestHistory:d["requestReplies"],clearHighlight:d["clearHighlight"]})(I)},18734:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(17706);var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=250;var h={timestamps:o.a.arrayOf(o.a.string).isRequired,listRenderer:o.a.func.isRequired,startTs:o.a.string,requestHistory:o.a.func,reachedStart:o.a.bool,reachedEnd:o.a.bool,layout:o.a.object};var m={startTs:void 0,requestHistory:s["noop"],reachedStart:true,reachedEnd:true,layout:void 0};var b=function(e){d(t,e);function t(e){p(this,t);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onScroll=r.onScroll.bind(r);r.setListRef=r.setListRef.bind(r);r.loadAround=r.loadAround.bind(r);r.loadPre=r.loadPre.bind(r);r.loadPost=r.loadPost.bind(r);r.list=null;r.layout=e.layout||new l["a"];r.layout.setAnchor(e.startTs||false);r.layout.setStickToBottom(e.reachedEnd);r.state={isLoading:false};return r}u(t,[{key:"componentWillReceiveProps",value:function e(t){if(!this.list)throw new Error("MessageList needs a ref to List");t.startTs!==this.props.startTs&&(t.timestamps===this.props.timestamps?this.list.scrollToKey(t.startTs,{lazy:true,animate:true}):this.layout.setAnchor(t.startTs));this.layout.setStickToBottom(t.reachedEnd)}},{key:"componentDidUpdate",value:function e(t){!t.reachedEnd&&this.props.reachedEnd&&this.layout.setAnchor(false)}},{key:"onScroll",value:function e(){this.layout.setAnchor(false)}},{key:"setListRef",value:function e(t){this.list=t}},{key:"loadAround",value:function e(){var t=this;if(this.state.isLoading)return false;var r=this.props,n=r.reachedStart,a=r.reachedEnd,i=r.timestamps,o=r.startTs;if(a)return this.loadPre();if(n)return this.loadPost();var c=Object(s["first"])(i)||o;var l=Object(s["last"])(i)||o;var u=this.props.requestHistory({latest:c,oldest:l});if(u){u.finally(function(){return Promise.delay(v)}).then(function(){return t.setState(function(){return{isLoading:false}})});this.setState(function(){return{isLoading:"around"}})}return u}},{key:"loadPre",value:function e(){var t=this;if(this.state.isLoading)return false;var r=this.props,n=r.reachedStart,a=r.timestamps,i=r.startTs;if(n)return false;var o=Object(s["first"])(a)||i;var c=this.props.requestHistory({latest:o});if(c){c.finally(function(){return Promise.delay(v)}).then(function(){return t.setState(function(){return{isLoading:false}})});this.setState(function(){return{isLoading:"pre"}})}return c}},{key:"loadPost",value:function e(){var t=this;if(this.state.isLoading)return false;var r=this.props,n=r.reachedEnd,a=r.timestamps,i=r.startTs;if(n)return false;this.isLoading=true;var o=Object(s["last"])(a)||i;var c=this.props.requestHistory({oldest:o});if(c){c.finally(function(){return Promise.delay(v)}).then(function(){return t.setState(function(){return{isLoading:false}})});this.setState(function(){return{isLoading:"pre"}})}return c}},{key:"render",value:function e(){var t=this.props,r=t.reachedStart,n=t.reachedEnd,a=t.timestamps;return this.props.listRenderer({reachedStart:r,reachedEnd:n,keys:a,layout:this.layout,onScroll:this.onScroll,loadAround:this.loadAround,loadPre:this.loadPre,loadPost:this.loadPost,ref:this.setListRef})}}]);return t}(n["PureComponent"]);b.displayName="MessageList";t["a"]=b;b.propTypes=h;b.defaultProps=m},18735:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(12159);var a=r.n(n);var i=r(17049);var o=r(17362);var s=r(16928);Object(s["a"])("interop.mountToast",function(e){return TS.redux.dispatch(Object(i["enqueueToast"])({element:a.a.createElement(o["a"],e)}))})},18736:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18737);var a=r(16928);Object(a["a"])("interop.mountTooltipTip",n["a"]);Object(a["a"])("interop.unmountTooltipTip",n["b"])},18737:function(e,t,r){"use strict";r.d(t,"a",function(){return f});r.d(t,"b",function(){return d});var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(16954);var l=r(16927);var u=r(17169);var p=r(20034);var f=function e(t,r,n,i){if(!t)throw new Error("mountTooltipTip must be called with a teamId parameter");var o=Object(l["c"])(t);n?Object(c["a"])(a.a.createElement(s["Provider"],{store:o},a.a.createElement(u["a"],i,a.a.createElement(p["a"],{id:n,size:"small",showAvatar:true,useDarkMode:true,showPresence:true,forcedPrimary:"real_name"}))),r):Object(c["a"])(a.a.createElement(s["Provider"],{store:o},a.a.createElement(u["a"],i)),r)};var d=function e(t){o.a.unmountComponentAtNode(t)};var v={mountTooltipTip:f,unmountTooltipTip:d}},18738:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16999);var a=r(16928);Object(a["a"])("interop.mpims",{convertToPrivateChannel:n["a"]})},18739:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17972);var a=r(16928);Object(a["a"])("interop.openAppDialog",function(e){return TS.redux.dispatch(Object(n["a"])(e))})},18740:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17355);var a=r(16928);Object(a["a"])("interop.openAppManagementModal",n["a"])},18741:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18742);var a=r(16928);Object(a["a"])("interop.openAppPermissionDialog",function(e){return TS.redux.dispatch(Object(n["a"])(e))})},18742:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16949);var c=r(16926);var l=r(17141);var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var p=Object(c["b"])("Opens app permission dialog",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=a.a.createElement(l["a"],u({},r,{onCloseButtonClick:function t(){return e(Object(s["closeModal"])())}}));e(Object(s["openModal"])({element:n}))});p.propTypes={appName:o.a.string.isRequired,appIcon:o.a.string.isRequired,scopeInfo:o.a.arrayOf(o.a.shape({scopes:o.a.arrayOf(o.a.string),is_dangerous:o.a.bool,short_description:o.a.string.isRequired,long_description:o.a.string})).isRequired,onAuthorize:o.a.func.isRequired,onDismiss:o.a.func,onClose:o.a.func,channelId:o.a.string,onCloseButtonClick:o.a.func};t["a"]=p},18744:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18745);var a=r(16928);Object(a["a"])("interop.openAppRemoveDialog",function(e){return TS.redux.dispatch(Object(n["a"])(e))})},18745:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16949);var c=r(16926);var l=r(17140);var u=Object(c["b"])("Opens app remove dialog",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=a.a.createElement(l["a"],r);e(Object(s["openModal"])({element:n}))});u.propTypes={appName:o.a.string.isRequired,channelId:o.a.string.isRequired,onClose:o.a.func,onConfirm:o.a.func.isRequired};t["a"]=u},18747:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18748);var a=r(16928);Object(a["a"])("interop.openChannelNotificationSettingsDialog",function(e){return TS.redux.dispatch(Object(n["a"])(e))})},18748:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16949);var c=r(16926);var l=r(17998);var u=Object(c["b"])("Open channel notification settings dialog",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=a.a.createElement(l["a"],r);e(Object(s["openModal"])({element:n}))});u.propTypes={channelId:o.a.string.isRequired};t["a"]=u},18749:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(18750);Object(n["a"])("interop.reactions",{fetchReactions:a["a"],getApiArgsFromReactionKey:a["b"],submitAddOrRemoveReaction:a["d"]})},18751:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);var a=r.n(n);var i=r(18136);var o=r(20570);var s=r(17681);var c=r(17126);var l=r(16971);var u=r(17099);var p=r(18049);var f=r(19694);var d=r(18752);var v=r(17395);var h=r(18760);var m=r(17396);var b=r(17697);var _=r(20042);var g=r(20311);var y=r(20327);var O=r(20533);var E=r(17974);var j=r(17727);var k=r(17057);var w=r(17975);var C=r(17210);var S=r(17165);var T=r(16928);var I=r(17673);var N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var A=Object(I["a"])(r(13041));var P=Object(I["a"])(r(13042));var R=Object(I["a"])(r(7298));var M=Object(I["a"])(r(7299));function x(e){var t=a.a.camelCase(e);if(-1===t.indexOf("Store"))return null;t=t.slice(0,t.lastIndexOf("Store"));return t}function L(e){return a.a.reduce(e,function(e,t,r){var n=x(r);n&&(e[n]=t);return e},{})}var D=N({},L(A),L(R));var F=N({},L(P),L(M));Object(T["a"])("interop.redux",{configureStore:i["a"],actions:{sendMessage:s["a"],prepareAndSendMessage:s["b"],saveMessageEdit:p["a"],removeMessageAndTimestamp:c["a"],openCustomStatusDialog:f["a"],openFileUploadDialog:d["a"],openShareDialog:v["a"],getChannelIdForSharing:m["a"],openRenameFileDialog:b["a"],openCreateGDocDialog:h["a"],openSnippetDialog:_["a"],universalSearchSetVisible:g["a"],clearSearchInput:y["a"],editLastUserMessageText:O["a"]},features:D,middleware:{console:l,socketManager:u},models:N({},F,{channelsMeta:{channelNamesToIds:E,inviters:j,mutedChannels:k,needsApiMarking:w,needsCreatedMessage:C,prqMetrics:S}}),test:{createTestStore:o["a"]}})},18752:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(3);var c=r.n(s);var l=r(16926);var u=r(16916);var p=r(16949);var f=r(18753);var d=r(18754);var v=r(17742);var h=r(17102);var m=r(16958);var b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var _=Object(l["b"])("Takes N files and opens the file upload dialog",function(e,t,r){var a=r.files,i=r.threadTs;if(!a||!a.length){Object(u["error"])("No files passed to openFileUploadDialog");return}var s=a.filter(function(e){return Object(n["isString"])(e)||e.size<=m["UPLOAD_FILE_SIZE_LIMIT_BYTES"]});var c=function t(){var n=g(!!i);e(Object(p["openModal"])({element:o.a.createElement(d["a"],b({},r,{files:s,initialText:n,fileSizeExceeded:s.length<a.length}))}))};if(s.length<a.length){1===a.length?e(Object(p["openModal"])({element:o.a.createElement(f["b"],{type:f["a"].SINGLE})})):s.length?e(Object(p["openModal"])({element:o.a.createElement(f["b"],{type:f["a"].MULTIPLE,proceedToUploadDialog:c})})):e(Object(p["openModal"])({element:o.a.createElement(f["b"],{type:f["a"].ALL})}));return}if(!s.length)return;c()});_.propTypes={files:c.a.array.isRequired,initialChannelId:c.a.string,threadTs:c.a.string};function g(e){if(e){var t=Object(h["g"])();t&&Object(h["c"])();return t}var r=Object(v["b"])();r&&Object(v["c"])("");return r}t["a"]=_},18753:function(e,t,r){"use strict";r.d(t,"a",function(){return m});var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(3);var l=r.n(c);var u=r(17594);var p=r(16912);var f=r(17079);var d=r(16958);var v=r(16913);var h=new p["b"]("file-upload");var m={SINGLE:"single",MULTIPLE:"multiple",ALL:"all"};function b(e){var t=e.type,r=e.proceedToUploadDialog,a=e.featureFileThreads;if(!a)return null;var i=h.t("File too large");var s="";s=t===m.ALL?h.t("All of those files are too large and cannot be uploaded. The limit is {limit}.",{limit:Object(f["a"])(d["UPLOAD_FILE_SIZE_LIMIT_BYTES"])}):t===m.SINGLE?h.t("That file is too large and cannot be uploaded. The limit is {limit}.",{limit:Object(f["a"])(d["UPLOAD_FILE_SIZE_LIMIT_BYTES"])}):h.t("We\u2019ll upload what we can, but one or more of those files is too large and cannot be uploaded. The limit is {limit}.",{limit:Object(f["a"])(d["UPLOAD_FILE_SIZE_LIMIT_BYTES"])});var c=t===m.MULTIPLE?function(){Object(n["defer"])(function(){r()})}:n["noop"];return o.a.createElement(u["a"],{title:i,onGo:c},o.a.createElement("p",null,s))}b.displayName="FileUploadSizeAlert";b.propTypes={type:l.a.string,proceedToUploadDialog:l.a.func,featureFileThreads:l.a.bool};b.defaultProps={type:m.SINGLE,proceedToUploadDialog:n["noop"],featureFileThreads:true};function _(e){return{featureFileThreads:Object(v["isFeatureEnabled"])(e,"feature_file_threads")}}t["b"]=Object(s["connect"])(_)(b)},18754:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(3);var c=r.n(s);var l=r(9);var u=r(8);var p=r.n(u);var f=r(16913);var d=r(16912);var v=r(16977);var h=r(16953);var m=r(17077);var b=r(16916);var _=r(16949);var g=r(17101);var y=r(17396);var O=r(16958);var E=r(17742);var j=r(17102);var k=r(16922);var w=r(17298);var C=r(18755);var S=r(16939);var T=r(17400);var I=r(16994);var N=r(16956);var A=r(16918);var P=r(17e3);var R=r(16957);var M=r(17014);var x=r(16942);var L=r(17643);var D=r(17644);var F=r(17645);var B=r(17646);var U=r(18756);var H=r(20253);var q=r.n(H);var G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var W=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function z(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Q=new d["b"]("file-upload");var Y="file-upload-name";var J="file-upload-share-with";var X={files:c.a.array.isRequired,featureFileThreads:c.a.bool,selectedChannelId:c.a.string,setSelectedChannel:c.a.func,canPostInSelectedChannel:c.a.bool,closeModal:c.a.func,switchToChannel:c.a.func,getShareableChannelId:c.a.func,msgText:c.a.string,setMsgText:c.a.func,disallowedKeywordInMsgText:c.a.string,initialText:c.a.string,retentionDuration:c.a.number,threadTs:c.a.string,overStorageLimit:c.a.bool,isStdPlan:c.a.bool,isPlusPlan:c.a.bool,isEnterprisePlan:c.a.bool,channelType:c.a.string,selectedChannelName:c.a.string};var Z={featureFileThreads:true,selectedChannelId:null,setSelectedChannel:n["noop"],canPostInSelectedChannel:false,selectedChannelIsGeneral:false,closeModal:n["noop"],switchToChannel:n["noop"],getShareableChannelId:n["noop"],canPost:function e(){return false},msgText:"",setMsgText:n["noop"],disallowedKeywordInMsgText:null,initialText:"",retentionDuration:null,threadTs:null,overStorageLimit:false,isStdPlan:false,isPlusPlan:false,isEnterprisePlan:false,channelType:"channel",selectedChannelName:""};var $=function(e){z(t,e);function t(e){V(this,t);var r=K(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onGo=r.onGo.bind(r);r.onCancel=r.onCancel.bind(r);r.onCancelAll=r.onCancelAll.bind(r);r.onCancelDiscard=r.onCancelDiscard.bind(r);r.closeDialog=r.closeDialog.bind(r);r.onTextChange=r.onTextChange.bind(r);r.onFileNameChange=r.onFileNameChange.bind(r);r.onShareWithChange=r.onShareWithChange.bind(r);r.onBroadcastChange=r.onBroadcastChange.bind(r);r.onEditCollapsedFileNameClick=r.onEditCollapsedFileNameClick.bind(r);r.setFileNameInputRef=r.setFileNameInputRef.bind(r);r.fileNameInput=null;r.initialText=r.props.initialText;r.state=G({confirmClose:false,confirmCancelAll:false,submitting:false},r.getStateForFileAtIndex(0));return r}W(t,[{key:"componentDidMount",value:function e(){var t=this.props.files;var r=this.state||0,n=r.fileIndex;t&&this.maybeLoadImagePreview(t[n])}},{key:"onCancel",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var r=this.props.msgText;var n=this.state,a=n.confirmClose,i=n.confirmCancelAll;if(!a&&r&&r.length>O["CONFIRM_DISCARD_TEXT_LENGTH"]){this.setState(function(){return{confirmClose:true,confirmCancelAll:t}});return false}t||!this.hasMoreFiles()||i?this.closeDialog():this.goToNextFile();return false}},{key:"onCancelAll",value:function e(){return this.onCancel(true)}},{key:"onCancelDiscard",value:function e(){this.setState(function(){return{confirmClose:false,confirmCancelAll:false}});return false}},{key:"onGo",value:function e(){var t=this;var r=this.state,n=r.shareWith,a=r.fileName,i=r.fileIndex,o=r.confirmClose,s=r.broadcast;var c=this.props,l=c.selectedChannelId,u=c.msgText,p=c.threadTs;if(this.isGoDisabled())return false;if(o)return this.onCancel();this.initialText=null;var f=this.props,d=f.switchToChannel,m=f.files,b=f.getShareableChannelId;var _=m[i];var g=n?b({channelOrMemberId:l}):Promise.resolve(null);g.then(function(e){_.is_box||_.is_dropbox?Object(v["q"])({link:_.link,filename:_.name,title:a||t.initialFileName(_),channels:e,initial_comment:n?Object(h["a"])(u):null,is_box:_.is_box,is_dropbox:_.is_dropbox,thread_ts:e?p:null,broadcast:e&&p?s:null}):Object(v["q"])({file:_,filename:_.name,title:a||t.initialFileName(_),channels:e,initial_comment:n?Object(h["a"])(u):null,thread_ts:e?p:null,broadcast:e&&p?s:null});if(t.hasMoreFiles())t.goToNextFile();else{t.closeDialog();e&&!p&&d({id:e})}t.setState(function(){return{submitting:false}})});this.setState(function(){return{submitting:true}});return false}},{key:"onTextChange",value:function e(t){var r=t.text,n=t.overLimit;this.props.setMsgText(r);this.setState(function(){return{overMsgLengthLimit:n}})}},{key:"onFileNameChange",value:function e(t){this.setState(function(){return{fileName:t,overFileNameLimit:t.length>O["MAX_FILENAME_LENGTH"]}})}},{key:"onShareWithChange",value:function e(t){var r=t.target.checked;this.setState(function(){return{shareWith:!!r}})}},{key:"onBroadcastChange",value:function e(t){var r=t.target.checked;this.setState(function(){return{broadcast:!!r}})}},{key:"onEditCollapsedFileNameClick",value:function e(){this.setState(function(){return{collapseFileNameInput:false}});this.fileNameInput.focus()}},{key:"setFileNameInputRef",value:function e(t){this.fileNameInput=t}},{key:"getStateForFileAtIndex",value:function e(t){var r=this.props.files;var a=r[t];var i=a&&Object(n["includes"])(a.type,"image");return{fileIndex:t,defaultFileName:this.initialFileName(a),fileName:"",shareWith:true,previewDataUrl:null,overMsgLengthLimit:false,overFileNameLimit:false,exifOrientation:null,previewImageDimensionsRatio:null,collapseFileNameInput:i,broadcast:false}}},{key:"getStorageWarning",value:function e(){var t=this.props,r=t.featureFileThreads,n=t.overStorageLimit,a=t.isStdPlan,i=t.isPlusPlan,s=t.isEnterprisePlan,c=t.files;var l=this.state.fileIndex;if(!r)return null;var u=c[l];if(!n||u.is_dropbox||u.is_box||u.is_external)return null;if(a)return Q.rt("Your workspace has reached the Standard plan\u2019s storage limit. To add more files to Slack, you\u2019ll need to <a>upgrade your plan</a>.",null,function(e){var t=e.text;return o.a.createElement("a",{href:"/pricing?ui_step=70&ui_element=5",target:"_blank","data-clog-event":"GROWTH_PRICING","data-clog-ui-element":"pricing_link","data-clog-ui-action":"click","data-clog-ui-step":"file_upload"},t)});if(i)return Q.rt("Your workspace has reached the Plus plan\u2019s storage limit. To add more files to Slack, you\u2019ll need to <a>upgrade your plan</a>.",null,function(e){var t=e.text;return o.a.createElement("a",{href:"/pricing?ui_step=70&ui_element=5",target:"_blank","data-clog-event":"GROWTH_PRICING","data-clog-ui-element":"pricing_link","data-clog-ui-action":"click","data-clog-ui-step":"file_upload"},t)});if(s)return Q.rt("It looks like your organization\u2019s reached the file storage limit. If that sounds wrong, you may want to <a>contact Slack</a>.",null,function(e){var t=e.text;return o.a.createElement("a",{href:"/help/requests/new",target:"_blank"},t)});return Q.rt("Your workspace has reached the Free plan\u2019s storage limit. To add more files to Slack, you\u2019ll need to <a>upgrade to a paid plan</a>.",null,function(e){var t=e.text;return o.a.createElement("a",{href:"/pricing?ui_step=70&ui_element=5",target:"_blank","data-clog-event":"GROWTH_PRICING","data-clog-ui-element":"pricing_link","data-clog-ui-action":"click","data-clog-ui-step":"file_upload"},t)})}},{key:"isMultipleFiles",value:function e(){return this.props.files.length>1}},{key:"hasMoreFiles",value:function e(){if(!this.isMultipleFiles())return false;var t=this.props.files;var r=this.state.fileIndex;return t.length>r+1}},{key:"goToNextFile",value:function e(){var t=this;var r=this.props,n=r.files,a=r.setMsgText;var i=this.state.fileIndex;this.setState(function(){return G({confirmClose:false},t.getStateForFileAtIndex(i+1))},function(){t.maybeLoadImagePreview(n[i+1])});a("")}},{key:"closeDialog",value:function e(){var t=this;this.props.closeModal();if(this.initialText){var r=this.initialText;setTimeout(function(){t.props.threadTs?Object(j["f"])(r):Object(E["c"])(r)},10)}}},{key:"initialFileName",value:function e(t){if(!this.props.featureFileThreads)return t.name;return t.name||Q.t("Pasted image at {date}",{date:Object(m["a"])(Date.now()/1e3)})}},{key:"isGoDisabled",value:function e(){var t=this.state,r=t.submitting,n=t.shareWith,a=t.overMsgLengthLimit,i=t.overFileNameLimit;var o=this.props,s=o.canPostInSelectedChannel,c=o.disallowedKeywordInMsgText;return r||n&&!s||n&&!!c||a||i}},{key:"maybeLoadImagePreview",value:function e(t){var r=this;if(!window.FileReader)return;if(t.is_box||t.is_dropbox)return;if("string"===typeof t){this.setState(function(){return{previewDataUrl:"data:image/png;base64,"+t,collapseFileNameInput:true}});return}try{var a=new FileReader;a.onload=function(e){var a=e.target.result;if(!Object(n["startsWith"])(a,"data:image/"))return;r.loadImagePreviewWithOrientation(t,a)};a.onloadstart=function(e){if(e.total>33554432){Object(b["info"])("UPLOAD-DIALOG","Skipping image preview for large file: "+e.total);a.abort()}};a.readAsDataURL(t)}catch(e){Object(b["warn"])("Error loading upload preview");Object(b["warn"])(e)}}},{key:"loadImagePreviewWithOrientation",value:function e(t,r){var n=this;Object(C["a"])(t).then(function(e){if(!e||1===e){n.setState(function(){return{previewDataUrl:r,collapseFileNameInput:true}});return}var t=new Image;t.onload=function(){var a=t.width;var i=t.height;var o=i/a;n.setState(function(){return{previewDataUrl:r,previewImageDimensionsRatio:o,exifOrientation:e,collapseFileNameInput:true}})};t.src=r})}},{key:"renderBroadcastCheckbox",value:function e(){var t=this.props,r=t.featureFileThreads,n=t.threadTs,a=t.channelType,i=t.selectedChannelName;var s=this.state.broadcast;if(!r||!n)return null;var c="broadcast-to-channel";var l="";l="mpim"===a?Q.t("Also send to the group"):"im"===a?Q.t("Also send as direct message"):Q.rt("Also send to <span></span>",null,function(){return o.a.createElement("span",{className:"p-file_upload_dialog__broadcast_channel_name"},i)});return o.a.createElement("div",{className:"p-file_upload_dialog__section p-file_upload_dialog__section--broadcast"},o.a.createElement(R["a"],{text:l,className:"p-file_upload_dialog__broadcast_label",htmlFor:c,type:"inline"},o.a.createElement(M["a"],{className:"p-file_upload_dialog__broadcast_checkbox",id:c,defaultChecked:s,onChange:this.onBroadcastChange})))}},{key:"renderImagePreview",value:function e(){if(!this.props.featureFileThreads)return null;var t=this.state,r=t.previewDataUrl,n=t.previewImageDimensionsRatio,a=t.exifOrientation,i=t.fileName;if(!this.state.previewDataUrl)return null;var s=Q.t("Preview of {fileName}",{fileName:i});var c=void 0;2===a?c="scaleX(-1)":3===a?c="rotate(180deg)":4===a?c="rotate(180deg) scaleX(-1)":5===a?c="rotate(90deg) scale("+n+", -"+n+")":6===a?c="rotate(90deg) scale("+n+")":7===a?c="rotate(90deg) scale(-"+n+", "+n+")":8===a&&(c="rotate(-90deg) scale("+n+", "+n+")");var l={};c&&(l.transform=c);return o.a.createElement("div",{className:"p-file_upload_dialog__section"},o.a.createElement("div",{className:"p-file_upload_dialog__preview"},o.a.createElement("div",{style:l},o.a.createElement("img",{className:"p-file_upload_dialog__preview_image",src:r,alt:s}))))}},{key:"renderShareWith",value:function e(){var t=this.props,r=t.threadTs,n=t.featureFileThreads,a=t.selectedChannelId;var i=this.state.shareWith;if(!n)return null;if(r)return o.a.createElement(U["a"],{channelId:a,threadTs:r});return o.a.createElement(R["a"],{text:Q.t("Share with:"),htmlFor:J,type:"inline"},o.a.createElement(M["a"],{id:J,defaultChecked:i,onChange:this.onShareWithChange}))}},{key:"renderChannelPicker",value:function e(){var t=this.props,r=t.selectedChannelId,n=t.setSelectedChannel,a=t.threadTs;var i=this.state.shareWith;if(a)return null;return o.a.createElement(D["a"],{initialChannelId:r,onChange:n,isDisabled:!i})}},{key:"renderCancelAllButton",value:function e(){if(!this.props.featureFileThreads)return null;return o.a.createElement(A["d"],{type:"outline",className:"p-file_upload_dialog__footer_cancel_all",onClick:this.onCancelAll,tabIndex:"-1","data-qa":"dialog-cancel-all"},Q.t("Cancel All"))}},{key:"renderMultiFileShareInputs",value:function e(){if(!this.isMultipleFiles())return null;return o.a.createElement("div",{className:"p-file_upload_dialog__section"},this.renderShareWith(),this.renderChannelPicker())}},{key:"renderFooterExtra",value:function e(){if(this.isMultipleFiles())return this.renderCancelAllButton();return o.a.createElement("div",{className:"p-file_upload_dialog__footer_share_inputs"},this.renderShareWith(),this.renderChannelPicker())}},{key:"renderWarning",value:function e(){var t=this.getStorageWarning();var r=Object(B["a"])(this.props);if(!r&&!t)return null;return o.a.createElement("div",{className:"p-file_upload_dialog__section"},o.a.createElement(I["d"],{type:"inline",level:"warning"},t?o.a.createElement("span",{className:"p-share_dialog__warning_message"},t):null,r))}},{key:"renderCollapsedFileName",value:function e(){var t=this.props.featureFileThreads;var r=this.state,n=r.defaultFileName,a=r.collapseFileNameInput;if(!t)return null;var i=p()("p-file-upload_dialog__preview_file_name",{"p-file-upload_dialog__preview_file_name--hide":!a});var s=Q.rt("edit");var c=Q.rt("Edit file name: {fileName}",{fileName:n});return o.a.createElement("div",{className:i},o.a.createElement("span",{className:"p-file-upload_dialog__preview_file_name_text"},n),o.a.createElement(x["a"],{className:"p-file-upload_dialog__preview_file_name_edit",onClick:this.onEditCollapsedFileNameClick,tabIndex:a?null:"-1","aria-label":c},s))}},{key:"renderExpandedFileNameInput",value:function e(){var t=this.state,r=t.fileName,n=t.defaultFileName,a=t.collapseFileNameInput;var i=p()("p-file_upload_dialog__file_name_input",{"p-file_upload_dialog__file_name_input--hide":a});return o.a.createElement(R["a"],{text:Q.t("File name"),htmlFor:Y,className:i},o.a.createElement(P["a"],{id:Y,name:Y,value:r,maxCharacterLimit:O["MAX_FILENAME_LENGTH"],counterMinimumCharacters:O["MIN_FILENAME_CHARACTERS_BEFORE_WARNING"],onChange:this.onFileNameChange,placeholder:n,tabIndex:a?"-1":null,ref:this.setFileNameInputRef}))}},{key:"renderFileNameInput",value:function e(){return o.a.createElement("div",{className:"p-file_upload_dialog__section p-file_upload_dialog__section_file_name"},this.renderCollapsedFileName(),this.renderExpandedFileNameInput())}},{key:"renderRetentionWarning",value:function e(){var t=this.props,r=t.retentionDuration,n=t.featureFileThreads;if(!n||!r)return null;return o.a.createElement("div",{className:"p-file_upload_dialog__section p-file_upload_dialog__section--retention_duration"},o.a.createElement("span",null,Q.t("Due to your custom file retention policy, this file will be deleted after {duration}",{duration:Object(w["a"])(r)})))}},{key:"render",value:function e(){if(!this.props.featureFileThreads)return null;var t=this.props,r=t.files,n=t.msgText;var a=this.state,i=a.fileIndex,s=a.shareWith,c=a.confirmClose;var l=Q.t("Add a message about the file",{fallbackHash:"76426947fe26fc3fa06b6bf272f55b1b45248641"});var u=Q.t("Upload a file",{fallbackHash:"1ed2e7b50fa1dbbf1693d1c38adf270c04db10c6"});this.isMultipleFiles()&&(u=Q.t("Upload a file ({number} of {total})",{number:i+1,total:r.length,fallbackHash:"98feccd29dda6dfff23692d85c563aada4877d37"}));var f=false;var d=p()("p-file_upload_dialog",{"p-file_upload_dialog--multiple":this.isMultipleFiles()&&!c});return o.a.createElement(N["a"],{className:d,title:u,shouldCloseOnOverlayClick:f,onCancel:c?this.onCancelDiscard:this.onCancel,onGo:c?this.onCancel:this.onGo,useSlackScrollbarWithPadding:true,cancelText:c?Q.t("No, keep it"):null,goButtonIsDisabled:this.isGoDisabled(),goButtonText:c?Q.t("Yes, discard the message"):Q.t("Upload"),footerText:c?Q.t("Closing the window will discard your message"):this.renderFooterExtra(),goButtonType:c?"danger":"primary",showCancelButton:c},this.renderWarning(),o.a.createElement("div",{className:"p-file_upload_dialog__section"},o.a.createElement(L["a"],{text:n,onTextChange:this.onTextChange,ariaLabel:l,placeholder:l,enabled:s,focusOnMount:true,onEnter:this.onGo})),this.renderBroadcastCheckbox(),this.renderImagePreview(),this.renderFileNameInput(),this.renderMultiFileShareInputs(),this.renderRetentionWarning())}}]);return t}(i["PureComponent"]);$.displayName="FileUploadDialog";$.propTypes=X;$.defaultProps=Z;function ee(e,t){var r=Object(S["getCurrentTeam"])(e);var n={overStorageLimit:Object(T["isOverStorageLimit"])(r),isStdPlan:Object(T["isOnStandardPlan"])(r),isPlusPlan:Object(T["isOnPlusPlan"])(r),isEnterprisePlan:Object(T["isEnterpriseTeam"])(r)};return G({},Object(F["b"])(e,t),n,{retentionDuration:parseInt(Object(k["getTeamPref"])(e,"file_retention_type"),10)?Object(k["getTeamPref"])(e,"file_retention_duration"):null,featureFileThreads:Object(f["isFeatureEnabled"])(e,"feature_file_threads")})}var te={closeModal:_["closeModal"],switchToChannel:g["a"],getShareableChannelId:y["a"]};var re=Object(l["connect"])(ee,te)($);t["a"]=Object(F["a"])(re)},18755:function(e,t,r){"use strict";t["a"]=o;var n=r(16916);var a=r(14989);var i=r.n(a);function o(e){return new Promise(function(t,r){try{var i=new FileReader;i.onload=function(e){var r=Object(a["readFromBinaryFile"])(e.target.result);r&&"number"===typeof r.Orientation?t(r.Orientation):t(null)};i.readAsArrayBuffer(e)}catch(e){Object(n["warn"])("Error reading exif data");Object(n["warn"])(e);r(e)}})}},18756:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(3);var c=r.n(s);var l=r(9);var u=r(16912);var p=r(16913);var f=r(16923);var d=r(16930);var v=r(16940);var h=r(18757);var m=r(17102);var b=r(18208);var _=new u["b"]("file-upload");function g(e){var t=e.replyCount,r=e.replyUsers,n=e.replyUsersCount,a=e.featureFileThreads;if(!a)return null;if(!r)return null;return o.a.createElement("div",{className:"p-file_upload_dialog__thread_label"},_.t("Sharing file in a thread"),o.a.createElement("br",null),o.a.createElement(h["a"],{replyCount:t,replyUsers:r,replyUsersCount:n}))}g.displayName="FileUploadThreadLabel";g.propTypes={replyCount:c.a.number,replyUsers:c.a.arrayOf(c.a.string),replyUsersCount:c.a.number,featureFileThreads:c.a.bool};g.defaultProps={replyCount:void 0,replyUsers:void 0,replyUsersCount:void 0,featureFileThreads:true};function y(e,t){var r=t.channelId,a=t.threadTs;var i=Object(d["getMessageByTimestamp"])(e,r,a);if(!i){var o=Object(f["getChannelById"])(e,r);i=Object(m["d"])(o,a);i||(i=Object(b["a"])(o,a))}if(!i)return{};var s=Object(v["getReplyUsers"])(i);var c=Object(v["getReplyUsersCount"])(i);if(i.replies){s=Object(n["map"])(i.replies,"user");i.user&&s.push(i.user);c=Object(n["uniq"])(s).length}else i.user&&s.push(i.user);return{replyCount:Object(v["getReplyCount"])(i),replyUsers:s,replyUsersCount:c,featureFileThreads:Object(p["isFeatureEnabled"])(e,"feature_file_threads")}}t["a"]=Object(l["connect"])(y)(g)},18757:function(e,t,r){"use strict";var n=r(18072);t["a"]=n["a"]},18760:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16926);var c=r(16949);var l=r(18761);var u=Object(s["b"])("Opens the create gdoc file dialog",function(e,t,r){e(Object(c["openModal"])({element:a.a.createElement(l["a"],r)}))});u.propTypes={type:o.a.string,displayType:o.a.string,initialChannelId:o.a.string};t["a"]=u},18761:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(8);var p=r.n(u);var f=r(16913);var d=r(16949);var v=r(16923);var h=r(16953);var m=r(18762);var b=r(17396);var _=r(16912);var g=r(16958);var y=r(16994);var O=r(16956);var E=r(16957);var j=r(17014);var k=r(17e3);var w=r(17643);var C=r(17644);var S=r(17645);var T=r(17646);var I=r(20151);var N=r.n(I);var A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var P=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var L=new _["b"]("create-gdoc-dialog");var D={type:a.a.string,closeModal:a.a.func,getShareableChannelId:a.a.func,featureFileThreads:a.a.bool,msgText:a.a.string,setMsgText:a.a.func,selectedChannel:a.a.object,setSelectedChannel:a.a.func,disallowedKeywordInMsgText:a.a.string,canPostInSelectedChannel:a.a.bool};var F={type:void 0,closeModal:l.a.noop,getShareableChannelId:l.a.noop,featureFileThreads:false,msgText:"",setMsgText:l.a.noop,selectedChannel:void 0,setSelectedChannel:l.a.noop,disallowedKeywordInMsgText:void 0,canPostInSelectedChannel:false};var B=function(e){x(t,e);function t(e){R(this,t);var r=M(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));l.a.bindAll(r,["onTextChange","onShareChannelChange","onGo","onCancel","onTitleInputChange","onShareWithChange","setMessageInputRef"]);r.messageInput=null;r.state={overMsgLengthLimit:false,titleInputValue:"",submitting:false,shareWith:false};return r}P(t,[{key:"onTextChange",value:function e(t){var r=t.text,n=t.overLimit;this.props.setMsgText(r);this.setState(function(){return{overMsgLengthLimit:n}})}},{key:"onShareChannelChange",value:function e(t){this.props.setSelectedChannel(t)}},{key:"onGo",value:function e(){if(this.isGoButtonDisabled())return;this.createGDocOnGo()}},{key:"onCancel",value:function e(){Object(m["b"])(false);this.props.closeModal()}},{key:"onTitleInputChange",value:function e(t){this.setState(function(){return{titleInputValue:t}})}},{key:"onShareWithChange",value:function e(t){var r=t.target.checked;this.setState(function(){return{shareWith:!!r}})}},{key:"getCleanMsgText",value:function e(){var t=Object(h["a"])(this.props.msgText);return l.a.trim(t)}},{key:"getDialogTitle",value:function e(){var t=this.props,r=t.type,n=t.featureFileThreads;if(!n)return null;switch(r){case"document":return L.t("Create a Google Document");case"presentation":return L.t("Create a Google Presentation");case"spreadsheet":return L.t("Create a Google Spreadsheet");default:return L.t("Create a Google file")}}},{key:"setMessageInputRef",value:function e(t){if(!t)return;this.messageInput=t.getWrappedInstance();this.focusMessageInput()}},{key:"focusMessageInput",value:function e(){this.messageInput&&this.messageInput.focus()}},{key:"isGoButtonDisabled",value:function e(){var t=this.props,r=t.disallowedKeywordInMsgText,n=t.canPostInSelectedChannel;var a=this.state,i=a.overMsgLengthLimit,o=a.titleInputValue,s=a.submitting;var c=o&&o.length>g["MAX_FILENAME_LENGTH"];return!n||!!r||i||c||s}},{key:"createGDocOnGo",value:function e(){var t=this;var r=this.props,n=r.selectedChannel,a=r.getShareableChannelId,i=r.type;var o=this.state,s=o.titleInputValue,c=o.shareWith;var l=n&&n.id;if(!l)return;a({channelOrMemberId:l}).then(function(e){var r=t.getCleanMsgText();var n=s||"Untitled";var a={title:n,channel:c?e:null,comment:c?r:null};Object(m["a"])(i,a).then(function(){t.setState(function(){return{submitting:false}});t.props.closeModal()})});this.setState(function(){return{submitting:true}})}},{key:"renderChannelPicker",value:function e(){var t=this.props,r=t.featureFileThreads,n=t.selectedChannel;var a=this.state.shareWith;if(!r)return null;var i=n&&n.id;return o.a.createElement(C["a"],{onChange:this.onShareChannelChange,initialChannelId:i,isDisabled:!a})}},{key:"renderShareAlert",value:function e(){var t=this.state.shareWith;if(!t)return null;var r=Object(T["a"])(A({},this.props));if(!r)return null;return o.a.createElement("div",{className:"p-share_dialog__section"},o.a.createElement(y["d"],{type:"inline",level:"warning"},r))}},{key:"renderShareWith",value:function e(){var t=this.props.featureFileThreads;var r=this.state.shareWith;if(!t)return null;var n="create-gdoc-share-with";return o.a.createElement(E["a"],{text:L.t("Share with:"),htmlFor:n,type:"inline"},o.a.createElement(j["a"],{id:n,defaultChecked:r,onChange:this.onShareWithChange}))}},{key:"renderTitleInput",value:function e(){var t=this.props.featureFileThreads;var r=this.state.titleInputValue;if(!t)return null;var n="p-create_gdoc_dialog__title";return o.a.createElement("div",{className:"p-share_dialog__section p-share_dialog__section_bottom_padding"},o.a.createElement(E["a"],{htmlFor:n,text:L.t("Title"),optional:true},o.a.createElement(k["a"],{id:n,name:n,maxCharacterLimit:g["MAX_FILENAME_LENGTH"],counterMinimumCharacters:g["MIN_FILENAME_CHARACTERS_BEFORE_WARNING"],onChange:this.onTitleInputChange,value:r})))}},{key:"renderShareWithPicker",value:function e(){return o.a.createElement("div",{className:"p-share_dialog__section p-share_dialog__create_gdoc_share_with"},this.renderShareWith(),this.renderChannelPicker())}},{key:"renderMessageInput",value:function e(){var t=this.props,r=t.featureFileThreads,n=t.msgText;var a=this.state.shareWith;if(!r)return null;var i=L.t("Add a message, if you\u2019d like.");var s=p()("p-share_dialog__section","p-share_dialog__create_gdoc_message_input",{"p-share_dialog__create_gdoc_message_input--hide":!a});return o.a.createElement("div",{className:s},o.a.createElement(w["a"],{text:n,onTextChange:this.onTextChange,placeholder:i,ariaLabel:i,onEnter:this.onGo,ref:this.setMessageInputRef}))}},{key:"render",value:function e(){var t=this.props.featureFileThreads;if(!t)return null;var r=false;return o.a.createElement(O["a"],{className:"p-create_gdoc_dialog__modal",title:this.getDialogTitle(),shouldCloseOnOverlayClick:r,useSlackScrollbarWithPadding:true,goButtonText:L.t("Create"),onGo:this.onGo,onCancel:this.onCancel,goButtonIsDisabled:this.isGoButtonDisabled()},this.renderTitleInput(),this.renderShareWithPicker(),this.renderShareAlert(),this.renderMessageInput())}}]);return t}(i["Component"]);B.displayName="CreateGDocDialog";B.propTypes=D;B.defaultProps=F;function U(e,t){var r=t.selectedChannelId;var n=Object(S["b"])(e,t);var a=Object(v["getChannelById"])(e,r)||Object(v["getImByMemberId"])(e,r);return A({},n,{selectedChannel:a,featureFileThreads:Object(f["isFeatureEnabled"])(e,"feature_file_threads")})}var H={closeModal:d["closeModal"],getShareableChannelId:b["a"]};var q=Object(s["connect"])(U,H)(B);t["a"]=Object(S["a"])(q)},18762:function(e,t,r){"use strict";r.d(t,"a",function(){return a});r.d(t,"b",function(){return i});var n=r(16914);var a=Object(n["c"])("TS.files.gdrive.create");var i=Object(n["c"])("TS.menu.file.onGDriveCreateComplete")},18763:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17129);var a=r(17400);var i=r(16940);var o=r(16920);var s=r(17133);var c=r(16948);var l=r(17084);var u=r(18764);var p=r(16928);var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};Object(p["a"])("interop.rules",{channels:f({},o,{getDisplayNameForChannel:function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return o["getDisplayNameForChannel"].apply(o,[TS.redux.getState()].concat(r))},isYou:function e(t){return o["isYou"](TS.model.user.id,t)},isRelevantTeamForSharedChannel:function e(t){return o["isRelevantTeamForSharedChannel"](t,TS.model.user,TS.model.team.id,TS.model.team.enterprise_id,TS.boot_data.page_needs_enterprise,TS.boot_data.other_accounts)}}),messages:f({isAutomatedSubtype:n["a"]},i),files:{extendFileWithPinnedInfo:c["extendFileWithPinnedInfo"],getFileType:c["getFileType"]},user:{canLeaveChannel:s["b"]},emoji:{getEmojiMode:function e(t){return l["a"](TS.redux.getState(),t)},shouldRenderEmojiAsText:function e(){return l["b"](TS.redux.getState())},shouldShowEmoji5Coachmark:function e(t){return l["c"](TS.redux.getState(),t)}},teams:f({},a),admin:f({},u)})},18764:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"MEMBER_ACTION_MAP",function(){return o});t["canActorActivateUser"]=s;t["canActorActivateUserAsGuest"]=c;t["canActorNotReactivateUserAsGuest"]=l;t["canActorDeactivateUser"]=u;t["canActorNotDeactivateUser"]=p;t["canActorNotConvertOrDeactivateUser"]=f;t["canActorDemoteAdmin"]=d;t["canActorDemoteOwner"]=v;t["canActorPromoteUserToMember"]=h;t["canActorPromoteUserToAdmin"]=m;t["canActorPromoteUserToOwner"]=b;t["canActorConvertUserToGuest"]=_;t["canActorNotConvertUserRole"]=g;t["canActorPromoteUserToMultiChannelGuest"]=y;t["canActorDemoteUserToSingleChannelGuest"]=O;t["canActorTransferOwnership"]=E;t["canActorActivateBot"]=j;t["canActorConfigureBot"]=k;t["canActorDisable2faForUser"]=w;t["canActorSendSso"]=C;t["canActorUpdateExpirationTs"]=S;t["canActorEditProfile"]=T;var n=r(16927);var a=r(16921);var i=r(17400);var o={activate:s,activate_as_guest:c,deactivate:u,demote_admin:d,demote_owner:v,promote_to_member:h,promote_to_admin:m,promote_to_owner:b,promote_to_mc_guest:y,demote_to_sc_guest:O,transfer_ownership:E,activate_bot:j,configure_bot:k,disable_2fa:w,send_sso:C,update_expiration_ts:S,cant_deactivate:p,cant_convert_member_role:g,cant_convert_or_deactivate:f,cant_reactivate_as_guest:l,convert_to_guest:_,edit_member_profile:T};function s(e,t,r){return!Object(a["A"])(r)&&Object(a["C"])(r)&&!Object(a["G"])(r)&&Object(a["w"])(t)&&(!Object(i["isPaidTeam"])(e)||Object(i["isPaidTeam"])(e)&&!Object(a["H"])(r))&&(!Object(i["isEnterpriseTeam"])(e)||Object(i["isEnterpriseTeam"])(e)&&!Object(a["H"])(r))}function c(e,t,r){return Object(a["w"])(t)&&!Object(a["A"])(r)&&Object(a["C"])(r)&&!Object(a["G"])(r)&&!Object(a["N"])(r)&&Object(i["isPaidTeam"])(e)&&(!Object(i["isEnterpriseTeam"])(e)||Object(i["isEnterpriseTeam"])(e)&&Object(a["H"])(r)||Object(i["isEnterpriseTeam"])(e)&&Object(a["D"])(r))}function l(e,t,r){return Object(a["w"])(t)&&!Object(a["A"])(r)&&Object(a["C"])(r)&&!Object(a["N"])(r)&&!Object(a["H"])(r)&&Object(i["isPaidTeam"])(e)&&Object(i["isEnterpriseTeam"])(e)&&!Object(a["D"])(r)}function u(e,t,r){var i=Object(n["b"])(e.id);return!Object(a["A"])(r)&&!Object(a["C"])(r)&&!Object(a["N"])(r)&&!Object(a["t"])(i,r)&&(Object(a["N"])(t)||Object(a["M"])(t)&&!Object(a["M"])(r)||Object(a["w"])(t)&&!Object(a["w"])(r))}function p(e,t,r){var o=Object(n["b"])(e.id);return Object(a["t"])(o,r)&&Object(i["isEnterpriseTeam"])(e)&&!Object(a["A"])(r)&&!Object(a["C"])(r)&&!Object(a["N"])(r)&&Object(a["L"])(r)&&(Object(a["N"])(t)||Object(a["M"])(t)&&!Object(a["M"])(r)||Object(a["w"])(t)&&!Object(a["w"])(r))}function f(e,t,r){var o=Object(n["b"])(e.id);return Object(a["t"])(o,r)&&Object(i["isEnterpriseTeam"])(e)&&!Object(a["A"])(r)&&!Object(a["C"])(r)&&!Object(a["N"])(r)&&!Object(a["L"])(r)&&(Object(a["N"])(t)||Object(a["M"])(t)&&!Object(a["M"])(r)||Object(a["w"])(t)&&!Object(a["w"])(r))}function d(e,t,r){return!Object(a["A"])(r)&&Object(a["w"])(r)&&!Object(a["M"])(r)&&!Object(a["C"])(r)&&Object(a["M"])(t)}function v(e,t,r){return!Object(a["A"])(r)&&Object(a["M"])(r)&&!Object(a["C"])(r)&&!Object(a["N"])(r)&&Object(a["N"])(t)}function h(e,t,r){return Object(a["w"])(t)&&!Object(a["A"])(r)&&Object(a["H"])(r)&&!Object(a["C"])(r)&&(!Object(i["isEnterpriseTeam"])(e)||Object(i["isEnterpriseTeam"])(e)&&Object(a["L"])(r))&&(!Object(i["isEnterpriseTeam"])(e)||Object(i["isEnterpriseTeam"])(e)&&Object(i["canOrgUserManageGuests"])(e,t))}function m(e,t,r){return Object(a["w"])(t)&&!Object(a["A"])(r)&&!Object(a["C"])(r)&&!Object(a["w"])(r)&&!Object(a["H"])(r)}function b(e,t,r){return!Object(a["A"])(r)&&!Object(a["C"])(r)&&!Object(a["M"])(r)&&!Object(a["H"])(r)&&Object(a["M"])(t)}function _(e,t,r){return Object(a["w"])(t)&&!Object(a["A"])(r)&&!Object(a["C"])(r)&&!Object(a["H"])(r)&&!Object(a["w"])(r)&&(!Object(i["isEnterpriseTeam"])(e)||Object(i["isEnterpriseTeam"])(e)&&Object(a["L"])(r))&&(!Object(i["isEnterpriseTeam"])(e)||Object(i["isEnterpriseTeam"])(e)&&Object(i["canOrgUserManageGuests"])(e,t))}function g(e,t,r){var o=Object(n["b"])(e.id);return Object(a["w"])(t)&&!Object(a["A"])(r)&&!Object(a["t"])(o,r)&&!Object(a["C"])(r)&&Object(i["isPaidTeam"])(e)&&Object(i["isEnterpriseTeam"])(e)&&!Object(a["L"])(r)}function y(e,t,r){return Object(a["w"])(t)&&!Object(a["A"])(r)&&!Object(a["C"])(r)&&Object(a["T"])(r)&&Object(i["isPaidTeam"])(e)&&(!Object(i["isEnterpriseTeam"])(e)||Object(i["isEnterpriseTeam"])(e)&&Object(a["L"])(r))}function O(e,t,r){return Object(a["w"])(t)&&!Object(a["A"])(r)&&!Object(a["C"])(r)&&!Object(a["T"])(r)&&Object(a["O"])(r)&&Object(i["isPaidTeam"])(e)&&(!Object(i["isEnterpriseTeam"])(e)||Object(i["isEnterpriseTeam"])(e)&&Object(a["L"])(r))}function E(e,t,r){var o=Object(n["b"])(e.id);return Object(a["N"])(t)&&Object(a["N"])(r)&&Object(i["hasOtherActiveMembers"])(o)}function j(e,t,r){return Object(a["w"])(t)&&Object(a["A"])(r)&&Object(a["C"])(r)}function k(e,t,r){return Object(a["w"])(t)&&Object(a["A"])(r)&&Object(a["B"])(r)}function w(e,t,r){return!Object(a["A"])(r)&&Object(a["S"])(r)&&!Object(a["C"])(r)&&!Object(a["N"])(r)&&(Object(a["N"])(t)||Object(a["M"])(t)&&!Object(a["M"])(r)||Object(a["w"])(t)&&!Object(a["w"])(r))}function C(e,t,r){return Object(i["isSsoEnabled"])(e)&&!Object(i["isEnterpriseTeam"])(e)&&!Object(a["A"])(r)&&!Object(a["C"])(r)&&!Object(a["N"])(r)&&(Object(a["N"])(t)||Object(a["M"])(t)&&!Object(a["M"])(r)||Object(a["w"])(t)&&!Object(a["w"])(r))}function S(e,t,r){return Object(a["w"])(t)&&Object(a["H"])(r)&&!Object(a["A"])(r)&&!Object(a["C"])(r)}function T(e,t,r){return Object(a["w"])(t)&&Object(i["isPaidTeam"])(e)&&!Object(a["G"])(r)&&!Object(a["C"])(r)&&!Object(a["A"])(r)&&!Object(a["N"])(r)&&!Object(a["P"])(r)&&(Object(a["N"])(t)||Object(a["M"])(t)&&!Object(a["M"])(r)||Object(a["w"])(t)&&!Object(a["w"])(r))}},18765:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(15189);var a=r(16948);var i=r(17087);var o=r(16928);var s=r(17735);var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};Object(o["a"])("interop.files",c({},a,{fileNeedsUpdate:function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return a["fileNeedsUpdate"].apply(a,[TS.redux.getState()].concat(r))},fileIsUpdating:function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return a["fileIsUpdating"].apply(a,[TS.redux.getState()].concat(r))},processFileForUpserting:function e(t){return Object(n["b"])(TS.redux.getState(),t)},fetchAndUpsertFileById:i["b"],fetchAndUpsertFilesById:i["c"],getFileMetaTemplate:s["b"]}))},18766:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17405);var a=r(15762);var i=r(17979);var o=r(16928);Object(o["a"])("interop.notifications",{shouldShowNotificationForChannelMessage:function e(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return n["i"].apply(void 0,[TS.redux.getState()].concat(r))},shouldShowNotificationForDirectMessage:function e(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return n["k"].apply(void 0,[TS.redux.getState()].concat(r))},shouldShowNotificationForDesktopNotification:function e(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return n["j"].apply(void 0,[TS.redux.getState()].concat(r))},showNotification:function e(t,r){return TS.redux.dispatch(Object(i["b"])({message:t,modelObject:r}))},messageForSuppressedNotification:a["b"],getCalculatedDesktopNotifySetting:n["c"],getCalculatedMobileNotifySetting:n["d"],getDefaultDesktopNotifySetting:n["e"],getDefaultMobileNotifySetting:n["f"]})},18767:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(17122);var i=r(17328);var o=r(17325);Object(n["a"])("interop.searchUi",{getVisible:function e(){return Object(a["getVisible"])(TS.redux.getState())}});Object(n["a"])("interop.searchInputBox",{getSearchInputBoxDisplayQuery:function e(){return Object(i["getSearchInputBoxDisplayQuery"])(TS.redux.getState())}});Object(n["a"])("interop.searchResults",{fetchAllSearchResults:o["a"]})},18768:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(18769);var a=r(16928);Object(a["a"])("interop.searcher",{isNewMemberSearch:n["a"]})},18769:function(e,t,r){"use strict";t["a"]=i;var n=r(1);var a=r.n(n);function i(e){if(e._last_query!==e.query)return true;if(e._last_include_org!==e.include_org)return true;if(a.a.xor(e._last_org_team_ids,e.org_team_ids).length)return true;return false}},18770:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17681);var a=r(16928);Object(a["a"])("interop.sendMessage.resolveMessage",n["c"])},18771:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(395);var a=r.n(n);var i=r(16928);Object(i["a"])("interop.setAppElementForReactModal",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#client-ui";a.a.setAppElement(e)})},18772:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(20586);var i=r(20428);var o=r(17976);var s=r(20466);var c=r(20522);var l=r(16958);var u=l["SLASH_COMMAND_ERRORS"].UNKNOWN_COMMAND;Object(n["a"])("interop.slashCommand",{UNKNOWN_COMMAND:u,looksLikeSlashCommand:i["a"],parseEditLastMessageCommand:a["e"],loadSlashCommands:c["a"],executeCommand:o["executeCommand"],sonicCommand:s["a"]})},18773:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(17095);var i=r(17006);var o=r(17100);var s=r(17382);var c=r(17734);var l=r(18774);var u=r(17180);var p=r(17978);var f=r(17829);var d=r(18775);var v=r(17956);var h=r(20312);var m=r(17380);var b=r(17181);var _=r(17381);var g=r(19777);var y=r(20024);var O=r(20328);Object(n["a"])("interop.texty",{Delta:a["a"],PlainClipboardModule:a["b"],Quill:a["c"],SlackKeyboardModule:a["d"],TabCompleteModule:a["e"],TextyClass:a["f"],isRangeInCode:i["i"],convertContentsStringToContents:o["b"],convertContentsToString:s["a"],convertContentsToStringForDisplay:c["a"],getMemberAsContentsString:l["a"],shouldHighlightMention:u["a"],convertContentsStringForSlashCommands:p["a"],convertContentsStringForEncodedMembers:f["a"],CONTENTS_STRING_MENTION_REGEX:o["a"],convertContentsStringToDisplayString:d["a"],replaceFormatMentions:v["a"],TRAILING_PUNCTUATION_CHARACTERS:i["b"],getPotentialMentionMatches:m["d"],getBroadcastMatch:b["a"],getDisplayTextForSearchResult:_["a"],createPotentialMentionObject:m["b"],buildPotentialMentionsDelta:m["a"],trimAllowedMatchPrefix:g["a"],channelCompleter:y["e"],memberCompleter:y["g"],getContentsFromClipboard:h["a"],detachInvalidMentionsFromContents:O["a"]})},18774:function(e,t,r){"use strict";t["a"]=a;var n=r(16921);function a(e){if(!e)return"";return"<@"+e.id+"|@"+Object(n["f"])(e)+">"}},18775:function(e,t,r){"use strict";t["a"]=i;var n=r(17100);var a=r(17734);function i(e,t,r){var i=Object(n["b"])(e,{highlightWords:t,shouldRenderEmojiAsText:r});return Object(a["a"])(i)}},18776:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1);var a=r.n(n);var i=r(16928);var o=r(17403);var s=r(16919);var c=r(17054);function l(e){var t=TS.redux.getState();var r=Object(n["map"])(Object(o["getTyperIdsInChannel"])(t,e),function(e){return Object(s["getMemberById"])(t,e)});r.sort(function(e,t){return TS.interop.i18n.sorter(Object(c["d"])(e),Object(c["d"])(t))});return r}Object(i["a"])("interop.typing",{currentUserStartedTyping:o["currentUserStartedTyping"],currentUserEndedTyping:o["currentUserEndedTyping"],getTypersInChannel:l,memberStartedTyping:o["memberStartedTyping"],memberEndedTyping:o["memberEndedTyping"]})},18777:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17290);var a=r(18778);var i=r(16928);function o(e){var t=TS.redux.getState();var r=Object(n["getUserGroupById"])(t,e);if(!r)return null;return r}function s(e){var t=TS.redux.getState();var r=Object(n["getActiveUserGroups"])(t,e);return r}Object(i["a"])("interop.userGroups",{getUserGroupById:o,getActiveUserGroups:s,createUserGroup:a["a"],updateUserGroup:a["h"],updateMembersOfUserGroup:a["g"],enableUserGroup:a["d"],disableUserGroup:a["c"],deleteUserGroup:a["b"]})},18779:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(17206);var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};Object(n["a"])("interop.client_action_token",i({},a["a"]))},18780:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(17080);Object(n["a"])("interop.clipboard",a)},18781:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(16941);Object(n["a"])("interop.clog",{instance:Object(a["a"])(),track:a["b"],trackClick:a["c"],trackClickWithContext:a["d"],trackForm:a["e"]})},18782:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(16931);var i=r(17077);var o=r(16970);var s=r(17376);var c=r(17373);var l=r(17378);var u=r(17179);var p=r(17005);var f=r(17377);var d=r(17025);var v=r(17368);var h=r(17114);var m=r(17168);var b=r(17176);var _=r(17177);var g=r(17037);var y=r(17371);var O=r(17178);var E=r(17173);var j=r(17375);var k=r(17369);var w=r(16976);var C=r(17094);var S=r(17372);var T=r(17374);var I=r(17250);var N=r(17367);var A=r(17024);var P=r(17366);var R=r(17298);var M=r(17026);var x=r(17370);var L=r(17174);var D=r(17291);var F=r(17299);var B=r(17175);Object(n["a"])("interop.datetime",{toDateObject:a["a"],toDate:i["a"],toTime:o["a"],toHourAmount:s["a"],toDayAmount:c["a"],toWeekAmount:l["a"],toTimeAmount:u["a"],timeDurationConverter:p["a"],toTimeDuration:f["a"],dateDifference:d["a"],distanceInDays:v["a"],distanceInMinutes:h["a"],distanceInSeconds:m["a"],isToday:b["a"],isYesterday:_["a"],isSameDay:g["a"],sameHour:y["a"],shouldExcludeYear:O["a"],toDayOfTheWeek:E["a"],toHour:j["a"],getActivityDayStamp:k["a"],toCalendarDate:w["a"],toCalendarDateOrNamedDay:C["a"],toCalendarDateIfYesterdayOrToday:S["a"],toFilenameFriendlyDate:T["a"],toHumanReadableDateAndTime:I["a"],convertISOtoUTCReadableDate:N["a"],toTimeAgo:A["a"],addDays:P["a"],daysToYearsPretty:R["a"],maybeGetRelativeDay:M["a"],millisecondsToPrettifiedTime:x["a"],prettifyDateString:L["a"],makeTsStamp:D["a"],formatDate:F["a"],memberLocalTime:B["a"]})},18783:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(16962);Object(n["a"])("interop.desktop",a)},18784:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(16924);Object(n["a"])("interop.environment",a)},18785:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(17172);var i=r(17365);var o=r(20330);var s=r(17170);var c=r(18786);var l=r(17955);var u=r(17954);Object(n["a"])("interop.format",{formatBroadcastCommand:a["a"],formatChannelName:i["a"],formatTeamName:o["a"],locateHighlightWords:s["a"],surroundTextWith:c["a"],replaceUnicodeDoppelgangers:l["a"],cleanMessageTextWithState:u["a"]})},18786:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);t["a"]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.text,r=e.prefix,a=e.suffix;if(!t)return t;var i=t;if(r&&!Object(n["startsWith"])(i,r)){var o=i.search(/\S/);i=o>0?i.slice(0,o)+r+i.slice(o):r+i}if(a&&!Object(n["endsWith"])(i,a)){var s=i.search(/\s+$/);s>0?i=i.slice(0,s)+a+i.slice(s):i+=a}return i}},18787:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(16912);var i=r(16924);var o=r(16936);var s=r(17011);var c=r(17018);var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var u=new a["b"]("ns");var p={defaultNamespace:"ns",t:u.t};var f=[];var d=function e(t,r){var n=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p.t(t,l({},n,{ns:r}))};i["isDev"]&&(n.toString=function(){var e=r+"."+t;if(f.indexOf(e)>=0)return"";f.push(e);var n="Dev-only alert: tried to use an i18n function as a string!\nSee console for stack trace.\n\n\t\t\tNamespace: "+r+"\n\t\t\tString: "+t;alert(n);return""});return n};Object(n["a"])("interop.i18n",{t:d,number:a["i"],percent:a["j"],deburr:a["a"],listify:a["e"],possessive:a["k"],fullPossessiveString:a["c"],safeString:a["l"],sorter:a["m"],mappedSorter:a["f"],localesEnabled:o["e"],supportedKeyboards:s["e"],keyCodeEquivalent:s["b"],keyEquivalent:s["c"],getReverseKeyCodeMap:s["a"],normalizeKeyboardFromDesktop:s["d"],locale:o["f"],localeSupportsSendButton:o["d"],isPseudoLocale:o["c"],isLocaleCJK:o["b"],zdLocale:o["a"],number_abbreviations:c["c"],locales_number_formatting:c["b"],DEFAULT_LOCALE:a["b"].DEFAULT_LOCALE})},18788:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17189);var a=r(16913);var i=r(16922);var o=r(17209);var s=r(18068);var c=r(16940);var l=r(16928);Object(l["a"])("interop.messages",{computeRollups:s["a"],getExpandableKey:n["a"],canCountAsUnreadForCurrentUser:c["canCountAsUnreadForCurrentUser"],preprocessImsg:function e(t,r){return TS.redux.dispatch(Object(o["a"])({imsgs:[t],channelId:r}))[0]},containsMention:function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return Object(c["containsMention"])(t,Object(a["getCurrentUserId"])(TS.redux.getState()),Object(i["getUserHighlightWords"])(TS.redux.getState()),{ignoreAtHereMentions:r,ignoreHighlightWords:n,ignoreAtEveryoneMentions:o,ignoreAtChannelMentions:s})},isReply:c["isReply"],canEditMessage:c["canEditMessage"],shouldRenderFileThread:function e(t){return Object(c["shouldRenderFileThread"])(t,{featureFileThreads:Object(a["isFeatureEnabled"])(TS.redux.getState(),"feature_file_threads"),featureFileThreadsDarkLaunch:Object(a["isFeatureEnabled"])(TS.redux.getState(),"feature_file_threads_dark_launch")})},shouldIgnoreHighlightWords:c["shouldIgnoreHighlightWords"],isAppMessage:function e(t){return Object(c["isAppMessage"])(TS.redux.getState(),t)},atEveryoneRegExp:c["atEveryoneRegExp"],atChannelRegExp:c["atChannelRegExp"],atGroupRegExp:c["atGroupRegExp"],atHereRegExp:c["atHereRegExp"]})},18789:function(e,t){},18790:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(17406);Object(n["a"])("interop.search_autocomplete",{suggestions:a["q"],AutocompleteQuerySuggestion:a["i"],AutocompleteSuggestionType:a["b"],querySuggestionCache:a["o"],queryHistoryCache:a["n"],fileSuggestionCache:a["m"]})},18791:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(18023);Object(n["a"])("interop.search_conversions",{convertContentsStringForEncodedChannels:a["a"]})},18792:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(17155);var a=r(16928);Object(a["a"])("interop.threads",{getThreadKey:n["a"]})},18793:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(16935);var i=r(17304);var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};Object(n["a"])("interop.url",o({buildWorkspaceUrl:i["b"]},a))},18794:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(17029);var i=r(16981);var o=r(17152);var s=r(18016);var c=r(17297);var l=r(17045);var u=r(17352);var p=r(16989);var f=r(17167);var d=r(17386);var v=r(17387);var h=r(17144);var m=r(17941);var b=r(17942);var _=r(17943);var g=r(17944);var y=r(17130);var O=r(18795);var E=r(17701);var j=r(17834);var k=r(16950);var w=r(16956);var C=r(17073);var S=r(17066);var T=r(17079);var I=r(18796);var N=r(18797);var A=r(17208);var P=r(17430);var R=r(17132);var M=r(20536);Object(n["a"])("interop.utility",{addJitter:P["a"],looksLikeChannelId:a["a"],looksLikeMemberId:i["a"],looksLikeTeamId:o["a"],looksLikeFileId:s["a"],looksLikeGlobalActionFrecencyId:N["c"],extractAllBotIds:m["a"],extractAllMemberIds:b["a"],extractAllModelObIds:_["a"],extractAllTeamIds:g["a"],getStringLength:c["a"],getIconSizeToFit:l["a"],getInitials:u["a"],getBotIdFromUrl:p["a"],looksLikeBotId:f["a"],isVisible:d["a"],ipsum:O["a"],isFileSubtype:C["b"],inTabFlow:v["a"],firstFocusableChild:h["b"],lastFocusableChild:h["c"],snakeCaseKeys:y["a"],isModelObjectExternal:E["a"],isMenuVisible:k["f"],isDialogVisible:w["b"],isFSModalVisible:S["b"],normalize:j["a"],convertFilesize:T["a"],getSystemTextPreferences:I["a"],decodeGlobalActionFrecencyId:N["a"],getGlobalActionForFrecency:N["b"],FILE_SUBTYPES:C["a"],uuidv4:A["a"],formatNumberWithAbbreviation:R["a"],isCmdKey:M["a"]})},18795:function(e,t,r){"use strict";t["a"]=n;function n(){return["Build Something People Want","We know that we have built something which is genuinely useful: almost any team which adopts Slack as their central application for communication would be significantly better off than they were before.","That means we have something people want.","However, almost all of them have no idea that they want Slack.","How could they?","They\u2019ve never heard of it.","And only a vanishingly small number will have imagined it on their own.","They think they want something different (if they think they want anything at all).","They definitely are not looking for Slack.","(But then no-one was looking for Post-it notes or GUIs either.)","Just as much as our job is to build something genuinely useful, something which really does make people\u2019s working lives simpler, more pleasant and more productive, our job is also to understand what people think they want and then translate the value of Slack into their terms.","A good part of that is \u201cjust marketing,\u201d but even the best slogans, ads, landing pages, PR campaigns, etc., will fall down if they are not supported by the experience people have when they hit our site, when they sign up for an account, when they first begin using the product and when they start using it day in, day out.","Therefore, \u201cunderstanding what people think they want and then translating the value of Slack into their terms\u201d is something we all work on.","It is the sum of the exercise of all our crafts.","We do it with copy accompanying signup forms, with fast-loading pages, with good welcome emails, with comprehensive and accurate search, with purposeful loading screens, and with thoughtfully implemented and well-functioning features of all kinds.","Marketing from Both Ends","Much has been written about \u201cproduct-market fit\u201d in the last few years, probably as a result of the popularity of the lean startup movement (though the idea has been around much longer).","The term refers to the degree to which a product could be successful, given sufficient promotion, appropriate pricing, adequate customer support and so on (before you find that fit, all the pushing in the world won\u2019t get you up the hill).","In this classic post on Marc Andreessen\u2019s old blog, he calls getting to product-market fit the \u201conly thing that matters\u201d for startups and offers a way of thinking about the life of the startup that divides it into two distinct phases: before product-market fit and after.","Once the product fits the market, a company is able to step on the gas, spending to promote a product that will actually sell.","The things you need to do before are very different from the things you need to do after (generally test & iterate vs scale & optimize).","We are right in the middle of that first phase.","It seems we are doing well and there are many encouraging signs, but we\u2019re definitely still in the first phase and it is very, very hard to tell how far we have to go to cross over into the promised land (the last 10% is 90% of the work, etc.)","So, we should be working carefully from both the product end and the market end:","Doing a better and better job of providing what people want (whether they know it or not)","Communicating the above more and more effectively (so that they know they want it)","In the best case, there is a dialectic at play here: the product itself and the way people use it should suggest new ways of articulating the value\u200a\u2014\u200aand refinements to how we communicate the value should lead to principles which clarify decision-making around product features and design.","Our position is different than the one many new companies find themselves in: we are not battling it out in a large, well-defined market with clear incumbents (which is why we can\u2019t get away with \u201cOther group chat products are poisonous. Slack is toasted.\u201d).","Despite the fact that there are a handful of direct competitors and a muddled history of superficially similar tools, we are setting out to define a new market.","And that means we can\u2019t limit ourselves to tweaking the product; we need to tweak the market too.","Sell the innovation, not the product","The best\u200a\u2014\u200amaybe the only?\u200a\u2014\u200areal, direct measure of \u201cinnovation\u201d is change in human behaviour.","In fact, it is useful to take this way of thinking as definitional: innovation is the sum of change across the whole system, not a thing which causes a change in how people behave.","No small innovation ever caused a large shift in how people spend their time and no large one has ever failed to do so.","By that measure, Slack is a real and large innovation.","It is not as eye-catching as self-driving cars or implantable chips\u200a\u2014\u200ait is not basic research-y kind of stuff.","But, for organizations that adopt it, there will be a dramatic shift in how time is spent, how communication happens, and how the team\u2019s archives are utilized.","There will be changes in how team members relate to one another and, hopefully, significant changes in productivity.","We are unlikely to be able to sell \u201ca group chat system\u201d very well: there are just not enough people shopping for group chat system (and, as pointed out elsewhere, our current fax machine works fine).","That\u2019s why what we\u2019re selling is organizational transformation.","What we are selling is not the software product\u200a\u2014\u200athe set of all the features, in their specific implementation\u200a\u2014\u200abecause there are just not many buyers for this software product.","(People buy \u201csoftware\u201d to address a need they already know they have or perform some specific task they need to perform, whether that is tracking sales contacts or editing video.)","However, if we are selling \u201ca reduction in the cost of communication\u201d or \u201czero effort knowledge management\u201d or \u201cmaking better decisions, faster\u201d or \u201call your team communication, instantly searchable, available wherever you go\u201d or \u201c75% less email\u201d or some other valuable result of adopting Slack, we will find many more buyers.","That\u2019s why what we\u2019re selling is organizational transformation.","The software just happens to be the part we\u2019re able to build & ship (and the means for us to get our cut).","We\u2019re selling a reduction in information overload, relief from stress, and a new ability to extract the enormous value of hitherto useless corporate archives.","We\u2019re selling better organizations, better teams.","That\u2019s a good thing for people to buy and it is a much better thing for us to sell in the long run.","We will be successful to the extent that we create better teams.","To see why, consider the hypothetical Acme Saddle Company.","They could just sell saddles, and if so, they\u2019d probably be selling on the basis of things like the quality of the leather they use or the fancy adornments their saddles include; they could be selling on the range of styles and sizes available, or on durability, or on price.","Or, they could sell horseback riding.","Being successful at selling horseback riding means they grow the market for their product while giving the perfect context for talking about their saddles.","It lets them position themselves as the leader and affords them different kinds of marketing and promotion opportunities (e.g., sponsoring school programs to promote riding to kids, working on land conservation or trail maps).","It lets them think big and potentially be big.","Because the best possible way to find product-market fit is to define your own market.","This isn\u2019t a new idea.","There are many brands whose marketing activities or positioning has them selling something other than (and usually larger than) their product: Harley Davidson sells motorcycle riding, but it especially sells freedom and independence.","Most luxury brands sell something that comes down to \u201cbeing better than you are\u201d (richer, better looking, more attractive to those you find desirable, etc.)","My favorite recent example is Lululemon: when they started, there was not a large market for yoga-specific athletic wear and accessories.","They sold yoga like crazy: helping people find yoga studios near their homes, hosting free classes, sponsorships and scholarships, local ambassadors and training, etc.","And as a result, they sold just under $1.4 billion worth of yoga-specific athletic wear and accessories in their most recent fiscal year.","But going back to the Acme Saddle Company, the better analogy to what we are doing now is to imagine them selling horseback riding \u2026 about 4,000 years ago.","It is almost inevitable that centralized internal communication systems will gradually replace email for most organizations over the next 10-20 years and we should do what we can to accelerate the trend and \u201cown it\u201d.","We are at the beginning of a transition.","We have an opportunity to both define the category and push hard for the whole market\u2019s growth.","We\u2019d be crazy not to take it, because the best possible way to find product-market fit is to define your own market."]}},18797:function(e,t,r){"use strict";r.d(t,"b",function(){return o});r.d(t,"c",function(){return s});r.d(t,"a",function(){return c});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var a="_GA";var i=function e(t){return""+a+t};var o=function e(t){return n({},t,{is_app_action:true,originalId:t.id,id:i(t.id)})};var s=function e(t){return t.startsWith(a)};var c=function e(t){if(!s(t))return null;return t.slice(a.length)}},18798:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(17009);Object(n["a"])("interop.versions",a)},18799:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(18006);Object(n["a"])("interop.webapp",{handleContextMenuCallback:a["b"]})},18804:function(e,t,r){"use strict";var n=r(20434);var a=r(17752);var i=r(17687);r.d(t,"a",function(){return n["a"]});t["b"]=a["a"]},19687:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n={CARD_NUMBER:"cardNumber",CARD_EXPIRY:"cardExpiry",CARD_CVC:"cardCvc",POSTAL_CODE:"postalCode"}},19694:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(16926);var o=r(16949);var s=r(17227);var c=Object(i["b"])("Opens the custom status input in a dialog",function(e){e(Object(o["openModal"])({element:a.a.createElement(s["d"],{useDialog:true,focusOnMount:true})}))});t["a"]=c},19695:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(16922);Object(n["a"])("interop.prefs",{getHighlightWords:function e(){var t=TS.redux.getState();return Object(a["getUserHighlightWords"])(t)}})},197:function(e,t,r){var n=r(136)("meta");var a=r(52);var i=r(81);var o=r(61).f;var s=0;var c=Object.isExtensible||function(){return true};var l=!r(51)(function(){return c(Object.preventExtensions({}))});var u=function(e){o(e,n,{value:{i:"O"+ ++s,w:{}}})};var p=function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[n].i};var f=function(e,t){if(!i(e,n)){if(!c(e))return true;if(!t)return false;u(e)}return e[n].w};var d=function(e){l&&v.NEED&&c(e)&&!i(e,n)&&u(e);return e};var v=e.exports={KEY:n,NEED:false,fastKey:p,getWeak:f,onFreeze:d}},19742:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(1);var c=r.n(s);var l=r(9);var u=r(16941);var p=r(16913);var f=r(16967);var d=r(16923);var v=r(16920);var h=r(16939);var m=r(17400);var b=r(20398);var _=r(18674);var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k={isSharedChannel:o.a.bool,sharedTeamNames:o.a.arrayOf(o.a.node),bannerPrefs:o.a.shape({countPref:o.a.string,tsPref:o.a.string}).isRequired,clogStep:o.a.number.isRequired,onGoUrl:o.a.string.isRequired,goButtonText:o.a.string.isRequired,headerText:o.a.node.isRequired,renderBodyText:o.a.func.isRequired};var w={isSharedChannel:false,sharedTeamNames:[]};var C=["UPGRDEXP_FREE_TRIAL_FOR_SC","GROWTH_PRICING"];var S=function(e){j(t,e);function t(e){O(this,t);var r=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(s["bindAll"])(r,["onGo","onCloseIcon","renderBodyText"]);return r}y(t,[{key:"componentDidMount",value:function e(){this.clog({action:"impression"})}},{key:"onGo",value:function e(){var t=this.props.onGoUrl;this.clog({action:"click",ui_element:"billing_link"});window.open(t,"_blank")}},{key:"onCloseIcon",value:function e(){this.clog({action:"close",ui_element:"btn_close"})}},{key:"clog",value:function e(t){var r=this.props.clogStep;var n=g({step:r},t);C.forEach(function(e){Object(u["b"])(e,{contexts:{ui_context:n}})})}},{key:"renderBodyText",value:function e(){var t=this.props,e=t.renderBodyText,r=t.sharedTeamNames;return e(r)}},{key:"render",value:function e(){var t=this.props,r=t.isSharedChannel,n=t.headerText,i=t.goButtonText,o=t.bannerPrefs;if(!r)return null;return a.a.createElement(_["a"],{headerText:n,bodyText:this.renderBodyText(),goButtonText:i,showCancelButton:false,showCloseIcon:true,onGo:this.onGo,onCloseIcon:this.onCloseIcon,bannerPrefs:o})}}]);return t}(n["PureComponent"]);S.displayName="EscTrialBanner";S.propTypes=k;S.defaultProps=w;var T=function e(t){var r=Object(f["getMessagePaneChannelId"])(t);var n=Object(d["getChannelById"])(t,r);var i=Object(v["isExternallySharedChannel"])(n);var o=[];if(i){var c=Object(v["getMaybePendingSharedTeamIds"])(n);Object(s["isEmpty"])(c)||(o=Object(p["isFeatureEnabled"])(t,"feature_lazy_teams")?Object(s["map"])(c,function(e){var r=Object(h["getTeamById"])(t,e);return Object(m["isUnknown"])(r)?a.a.createElement(b["a"],{type:"unknown"}):Object(m["getTeamDisplayName"])(r)}):Object(s["map"])(c,function(e){return Object(m["getTeamDisplayName"])(Object(h["getTeamById"])(t,e))}))}return{isSharedChannel:i,sharedTeamNames:o}};t["a"]=Object(l["connect"])(T)(S)},19743:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16912);var c=r(1);var l=r.n(c);var u=r(19742);var p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=new s["b"]("trial_expiration_banners");var m={numDaysLeft:o.a.number.isRequired,expirationDate:o.a.string.isRequired};var b={countPref:"two_weeks_left_esc_trial_cta_count",tsPref:"two_weeks_left_esc_trial_cta_last_ts"};var _=168;var g="/admin/billing";var y=function(e){v(t,e);function t(e){f(this,t);var r=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(c["bindAll"])(r,["renderBodyText","renderHeaderText"]);return r}p(t,[{key:"renderBodyText",value:function e(t){var r=this.props.expirationDate;var n=Object(s["e"])(t,{noEscape:true,react:true});return h.rt("When the trial ends, this channel will <b>no longer be shared</b> with {shared_team_name}. Upgrade by {expiration_date} to keep all the features of the Standard plan.",{expiration_date:r,shared_team_name:n})}},{key:"renderHeaderText",value:function e(){var t=this.props.numDaysLeft;return h.t("Heads up: you have {num_of_days} more days on your free trial",{num_of_days:t})}},{key:"render",value:function e(){var t=h.t("Upgrade Now");return a.a.createElement(u["a"],{bannerPrefs:b,clogStep:_,onGoUrl:g,goButtonText:t,headerText:this.renderHeaderText(),renderBodyText:this.renderBodyText})}}]);return t}(n["PureComponent"]);y.displayName="TwoWeeksLeftEscTrialBanner";y.propTypes=m;t["a"]=y},19744:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16912);var c=r(1);var l=r.n(c);var u=r(16959);var p=r(19742);var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=new s["b"]("trial_expiration_banners");var b={numDaysLeft:o.a.number.isRequired,expirationDate:o.a.string.isRequired,featureModernizeBanners:o.a.bool.isRequired};var _={countPref:"one_week_left_esc_trial_cta_count",tsPref:"one_week_left_esc_trial_cta_last_ts"};var g=167;var y="/admin/billing";var O=function(e){h(t,e);function t(e){d(this,t);var r=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(c["bindAll"])(r,["renderBodyText","renderHeaderText"]);return r}f(t,[{key:"renderBodyText",value:function e(t){var r=this.props.expirationDate;if(!this.props.featureModernizeBanners)return null;var n=Object(s["e"])(t,{noEscape:true,react:true});return m.rt("<b>You won\u2019t be able to use this channel with {shared_team_name}</b> afterward, even if you upgrade later. To keep sharing this channel, upgrade before {expiration_date}.",{expiration_date:r,shared_team_name:n},function(e){var t=e.text;return a.a.createElement("strong",{className:"sk_warning_red"},t)})}},{key:"renderHeaderText",value:function e(){var t=this.props.numDaysLeft;return m.t("Only {num_of_days} days left on your free trial",{num_of_days:t})}},{key:"render",value:function e(){var t=m.t("Upgrade Now");return a.a.createElement(p["a"],{bannerPrefs:_,clogStep:g,onGoUrl:y,goButtonText:t,headerText:this.renderHeaderText(),renderBodyText:this.renderBodyText})}}]);return t}(n["PureComponent"]);O.displayName="OneWeekLeftEscTrialBanner";O.propTypes=b;t["a"]=Object(u["a"])("feature_modernize_banners")(O)},19765:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(19766);var i=r(19767);var o=r(19768);var s=r(16962);Object(n["a"])("interop.a11y",{makeAriaLabelForMPIM:a["a"],makeAriaLabelForChannel:i["a"],makeAriaLabelForMember:o["a"],isScreenReaderEnabled:s["isScreenReaderEnabled"]})},19766:function(e,t,r){"use strict";t["a"]=i;var n=r(16912);var a=new n["b"]("a11y");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=e.isCurrent,n=e.hasNotifications,i=e.isStarred,o=e.isMuted,s=e.hasDraft,c=e.featureLabelsForCoreObjects;if(!c)return null;var l=function(){if(r&&n&&o&&i&&s)return a.t("current conversation, has notifications, muted, starred, has a draft message");if(!r&&n&&o&&i&&s)return a.t("has notifications, muted, starred, has a draft message");if(r&&!n&&o&&i&&s)return a.t("current conversation, muted, starred, has a draft message");if(!r&&!n&&o&&i&&s)return a.t("muted, starred, has a draft message");if(r&&n&&!o&&i&&s)return a.t("current conversation, has notifications, starred, has a draft message");if(!r&&n&&!o&&i&&s)return a.t("has notifications, starred, has a draft message");if(r&&!n&&!o&&i&&s)return a.t("current conversation, starred, has a draft message");if(!r&&!n&&!o&&i&&s)return a.t("starred, has a draft message");if(r&&n&&o&&!i&&s)return a.t("current conversation, has notifications, muted, has a draft message");if(!r&&n&&o&&!i&&s)return a.t("has notifications, muted, has a draft message");if(r&&!n&&o&&!i&&s)return a.t("current conversation, muted, has a draft message");if(!r&&!n&&o&&!i&&s)return a.t("muted, has a draft message");if(r&&n&&!o&&!i&&s)return a.t("current conversation, has notifications, has a draft message");if(!r&&n&&!o&&!i&&s)return a.t("has notifications, has a draft message");if(r&&!n&&!o&&!i&&s)return a.t("current conversation, has a draft message");if(!r&&!n&&!o&&!i&&s)return a.t("has a draft message");if(r&&n&&o&&i&&!s)return a.t("current conversation, has notifications, muted, starred");if(!r&&n&&o&&i&&!s)return a.t("has notifications, muted, starred");if(r&&!n&&o&&i&&!s)return a.t("current conversation, muted, starred");if(!r&&!n&&o&&i&&!s)return a.t("muted, starred");if(r&&n&&!o&&i&&!s)return a.t("current conversation, has notifications, starred");if(!r&&n&&!o&&i&&!s)return a.t("has notifications, starred");if(r&&!n&&!o&&i&&!s)return a.t("current conversation, starred");if(!r&&!n&&!o&&i&&!s)return a.t("starred");if(r&&n&&o&&!i&&!s)return a.t("current conversation, has notifications, muted");if(!r&&n&&o&&!i&&!s)return a.t("has notifications, muted");if(r&&!n&&o&&!i&&!s)return a.t("current conversation, muted");if(!r&&!n&&o&&!i&&!s)return a.t("muted");if(r&&n&&!o&&!i&&!s)return a.t("current conversation, has notifications");if(!r&&n&&!o&&!i&&!s)return a.t("has notifications");if(r&&!n&&!o&&!i&&!s)return a.t("current conversation");return""}();if(t&&l)return a.t("{name} ({context})",{name:t,context:l});if(t)return t;return""}},19767:function(e,t,r){"use strict";t["a"]=i;var n=r(16912);var a=new n["b"]("a11y");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channelName,r=e.previousChannelName,n=e.workspaceName,i=e.orgName,o=e.isOrgGlobalSharedPublicOrPrivateChannel,s=e.isOrgSharedPublicOrPrivateChannel,c=e.isExternallySharedChannel,l=e.isArchived,u=e.isCurrent,p=e.hasUnreads,f=e.hasNotifications,d=e.isPrivate,v=e.isNotMember,h=e.isMuted,m=e.isStarred,b=e.hasDraft,_=e.featureLabelsForCoreObjects;if(!_)return null;var g=function(){if(c&&n)return a.t("shared with {workspaceName}",{workspaceName:n});if(o&&i)return a.t("shared across all {orgName} workspaces",{orgName:i});if(s)return a.t("shared channel");return""}();var y=function(){if(l)return a.t("archived channel");if(u&&p&&f&&d&&v&&h&&m&&b)return a.t("current channel, has unread messages and notifications, private, not a member, muted, starred, has a draft message");if(!u&&p&&f&&d&&v&&h&&m&&b)return a.t("has unread messages and notifications, private, not a member, muted, starred, has a draft message");if(u&&!p&&f&&d&&v&&h&&m&&b)return a.t("current channel, has notifications, private, not a member, muted, starred, has a draft message");if(!u&&!p&&f&&d&&v&&h&&m&&b)return a.t("has notifications, private, not a member, muted, starred, has a draft message");if(u&&p&&!f&&d&&v&&h&&m&&b)return a.t("current channel, has unread messages, private, not a member, muted, starred, has a draft message");if(!u&&p&&!f&&d&&v&&h&&m&&b)return a.t("has unread messages, private, not a member, muted, starred, has a draft message");if(u&&!p&&!f&&d&&v&&h&&m&&b)return a.t("current channel, private, not a member, muted, starred, has a draft message");if(!u&&!p&&!f&&d&&v&&h&&m&&b)return a.t("private, not a member, muted, starred, has a draft message");if(u&&p&&f&&!d&&v&&h&&m&&b)return a.t("current channel, has unread messages and notifications, not a member, muted, starred, has a draft message");if(!u&&p&&f&&!d&&v&&h&&m&&b)return a.t("has unread messages and notifications, not a member, muted, starred, has a draft message");if(u&&!p&&f&&!d&&v&&h&&m&&b)return a.t("current channel, has notifications, not a member, muted, starred, has a draft message");if(!u&&!p&&f&&!d&&v&&h&&m&&b)return a.t("has notifications, not a member, muted, starred, has a draft message");if(u&&p&&!f&&!d&&v&&h&&m&&b)return a.t("current channel, has unread messages, not a member, muted, starred, has a draft message");if(!u&&p&&!f&&!d&&v&&h&&m&&b)return a.t("has unread messages, not a member, muted, starred, has a draft message");if(u&&!p&&!f&&!d&&v&&h&&m&&b)return a.t("current channel, not a member, muted, starred, has a draft message");if(!u&&!p&&!f&&!d&&v&&h&&m&&b)return a.t("not a member, muted, starred, has a draft message");if(u&&p&&f&&d&&!v&&h&&m&&b)return a.t("current channel, has unread messages and notifications, private, muted, starred, has a draft message");if(!u&&p&&f&&d&&!v&&h&&m&&b)return a.t("has unread messages and notifications, private, muted, starred, has a draft message");if(u&&!p&&f&&d&&!v&&h&&m&&b)return a.t("current channel, has notifications, private, muted, starred, has a draft message");if(!u&&!p&&f&&d&&!v&&h&&m&&b)return a.t("has notifications, private, muted, starred, has a draft message");if(u&&p&&!f&&d&&!v&&h&&m&&b)return a.t("current channel, has unread messages, private, muted, starred, has a draft message");if(!u&&p&&!f&&d&&!v&&h&&m&&b)return a.t("has unread messages, private, muted, starred, has a draft message");if(u&&!p&&!f&&d&&!v&&h&&m&&b)return a.t("current channel, private, muted, starred, has a draft message");if(!u&&!p&&!f&&d&&!v&&h&&m&&b)return a.t("private, muted, starred, has a draft message");if(u&&p&&f&&!d&&!v&&h&&m&&b)return a.t("current channel, has unread messages and notifications, muted, starred, has a draft message");if(!u&&p&&f&&!d&&!v&&h&&m&&b)return a.t("has unread messages and notifications, muted, starred, has a draft message");if(u&&!p&&f&&!d&&!v&&h&&m&&b)return a.t("current channel, has notifications, muted, starred, has a draft message");if(!u&&!p&&f&&!d&&!v&&h&&m&&b)return a.t("has notifications, muted, starred, has a draft message");if(u&&p&&!f&&!d&&!v&&h&&m&&b)return a.t("current channel, has unread messages, muted, starred, has a draft message");if(!u&&p&&!f&&!d&&!v&&h&&m&&b)return a.t("has unread messages, muted, starred, has a draft message");if(u&&!p&&!f&&!d&&!v&&h&&m&&b)return a.t("current channel, muted, starred, has a draft message");if(!u&&!p&&!f&&!d&&!v&&h&&m&&b)return a.t("muted, starred, has a draft message");if(u&&p&&f&&d&&v&&!h&&m&&b)return a.t("current channel, has unread messages and notifications, private, not a member, starred, has a draft message");if(!u&&p&&f&&d&&v&&!h&&m&&b)return a.t("has unread messages and notifications, private, not a member, starred, has a draft message");if(u&&!p&&f&&d&&v&&!h&&m&&b)return a.t("current channel, has notifications, private, not a member, starred, has a draft message");if(!u&&!p&&f&&d&&v&&!h&&m&&b)return a.t("has notifications, private, not a member, starred, has a draft message");if(u&&p&&!f&&d&&v&&!h&&m&&b)return a.t("current channel, has unread messages, private, not a member, starred, has a draft message");if(!u&&p&&!f&&d&&v&&!h&&m&&b)return a.t("has unread messages, private, not a member, starred, has a draft message");if(u&&!p&&!f&&d&&v&&!h&&m&&b)return a.t("current channel, private, not a member, starred, has a draft message");if(!u&&!p&&!f&&d&&v&&!h&&m&&b)return a.t("private, not a member, starred, has a draft message");if(u&&p&&f&&!d&&v&&!h&&m&&b)return a.t("current channel, has unread messages and notifications, not a member, starred, has a draft message");if(!u&&p&&f&&!d&&v&&!h&&m&&b)return a.t("has unread messages and notifications, not a member, starred, has a draft message");if(u&&!p&&f&&!d&&v&&!h&&m&&b)return a.t("current channel, has notifications, not a member, starred, has a draft message");if(!u&&!p&&f&&!d&&v&&!h&&m&&b)return a.t("has notifications, not a member, starred, has a draft message");if(u&&p&&!f&&!d&&v&&!h&&m&&b)return a.t("current channel, has unread messages, not a member, starred, has a draft message");if(!u&&p&&!f&&!d&&v&&!h&&m&&b)return a.t("has unread messages, not a member, starred, has a draft message");if(u&&!p&&!f&&!d&&v&&!h&&m&&b)return a.t("current channel, not a member, starred, has a draft message");if(!u&&!p&&!f&&!d&&v&&!h&&m&&b)return a.t("not a member, starred, has a draft message");if(u&&p&&f&&d&&!v&&!h&&m&&b)return a.t("current channel, has unread messages and notifications, private, starred, has a draft message");if(!u&&p&&f&&d&&!v&&!h&&m&&b)return a.t("has unread messages and notifications, private, starred, has a draft message");if(u&&!p&&f&&d&&!v&&!h&&m&&b)return a.t("current channel, has notifications, private, starred, has a draft message");if(!u&&!p&&f&&d&&!v&&!h&&m&&b)return a.t("has notifications, private, starred, has a draft message");if(u&&p&&!f&&d&&!v&&!h&&m&&b)return a.t("current channel, has unread messages, private, starred, has a draft message");if(!u&&p&&!f&&d&&!v&&!h&&m&&b)return a.t("has unread messages, private, starred, has a draft message");if(u&&!p&&!f&&d&&!v&&!h&&m&&b)return a.t("current channel, private, starred, has a draft message");if(!u&&!p&&!f&&d&&!v&&!h&&m&&b)return a.t("private, starred, has a draft message");if(u&&p&&f&&!d&&!v&&!h&&m&&b)return a.t("current channel, has unread messages and notifications, starred, has a draft message");if(!u&&p&&f&&!d&&!v&&!h&&m&&b)return a.t("has unread messages and notifications, starred, has a draft message");if(u&&!p&&f&&!d&&!v&&!h&&m&&b)return a.t("current channel, has notifications, starred, has a draft message");if(!u&&!p&&f&&!d&&!v&&!h&&m&&b)return a.t("has notifications, starred, has a draft message");if(u&&p&&!f&&!d&&!v&&!h&&m&&b)return a.t("current channel, has unread messages, starred, has a draft message");if(!u&&p&&!f&&!d&&!v&&!h&&m&&b)return a.t("has unread messages, starred, has a draft message");if(u&&!p&&!f&&!d&&!v&&!h&&m&&b)return a.t("current channel, starred, has a draft message");if(!u&&!p&&!f&&!d&&!v&&!h&&m&&b)return a.t("starred, has a draft message");if(u&&p&&f&&d&&v&&h&&!m&&b)return a.t("current channel, has unread messages and notifications, private, not a member, muted, has a draft message");if(!u&&p&&f&&d&&v&&h&&!m&&b)return a.t("has unread messages and notifications, private, not a member, muted, has a draft message");if(u&&!p&&f&&d&&v&&h&&!m&&b)return a.t("current channel, has notifications, private, not a member, muted, has a draft message");if(!u&&!p&&f&&d&&v&&h&&!m&&b)return a.t("has notifications, private, not a member, muted, has a draft message");if(u&&p&&!f&&d&&v&&h&&!m&&b)return a.t("current channel, has unread messages, private, not a member, muted, has a draft message");if(!u&&p&&!f&&d&&v&&h&&!m&&b)return a.t("has unread messages, private, not a member, muted, has a draft message");if(u&&!p&&!f&&d&&v&&h&&!m&&b)return a.t("current channel, private, not a member, muted, has a draft message");if(!u&&!p&&!f&&d&&v&&h&&!m&&b)return a.t("private, not a member, muted, has a draft message");if(u&&p&&f&&!d&&v&&h&&!m&&b)return a.t("current channel, has unread messages and notifications, not a member, muted, has a draft message");if(!u&&p&&f&&!d&&v&&h&&!m&&b)return a.t("has unread messages and notifications, not a member, muted, has a draft message");if(u&&!p&&f&&!d&&v&&h&&!m&&b)return a.t("current channel, has notifications, not a member, muted, has a draft message");if(!u&&!p&&f&&!d&&v&&h&&!m&&b)return a.t("has notifications, not a member, muted, has a draft message");if(u&&p&&!f&&!d&&v&&h&&!m&&b)return a.t("current channel, has unread messages, not a member, muted, has a draft message");if(!u&&p&&!f&&!d&&v&&h&&!m&&b)return a.t("has unread messages, not a member, muted, has a draft message");if(u&&!p&&!f&&!d&&v&&h&&!m&&b)return a.t("current channel, not a member, muted, has a draft message");if(!u&&!p&&!f&&!d&&v&&h&&!m&&b)return a.t("not a member, muted, has a draft message");if(u&&p&&f&&d&&!v&&h&&!m&&b)return a.t("current channel, has unread messages and notifications, private, muted, has a draft message");if(!u&&p&&f&&d&&!v&&h&&!m&&b)return a.t("has unread messages and notifications, private, muted, has a draft message");if(u&&!p&&f&&d&&!v&&h&&!m&&b)return a.t("current channel, has notifications, private, muted, has a draft message");if(!u&&!p&&f&&d&&!v&&h&&!m&&b)return a.t("has notifications, private, muted, has a draft message");if(u&&p&&!f&&d&&!v&&h&&!m&&b)return a.t("current channel, has unread messages, private, muted, has a draft message");if(!u&&p&&!f&&d&&!v&&h&&!m&&b)return a.t("has unread messages, private, muted, has a draft message");if(u&&!p&&!f&&d&&!v&&h&&!m&&b)return a.t("current channel, private, muted, has a draft message");if(!u&&!p&&!f&&d&&!v&&h&&!m&&b)return a.t("private, muted, has a draft message");if(u&&p&&f&&!d&&!v&&h&&!m&&b)return a.t("current channel, has unread messages and notifications, muted, has a draft message");if(!u&&p&&f&&!d&&!v&&h&&!m&&b)return a.t("has unread messages and notifications, muted, has a draft message");if(u&&!p&&f&&!d&&!v&&h&&!m&&b)return a.t("current channel, has notifications, muted, has a draft message");if(!u&&!p&&f&&!d&&!v&&h&&!m&&b)return a.t("has notifications, muted, has a draft message");if(u&&p&&!f&&!d&&!v&&h&&!m&&b)return a.t("current channel, has unread messages, muted, has a draft message");if(!u&&p&&!f&&!d&&!v&&h&&!m&&b)return a.t("has unread messages, muted, has a draft message");if(u&&!p&&!f&&!d&&!v&&h&&!m&&b)return a.t("current channel, muted, has a draft message");if(!u&&!p&&!f&&!d&&!v&&h&&!m&&b)return a.t("muted, has a draft message");if(u&&p&&f&&d&&v&&!h&&!m&&b)return a.t("current channel, has unread messages and notifications, private, not a member, has a draft message");if(!u&&p&&f&&d&&v&&!h&&!m&&b)return a.t("has unread messages and notifications, private, not a member, has a draft message");if(u&&!p&&f&&d&&v&&!h&&!m&&b)return a.t("current channel, has notifications, private, not a member, has a draft message");if(!u&&!p&&f&&d&&v&&!h&&!m&&b)return a.t("has notifications, private, not a member, has a draft message");if(u&&p&&!f&&d&&v&&!h&&!m&&b)return a.t("current channel, has unread messages, private, not a member, has a draft message");if(!u&&p&&!f&&d&&v&&!h&&!m&&b)return a.t("has unread messages, private, not a member, has a draft message");if(u&&!p&&!f&&d&&v&&!h&&!m&&b)return a.t("current channel, private, not a member, has a draft message");if(!u&&!p&&!f&&d&&v&&!h&&!m&&b)return a.t("private, not a member, has a draft message");if(u&&p&&f&&!d&&v&&!h&&!m&&b)return a.t("current channel, has unread messages and notifications, not a member, has a draft message");if(!u&&p&&f&&!d&&v&&!h&&!m&&b)return a.t("has unread messages and notifications, not a member, has a draft message");if(u&&!p&&f&&!d&&v&&!h&&!m&&b)return a.t("current channel, has notifications, not a member, has a draft message");if(!u&&!p&&f&&!d&&v&&!h&&!m&&b)return a.t("has notifications, not a member, has a draft message");if(u&&p&&!f&&!d&&v&&!h&&!m&&b)return a.t("current channel, has unread messages, not a member, has a draft message");if(!u&&p&&!f&&!d&&v&&!h&&!m&&b)return a.t("has unread messages, not a member, has a draft message");if(u&&!p&&!f&&!d&&v&&!h&&!m&&b)return a.t("current channel, not a member, has a draft message");if(!u&&!p&&!f&&!d&&v&&!h&&!m&&b)return a.t("not a member, has a draft message");if(u&&p&&f&&d&&!v&&!h&&!m&&b)return a.t("current channel, has unread messages and notifications, private, has a draft message");if(!u&&p&&f&&d&&!v&&!h&&!m&&b)return a.t("has unread messages and notifications, private, has a draft message");if(u&&!p&&f&&d&&!v&&!h&&!m&&b)return a.t("current channel, has notifications, private, has a draft message");if(!u&&!p&&f&&d&&!v&&!h&&!m&&b)return a.t("has notifications, private, has a draft message");if(u&&p&&!f&&d&&!v&&!h&&!m&&b)return a.t("current channel, has unread messages, private, has a draft message");if(!u&&p&&!f&&d&&!v&&!h&&!m&&b)return a.t("has unread messages, private, has a draft message");if(u&&!p&&!f&&d&&!v&&!h&&!m&&b)return a.t("current channel, private, has a draft message");if(!u&&!p&&!f&&d&&!v&&!h&&!m&&b)return a.t("private, has a draft message");if(u&&p&&f&&!d&&!v&&!h&&!m&&b)return a.t("current channel, has unread messages and notifications, has a draft message");if(!u&&p&&f&&!d&&!v&&!h&&!m&&b)return a.t("has unread messages and notifications, has a draft message");if(u&&!p&&f&&!d&&!v&&!h&&!m&&b)return a.t("current channel, has notifications, has a draft message");if(!u&&!p&&f&&!d&&!v&&!h&&!m&&b)return a.t("has notifications, has a draft message");if(u&&p&&!f&&!d&&!v&&!h&&!m&&b)return a.t("current channel, has unread messages, has a draft message");if(!u&&p&&!f&&!d&&!v&&!h&&!m&&b)return a.t("has unread messages, has a draft message");if(u&&!p&&!f&&!d&&!v&&!h&&!m&&b)return a.t("current channel, has a draft message");if(!u&&!p&&!f&&!d&&!v&&!h&&!m&&b)return a.t("has a draft message");if(u&&p&&f&&d&&v&&h&&m&&!b)return a.t("current channel, has unread messages and notifications, private, not a member, muted, starred");if(!u&&p&&f&&d&&v&&h&&m&&!b)return a.t("has unread messages and notifications, private, not a member, muted, starred");if(u&&!p&&f&&d&&v&&h&&m&&!b)return a.t("current channel, has notifications, private, not a member, muted, starred");if(!u&&!p&&f&&d&&v&&h&&m&&!b)return a.t("has notifications, private, not a member, muted, starred");if(u&&p&&!f&&d&&v&&h&&m&&!b)return a.t("current channel, has unread messages, private, not a member, muted, starred");if(!u&&p&&!f&&d&&v&&h&&m&&!b)return a.t("has unread messages, private, not a member, muted, starred");if(u&&!p&&!f&&d&&v&&h&&m&&!b)return a.t("current channel, private, not a member, muted, starred");if(!u&&!p&&!f&&d&&v&&h&&m&&!b)return a.t("private, not a member, muted, starred");if(u&&p&&f&&!d&&v&&h&&m&&!b)return a.t("current channel, has unread messages and notifications, not a member, muted, starred");if(!u&&p&&f&&!d&&v&&h&&m&&!b)return a.t("has unread messages and notifications, not a member, muted, starred");if(u&&!p&&f&&!d&&v&&h&&m&&!b)return a.t("current channel, has notifications, not a member, muted, starred");if(!u&&!p&&f&&!d&&v&&h&&m&&!b)return a.t("has notifications, not a member, muted, starred");if(u&&p&&!f&&!d&&v&&h&&m&&!b)return a.t("current channel, has unread messages, not a member, muted, starred");if(!u&&p&&!f&&!d&&v&&h&&m&&!b)return a.t("has unread messages, not a member, muted, starred");if(u&&!p&&!f&&!d&&v&&h&&m&&!b)return a.t("current channel, not a member, muted, starred");if(!u&&!p&&!f&&!d&&v&&h&&m&&!b)return a.t("not a member, muted, starred");if(u&&p&&f&&d&&!v&&h&&m&&!b)return a.t("current channel, has unread messages and notifications, private, muted, starred");if(!u&&p&&f&&d&&!v&&h&&m&&!b)return a.t("has unread messages and notifications, private, muted, starred");if(u&&!p&&f&&d&&!v&&h&&m&&!b)return a.t("current channel, has notifications, private, muted, starred");if(!u&&!p&&f&&d&&!v&&h&&m&&!b)return a.t("has notifications, private, muted, starred");if(u&&p&&!f&&d&&!v&&h&&m&&!b)return a.t("current channel, has unread messages, private, muted, starred");if(!u&&p&&!f&&d&&!v&&h&&m&&!b)return a.t("has unread messages, private, muted, starred");if(u&&!p&&!f&&d&&!v&&h&&m&&!b)return a.t("current channel, private, muted, starred");if(!u&&!p&&!f&&d&&!v&&h&&m&&!b)return a.t("private, muted, starred");if(u&&p&&f&&!d&&!v&&h&&m&&!b)return a.t("current channel, has unread messages and notifications, muted, starred");if(!u&&p&&f&&!d&&!v&&h&&m&&!b)return a.t("has unread messages and notifications, muted, starred");if(u&&!p&&f&&!d&&!v&&h&&m&&!b)return a.t("current channel, has notifications, muted, starred");if(!u&&!p&&f&&!d&&!v&&h&&m&&!b)return a.t("has notifications, muted, starred");if(u&&p&&!f&&!d&&!v&&h&&m&&!b)return a.t("current channel, has unread messages, muted, starred");if(!u&&p&&!f&&!d&&!v&&h&&m&&!b)return a.t("has unread messages, muted, starred");if(u&&!p&&!f&&!d&&!v&&h&&m&&!b)return a.t("current channel, muted, starred");if(!u&&!p&&!f&&!d&&!v&&h&&m&&!b)return a.t("muted, starred");if(u&&p&&f&&d&&v&&!h&&m&&!b)return a.t("current channel, has unread messages and notifications, private, not a member, starred");if(!u&&p&&f&&d&&v&&!h&&m&&!b)return a.t("has unread messages and notifications, private, not a member, starred");if(u&&!p&&f&&d&&v&&!h&&m&&!b)return a.t("current channel, has notifications, private, not a member, starred");if(!u&&!p&&f&&d&&v&&!h&&m&&!b)return a.t("has notifications, private, not a member, starred");if(u&&p&&!f&&d&&v&&!h&&m&&!b)return a.t("current channel, has unread messages, private, not a member, starred");if(!u&&p&&!f&&d&&v&&!h&&m&&!b)return a.t("has unread messages, private, not a member, starred");if(u&&!p&&!f&&d&&v&&!h&&m&&!b)return a.t("current channel, private, not a member, starred");if(!u&&!p&&!f&&d&&v&&!h&&m&&!b)return a.t("private, not a member, starred");if(u&&p&&f&&!d&&v&&!h&&m&&!b)return a.t("current channel, has unread messages and notifications, not a member, starred");if(!u&&p&&f&&!d&&v&&!h&&m&&!b)return a.t("has unread messages and notifications, not a member, starred");if(u&&!p&&f&&!d&&v&&!h&&m&&!b)return a.t("current channel, has notifications, not a member, starred");if(!u&&!p&&f&&!d&&v&&!h&&m&&!b)return a.t("has notifications, not a member, starred");if(u&&p&&!f&&!d&&v&&!h&&m&&!b)return a.t("current channel, has unread messages, not a member, starred");if(!u&&p&&!f&&!d&&v&&!h&&m&&!b)return a.t("has unread messages, not a member, starred");if(u&&!p&&!f&&!d&&v&&!h&&m&&!b)return a.t("current channel, not a member, starred");if(!u&&!p&&!f&&!d&&v&&!h&&m&&!b)return a.t("not a member, starred");if(u&&p&&f&&d&&!v&&!h&&m&&!b)return a.t("current channel, has unread messages and notifications, private, starred");if(!u&&p&&f&&d&&!v&&!h&&m&&!b)return a.t("has unread messages and notifications, private, starred");if(u&&!p&&f&&d&&!v&&!h&&m&&!b)return a.t("current channel, has notifications, private, starred");if(!u&&!p&&f&&d&&!v&&!h&&m&&!b)return a.t("has notifications, private, starred");if(u&&p&&!f&&d&&!v&&!h&&m&&!b)return a.t("current channel, has unread messages, private, starred");if(!u&&p&&!f&&d&&!v&&!h&&m&&!b)return a.t("has unread messages, private, starred");if(u&&!p&&!f&&d&&!v&&!h&&m&&!b)return a.t("current channel, private, starred");if(!u&&!p&&!f&&d&&!v&&!h&&m&&!b)return a.t("private, starred");if(u&&p&&f&&!d&&!v&&!h&&m&&!b)return a.t("current channel, has unread messages and notifications, starred");if(!u&&p&&f&&!d&&!v&&!h&&m&&!b)return a.t("has unread messages and notifications, starred");if(u&&!p&&f&&!d&&!v&&!h&&m&&!b)return a.t("current channel, has notifications, starred");if(!u&&!p&&f&&!d&&!v&&!h&&m&&!b)return a.t("has notifications, starred");if(u&&p&&!f&&!d&&!v&&!h&&m&&!b)return a.t("current channel, has unread messages, starred");if(!u&&p&&!f&&!d&&!v&&!h&&m&&!b)return a.t("has unread messages, starred");if(u&&!p&&!f&&!d&&!v&&!h&&m&&!b)return a.t("current channel, starred");if(!u&&!p&&!f&&!d&&!v&&!h&&m&&!b)return a.t("starred");if(u&&p&&f&&d&&v&&h&&!m&&!b)return a.t("current channel, has unread messages and notifications, private, not a member, muted");if(!u&&p&&f&&d&&v&&h&&!m&&!b)return a.t("has unread messages and notifications, private, not a member, muted");if(u&&!p&&f&&d&&v&&h&&!m&&!b)return a.t("current channel, has notifications, private, not a member, muted");if(!u&&!p&&f&&d&&v&&h&&!m&&!b)return a.t("has notifications, private, not a member, muted");if(u&&p&&!f&&d&&v&&h&&!m&&!b)return a.t("current channel, has unread messages, private, not a member, muted");if(!u&&p&&!f&&d&&v&&h&&!m&&!b)return a.t("has unread messages, private, not a member, muted");if(u&&!p&&!f&&d&&v&&h&&!m&&!b)return a.t("current channel, private, not a member, muted");if(!u&&!p&&!f&&d&&v&&h&&!m&&!b)return a.t("private, not a member, muted");if(u&&p&&f&&!d&&v&&h&&!m&&!b)return a.t("current channel, has unread messages and notifications, not a member, muted");if(!u&&p&&f&&!d&&v&&h&&!m&&!b)return a.t("has unread messages and notifications, not a member, muted");if(u&&!p&&f&&!d&&v&&h&&!m&&!b)return a.t("current channel, has notifications, not a member, muted");if(!u&&!p&&f&&!d&&v&&h&&!m&&!b)return a.t("has notifications, not a member, muted");if(u&&p&&!f&&!d&&v&&h&&!m&&!b)return a.t("current channel, has unread messages, not a member, muted");if(!u&&p&&!f&&!d&&v&&h&&!m&&!b)return a.t("has unread messages, not a member, muted");if(u&&!p&&!f&&!d&&v&&h&&!m&&!b)return a.t("current channel, not a member, muted");if(!u&&!p&&!f&&!d&&v&&h&&!m&&!b)return a.t("not a member, muted");if(u&&p&&f&&d&&!v&&h&&!m&&!b)return a.t("current channel, has unread messages and notifications, private, muted");if(!u&&p&&f&&d&&!v&&h&&!m&&!b)return a.t("has unread messages and notifications, private, muted");if(u&&!p&&f&&d&&!v&&h&&!m&&!b)return a.t("current channel, has notifications, private, muted");if(!u&&!p&&f&&d&&!v&&h&&!m&&!b)return a.t("has notifications, private, muted");if(u&&p&&!f&&d&&!v&&h&&!m&&!b)return a.t("current channel, has unread messages, private, muted");if(!u&&p&&!f&&d&&!v&&h&&!m&&!b)return a.t("has unread messages, private, muted");if(u&&!p&&!f&&d&&!v&&h&&!m&&!b)return a.t("current channel, private, muted");if(!u&&!p&&!f&&d&&!v&&h&&!m&&!b)return a.t("private, muted");if(u&&p&&f&&!d&&!v&&h&&!m&&!b)return a.t("current channel, has unread messages and notifications, muted");if(!u&&p&&f&&!d&&!v&&h&&!m&&!b)return a.t("has unread messages and notifications, muted");if(u&&!p&&f&&!d&&!v&&h&&!m&&!b)return a.t("current channel, has notifications, muted");if(!u&&!p&&f&&!d&&!v&&h&&!m&&!b)return a.t("has notifications, muted");if(u&&p&&!f&&!d&&!v&&h&&!m&&!b)return a.t("current channel, has unread messages, muted");if(!u&&p&&!f&&!d&&!v&&h&&!m&&!b)return a.t("has unread messages, muted");if(u&&!p&&!f&&!d&&!v&&h&&!m&&!b)return a.t("current channel, muted");if(!u&&!p&&!f&&!d&&!v&&h&&!m&&!b)return a.t("muted");if(u&&p&&f&&d&&v&&!h&&!m&&!b)return a.t("current channel, has unread messages and notifications, private, not a member");if(!u&&p&&f&&d&&v&&!h&&!m&&!b)return a.t("has unread messages and notifications, private, not a member");if(u&&!p&&f&&d&&v&&!h&&!m&&!b)return a.t("current channel, has notifications, private, not a member");if(!u&&!p&&f&&d&&v&&!h&&!m&&!b)return a.t("has notifications, private, not a member");if(u&&p&&!f&&d&&v&&!h&&!m&&!b)return a.t("current channel, has unread messages, private, not a member");if(!u&&p&&!f&&d&&v&&!h&&!m&&!b)return a.t("has unread messages, private, not a member");if(u&&!p&&!f&&d&&v&&!h&&!m&&!b)return a.t("current channel, private, not a member");if(!u&&!p&&!f&&d&&v&&!h&&!m&&!b)return a.t("private, not a member");if(u&&p&&f&&!d&&v&&!h&&!m&&!b)return a.t("current channel, has unread messages and notifications, not a member");if(!u&&p&&f&&!d&&v&&!h&&!m&&!b)return a.t("has unread messages and notifications, not a member");if(u&&!p&&f&&!d&&v&&!h&&!m&&!b)return a.t("current channel, has notifications, not a member");if(!u&&!p&&f&&!d&&v&&!h&&!m&&!b)return a.t("has notifications, not a member");if(u&&p&&!f&&!d&&v&&!h&&!m&&!b)return a.t("current channel, has unread messages, not a member");if(!u&&p&&!f&&!d&&v&&!h&&!m&&!b)return a.t("has unread messages, not a member");if(u&&!p&&!f&&!d&&v&&!h&&!m&&!b)return a.t("current channel, not a member");if(!u&&!p&&!f&&!d&&v&&!h&&!m&&!b)return a.t("not a member");if(u&&p&&f&&d&&!v&&!h&&!m&&!b)return a.t("current channel, has unread messages and notifications, private");if(!u&&p&&f&&d&&!v&&!h&&!m&&!b)return a.t("has unread messages and notifications, private");if(u&&!p&&f&&d&&!v&&!h&&!m&&!b)return a.t("current channel, has notifications, private");if(!u&&!p&&f&&d&&!v&&!h&&!m&&!b)return a.t("has notifications, private");if(u&&p&&!f&&d&&!v&&!h&&!m&&!b)return a.t("current channel, has unread messages, private");if(!u&&p&&!f&&d&&!v&&!h&&!m&&!b)return a.t("has unread messages, private");if(u&&!p&&!f&&d&&!v&&!h&&!m&&!b)return a.t("current channel, private");if(!u&&!p&&!f&&d&&!v&&!h&&!m&&!b)return a.t("private");if(u&&p&&f&&!d&&!v&&!h&&!m&&!b)return a.t("current channel, has unread messages and notifications");if(!u&&p&&f&&!d&&!v&&!h&&!m&&!b)return a.t("has unread messages and notifications");if(u&&!p&&f&&!d&&!v&&!h&&!m&&!b)return a.t("current channel, has notifications");if(!u&&!p&&f&&!d&&!v&&!h&&!m&&!b)return a.t("has notifications");if(u&&p&&!f&&!d&&!v&&!h&&!m&&!b)return a.t("current channel, has unread messages");if(!u&&p&&!f&&!d&&!v&&!h&&!m&&!b)return a.t("has unread messages");if(u&&!p&&!f&&!d&&!v&&!h&&!m&&!b)return a.t("current channel");return""}();if(r&&!g&&!y)return a.t("{channelName}, previously {previousChannelName}",{channelName:t,previousChannelName:r});if(!r&&!g&&y)return a.t("{channelName} ({context})",{channelName:t,context:y});if(r&&!g&&y)return a.t("{channelName}, previously {previousChannelName} ({context})",{channelName:t,previousChannelName:r,context:y});if(!r&&g&&!y)return a.t("{channelName}, {workspaceDescription}",{channelName:t,workspaceDescription:g});if(r&&g&&!y)return a.t("{channelName}, previously {previousChannelName}, {workspaceDescription}",{channelName:t,workspaceDescription:g,previousChannelName:r});if(!r&&g&&y)return a.t("{channelName}, {workspaceDescription} ({context})",{channelName:t,workspaceDescription:g,context:y});if(r&&g&&y)return a.t("{channelName}, previously {previousChannelName}, {workspaceDescription} ({context})",{channelName:t,workspaceDescription:g,previousChannelName:r,context:y});if(t)return t;return""}},19768:function(e,t,r){"use strict";t["a"]=o;var n=r(16912);var a=r(18598);var i=new n["b"]("a11y");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=e.isGuest,n=e.isSelf,o=e.isAppOrBot,s=e.isDeleted,c=e.isPrescenceAway,l=e.isPrescenceDND,u=e.statusEmojiCode,p=e.statusText,f=e.isCurrent,d=e.hasNotifications,v=e.isStarred,h=e.isMuted,m=e.hasDraft,b=e.featureLabelsForCoreObjects;if(!b)return null;var _=function(){if(s)return i.t("deactivated");if(o)return i.t("APP");if(r&&!c&&l)return i.t("guest, do not disturb");if(r&&c&&!l)return i.t("guest, away");if(r&&!c&&!l)return i.t("guest");if(n&&!c&&l)return i.t("you, do not disturb");if(n&&!c&&!l)return i.t("you");if(!r&&!c&&l)return i.t("do not disturb");if(!r&&c&&!l)return i.t("away");return""}();var g=u&&Object(a["a"])(u);var y=function(){if(g&&!p)return i.t("{statusEmoji} emoji",{statusEmoji:g});if(g&&p)return i.t("{statusEmoji} emoji {statusText}",{statusEmoji:g,statusText:p});if(!g&&p)return p;return""}();var O=function(){if(f&&d&&h&&v&&m)return i.t("current conversation, has notifications, muted, starred, has a draft message");if(!f&&d&&h&&v&&m)return i.t("has notifications, muted, starred, has a draft message");if(f&&!d&&h&&v&&m)return i.t("current conversation, muted, starred, has a draft message");if(!f&&!d&&h&&v&&m)return i.t("muted, starred, has a draft message");if(f&&d&&!h&&v&&m)return i.t("current conversation, has notifications, starred, has a draft message");if(!f&&d&&!h&&v&&m)return i.t("has notifications, starred, has a draft message");if(f&&!d&&!h&&v&&m)return i.t("current conversation, starred, has a draft message");if(!f&&!d&&!h&&v&&m)return i.t("starred, has a draft message");if(f&&d&&h&&!v&&m)return i.t("current conversation, has notifications, muted, has a draft message");if(!f&&d&&h&&!v&&m)return i.t("has notifications, muted, has a draft message");if(f&&!d&&h&&!v&&m)return i.t("current conversation, muted, has a draft message");if(!f&&!d&&h&&!v&&m)return i.t("muted, has a draft message");if(f&&d&&!h&&!v&&m)return i.t("current conversation, has notifications, has a draft message");if(!f&&d&&!h&&!v&&m)return i.t("has notifications, has a draft message");if(f&&!d&&!h&&!v&&m)return i.t("current conversation, has a draft message");if(!f&&!d&&!h&&!v&&m)return i.t("has a draft message");if(f&&d&&h&&v&&!m)return i.t("current conversation, has notifications, muted, starred");if(!f&&d&&h&&v&&!m)return i.t("has notifications, muted, starred");if(f&&!d&&h&&v&&!m)return i.t("current conversation, muted, starred");if(!f&&!d&&h&&v&&!m)return i.t("muted, starred");if(f&&d&&!h&&v&&!m)return i.t("current conversation, has notifications, starred");if(!f&&d&&!h&&v&&!m)return i.t("has notifications, starred");if(f&&!d&&!h&&v&&!m)return i.t("current conversation, starred");if(!f&&!d&&!h&&v&&!m)return i.t("starred");if(f&&d&&h&&!v&&!m)return i.t("current conversation, has notifications, muted");if(!f&&d&&h&&!v&&!m)return i.t("has notifications, muted");if(f&&!d&&h&&!v&&!m)return i.t("current conversation, muted");if(!f&&!d&&h&&!v&&!m)return i.t("muted");if(f&&d&&!h&&!v&&!m)return i.t("current conversation, has notifications");if(!f&&d&&!h&&!v&&!m)return i.t("has notifications");if(f&&!d&&!h&&!v&&!m)return i.t("current conversation");return""}();if(t&&_&&y&&O)return i.t("{name} ({userInfo}), status: {status} ({context})",{name:t,userInfo:_,status:y,context:O});if(t&&!_&&y&&O)return i.t("{name}, status: {status} ({context})",{name:t,status:y,context:O});if(t&&_&&!y&&O)return i.t("{name} ({userInfo}) ({context})",{name:t,userInfo:_,context:O});if(t&&!_&&!y&&O)return i.t("{name} ({context})",{name:t,context:O});if(t&&_&&y&&!O)return i.t("{name} ({userInfo}), status: {status}",{name:t,userInfo:_,status:y});if(t&&!_&&y&&!O)return i.t("{name}, status: {status}",{name:t,status:y});if(t&&_&&!y&&!O)return i.t("{name} ({userInfo})",{name:t,userInfo:_});if(t)return t;return""}},19769:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(9);var u=r(333);var p=r(1);var f=r.n(p);var d=r(16913);var v=r(17290);var h=r(16923);var m=r(16919);var b=r(16949);var _=r(17004);var g=r(17101);var y=r(20059);var O=r(17090);var E=r(16969);var j=r(16912);var k=r(20034);var w=r(16963);var C=r(16918);var S=r(16917);var T=r(16950);var I=r(17302);var N=r(17828);var A=r(20566);var P=r(19774);var R=r(20251);var M=r.n(R);var x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var L=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function B(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var U={members:"members",channels:"channels"};var H=new j["b"]("user_groups");var q={userGroup:o.a.shape({created_by:o.a.string,date_create:o.a.number,date_delete:o.a.number,date_update:o.a.number,deleted_by:o.a.string,description:o.a.string,enterprise_subteam_id:o.a.string,handle:o.a.string,id:o.a.string,is_external:o.a.bool,is_subteam:o.a.bool,is_usergroup:o.a.bool,name:o.a.string,prefs:o.a.shape({channels:o.a.array,groups:o.a.array}),team_id:o.a.string,updated_by:o.a.string,user_count:o.a.number,users:o.a.array,_name_lc:o.a.string}),onLoad:o.a.func,onChannelSwitch:o.a.func,removeMember:o.a.func,removeChannel:o.a.func,openModal:o.a.func,openUserGroupList:o.a.func,groupId:o.a.string.isRequired,userGroupMembers:o.a.array,userGroupDefaultChannels:o.a.array,featureSonicUserGroups:o.a.bool};var G={userGroup:{},onLoad:p["noop"],onChannelSwitch:p["noop"],removeMember:p["noop"],removeChannel:p["noop"],openModal:p["noop"],openUserGroupList:p["noop"],userGroupMembers:[],userGroupDefaultChannels:[],featureSonicUserGroups:false};var W=function(e){B(t,e);function t(e){D(this,t);var r=F(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(p["bindAll"])(r,["onEditMembersButtonClick","onViewProfile","onRemoveFromGroup","onAddMembers","onAddChannels","renderMemberItem","renderChannelItem","renderChannelsList","renderMembersList","renderListItemOptionsMenu","renderUserGroupOptionsMenu","renderConfirmationDialog"]);return r}L(t,[{key:"componentDidMount",value:function e(){Object(y["e"])(this.props.userGroup)||this.props.onLoad()}},{key:"onEditMembersButtonClick",value:function e(){this.props.openModal({element:this.renderEditMembersDialog()})}},{key:"onRemoveMember",value:function e(t){var r=this;this.props.openModal({element:this.renderConfirmationDialog({action:"remove_member",onSubmit:function e(){return r.props.removeMember(t)},id:t})})}},{key:"onRemoveChannel",value:function e(t){var r=this;this.props.openModal({element:this.renderConfirmationDialog({action:"remove_channel",onSubmit:function e(){return r.props.removeChannel(t)},id:t})})}},{key:"onAddMembers",value:function e(){Object(p["noop"])()}},{key:"onAddChannels",value:function e(){Object(p["noop"])()}},{key:"onRemoveFromGroup",value:function e(t){var r=t.type,n=t.id;r===U.members?this.onRemoveMember(n):r===U.channels&&this.onRemoveChannel(n)}},{key:"onViewProfile",value:function e(t,r){var n=r.type,a=r.id;if(n===U.members)return Object(E["g"])(a);if(n===U.channels)return this.props.onChannelSwitch(a);return null}},{key:"getTabs",value:function e(){if(!this.props.featureSonicUserGroups)return null;var t=this.props,r=t.userGroup,n=t.userGroupDefaultChannels,a=void 0===n?[]:n;var i=Object(y["d"])(r);return[{title:H.rt("Members"),titleCount:i,id:"user-groups-members-tab",content:this.renderMembersList()},{title:H.rt("Channels"),titleCount:a.length,id:"user-groups-channels-tab",content:this.renderChannelsList()}]}},{key:"canEditUserGroups",value:function e(){var t=this.props.userGroup;return Object(O["e"])()&&Object(y["e"])(t)}},{key:"renderHeader",value:function e(){var t=this.props.userGroup;return a.a.createElement("div",{className:"p-user_group_details__section"},a.a.createElement("div",{className:"p-user_group_details__name"},Object(y["c"])(t)),a.a.createElement("div",{className:"p-user_group_details__description"},Object(y["a"])(t)),a.a.createElement("div",{className:"p-user_group_details__handle"},Object(y["b"])(t,{includeAtSign:true})))}},{key:"renderActions",value:function e(){if(!this.props.featureSonicUserGroups)return null;if(!Object(O["e"])()&&!Object(O["a"])())return null;return a.a.createElement("div",{className:"p-user_group_details__section"},a.a.createElement("div",{className:"p-user_group_details__actions"},a.a.createElement(C["d"],{type:"outline",className:"p-user_group_details__button--edit",onClick:this.onEditMembersButtonClick,"data-qa-user-group-details-edit-members-btn":true},H.t("Edit Members")),this.renderUserGroupOptions()))}},{key:"renderTabs",value:function e(){var t="user-groups-members-tab";var r=this.getTabs();return a.a.createElement("div",{className:"margin_top_75 full_height","data-qa-user-group-details-tabs":true},a.a.createElement(I["a"],{tabs:r,defaultTabId:t,fullHeight:true,fullWidthMenu:true}))}},{key:"renderUserGroupOptionsMenu",value:function e(t){if(!this.props.featureSonicUserGroups)return null;return a.a.createElement(P["c"],{menuProps:t,groupId:this.props.userGroup.id,isDetailsView:true})}},{key:"renderUserGroupOptions",value:function e(){return a.a.createElement(T["d"],{renderMenu:this.renderUserGroupOptionsMenu,position:"bottom-right"},a.a.createElement(C["d"],{type:"outline",className:"p-user_group_details__button--options","data-qa-user-group-details-group-options-btn":true},a.a.createElement(S["b"],{type:"ellipsis"})))}},{key:"renderListItemOptionsMenu",value:function e(t){var r=this;var n=t.menuProps,i=t.id,o=t.type;if(!this.props.featureSonicUserGroups)return null;var s=o===U.channels?H.t("Open channel"):H.t("View profile");return a.a.createElement(T["e"],x({},n,{width:"auto"}),a.a.createElement(T["b"],{key:i,label:s,onSelected:function e(t){return r.onViewProfile(t,{type:o,id:i})}}),a.a.createElement(T["b"],{key:i,label:H.t("Remove from group..."),onSelected:function e(){return r.onRemoveFromGroup({type:o,id:i})},danger:true}))}},{key:"renderMemberItem",value:function e(){var t=this;var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var n=this.canEditUserGroups();var i=c()("p-user_group_details__list_item",{"p-user_group_details__list_item--has_options":n});var o={className:i,isContextButtonVisible:n,onClick:function e(n){return t.onViewProfile(n,{type:U.members,id:r.id})},renderMenu:function e(n){return t.renderListItemOptionsMenu({menuProps:n,id:r.id,type:U.members})},customProps:{key:r.id,"data-qa-user-group-details-members-list-item":true,"data-qa-user-group-details-members-list-item-id":r.id}};return a.a.createElement(P["a"],o,a.a.createElement("div",{className:"full_width"},a.a.createElement(k["a"],{id:r.id,size:"medium",showTooltip:false,forcedPrimary:"real_name",showPresence:false,showStatus:false,"data-qa-user-group-details-members-list-item-member":true})))}},{key:"renderChannelItem",value:function e(){var t=this;var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var n=this.canEditUserGroups();var i=c()("p-user_group_details__list_item",{"p-user_group_details__list_item--has_options":n});var o=r.purpose?a.a.createElement("span",{className:"p-user_group_details__channel_purpose"},r.purpose.value):null;var s={className:i,isContextButtonVisible:n,onClick:function e(n){return t.onViewProfile(n,{type:U.channels,id:r.id})},renderMenu:function e(n){return t.renderListItemOptionsMenu({menuProps:n,id:r.id,type:U.channels})},customProps:{key:r.id,"data-qa-user-group-details-channels-list-item":true,"data-qa-user-group-details-channels-list-item-id":r.id}};return a.a.createElement(P["a"],s,a.a.createElement("div",{className:"p-user_group_details__list_item_info"},a.a.createElement(w["a"],{channel:r,className:"bold cursor_pointer"}),o))}},{key:"renderMembersList",value:function e(){var t=this;var r=this.props.userGroupMembers;if(!r||Object(p["isEmpty"])(r))return this.renderEmptyMemberState();this.memberListKeys=Object(p["map"])(r,"id");return a.a.createElement("div",{className:"p-user_group_details__list","data-qa-user-group-details-members-list":true},a.a.createElement(u["a"],null,function(e){var n=e.width,i=e.height;return a.a.createElement(N["a"],{width:n,height:i,keys:t.memberListKeys,rowRenderer:function e(n){return t.renderMemberItem(r[n])}})}))}},{key:"renderChannelsList",value:function e(){var t=this;var r=this.props.userGroupDefaultChannels;if(!r||Object(p["isEmpty"])(r))return this.renderEmptyChannelState();this.channelListKeys=Object(p["map"])(r,"id");return a.a.createElement("div",{className:"p-user_group_details__list","data-qa-user-group-details-channels-list":true},a.a.createElement(u["a"],null,function(e){var n=e.width,i=e.height;return a.a.createElement(N["a"],{width:n,height:i,keys:t.channelListKeys,rowRenderer:function e(n){return t.renderChannelItem(r[n])}})}))}},{key:"renderEmptyMemberState",value:function e(){if(!this.props.featureSonicUserGroups)return null;var t=this.canEditUserGroups()?a.a.createElement(C["d"],{type:"outline",size:"small",onClick:this.onAddMembers},H.t("Add Members")):null;return a.a.createElement("div",{className:"p-user_group_details__empty_list","data-qa-user-group-details-empty-list":true,"data-qa-user-group-details-empty-list-type":U.members},a.a.createElement("div",{className:"p-user_group_details__empty_list_header"},H.t("No members")),t)}},{key:"renderEmptyChannelState",value:function e(){if(!this.props.featureSonicUserGroups)return null;var t=this.canEditUserGroups()?a.a.createElement(C["d"],{type:"outline",size:"small",onClick:this.onAddChannels},H.t("Add Default Channels")):null;return a.a.createElement("div",{className:"p-user_group_details__empty_list","data-qa-user-group-details-empty-list":true,"data-qa-user-group-details-empty-list-type":U.channels},a.a.createElement("div",{className:"p-user_group_details__empty_list_header"},H.t("No default channels")),a.a.createElement("div",{className:"p-user_group_details__empty_list_subtext"},H.t("All members of a user group are automatically added to its default channels.")),t)}},{key:"renderConfirmationDialog",value:function e(t){var r=t.action,n=t.onSubmit,i=t.id;return a.a.createElement(P["b"],{action:r,onSubmit:n,id:i,userGroup:this.props.userGroup})}},{key:"renderEditMembersDialog",value:function e(){var t=this.props.groupId;return a.a.createElement(P["d"],{groupId:t})}},{key:"render",value:function e(){if(!this.props.featureSonicUserGroups)return null;var t=this.props.userGroup;return a.a.createElement("div",{className:"full_height"},a.a.createElement(A["b"],{view:A["a"].details}),a.a.createElement("div",{className:"p-user_group__content"},a.a.createElement("div",{className:"p-user_group_details","data-qa-user-group-details":true,"data-qa-user-group-details-id":t.id},this.renderHeader(),this.renderActions(),this.renderTabs())))}}]);return t}(n["PureComponent"]);W.displayName="UserGroupDetails";W.propTypes=q;W.defaultProps=G;var V=function e(t,r){var n=r.groupId;var a=Object(v["getUserGroupById"])(t,n);var i=Object(d["isFeatureEnabled"])(t,"feature_sonic_user_groups");var o=Object(v["getUserGroupMembers"])(t,{groupId:n});var s=Object(p["map"])(o,function(e){return Object(m["getMemberById"])(t,e)});var c=Object(v["getUserGroupDefaultChannels"])(t,{groupId:n});var l=Object(p["map"])(c,function(e){return Object(h["getChannelById"])(t,e)});return{userGroup:a,featureSonicUserGroups:i,userGroupMembers:s,userGroupDefaultChannels:l}};var K=function e(t,r){var n=r.groupId;return{openModal:function e(){return t(b["openModal"].apply(void 0,arguments))},onLoad:function e(){return t(Object(v["fetchAndUpsertUserGroupMembers"])({groupId:n}))},removeMember:function e(r){return t(Object(v["removeUserGroupMember"])({groupId:n,memberId:r}))},removeChannel:function e(r){return t(Object(v["removeUserGroupChannel"])({groupId:n,channelId:r}))},onChannelSwitch:function e(r){return t(Object(g["a"])({id:r}))},openUserGroupList:function e(){return t(Object(_["f"])())}}};t["a"]=Object(l["connect"])(V,K)(W)},19771:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(16912);var l=r(16913);var u=r(17737);var p=r(16922);var f=r(17580);var d=r(16924);var v=r(16942);var h=r(18674);var m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=new c["b"]("send_btn");var O={closeBanner:o.a.func.isRequired,hasSendButton:o.a.bool.isRequired,sendButtonAutoSet:o.a.bool.isRequired,featureModernizeBanners:o.a.bool.isRequired};var E={countPref:"i18n_japan_beta_send_btn_banner_cta_count",tsPref:"i18n_japan_beta_send_btn_banner_cta_last_ts"};var j=function(e){g(t,e);function t(e){b(this,t);var r=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onPrefLinkClick=r.onPrefLinkClick.bind(r);return r}m(t,[{key:"componentWillUpdate",value:function e(t){var r=this.props,n=r.hasSendButton,a=r.sendButtonAutoSet;a===t.sendButtonAutoSet&&n===t.hasSendButton||this.props.closeBanner()}},{key:"onPrefLinkClick",value:function e(){Object(f["a"])("advanced","#msg_input_send_btn_label");this.props.closeBanner()}},{key:"renderBodyText",value:function e(){var t=this;if(!this.props.featureModernizeBanners)return null;return a.a.createElement("div",null,y.rt("Send a message with a quick click, or by pressing <Keys>keys</Keys>",{},function(){return a.a.createElement("div",{className:"inline_block"},a.a.createElement("span",{className:"c-keyboard_key c-keyboard_key--slim"},Object(d["isMac"])()?"\u2318":"Ctrl"),a.a.createElement("span",{className:"c-keyboard_key c-keyboard_key--slim"},"Enter"))}),a.a.createElement("br",null),y.rt("Don\u2018t like the change? You can always switch back in <Link>your preferences</Link>.",{},function(e){var r=e.text;return a.a.createElement(v["a"],{onClick:t.onPrefLinkClick},r)}))}},{key:"render",value:function e(){var t=y.t("Just for Japan: a button for sending");var r=y.t("Got It");var n="p-message_pane_banner__body--taller-line-height";return a.a.createElement(h["a"],{headerText:t,bodyText:this.renderBodyText(),bodyClass:n,goButtonText:r,showCancelButton:false,showCloseIcon:true,onGo:this.onGo,bannerPrefs:E})}}]);return t}(n["PureComponent"]);j.displayName="I18nJapanBetaSendBtnBanner";j.propTypes=O;var k=function e(t){return{hasSendButton:Object(p["getUserPref"])(t,"msg_input_send_btn"),sendButtonAutoSet:Object(p["getUserPref"])(t,"msg_input_send_btn_auto_set"),featureModernizeBanners:Object(l["isFeatureEnabled"])(t,"feature_modernize_banners")}};var w={closeBanner:u["closeBanner"]};t["a"]=Object(s["connect"])(k,w)(j)},19772:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(19773);var a=r(16928);Object(a["a"])("interop.mountUserGroupsFlexpane",n["a"])},19773:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(16954);var s=r(16927);var c=r(19774);var l=function e(t,r){if(!t)throw new Error("mountUserGroupsFlexpane must be called with a teamId parameter");var n=Object(s["c"])(t);Object(o["a"])(a.a.createElement(i["Provider"],{store:n},a.a.createElement(c["e"],null)),r)};t["a"]=l},19774:function(e,t,r){"use strict";var n=r(19769);var a=r(20358);var i=r(20465);var o=r(20621);var s=r(20431);var c=r(20476);var l=r(20514);var u=r(20518);var p=r(19776);r.d(t,"b",function(){return i["a"]});r.d(t,"c",function(){return s["a"]});r.d(t,"a",function(){return c["a"]});r.d(t,"d",function(){return u["a"]});t["e"]=p["a"]},19776:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(17410);var p=r(16913);var f=r(20313);var d=r(19769);var v=r(20318);var h=r.n(v);var m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y={groupId:o.a.string,featureSonicUserGroups:o.a.bool};var O={groupId:null,featureSonicUserGroups:false,openModal:c["noop"],openUserGroupList:c["noop"]};var E=function(e){g(t,e);function t(){b(this,t);return _(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}m(t,[{key:"render",value:function e(){if(!this.props.featureSonicUserGroups)return null;var t=this.props.groupId;if(t)return a.a.createElement(d["a"],{groupId:t});return a.a.createElement(f["a"],null)}}]);return t}(n["PureComponent"]);E.displayName="UserGroupsFlexpane";E.propTypes=y;E.defaultProps=O;var j=function e(t){var r=Object(u["getFlexpaneState"])(t),n=r.flexExtra;return{groupId:n,featureSonicUserGroups:Object(p["isFeatureEnabled"])(t,"feature_sonic_user_groups")}};t["a"]=Object(s["connect"])(j)(E)},19777:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(16958);var o=["{","[","(","*","_","/",'"',"\u201c","'","\u2018","\u2019","<"];var s=function(){var e=o.map(function(e){return"\\"+e}).join("|");var t=Object(n["values"])(i["CJK_UNICODE_BLOCKS"]).join("");return new RegExp("^(\\s|"+e+"|["+t+"])+")}();var c=function(){var e=o.map(function(e){return"\\"+e}).join("|");return new RegExp("^(\\s|"+e+")+")}();t["a"]=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{trimCJK:true},r=t.trimCJK;if(!e)return"";return e.replace(r?s:c,"")}},19778:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16912);var c=r(1);var l=r.n(c);var u=r(16959);var p=r(16941);var f=r(18674);var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=new s["b"]("free_trial_banners");var _={expirationDate:o.a.string.isRequired};var g={expirationDate:""};var y={countPref:"in_prod_trial_reminder_banner_cta_count",tsPref:"in_prod_trial_reminder_banner_cta_last_ts"};var O=207;var E="UPGRDEXP_FREE_TRIAL_IN_PROD";var j="/trial";var k=function(e){m(t,e);function t(e){v(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(c["bindAll"])(r,["onGo","onCloseIcon"]);return r}d(t,[{key:"componentDidMount",value:function e(){Object(p["b"])(E,{contexts:{ui_context:{step:O,action:"impression"}}})}},{key:"onGo",value:function e(){Object(p["b"])(E,{contexts:{ui_context:{step:O,action:"click",ui_element:"learn_more_btn"}}});window.open(j,"_blank")}},{key:"onCloseIcon",value:function e(){Object(p["b"])(E,{contexts:{ui_context:{step:O,action:"close",ui_element:"btn_close"}}})}},{key:"getContent",value:function e(){var t=this.props.expirationDate;return{headerText:b.t("Your free trial offer is about to expire"),bodyText:b.rt("You still have time to try out the <b>Standard plan</b>. Start your trial by <b>{expiration_date}</b> to explore features like unlimited searchable messages, guest accounts, screen sharing, and more \u2014 free for 30 days. ",{expiration_date:t})}}},{key:"render",value:function e(){var t=this.getContent();return a.a.createElement(f["a"],{emojiSrc:cdn_url+"/f5d6f/img/emoji_2016_06_08/apple/1f388.png",emojiAlt:b.t("balloon emoji"),headerText:t.headerText,bodyText:t.bodyText,showCancelButton:false,showCloseIcon:true,isLearnMoreButton:true,onGo:this.onGo,onCloseIcon:this.onCloseIcon,bannerPrefs:y})}}]);return t}(n["PureComponent"]);k.displayName="InProdTrialReminderBanner";k.propTypes=_;k.defaultProps=g;t["a"]=Object(u["a"])("feature_modernize_banners")(k)},19779:function(e,t,r){"use strict";r.d(t,"a",function(){return u});t["c"]=p;t["b"]=b;var n=r(1);var a=r.n(n);var i=r(11);var o=r.n(i);var s=r(16912);var c=r(17406);var l=new s["b"]("search_menu");var u="YYYY-MM-DD";function p(e,t,r){var n=c["j"].tokenListFromString(e,t);var a=n;a=f(e,a,r.from||[]);a=d(e,a,r.in||[]);a=v(e,a,r.before);a=h(e,a,r.after);a=m(e,a,r.fileType);var i=new c["i"](e,"",a);return i.toTextyString()}function f(e,t,r){var a=t;var i=[].concat(r);a=a.filter(function(e){if(e.type!==c["a"].FILTER_FROM)return true;var t=e.entityId;if(t&&Object(n["includes"])(i,t)){i=Object(n["without"])(i,t);return true}return false});a=a.concat(i.map(function(t){return new c["f"](1,e,t,null,c["h"].FROM)}));return a}function d(e,t,r){var a=t;var i=[].concat(r);a=a.filter(function(e){if(e.type!==c["a"].FILTER_IN)return true;var t=e.entityId;if(Object(n["includes"])(i,t)){i=Object(n["without"])(i,t);return true}return false});a=a.concat(i.map(function(t){return new c["e"](1,e,t,null)}));return a}function v(e,t,r){var n=false;var a=t.filter(function(e){if(e.type!==c["a"].FILTER_BEFORE)return true;if(e.dateString===r){n=true;return true}return false});r&&!n&&a.push(new c["c"](r,c["h"].BEFORE));return a}function h(e,t,r){var n=false;var a=t.filter(function(e){if(e.type!==c["a"].FILTER_AFTER)return true;if(e.dateString===r){n=true;return true}return false});r&&!n&&a.push(new c["c"](r,c["h"].AFTER));return a}function m(e,t,r){var n=false;var a=t.filter(function(e){if(e.type!==c["a"].FILTER_TYPE)return true;if(e.fileType===r){n=true;return true}return false});r&&!n&&a.push(new c["k"](r));return a}function b(e,t){var r=c["j"].tokenListFromString(e,t);var n={in:[],from:[],before:void 0,after:void 0,fileType:void 0};r.forEach(function(e){e.type===c["a"].FILTER_FROM?n.from.push(e.entityId):e.type===c["a"].FILTER_IN?n.in.push(e.entityId):e.type===c["a"].FILTER_BEFORE?n.before=_(e.dateString):e.type===c["a"].FILTER_AFTER?n.after=_(e.dateString):e.type===c["a"].FILTER_TYPE&&(n.fileType=e.fileType)});return n}function _(e){if(e.match(/^20[0-9][0-9]$/))return;if(e===l.t("today"))return o()().format(u);if(e===l.t("yesterday"))return o()().subtract(1,"days").format(u);var t=o()(e);if(t.isValid())return t.format(u);return}},19780:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"setSortedMembers",function(){return E});r.d(t,"setSearchResultMembers",function(){return j});r.d(t,"setFilteredMembers",function(){return k});r.d(t,"addMembers",function(){return w});r.d(t,"setIsLoadingNewPage",function(){return C});r.d(t,"setIsLoadingNewQuery",function(){return S});r.d(t,"updateMemberIsAdmin",function(){return T});r.d(t,"updateMemberIsRestricted",function(){return I});r.d(t,"updateMemberIsUltraRestricted",function(){return N});r.d(t,"updateMemberIsOwner",function(){return A});r.d(t,"updateMemberTwoFactorAuth",function(){return P});r.d(t,"updateMemberGuestChannels",function(){return R});r.d(t,"updateMemberDeleted",function(){return M});r.d(t,"updateMemberProfile",function(){return x});r.d(t,"updateGuestExpiration",function(){return L});r.d(t,"setMemberListCsv",function(){return D});r.d(t,"updateIsFiltered",function(){return F});r.d(t,"clearFilter",function(){return B});r.d(t,"getSortDirection",function(){return q});r.d(t,"getSortBy",function(){return G});r.d(t,"getFilter",function(){return W});r.d(t,"getFiltersForHeaderId",function(){return V});r.d(t,"getSearchQuery",function(){return K});r.d(t,"getCursorMark",function(){return z});r.d(t,"getNumTotalResults",function(){return Q});r.d(t,"getIsLoadingNewPage",function(){return Y});r.d(t,"getIsLoadingNewQuery",function(){return J});r.d(t,"getMembers",function(){return X});r.d(t,"getActionsForMember",function(){return Z});r.d(t,"getApiArgs",function(){return $});r.d(t,"getGuestChannelsById",function(){return ee});r.d(t,"getMemberListCsv",function(){return te});r.d(t,"getIsFiltered",function(){return re});r.d(t,"sortMembers",function(){return ne});r.d(t,"searchMembers",function(){return ae});r.d(t,"filterMembers",function(){return ie});r.d(t,"resetMemberFilters",function(){return oe});r.d(t,"fetchNewPage",function(){return se});r.d(t,"makeAdmin",function(){return ce});r.d(t,"makeRegular",function(){return le});r.d(t,"updateOwnerStatus",function(){return ue});r.d(t,"disableTwoFactorAuth",function(){return pe});r.d(t,"sendSsoBindEmailToMember",function(){return fe});r.d(t,"loadGuestChannels",function(){return de});r.d(t,"editGuestExpiration",function(){return ve});r.d(t,"addAndRemoveGuestChannels",function(){return he});r.d(t,"convertMemberToMcGuest",function(){return me});r.d(t,"convertMemberToScGuest",function(){return be});r.d(t,"promoteToMcGuest",function(){return _e});r.d(t,"demoteToScGuest",function(){return ge});r.d(t,"fetchCsvMemberList",function(){return ye});r.d(t,"editMemberProfile",function(){return Oe});var n=r(3);var a=r.n(n);var i=r(1);var o=r.n(i);var s=r(16915);var c=r(19781);var l=r(16933);var u=r(17061);var p=r(16999);var f=r(18764);var d=r(17108);var v=r(16939);var h=r(16968);var m=r(16913);var b;var _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function g(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function y(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var O={accountType:{owner:true,admin:true,regular:true,guest:true},billingStatus:{active:true,inactive:true,deactivated:false},authentication:{noAuth:true,twoFactor:true,sso:true}};var E=Object(s["a"])("Set the current sort and list of members in the store");E.propTypes={sortBy:a.a.string.isRequired,sortDir:a.a.string.isRequired,cursorMark:a.a.string,numTotalResults:a.a.number};var j=Object(s["a"])("Set the current search query and list of members in the store");j.propTypes={searchQuery:a.a.string,members:a.a.array.isRequired,cursorMark:a.a.string,numTotalResults:a.a.number.isRequired};var k=Object(s["a"])("Set a specific filter and list of members in the store");k.propTypes={headerId:a.a.string.isRequired,filterName:a.a.string.isRequired,isSelected:a.a.bool.isRequired,members:a.a.array,cursorMark:a.a.string,numTotalResults:a.a.number};var w=Object(s["a"])("Add a new page of members to the store");w.propTypes={members:a.a.array.isRequired,cursorMark:a.a.string,numTotalResults:a.a.number.isRequired};var C=Object(s["a"])("Set the loading status for the next page of results");C.propTypes=a.a.bool.isRequired;var S=Object(s["a"])("Set the loading status for a new query");S.propTypes=a.a.bool.isRequired;var T=Object(s["a"])("Changes a member's is_admin status");T.propTypes={memberId:a.a.string.isRequired,isAdmin:a.a.bool.isRequired};var I=Object(s["a"])("Changes a member's is_restricted status");I.propTypes={memberId:a.a.string.isRequired,isRestricted:a.a.bool.isRequired};var N=Object(s["a"])("Changes a member's is_ultra_restricted status");N.propTypes={memberId:a.a.string.isRequired,isUltraRestricted:a.a.bool.isRequired};var A=Object(s["a"])("Changes a member's is_owner status");A.propTypes={memberId:a.a.string.isRequired,isOwner:a.a.bool.isRequired};var P=Object(s["a"])("Changes a member's two_factor_auth_enabled status to false");P.propTypes=a.a.object;var R=Object(s["a"])("Add guest user's channels to store");R.propTypes={memberId:a.a.string.isRequired,channels:a.a.array.isRequired};var M=Object(s["a"])("Add member's deleted status");M.propTypes={memberId:a.a.string,isDeleted:a.a.bool.isRequired};var x=Object(s["a"])("Update a member's profile");x.propTypes={memberId:a.a.string.isRequired,profile:a.a.object.isRequired};var L=Object(s["a"])("Update a guest's expiration");L.propTypes={memberId:a.a.string.isRequired,expirationTs:a.a.number.isRequired};var D=Object(s["a"])("Set the member list csv in the store");D.propTypes=a.a.object.isRequired;var F=Object(s["a"])("Update the store with whether a user has filtered the member list");F.propTypes=a.a.bool.isRequired;var B=Object(s["a"])("Clear the filter in store by setting filter to the initial state");B.propTypes=a.a.object;var U={members:[],filter:o.a.assign({},O),searchQuery:null,sortBy:null,sortDir:null,cursorMark:null,numTotalResults:null,isLoadingNewPage:false,isLoadingNewQuery:null,isFiltered:false,team:{},actor:{},actions:[],memberListCsv:{}};var H=Object(s["c"])((b={},y(b,E,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.sortBy,n=t.sortDir,a=t.members,i=t.cursorMark,o=t.numTotalResults;var s=_({},e,{sortBy:r,sortDir:n,members:a,cursorMark:i,numTotalResults:o});return s}),y(b,j,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.searchQuery,n=t.members,a=t.cursorMark,i=t.numTotalResults;var o=_({},e,{searchQuery:r,members:n,cursorMark:a,numTotalResults:i});return o}),y(b,k,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.headerId,n=t.filterName,a=t.isSelected,i=t.members,s=t.cursorMark,c=t.numTotalResults;var l=e.filter;var u=y({},r,y({},n,a));return _({},e,{filter:o.a.merge({},l,u),members:i,cursorMark:s,numTotalResults:c})}),y(b,w,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.members,n=t.cursorMark,a=t.numTotalResults;var i=_({},e,{members:[].concat(g(e.members),g(r)),cursorMark:n,numTotalResults:a});return i}),y(b,C,function(e,t){var r=_({},e,{isLoadingNewPage:t});return r}),y(b,S,function(e,t){var r=_({},e,{isLoadingNewQuery:t});return r}),y(b,T,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.memberId,n=t.isAdmin;var a=_({},e,{members:e.members.map(function(e){return e.id===r&&e.is_admin!==n?_({},e,{is_admin:n}):e})});return a}),y(b,I,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.memberId,n=t.isRestricted;var a=_({},e,{members:e.members.map(function(e){return e.id===r&&e.is_restricted!==n?_({},e,{is_restricted:n}):e})});return a}),y(b,N,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.memberId,n=t.isUltraRestricted;var a=_({},e,{members:e.members.map(function(e){return e.id===r&&e.is_ultra_restricted!==n?_({},e,{is_ultra_restricted:n}):e})});return a}),y(b,A,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.memberId,n=t.isOwner;var a=_({},e,{members:e.members.map(function(e){return e.id===r&&e.is_owner!==n?_({},e,{is_owner:n}):e})});return a}),y(b,P,function(e,t){var r=_({},e,{members:e.members.map(function(e){return e.id!==t||!e.two_factor_auth_enabled?e:_({},e,{two_factor_auth_enabled:false})})});return r}),y(b,R,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.memberId,n=t.channels;var a=_({},e,{members:e.members.map(function(e){return e.id===r?_({},e,{guest_channels:n}):e})});return a}),y(b,M,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.memberId,n=t.isDeleted;var a=_({},e,{members:e.members.map(function(e){return e.id===r?_({},e,{deleted:n}):e})});return a}),y(b,x,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.memberId,n=t.profile;var a=_({},e,{members:e.members.map(function(e){return e.id===r?_({},e,{profile:n}):e})});return a}),y(b,L,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.memberId,n=t.expirationTs;var a=_({},e,{members:e.members.map(function(e){if(e.id===r)return _({},e,{profile:_({},e.profile,{guest_expiration_ts:n})});return e})});return a}),y(b,D,function(e,t){var r=_({},e,{memberListCsv:t});return r}),y(b,F,function(e,t){var r=_({},e,{isFiltered:t});return r}),y(b,B,function(e,t){var r=_({},e,{filter:t,cursorMark:null});return r}),b),U);t["default"]=H;var q=Object(s["d"])(function(e){if(e&&!!e.adminMembers&&!!e.adminMembers.sortDir)return e.adminMembers.sortDir;return"asc"});var G=Object(s["d"])(function(e){if(e&&!!e.adminMembers&&!!e.adminMembers.sortBy)return e.adminMembers.sortBy;return"real_name"});var W=Object(s["d"])(function(e){if(e&&!!e.adminMembers&&!!e.adminMembers.filter)return e.adminMembers.filter;return null});var V=Object(s["d"])(function(e,t){if(e&&e.adminMembers&&e.adminMembers.filter&&e.adminMembers.filter[t])return e.adminMembers.filter[t];return null});var K=Object(s["d"])(function(e){if(e&&!!e.adminMembers&&!!e.adminMembers.searchQuery)return e.adminMembers.searchQuery;return null});var z=Object(s["d"])(function(e){if(e&&!!e.adminMembers&&!!e.adminMembers.cursorMark)return e.adminMembers.cursorMark;return null});var Q=Object(s["d"])(function(e){if(e&&!!e.adminMembers&&!!e.adminMembers.numTotalResults)return e.adminMembers.numTotalResults;return null});var Y=Object(s["d"])(function(e){if(e&&!!e.adminMembers&&!!e.adminMembers.isLoadingNewPage)return e.adminMembers.isLoadingNewPage;return null});var J=Object(s["d"])(function(e){if(e&&!!e.adminMembers&&!!e.adminMembers.isLoadingNewQuery)return e.adminMembers.isLoadingNewQuery;return null});var X=Object(s["d"])(function(e){if(e&&!!e.adminMembers&&!!e.adminMembers.members)return e.adminMembers.members;return[]});var Z=Object(s["d"])(function(e,t){if(!e||!t||o.a.isEmpty(e)||o.a.isEmpty(t))return[];var r=[];var n=Object(d["b"])(e);var a=Object(v["getCurrentTeam"])(e);o.a.each(f["MEMBER_ACTION_MAP"],function(e,i){e(a,n,t)&&r.push(i)});return r});var $=Object(s["d"])(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r={filter:W(e),sortBy:G(e),sortDir:q(e),searchQuery:K(e),cursorMark:z(e)};o.a.merge(r,t);return r});var ee=Object(s["d"])(function(e,t){if(!e||!t||o.a.isEmpty(e.adminMembers)||!e.adminMembers.members.length)return[];var r=[];e.adminMembers.members.forEach(function(e){e.id===t&&e.guest_channels&&(r=e.guest_channels)});return r});var te=Object(s["d"])(function(e){if(e&&!!e.adminMembers&&!!e.adminMembers.memberListCsv)return e.adminMembers.memberListCsv;return{}});var re=Object(s["d"])(function(e){if(e&&!!e.adminMembers&&!!e.adminMembers.isFiltered)return e.adminMembers.isFiltered;return false});var ne=Object(s["e"])("Load sorted admin member data",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.sortBy,a=r.sortDir;e(S(true));e(E({sortBy:n,sortDir:a}));var i=$(t(),{sortBy:n,sortDir:a,cursorMark:null});return Object(c["b"])(i).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.members,i=t.cursorMark,o=t.numTotalResults;e(E({members:r,sortBy:n,sortDir:a,cursorMark:i,numTotalResults:o}));e(S(false))}).catch(function(e){throw e})});ne.propTypes={sortBy:a.a.string.isRequired,sortDir:a.a.string.isRequired};var ae=Object(s["e"])("Load the subset of admin member data matching a search query",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.searchQuery;e(S(true));e(j({searchQuery:n}));var a=$(t(),{searchQuery:n,cursorMark:null});return Object(c["b"])(a).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.members,a=t.cursorMark,i=t.numTotalResults;e(j({members:r,searchQuery:n,cursorMark:a,numTotalResults:i}));e(S(false))}).catch(function(e){throw e})});ae.propTypes={searchQuery:a.a.string};var ie=Object(s["e"])("Load filtered admin member data",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.headerId,a=r.filterName,i=r.isSelected;if(!i){var s=V(t(),n);var l=o.a.chain(s).values().filter().value().length;if(1===l)return Promise.resolve()}e(k({headerId:n,filterName:a,isSelected:i}));e(S(true));var u={filter:y({},n,y({},a,i)),cursorMark:null};var p=$(t(),u);return Object(c["b"])(p).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.query,o=t.members,s=t.cursorMark,c=t.numTotalResults;var l=!('{"type":"is","value":"user"}'===r);e(F(l));e(k({headerId:n,filterName:a,isSelected:i,members:o,cursorMark:s,numTotalResults:c}));e(S(false))}).catch(function(e){throw e})});ie.propTypes={filter:a.a.string};var oe=Object(s["e"])("Resets all filters and loads a full, member list sorted by name",function(e,t){e(S(true));var r=o.a.assign({},O);var n=$(t(),{filter:r,sortBy:"real_name",sortDir:"asc",cursorMark:null});return Object(c["b"])(n).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.members,n=t.sortBy,a=t.sortDir,i=t.cursorMark,o=t.numTotalResults;e(F(false));e(S(false));e(E({members:r,sortBy:n,sortDir:a,cursorMark:i,numTotalResults:o}))}).catch(function(e){throw e})});var se=Object(s["e"])("Load the subset of admin member data matching a search query",function(e,t){e(C(true));var r=$(t());return Object(c["b"])(r).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.members,n=t.cursorMark,a=t.numTotalResults;e(C(false));e(w({members:r,cursorMark:n,numTotalResults:a}))}).catch(function(e){throw e})});var ce=Object(s["e"])("Makes a member an admin",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.memberId;e(Object(c["c"])({memberId:n})).then(function(){var t=true;e(T({memberId:n,isAdmin:t}))}).catch(function(e){throw e})});ce.propTypes={memberId:a.a.string.isRequired};var le=Object(s["e"])("Makes a user a regular member",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.memberId,a=r.action;e(Object(c["g"])({memberId:n})).then(function(){if("demote_admin"===a){var t=false;e(T({memberId:n,isAdmin:t}))}else if("promote_to_member"===a){var r=false;var i=false;e(I({memberId:n,isRestricted:r}));e(N({memberId:n,isUltraRestricted:i}))}else if("activate"===a){var o=false;e(M({memberId:n,isDeleted:o}))}}).catch(function(e){throw e})});le.propTypes={memberId:a.a.string.isRequired,action:a.a.string.isRequired};var ue=Object(s["e"])("Can either make a member an owner or make an owner a member",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.memberId,a=r.action;var i=void 0;"promote_to_owner"===a?e(Object(c["e"])({memberId:n})).then(function(){i=true;e(A({memberId:n,isOwner:i}))}).catch(function(e){throw e}):"demote_owner"===a&&e(Object(c["i"])({memberId:n})).then(function(){i=false;e(A({memberId:n,isOwner:i}))}).catch(function(e){throw e})});ue.propTypes={memberId:a.a.string.isRequired,action:a.a.string.isRequired};var pe=Object(s["e"])("Disables two-factor verification for a given member",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.memberId;e(Object(c["a"])({memberId:n})).then(function(){e(P(n))}).catch(function(e){throw e})});pe.propTypes={memberId:a.a.string.isRequired};var fe=Object(s["e"])("Sends the single sign-on binding email to a target member",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.memberId;e(Object(c["j"])({memberId:n})).catch(function(e){throw e})});fe.propTypes={memberId:a.a.string.isRequired};var de=Object(s["e"])("Gets guest channels for member",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.memberId;Object(u["e"])(n,["channels"]).then(function(r){var a=r.channels.map(function(e){return Object(h["e"])(t(),e)});e(R({memberId:n,channels:a}))}).catch(function(e){throw e})});de.propTypes={memberId:a.a.string.isRequired};var ve=Object(s["e"])("Set or remove expiration for a guest via API",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.memberId,a=r.expirationTs;0===a?e(Object(c["h"])({memberId:n})).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.profile;e(L({memberId:n,expirationTs:r.guest_expiration_ts}))}):e(Object(c["k"])({memberId:n,expirationTs:a})).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.profile;e(L({memberId:n,expirationTs:r.guest_expiration_ts}))})});ve.propTypes={memberId:a.a.string.isRequired,expirationTs:a.a.number.isRequired};var he=Object(s["e"])("Updates channels guest should be a member of",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.memberId,a=r.channelIdsToAdd,i=r.channelIdsToRemove;var o=[];var s=[];a.length&&(o=a.map(function(t){return e(Object(p["G"])({channelId:t,users:n}))}));i.length&&(s=i.map(function(t){return e(Object(p["I"])({channelId:t,memberId:n}))}));Promise.all(o.concat(s)).then(function(){e(de({memberId:n}))})});he.propTypes={memberId:a.a.string.isRequired,channelIdsToAdd:a.a.array.isRequired,channelIdsToRemove:a.a.array.isRequired};var me=Object(s["e"])("Converts a full member to a multi-channel guest and sets expiration",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.memberId,a=r.expirationTs;e(Object(c["d"])({memberId:n})).then(function(){e(I({memberId:n,isRestricted:true}));null!==a&&e(ve({memberId:n,expirationTs:a}))})});me.propTypes={memberId:a.a.string.isRequired,expirationTs:a.a.number};var be=Object(s["e"])("Converts a full member to a single-channel guest and sets expiration",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.memberId,a=r.channelId,i=r.expirationTs;e(Object(c["f"])({channelId:a,memberId:n})).then(function(){e(N({memberId:n,isUltraRestricted:true}));null!==i&&e(ve({memberId:n,expirationTs:i}));var r=Object(h["e"])(t(),a);e(R({memberId:n,channels:[r]}))})});be.propTypes={memberId:a.a.string.isRequired,channelId:a.a.string,expirationTs:a.a.number};var _e=Object(s["e"])("Promotes a single-channel guest to multi-channel, adds/removes specified channels, and sets expiration",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.memberId,a=r.channelIdsToAdd,i=r.channelIdsToRemove,s=r.expirationTs;e(Object(c["d"])({channelId:a[0],memberId:n})).then(function(){e(N({memberId:n,isUltraRestricted:false}));e(I({memberId:n,isRestricted:true}));e(he({memberId:n,channelIdsToAdd:a.slice(1),channelIdsToRemove:i}));null!==s&&e(ve({memberId:n,expirationTs:s}));var r=ee(t(),n).map(function(e){return e.id});var c=o.a.xor(o.a.xor(r,a),i);var l=c.map(function(e){return Object(h["e"])(t(),e)});e(R({memberId:n,channels:l}))})});_e.propTypes={memberId:a.a.string.isRequired,channelIdsToAdd:a.a.array,channelIdsToRemove:a.a.array,expirationTs:a.a.number};var ge=Object(s["e"])("Promotes a single-channel guest to multi-channel, adds/removes specified channels, and sets expiration",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.memberId,a=r.channelId,i=r.expirationTs;e(Object(c["f"])({channelId:a,memberId:n})).then(function(){e(N({memberId:n,isUltraRestricted:true}));e(I({memberId:n,isRestricted:false}));null!==i&&e(ve({memberId:n,expirationTs:i}));var r=Object(h["e"])(t(),a);e(R({memberId:n,channels:[r]}))})});ge.propTypes={memberId:a.a.string.isRequired,channelIdsToAdd:a.a.array,channelIdsToRemove:a.a.array,expirationTs:a.a.number};var ye=Object(s["e"])("Gets csv member list for a workspace",function(e,t){var r=new XMLHttpRequest;r.open("POST","/api/users.admin.fetchTeamUsersCsv",true);r.responseType="blob";r.onload=function t(){200===this.status&&e(D(this.response))};var n=t();r.onerror=function e(t){Object(l["d"])(t,"admin_csv_download")};var a=new FormData;var i=Object(m["getFromBootData"])(n,"api_token");a.append("token",i);r.send(a)});var Oe=Object(s["e"])("Update profile info for a member",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.memberId,a=r.profile;var i={};a.realName&&(i.real_name=a.realName);a.displayName&&(i.display_name=a.displayName);a.email&&(i.email=a.email);e(Object(c["m"])({memberId:n,profile:i})).then(function(t){e(x({memberId:n,profile:t.profile}))})});Oe.propTypes={memberId:a.a.string.isRequired,profile:a.a.object.isRequired}},19781:function(e,t,r){"use strict";t["b"]=c;r.d(t,"c",function(){return p});r.d(t,"g",function(){return f});r.d(t,"d",function(){return d});r.d(t,"f",function(){return v});r.d(t,"i",function(){return h});r.d(t,"e",function(){return m});r.d(t,"a",function(){return b});r.d(t,"j",function(){return _});r.d(t,"k",function(){return g});r.d(t,"h",function(){return y});r.d(t,"l",function(){return O});r.d(t,"m",function(){return E});var n=r(1);var a=r.n(n);var i=r(16929);var o=r(17063);var s=r(19780);function c(e){var t={count:100,include_bots:0,exclude_slackbot:true,include_deleted:0};e.cursorMark&&(t.cursor_mark=e.cursorMark);e.sortDir&&(t.sort_dir=e.sortDir);e.sortBy&&(t.sort=e.sortBy);"created"===t.sort&&(t.sort="created_dt");Object(n["get"])(e,"filter.billingStatus.deactivated")&&(t.include_deleted=1);var r=l(e.filter,e.searchQuery);t.query=JSON.stringify(r);return Object(i["c"])("users.admin.fetchTeamUsers",t).then(function(e){return{sortBy:e.args.sort,sortDir:e.args.sort_dir,query:e.args.query,members:e.data.items,cursorMark:e.data.next_cursor_mark,numTotalResults:e.data.num_found}}).catch(function(e){throw e})}function l(e,t){var r={type:"is",value:"user"};var n=u(e);if(n||t){r={type:"and",clauses:[{type:"is",value:"user"}]};n&&r.clauses.push(n);t&&r.clauses.push({type:"fuzzy",value:t})}return r}function u(e){if(!e)return null;var t={type:"and",clauses:[]};var r=!Object(n["findKey"])(e.accountType,function(e){return!e});if(!r){var a={type:"or",clauses:[]};if(e.accountType.owner){a.clauses.push({type:"level",value:"owner"});a.clauses.push({type:"level",value:"primary_owner"})}e.accountType.admin&&a.clauses.push({type:"level",value:"admin"});e.accountType.regular&&a.clauses.push({type:"level",value:"regular"});if(e.accountType.guest){a.clauses.push({type:"level",value:"restricted"});a.clauses.push({type:"level",value:"ultra_restricted"})}t.clauses.push(a)}var i=e.billingStatus.active&&e.billingStatus.inactive&&!e.billingStatus.deactivated;if(!i){var o={type:"or",clauses:[]};e.billingStatus.active&&o.clauses.push({type:"inactive",value:false});e.billingStatus.inactive&&o.clauses.push({type:"inactive",value:true});e.billingStatus.deactivated&&o.clauses.push({type:"deleted",value:true});t.clauses.push(o)}var s=!Object(n["findKey"])(e.authentication,function(e){return!e});if(!s){var c={type:"or",clauses:[]};e.authentication.noAuth&&c.clauses.push({type:"and",clauses:[{type:"two_factor_enabled",value:false},{type:"sso_active",value:false}]});e.authentication.twoFactor&&c.clauses.push({type:"two_factor_enabled",value:true});e.authentication.sso&&c.clauses.push({type:"sso_active",value:true});t.clauses.push(c)}if(!t.clauses.length)return null;return t}var p=Object(o["a"])("Make a member an admin",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.memberId;return e(Object(i["a"])({method:"users.admin.setAdmin",args:{user:n}})).then(function(e){return e}).catch(function(e){throw e})});var f=Object(o["a"])("Make a user a regular member",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.memberId;return e(Object(i["a"])({method:"users.admin.setRegular",args:{user:n}})).then(function(e){return e}).catch(function(e){throw e})});var d=Object(o["a"])("Make a user a multi-channel guest",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.channelId,a=r.memberId;return e(Object(i["a"])({method:"users.admin.setRestricted",args:{channel:n,user:a}})).then(function(e){return e}).catch(function(e){throw e})});var v=Object(o["a"])("Make a user a single-channel guest",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.channelId,a=r.memberId;return e(Object(i["a"])({method:"users.admin.setUltraRestricted",args:{channel:n,user:a}})).then(function(e){return e}).catch(function(e){throw e})});var h=Object(o["a"])("Removes the owner role from a member and applies their previous roles",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.memberId;return e(Object(i["a"])({method:"users.admin.removeOwner",args:{user:n}})).then(function(e){return e}).catch(function(e){throw e})});var m=Object(o["a"])("Make a member an owner",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.memberId;return e(Object(i["a"])({method:"users.admin.setOwner",args:{user:n}})).then(function(e){return e}).catch(function(e){throw e})});var b=Object(o["a"])("Disables two-factor verification for a given member",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.memberId;return e(Object(i["a"])({method:"users.admin.disable2FA",args:{user:n}})).then(function(e){return e}).catch(function(e){throw e})});var _=Object(o["a"])("Sends the SSO binding email to a target member",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.memberId;return e(Object(i["a"])({method:"users.admin.sendSSOBind",args:{user:n}})).then(function(e){return e}).catch(function(e){throw e})});var g=Object(o["a"])("Set the expiration for a guest",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.memberId,a=r.expirationTs;return e(Object(i["a"])({method:"users.admin.setExpiration",args:{user:n,expiration_ts:a}})).then(function(e){return e}).catch(function(e){throw e})});var y=Object(o["a"])("Set the expiration for a guest",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.memberId;return e(Object(i["a"])({method:"users.admin.removeExpiration",args:{user:n}})).then(function(e){return e}).catch(function(e){throw e})});var O=Object(o["a"])("Deactivates a member",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.memberId;return e(Object(i["a"])({method:"users.admin.setInactive",args:{user:n}})).then(function(){var t=true;e(Object(s["updateMemberDeleted"])({memberId:n,isDeleted:t}))}).catch(function(e){throw e})});var E=Object(o["a"])("Update the profile info for a member",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.memberId,a=r.profile;return e(Object(i["a"])({method:"users.profile.set",args:{user:n,profile:JSON.stringify(a)}})).then(function(e){return e}).catch(function(e){throw e})})},198:function(e,t,r){var n=r(53)("unscopables");var a=Array.prototype;void 0==a[n]&&r(83)(a,n,{});e.exports=function(e){a[n][e]=true}},20024:function(e,t,r){"use strict";var n=r(20025);var a=r(20027);var i=r(20028);var o=r(20047);var s=r(20496);var c=r(20030);var l=r(20031);var u=r(20498);r.d(t,"d",function(){return a["a"]});r.d(t,"g",function(){return c});r.d(t,"e",function(){return l});r.d(t,"f",function(){return u});r.d(t,"c",function(){return i["a"]});r.d(t,"a",function(){return o["a"]});r.d(t,"b",function(){return s["a"]});var p=n["a"]},20025:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(9);var u=r(17006);var p=r(20024);var f=r(20048);var d=r(20497);var v=r(20029);var h=r(20255);var m=r.n(h);var b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O={isOpen:false,selectedIndex:0,text:void 0,results:void 0};var E={completeOnMembers:o.a.bool,completeOnChannels:o.a.bool,completeOnCommands:o.a.bool,autocompleteChannels:o.a.func,autocompleteCommands:o.a.func,autocompleteMembers:o.a.func,renderInput:o.a.func};var j={completeOnMembers:false,completeOnChannels:false,completeOnCommands:false,autocompleteChannels:n["noop"],autocompleteCommands:n["noop"],autocompleteMembers:n["noop"],renderInput:n["noop"]};var k=function(e){y(t,e);function t(e){_(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.setCompleterElementRef=r.setCompleterElementRef.bind(r);r.onClose=r.onClose.bind(r);r.handleSelectedIndexChangeFromMenu=r.handleSelectedIndexChangeFromMenu.bind(r);r.modules=r.getModulesConfig();r.completers=r.getCompleters(e);r.completer=null;r.completerMenuRef=null;r.setTabCompleteModuleIndex=n["noop"];r.state=O;return r}b(t,[{key:"componentWillReceiveProps",value:function e(t){var r=this.props,n=r.completeOnMembers,a=r.completeOnChannels,i=r.completeOnCommands;t.completeOnMembers===n&&t.completeOnChannels===a&&t.completeOnCommands===i||(this.completers=this.getCompleters(t))}},{key:"onSelectedIndexChange",value:function e(t){this.setState(function(){return{selectedIndex:t}})}},{key:"onOpen",value:function e(){this.setState(function(){return{isOpen:true}})}},{key:"onClose",value:function e(){this.setState(function(){return{isOpen:false}})}},{key:"getCompleters",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,r=t.completeOnMembers,n=t.completeOnChannels,a=t.completeOnCommands;var i=[];n&&i.push({getMatch:p["e"].getMatch,menu:p["a"],search:this.props.autocompleteChannels});a&&i.push({getMatch:p["f"].getMatch,menu:p["b"],search:this.props.autocompleteCommands});r&&i.push({getMatch:p["g"].getMatch,menu:p["c"],search:this.props.autocompleteMembers});return i}},{key:"getModulesConfig",value:function e(){var t=this;return{tabcomplete:{completers:[{getMatch:function e(){return t.getMatch.apply(t,arguments)},onSelectedIndexChange:function e(){return t.onSelectedIndexChange.apply(t,arguments)},search:function e(){return t.search.apply(t,arguments)},getResultAtIndex:function e(){var r;return(r=t.completerMenuRef).getResultAtIndex.apply(r,arguments)},getInsertData:function e(){var r;return(r=t.completerMenuRef).getInsertData.apply(r,arguments)},getNumResults:function e(){if(t.completerMenuRef.getNumResults){var r;return(r=t.completerMenuRef).getNumResults.apply(r,arguments)}return}}],searchOptions:{complete_member_specials:true},render:function e(r,n,a){t.setState(function(){return{text:n,results:a}});return'<input type="hidden" />'},trailingPunctuationChars:u["b"],shouldCompleteOnTab:function e(){return false},onRender:function e(){return t.onOpen()},onClose:function e(){return t.onClose()},onInit:function e(r){var n=r.setSelectedIndex;t.setTabCompleteModuleIndex=n}}}}},{key:"getMatch",value:function e(){for(var t=0;t<this.completers.length;t++){var r=this.completers[t];var n=r.getMatch.apply(r,arguments);if(n){this.completer=r;this.setState(function(){return O});return n}}return null}},{key:"setCompleterElementRef",value:function e(t){this.completerMenuRef=t&&t.getWrappedInstance?t.getWrappedInstance():t}},{key:"search",value:function e(t,r,n){Promise.resolve(this.completer.search({query:t})).then(function(e){n(null,e)}).catch(n)}},{key:"handleSelectedIndexChangeFromMenu",value:function e(t){this.setTabCompleteModuleIndex(t)}},{key:"renderMenu",value:function e(){var t=this.state,r=t.isOpen,n=t.selectedIndex,a=t.text,i=t.results;if(!this.completer)return null;return c.a.createElement(this.completer.menu,{selectedIndex:n,isOpen:r,onClose:this.onClose,text:a,results:i,ref:this.setCompleterElementRef,onSelectedIndexChange:this.handleSelectedIndexChangeFromMenu})}},{key:"render",value:function e(){var t=this.props.renderInput;var r=this.state.isOpen;return c.a.createElement(s["Fragment"],null,t({modules:this.modules,isOpen:r}),this.renderMenu())}}]);return t}(s["PureComponent"]);k.displayName="TextyAutocomplete";k.propTypes=E;k.defaultProps=j;var w={autocompleteChannels:f["a"],autocompleteCommands:d["a"],autocompleteMembers:v["a"]};t["a"]=Object(l["connect"])(null,w)(k)},20027:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(8);var u=r.n(l);var p=r(16912);var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function d(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=new p["b"]("tabcomplete");var _={header:o.a.node,body:o.a.node,isOpen:o.a.bool,onClose:o.a.func,type:o.a.string};var g={header:void 0,body:void 0,isOpen:false,onClose:n["noop"],type:void 0};var y=function(e){m(t,e);function t(){v(this,t);return h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}f(t,[{key:"render",value:function e(){var t=this.props,r=t.header,n=t.body,a=t.isOpen,i=t.onClose,o=t.type;if(!a)return null;var l=u()("c-texty_autocomplete",d({},"c-texty_autocomplete--"+o,!!o));return c.a.createElement(s["Fragment"],null,c.a.createElement("div",{className:l},c.a.createElement("div",{className:"c-texty_autocomplete__header"},r,c.a.createElement("span",{className:"c-texty_autocomplete__help"},c.a.createElement("span",{className:"c-texty_autocomplete__help_item"},b.rt("<strong>tab</strong> or <strong>\u2191</strong> <strong>\u2193</strong> to navigate")),c.a.createElement("span",{className:"c-texty_autocomplete__help_item"},b.rt("<strong>\u21b5</strong> to select")),c.a.createElement("span",{className:"c-texty_autocomplete__help_item"},b.rt("<strong>esc</strong> to dismiss")))),c.a.createElement("div",{className:"c-texty_autocomplete__body",ref:this.setBodyRef},c.a.createElement("ul",{className:"c-texty_autocomplete__results"},n))),c.a.createElement("button",{className:"c-texty_autocomplete__shadow",onClick:i}))}}]);return t}(s["Component"]);y.displayName="TextyAutocompleteMenu";y.propTypes=_;y.defaultProps=g;t["a"]=y},20028:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(9);var u=r(16913);var p=r(16922);var f=r(16921);var d=r(16912);var v=r(20024);var h=r(16934);var m=r(20034);var b=r(20545);var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=new d["b"]("tabcomplete");var j={highlightWords:o.a.arrayOf(o.a.string),selectedIndex:o.a.number,isOpen:o.a.bool,onClose:o.a.func,text:o.a.string,results:o.a.arrayOf(o.a.object),featureUnifiedMember:o.a.bool,onSelectedIndexChange:o.a.func};var k={highlightWords:void 0,selectedIndex:0,isOpen:false,onClose:n["noop"],text:void 0,results:void 0,featureUnifiedMember:false,onSelectedIndexChange:n["noop"]};var w=function(e){O(t,e);function t(){g(this,t);return y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}_(t,[{key:"getResultAtIndex",value:function e(t,r){return v["g"].getResultAtIndex(t,r)}},{key:"getInsertData",value:function e(t){var r=this.props.highlightWords;return v["g"].getInsertData(t,{highlightWords:r})}},{key:"renderHeader",value:function e(){var t=this.props.text;return E.rt("People matching \u201c<strong>{text}</strong>\u201d",{text:t})}},{key:"renderBody",value:function e(){var t=this.props,r=t.results,a=t.selectedIndex,i=t.onSelectedIndexChange,o=t.featureUnifiedMember;if(Object(n["isEmpty"])(r))return null;return r.map(function(e,t){var r=void 0;r=e.is_broadcast_keyword?"broadcast":e.is_usergroup?"usergroup":o||Object(h["a"])()?c.a.createElement(m["a"],{id:e.id,size:"small",showAvatar:true,forcedPrimary:"display_name"}):Object(f["f"])(e);return c.a.createElement(b["a"],{key:e.id,index:t,isSelected:t===a,onMouseOver:i},r)})}},{key:"render",value:function e(){var t=this.props,r=t.isOpen,n=t.onClose;return c.a.createElement(v["d"],{header:this.renderHeader(),body:this.renderBody(),isOpen:r,onClose:n,type:"members"})}}]);return t}(s["PureComponent"]);w.displayName="TextyAutocompleteMembers";w.propTypes=j;w.defaultProps=k;var C=function e(t){return{highlightWords:Object(p["getUserHighlightWords"])(t),featureUnifiedMember:Object(u["isFeatureEnabled"])(t,"feature_unified_member")}};t["a"]=Object(l["connect"])(C,null,null,{withRef:true})(w)},20029:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16926);var c=r(16919);var l=r(16958);var u=Object(s["b"])("Find members that match a search query",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.query,i=r.limit,o=void 0===i?l["AUTOCOMPLETE_DEFAULT_LIMIT"]:i;var s=t();var u=Object(n["values"])(Object(c["getAllMembers"])(s));var p=u;if("@"!==a){var f=a.toLowerCase().slice(1);p=u.filter(function(e){return Object(n["includes"])(e.name,f)})}return Promise.resolve(p.slice(0,o))});u.propTypes={query:o.a.string,limit:o.a.number};t["a"]=u},20030:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"getInsertData",function(){return u});r.d(t,"getMatch",function(){return p});r.d(t,"getResultAtIndex",function(){return f});var n=r(1);var a=r.n(n);var i=r(16941);var o=r(17381);var s=r(17180);var c=r(19777);var l=/(^|\n|.)?((?:@|\uFF20)([^\n@\uFF20]*))$/i;var u=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.highlightWords;if(!t)return null;Object(i["b"])("PFP_ACTION",{contexts:{growth:{action:"autocomplete_select",trigger:"member"}}});var a=Object(o["a"])(t);var c=Object(s["a"])(t.id,a,n);return{text:a,format:{slackmention:{id:t.id,label:a,mention:c}}}};var p=function e(t,r,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var o=void 0;var s=void 0;t.replace(l,function(e,t,r,a,l){var u=""===Object(c["a"])(t)||Object(n["includes"])(i.allowed_preceding_symbols,t);if(!u)return;if(a.length&&a.match(/^\s/))return;o=r;s=l+(t||"").length});if(!o&&r){var u=Object(n["last"])(/(^|\s)([^\s\n@\uFF20]+)$/.exec(t));u=Object(c["a"])(u,{trimCJK:false});if(u){o=u;s=t.length-u.length}}return o?{match:o,index:s}:null};var f=function e(t,r){if(Object(n["isEmpty"])(t))return null;return t[r]}},20031:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"getInsertData",function(){return p});r.d(t,"getMatch",function(){return f});r.d(t,"getResultAtIndex",function(){return d});var n=r(1);var a=r.n(n);var i=r(16941);var o=r(16920);var s=r(16912);var c=r(19777);var l=function(){function e(e,t){var r=[];var n=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){a=true;i=e}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var u=/(^|\n|.)([#\uff03][^~`!@#\uff03$%^&*()+=[\]{}\\|;:'",.<>/?\s]*)$/i;var p=function e(t){if(!t)return null;Object(i["b"])("PFP_ACTION",{contexts:{growth:{action:"autocomplete_select",trigger:"channel"}}});var r=Object(o["getDisplayName"])(t);return{text:"#"+r,ensure_preceding_space:true}};var f=function e(t){if(!Object(n["isString"])(t))return null;var r=Object(s["a"])(t).match(u)||[];var a=l(r,3),i=a[1],o=a[2];if(!o||Object(c["a"])(i))return null;var p=r.index+Object(n["size"])(i);var f=t.slice(p);return{match:f,index:p}};var d=function e(t,r){if(Object(n["isEmpty"])(t))return null;return t[r]}},20042:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16926);var c=r(16913);var l=r(16949);var u=r(20043);var p=Object(s["b"])("Opens the snippet dialog",function(e,t,r){Object(c["isFeatureEnabled"])(t(),"feature_file_threads")&&e(Object(l["openModal"])({element:a.a.createElement(u["a"],r)}))});p.propTypes={initialText:o.a.string,initialChannelId:o.a.string,threadTs:o.a.string};t["a"]=p},20043:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(3);var c=r.n(s);var l=r(9);var u=r(16913);var p=r(16922);var f=r(16912);var d=r(16958);var v=r(20044);var h=r(16956);var m=r(17e3);var b=r(20254);var _=r.n(b);var g=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j=new f["b"]("snippet-dialog");var k={wrapLongLines:c.a.bool,featureFileThreads:c.a.bool};var w={wrapLongLines:true,featureFileThreads:true};var C=function(e){E(t,e);function t(e){y(this,t);var r=O(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(n["bindAll"])(r,["onFileNameChange","setTextAreaRef"]);r.state={fileName:"",overFileNameLimit:false};return r}g(t,[{key:"onFileNameChange",value:function e(t){this.setState(function(){return{fileName:t,overFileNameLimit:t.length>d["MAX_FILENAME_LENGTH"]}})}},{key:"setTextAreaRef",value:function e(t){var r=this.props.wrapLongLines;this.textarea=t;this.editor=Object(v["a"])(this.textarea,{lineNumbers:true,matchBrackets:true,indentUnit:4,indentWithTabs:true,enterMode:"keep",tabMode:"shift",viewportMargin:10,autofocus:false,lineWrapping:r})}},{key:"render",value:function e(){var t=this.props.featureFileThreads;var r=this.state.fileName;if(!t)return null;var n="p-snippet_dialog";var a=j.t("Create snippet");var i=false;return o.a.createElement(h["a"],{className:n,title:a,shouldCloseOnOverlayClick:i,useSlackScrollbarWithPadding:true},o.a.createElement("div",{className:"p-snippet_dialog__section"},o.a.createElement(m["a"],{id:"snippet-dialog-name",name:"snippet-dialog-name",value:r,onChange:this.onFileNameChange,placeholder:j.t("Title (optional)"),maxCharacterLimit:d["MAX_FILENAME_LENGTH"],counterMinimumCharacters:d["MIN_FILENAME_CHARACTERS_BEFORE_WARNING"]})),o.a.createElement("div",{className:"p-snippet_dialog__section"},o.a.createElement("textarea",{ref:this.setTextAreaRef})))}}]);return t}(i["PureComponent"]);C.displayName="SnippetDialog";C.propTypes=k;C.defaultProps=w;function S(e){return{wrapLongLines:Object(p["getUserPref"])(e,"snippet_editor_wrap_long_lines"),featureFileThreads:Object(u["isFeatureEnabled"])(e,"feature_file_threads")}}t["a"]=Object(l["connect"])(S)(C)},20044:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(16914);var a=Object(n["c"])("TS.codemirror.legacyLoadCodemirror",function(){return Promise.reject()});var i=Object(n["c"])("TS.codemirror.legacyAttachToTextArea")},20047:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(16920);var u=r(16912);var p=r(20024);var f=r(20545);var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=new u["b"]("tabcomplete");var _={selectedIndex:o.a.number,isOpen:o.a.bool,onClose:o.a.func,text:o.a.string,results:o.a.arrayOf(o.a.object),onSelectedIndexChange:o.a.func};var g={selectedIndex:0,isOpen:false,onClose:n["noop"],text:void 0,results:void 0,onSelectedIndexChange:n["noop"]};var y=function(e){m(t,e);function t(){v(this,t);return h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}d(t,[{key:"getResultAtIndex",value:function e(t,r){return p["e"].getResultAtIndex(t,r)}},{key:"getInsertData",value:function e(t){return p["e"].getInsertData(t)}},{key:"renderHeader",value:function e(){var t=this.props.text;return b.rt("Channels matching \u201c<strong>{text}</strong>\u201d",{text:t})}},{key:"renderBody",value:function e(){var t=this.props,r=t.results,a=t.selectedIndex,i=t.onSelectedIndexChange;if(Object(n["isEmpty"])(r))return null;return r.map(function(e,t){return c.a.createElement(f["a"],{key:e.id,index:t,isSelected:t===a,onMouseOver:i},"#",Object(l["getDisplayName"])(e))})}},{key:"render",value:function e(){var t=this.props,r=t.isOpen,n=t.onClose;return c.a.createElement(p["d"],{header:this.renderHeader(),body:this.renderBody(),isOpen:r,onClose:n,type:"channels"})}}]);return t}(s["PureComponent"]);y.displayName="TextyAutocompleteChannels";y.propTypes=_;y.defaultProps=g;t["a"]=y},20048:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16926);var c=r(16923);var l=r(16920);var u=r(16958);var p=Object(s["b"])("Find channels that match a search query",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.query,i=r.limit,o=void 0===i?u["AUTOCOMPLETE_DEFAULT_LIMIT"]:i;var s=t();var p=Object(n["values"])(Object(c["getAllChannels"])(s)).filter(l["isPublicChannel"]);var f=p;if("#"!==a){var d=a.toLowerCase().slice(1);f=p.filter(function(e){var t=Object(l["getDisplayName"])(e);return Object(n["includes"])(t,d)})}return Promise.resolve(f.slice(0,o))});p.propTypes={query:o.a.string,limit:o.a.number};t["a"]=p},20049:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(3);var c=r.n(s);var l=r(11);var u=r.n(l);var p=r(20437);var f=r(17044);var d=r(17035);var v=r(16917);var h=r(16912);var m=r(16960);var b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=new h["b"]("search");var E={onStartDateChange:c.a.func.isRequired,onEndDateChange:c.a.func.isRequired,startDate:c.a.string,endDate:c.a.string};var j={startDate:null,endDate:null};var k=function(e){y(t,e);function t(e){_(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(n["bindAll"])(r,["isDateDisabledStart","isDateDisabledEnd"]);return r}b(t,[{key:"isDateDisabledStart",value:function e(t){var r=this.props.endDate;if(r)return t.isAfter(r)||t.isAfter(u()());return t.isAfter(u()())}},{key:"isDateDisabledEnd",value:function e(t){var r=this.props.startDate;if(r)return t.isBefore(r)||t.isAfter(u()());return t.isAfter(u()())}},{key:"render",value:function e(){var t=this;var r=this.props,n=r.onStartDateChange,a=r.onEndDateChange;var i=this.props.endDate?u()(this.props.endDate):null;var s=this.props.startDate?u()(this.props.startDate):null;return o.a.createElement(m["a"],{enabled:["feature_react_search"]},o.a.createElement("div",{className:"p-search_filter"},o.a.createElement("div",{className:"p-search_filter__title"},o.a.createElement("h3",{className:"p-search_filter__title_text"},O.t("Date"))),o.a.createElement("div",{className:"p-search_filter__dates"},o.a.createElement("div",{className:"p-search_filter__date"},o.a.createElement(f["b"],{ariaHasPopup:true,position:"top",offsetY:-12,renderPopover:function e(r){return o.a.createElement(f["a"],r,o.a.createElement("div",{className:"p-block_kit_date_picker_calendar_wrapper"},o.a.createElement(p["a"],{showInput:false,selectedDate:s,onDateChange:function e(t){var a=t.selectedDate;r.onClose();n(u()(a))},isDateDisabled:t.isDateDisabledStart})))}},o.a.createElement(d["a"],{className:"p-search_filter__datepicker_trigger"},o.a.createElement("div",{className:"p-search_filter__date_label"},O.t("Starting")),o.a.createElement("div",{className:"p-search_filter__date_readout"},s?u()(s).format("MMMM Do, YYYY"):""),s?null:o.a.createElement(v["b"],{type:"calendar",className:"p-search_filter__calendar_icon"}))),s?o.a.createElement(d["a"],{className:"p-search_filter__date_close",onClick:function e(){return n(null)}},o.a.createElement(v["b"],{type:" c-icon--times-small"})):null),o.a.createElement("div",{className:"p-search_filter__date"},o.a.createElement(f["b"],{ariaHasPopup:true,position:"top",offsetY:-12,renderPopover:function e(r){return o.a.createElement(f["a"],r,o.a.createElement("div",{className:"p-block_kit_date_picker_calendar_wrapper"},o.a.createElement(p["a"],{showInput:false,selectedDate:i,onDateChange:function e(t){var n=t.selectedDate;r.onClose();a(u()(n))},isDateDisabled:t.isDateDisabledEnd})))}},o.a.createElement(d["a"],{className:"p-search_filter__datepicker_trigger"},o.a.createElement("div",{className:"p-search_filter__date_label"},O.t("Ending")),o.a.createElement("div",{className:"p-search_filter__date_readout"},i?u()(i).format("MMMM Do, YYYY"):""),i?null:o.a.createElement(v["b"],{type:"calendar",className:"p-search_filter__calendar_icon"}))),i?o.a.createElement(d["a"],{className:"p-search_filter__date_close",onClick:function e(){return n(null)}},o.a.createElement(v["b"],{type:" c-icon--times-small"})):null))))}}]);return t}(i["PureComponent"]);k.displayName="DateRangeFilter";k.propTypes=E;k.defaultProps=j;t["a"]=k},20059:function(e,t,r){"use strict";t["c"]=n;t["b"]=a;t["a"]=i;t["d"]=o;t["e"]=s;function n(e){return!!e&&e.name}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.includeAtSign,n=void 0===r||r;var a=!!e&&e.handle;if(!a)return"";return n?"@"+a:a}function i(e){return!!e&&e.description||""}function o(e){return!!e&&e.user_count||0}function s(e){return e&&!e.date_delete}},20073:function(e,t,r){"use strict";var n=r(20405);var a=r(16979);var i=r(17099);var o=r(17086);var s=r(16925);var c=r(17430);var l=r(16966);var u=10;var p=9e5;var f=void 0;var d={};var v={};var h={};function m(){void 0===f&&(f=Object(o["a"])(u));return f}var b="asleep";var _="connecting";var g="connected";var y="wait_connectivity";var O="wait_rate_limit";function E(e){if(Object(a["isAsleep"])(e))return b;if(Object(a["isConnecting"])(e))return _;if(Object(a["isConnected"])(e))return g;if(Object(a["isWaitingForConnectivity"])(e))return y;if(Object(a["isWaitingForRateLimit"])(e))return O;return"disconnected"}function j(e,t,r){if(!m())return;var n=r();var a=Object(s["getTeamId"])(n);var i=E(n);if(v[a]!==i){v[a]=i;d[a]=d[a]||[];d[a].push({status:i,ts:window.performance.now()})}}function k(e,t,r){if(!m())return;var a=r();var i=Object(s["getTeamId"])(a);if(h[i])return;h[i]=performance.now();var o=Object(c["a"])(p,.8,1.2);setInterval(function(){if(!d[i])return;var e={};d[i].forEach(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.status,n=t.ts;var a=arguments[1];var o=d[i][a+1];var s=o?o.ts:performance.now();var c=s-n;e[r]=e[r]||0;e[r]+=c});Object.keys(e).forEach(function(t){var r=e[t];Object(n["c"])("ws_tis_"+t,r)});var t=performance.now()-h[i];var r=e[b]||0;Object(n["c"])("ws_tis_duration",t);Object(n["c"])("ws_tis_duration_awake",t-r);h[i]=performance.now();d[i]=[{status:v[i],ts:window.performance.now()}]},o)}Object(l["a"])([{actions:[a["stateChanged"]],sideEffect:j},{actions:[i["start"]],sideEffect:k}])},20121:function(e,t){},20122:function(e,t){},20124:function(e,t){},20125:function(e,t){},20131:function(e,t){},20133:function(e,t){},20145:function(e,t){},20146:function(e,t){},20148:function(e,t){},20149:function(e,t){},20150:function(e,t){},20151:function(e,t){},20152:function(e,t){},20153:function(e,t){},20154:function(e,t){},20155:function(e,t){},20156:function(e,t){},20157:function(e,t){},20158:function(e,t){},20159:function(e,t){},20160:function(e,t){},20161:function(e,t){},20162:function(e,t){},20163:function(e,t){},20164:function(e,t){},20165:function(e,t){},20166:function(e,t){},20167:function(e,t){},20168:function(e,t){},20169:function(e,t){},20170:function(e,t){},20171:function(e,t){},20175:function(e,t){},20176:function(e,t){},20177:function(e,t){},20178:function(e,t){},20179:function(e,t){},20180:function(e,t){},20181:function(e,t){},20182:function(e,t){},20183:function(e,t){},20184:function(e,t){},20185:function(e,t){},20186:function(e,t){},20187:function(e,t){},20188:function(e,t){},20189:function(e,t){},20190:function(e,t){},20191:function(e,t){},20192:function(e,t){},20193:function(e,t){},20194:function(e,t){},20195:function(e,t){},20196:function(e,t){},20197:function(e,t){},20198:function(e,t){},20199:function(e,t){},20200:function(e,t){},20201:function(e,t){},20202:function(e,t){},20203:function(e,t){},20204:function(e,t){},20205:function(e,t){},20206:function(e,t){},20207:function(e,t){},20208:function(e,t){},20210:function(e,t){},20211:function(e,t){},20212:function(e,t){},20213:function(e,t){},20214:function(e,t){},20215:function(e,t){},20216:function(e,t){},20217:function(e,t){},20218:function(e,t){},20219:function(e,t){},20220:function(e,t){},20221:function(e,t){},20222:function(e,t){},20223:function(e,t){},20224:function(e,t){},20225:function(e,t){},20226:function(e,t){},20227:function(e,t){},20228:function(e,t){},20229:function(e,t){},20230:function(e,t){},20231:function(e,t){},20232:function(e,t){},20233:function(e,t){},20234:function(e,t){},20235:function(e,t){},20236:function(e,t){},20238:function(e,t){},20239:function(e,t){},20240:function(e,t){},20241:function(e,t){},20242:function(e,t){},20243:function(e,t){},20244:function(e,t){},20245:function(e,t){},20246:function(e,t){},20247:function(e,t){},20248:function(e,t){},20249:function(e,t){},20250:function(e,t){},20251:function(e,t){},20253:function(e,t){},20254:function(e,t){},20255:function(e,t){},20280:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16912);var p=r(16941);var f=r(16939);var d=r(17737);var v=r(17004);var h=r(16913);var m=r(17015);var b=r(18674);var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=new u["b"]("notification_banner");var j={countPref:"approaching_file_limit_banner_cta_count",tsPref:"approaching_file_limit_banner_cta_last_ts"};var k=200;var w="UPGRDEXP_ENFORCE_FILE_LIMITS";var C="/pricing?ui_element=11&ui_step="+k;var S={teamName:o.a.string.isRequired,userId:o.a.string.isRequired,featureModernizeBanners:o.a.bool.isRequired,closeBanner:o.a.func.isRequired,showFileList:o.a.func.isRequired};var T=function(e){O(t,e);function t(e){g(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.experimentGroup=Object(m["a"])("approaching_file_limit_banner_v2");Object(c["bindAll"])(r,["onGo","onCloseIcon","onDeleteFilesLinkClicked"]);return r}_(t,[{key:"componentDidMount",value:function e(){Object(p["b"])(w,{contexts:{ui_context:{step:k,action:"impression"}}})}},{key:"onGo",value:function e(){Object(p["b"])(w,{contexts:{ui_context:{step:k,action:"click",ui_element:"pricing_button"}}});Object(p["b"])("GROWTH_PRICING",{contexts:{ui_context:{step:k,action:"click",ui_element:"pricing_button"}}});window.open(C,"_blank")}},{key:"onCloseIcon",value:function e(){Object(p["b"])(w,{contexts:{ui_context:{step:k,action:"close",ui_element:"btn_close"}}})}},{key:"onDeleteFilesLinkClicked",value:function e(){var t=this.props.userId;this.props.closeBanner({bannerPrefs:j});this.props.showFileList({user:t});Object(p["b"])(w,{contexts:{ui_context:{step:k,action:"click",ui_element:"file_storage_link"}}})}},{key:"getHeaderText",value:function e(){var t=this.props.teamName;return E.rt("{name_of_workspace} is almost out of space",{name_of_workspace:t})}},{key:"getBodyText",value:function e(){var t=this;if(!this.props.featureModernizeBanners)return null;if("treatment"===this.experimentGroup)return E.rt('If your workspace goes over the free plan\u2019s <span class="bold">5 GB storage limit,</span> older files will no longer be viewable. To access all your files, you can upgrade to a paid plan.');return E.rt("Your workspace is getting close to the free plan\u2019s <limit>5 GB storage limit</limit>. To get some more space, you can either <button>delete older files</button> or upgrade to a paid plan.",{},function(e){var r=e.key,n=e.tag,i=e.text;if("limit"===n)return a.a.createElement("span",{key:r,className:"bold"},i);return a.a.createElement("button",{key:r,className:"c-link--button",onClick:t.onDeleteFilesLinkClicked},i)})}},{key:"render",value:function e(){var t=E.t("See Plans");return a.a.createElement(b["a"],{headerText:this.getHeaderText(),bodyText:this.getBodyText(),goButtonText:t,showCancelButton:false,showCloseIcon:true,onGo:this.onGo,onCloseIcon:this.onCloseIcon,bannerPrefs:j})}}]);return t}(n["PureComponent"]);T.displayName="ApproachingFileLimitBanner";T.propTypes=S;var I=function e(t){return{teamName:Object(f["getCurrentTeam"])(t).name,userId:Object(h["getCurrentUserId"])(t),featureModernizeBanners:Object(h["isFeatureEnabled"])(t,"feature_modernize_banners")}};var N={closeBanner:d["closeBanner"],showFileList:v["c"]};t["a"]=Object(s["connect"])(I,N)(T)},20286:function(e,t){},20287:function(e,t){},20308:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(16929);var a=r(17063);var i=r(16913);var o=r(16924);var s=Object(a["a"])("Check to see whether we need to reload",function(e,t,r){var a=t();if(o["isJsPath"])return Promise.resolve(new Error("Cannot check whether to reload when using js_path"));var s=Object(i["getFromBootData"])(a,"version_ts");var c=r.reason||"unknown";return e(Object(n["a"])({method:"rtm.shouldReload",args:{version_ts:s,reason:c}}))})},20311:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(16915);var o=r(17208);var s=r(17328);var c=r(17122);var l=r(17121);var u=r(20427);var p=r(20435);var f=r(20429);var d=r(17329);var v=Object(i["e"])("Set whether or not Search is visible",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.visible;var a=t();e(Object(c["setInterfaceIsVisibleOnly"])({visible:n}));if(Object(s["getSearchInputBoxDisplayQuery"])(a)&&n&&Object(c["getSearchSessionId"])(a)){clearTimeout(Object(c["getSearchSessionId"])(a));e(Object(c["setSessionTimeoutId"])({sessionTimeoutId:null}))}else if(!Object(s["getSearchInputBoxDisplayQuery"])(a)&&n){e(Object(c["setSearchSessionId"])({searchSessionId:Object(o["a"])()}));e(Object(c["setQuerySessionId"])({querySessionId:Object(o["a"])()}));e(Object(u["a"])())}else if(Object(s["getSearchInputBoxDisplayQuery"])(a)&&!n){var i=setTimeout(function(){var r=t();if(!Object(c["getVisible"])(r)&&Object(c["getSessionTimeoutId"])(r)===i){e(Object(c["setSessionTimeoutId"])({sessionTimeoutId:null}));e(Object(c["setSearchSessionId"])({searchSessionId:""}));e(Object(c["setQuerySessionId"])({querySessionId:""}));e(Object(l["resetEditableRequest"])());e(Object(s["setSearchInputBoxUserQuery"])({userQuery:""}));e(Object(c["setDefaultTab"])());e(Object(c["setInterfaceMode"])({interfaceMode:c["interfaceModes"].EDIT}));Object(d["b"])()}},c["SEARCH_SESSION_TIMEOUT_MS"]);e(Object(c["setSessionTimeoutId"])({sessionTimeoutId:i}));e(Object(f["a"])())}else if(!Object(s["getSearchInputBoxDisplayQuery"])(a)&&!n){e(Object(f["a"])());e(Object(c["setSearchSessionId"])({searchSessionId:""}));e(Object(c["setQuerySessionId"])({querySessionId:""}))}e(n?Object(p["a"])({}):Object(c["setLastOpenMethod"])({lastOpenMethod:null}))});v.propTypes={visible:a.a.bool.isRequired};t["a"]=v},20313:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(333);var l=r(1);var u=r.n(l);var p=r(16913);var f=r(17290);var d=r(17004);var v=r(16912);var h=r(17019);var m=r(17828);var b=r(16918);var _=r(20059);var g=r(17090);var y=r(20314);var O=r(20566);var E=r(20315);var j=r.n(E);var k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var w=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function T(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var I={userGroups:o.a.object,featureSonicUserGroups:o.a.bool,onLoad:o.a.func,openGroupDetails:o.a.func};var N={userGroups:{},featureSonicUserGroups:false,onLoad:l["noop"],openGroupDetails:l["noop"]};var A=new v["b"]("user_groups");var P=function(e){T(t,e);function t(e){C(this,t);var r=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={searchTerm:""};Object(l["bindAll"])(r,["onSearchInputChange","onCreateUserGroup","onClearSearch","renderRow"]);return r}w(t,[{key:"componentDidMount",value:function e(){this.props.onLoad()}},{key:"onSearchInputChange",value:function e(t){var r=t.target.value;this.setState(function(){return{searchTerm:r}})}},{key:"onCreateUserGroup",value:function e(){Object(l["noop"])()}},{key:"onClearSearch",value:function e(){this.setState(function(){return{searchTerm:""}})}},{key:"getSortedResults",value:function e(t){return Object(l["sortBy"])(t,function(e){var t=Object(_["c"])(e);return t.toLocaleLowerCase()})}},{key:"getSearchResults",value:function e(t,r){var n=this;if(!r)return Object.values(t);return Object(l["filter"])(t,function(e){if(!e)return false;var t=Object(_["c"])(e);var a=Object(_["b"])(e)||"";var i=Object(_["a"])(e)||"";if(n.checkForMatch(t,r))return true;if(n.checkForMatch(a,r))return true;if(n.checkForMatch(i,r,false))return true;return false})}},{key:"getGroupedUserGroups",value:function e(t){var r=Object(l["groupBy"])(t,function(e){return Object(_["e"])(e)?"active":"inactive"});r.active=r.active||[];r.inactive=r.inactive||[];return r.active.concat(r.inactive)}},{key:"checkForMatch",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.prepStringForSearch(t,n).includes(this.prepStringForSearch(r,n))}},{key:"prepStringForSearch",value:function e(t,r){if(!t)return"";var n=t.toLocaleLowerCase();r&&(n=n.replace(/[\s-_]/g,""));return Object(v["a"])(n)}},{key:"renderSearch",value:function e(){if(!this.props.featureSonicUserGroups)return null;return a.a.createElement("div",{className:"p-user_group_list__search"},a.a.createElement(h["a"],{value:this.state.searchTerm,onChange:this.onSearchInputChange,placeholder:A.t("Find by name..."),icon:"search"}))}},{key:"renderRow",value:function e(t){var r=this.keys[t];return a.a.createElement(y["a"],{id:r,setGroup:this.props.openGroupDetails})}},{key:"renderEmptyListView",value:function e(){if(!this.props.featureSonicUserGroups)return null;var t=void 0;var r=void 0;if(Object(g["a"])()){t=A.t("Organize your team");r=a.a.createElement(b["d"],{type:"outline",size:"small",onClick:this.onCreateUserGroup},A.t("Create a User Group"))}else t=A.t("No user groups yet");return a.a.createElement("div",{className:"p-user_group_list__empty_list"},a.a.createElement("div",{className:"p-user_group_list__empty_list_header"},t),a.a.createElement("div",{className:"p-user_group_list__empty_list_subtext"},A.t("User groups make it easy to get the attention of many members at once.")),r)}},{key:"renderEmptySearchResults",value:function e(){if(!this.props.featureSonicUserGroups)return null;return a.a.createElement("div",{className:"p-user_group_list__empty_search_results"},a.a.createElement("div",{className:"p-user_group_list__empty_search_results_subtext"},A.rt("No matches found for <strong>{searchTerm}</strong>",{searchTerm:this.state.searchTerm})),a.a.createElement(b["d"],{type:"outline",size:"small",onClick:this.onClearSearch},A.t("Clear Search")))}},{key:"renderGroupList",value:function e(){var t=this;var r=this.getSearchResults(this.props.userGroups,this.state.searchTerm);if(Object(l["isEmpty"])(r))return this.renderEmptySearchResults();var n=this.getSortedResults(r);var i=this.getGroupedUserGroups(n);this.keys=Object(l["map"])(i,"id");var o=59;return a.a.createElement("div",{className:"p-user_group_list__groups"},a.a.createElement(c["a"],null,function(e){var r=e.width,n=e.height;return a.a.createElement(m["a"],{width:r,height:n-o,keys:t.keys,rowRenderer:t.renderRow})}))}},{key:"render",value:function e(){var t=this.props,r=t.featureSonicUserGroups,n=t.userGroups;if(!r)return null;var i=Object(l["isEmpty"])(n)?this.renderEmptyListView():a.a.createElement(a.a.Fragment,null,this.renderSearch(),this.renderGroupList());return a.a.createElement(a.a.Fragment,null,a.a.createElement(O["b"],{view:O["a"].list}),a.a.createElement("div",{className:"p-user_group__content"},a.a.createElement("div",{className:"p-user_group_list"},i)))}}]);return t}(n["PureComponent"]);P.displayName="UserGroupList";P.propTypes=I;P.defaultProps=N;var R=function e(t,r){var n=Object(f["getAllUserGroups"])(t);var a=Object(p["isFeatureEnabled"])(t,"feature_sonic_user_groups");var i=Object(p["isFeatureEnabled"])(t,"feature_sonic_user_groups_in_sonic");return k({userGroups:n,featureSonicUserGroups:a,featureSonicUserGroupsInSonic:i},r)};var M=function e(t){return{onLoad:function e(){return t(Object(f["fetchAndUpsertUserGroups"])())},openGroupDetails:function e(r){return t(Object(d["e"])({groupId:r}))}}};t["a"]=Object(s["connect"])(R,M)(P)},20314:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(8);var l=r.n(c);var u=r(1);var p=r.n(u);var f=r(16912);var d=r(17290);var v=r(16913);var h=r(17090);var m=r(20059);var b=r(19774);var _=r(20501);var g=r.n(_);var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var O=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w={id:o.a.string.isRequired,name:o.a.string.isRequired,description:o.a.string,isActive:o.a.bool,handle:o.a.string.isRequired,userCount:o.a.number.isRequired,setGroup:o.a.func.isRequired,featureSonicUserGroups:o.a.bool};var C={description:null,isActive:false,featureSonicUserGroups:false};var S=new f["b"]("user_groups");var T=function(e){k(t,e);function t(e){E(this,t);var r=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(u["bindAll"])(r,["onRowClick","renderContextMenu"]);return r}O(t,[{key:"onRowClick",value:function e(){if(this.props.isActive){var t=this.props,r=t.setGroup,n=t.id;r(n)}}},{key:"renderName",value:function e(){var t=this.props,r=t.name,n=t.isActive,i=t.featureSonicUserGroups;if(!i)return null;var o=l()("black",{sk_dark_gray:!n});var s=n?r:S.t("{name} (Deactivated)",{name:r});return a.a.createElement("div",{className:o},s)}},{key:"renderDescription",value:function e(){var t=this.props,r=t.description,n=t.isActive;if(!r)return null;var i=l()("overflow_ellipsis",{sk_dark_gray:!n});return a.a.createElement("div",{className:i},r)}},{key:"renderContextMenu",value:function e(t){return a.a.createElement(b["c"],{menuProps:t,groupId:this.props.id})}},{key:"render",value:function e(){var t=this.props,r=t.handle,n=t.userCount,i=t.isActive,o=t.featureSonicUserGroups;if(!o)return null;var s=l()("p-user_group_row",{"p-user_group_row--inactive":!i});var c={onClick:this.onRowClick,renderMenu:this.renderContextMenu,className:s,isContextButtonVisible:Object(h["e"])()||Object(h["a"])()};return a.a.createElement(b["a"],c,this.renderName(),this.renderDescription(),a.a.createElement("div",{className:"p-user_group_row__handle"},r),a.a.createElement("div",{className:"p-user_group_row__count"},S.t("{userCount, plural, =1 {# member} other {# members}}",{userCount:n})))}}]);return t}(n["PureComponent"]);T.displayName="UserGroupRow";T.propTypes=w;T.defaultProps=C;var I=function e(t,r){var n=Object(d["getUserGroupById"])(t,r.id);var a=y({},r,{name:Object(m["c"])(n),description:Object(m["a"])(n),handle:Object(m["b"])(n),userCount:Object(m["d"])(n),isActive:Object(m["e"])(n),featureSonicUserGroups:Object(v["isFeatureEnabled"])(t,"feature_sonic_user_groups")});return a};t["a"]=Object(s["connect"])(I)(T)},20315:function(e,t){},20318:function(e,t){},20319:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(1);var o=r.n(i);var s=r(16926);var c=r(16913);var l=r(16919);var u=r(16921);var p=r(17245);var f=r(18742);var d=r(16947);var v=r(16912);var h=new v["b"]("apps");var m="channel";var b=function e(t){return t.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scopes;return t}).join(",")};var _=Object(s["b"])("Opens dialog for the app permission request flow",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.appUserId,a=r.scopeInfo,o=r.scopeType,s=r.triggerId,d=r.isUserRequest;var v=t();if(!Object(c["isFeatureEnabled"])(v,"feature_wta_user_data_fe"))return;var _=Object(l["getMemberById"])(t(),n);var g=Object(u["k"])(_);var y=Object(i["get"])(_,"profile.image_48");var O=b(a);var E=h.t("{appName} would like to:",{appName:g});(Object(c["isFeatureEnabled"])(v,"feature_wta_perm_api_split")?o!==m:d)||(E=h.rt("{appName} would like to do the following in <strong>all channels it\u2019s a member of</strong>:",{appName:g}));var j=d?p["c"]:p["b"];e(Object(f["a"])({appName:g,appIcon:y,onAuthorize:function t(){return e(j({didConfirm:true,scopes:O,triggerId:s}))},onDismiss:function t(){return e(j({didConfirm:false,scopes:O,triggerId:s}))},scopeInfo:a,title:E}))});_.propTypes={isUserRequest:a.a.bool,appUserId:a.a.string.isRequired,scopeInfo:a.a.arrayOf(d["a"].ScopeInfo).isRequired,triggerId:a.a.string.isRequired};t["a"]=_},20320:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(t){var r=t.method,a=t.onSuccess,i=t.onError,o=t.partialPayload;s(this,e);this.method=r;this.onSuccess=a||n["noop"];this.onError=i||n["noop"];this.partialPayload=o||{};this.queue=[];this.isBlocked=false}o(e,[{key:"enqueue",value:function e(t,r){if(!t||!r)return;this.queue.push(t);this.state=r;this.isBlocked||this.flush()}},{key:"flush",value:function e(){var t=this;var r=i({},this.partialPayload,{state:this.state,actions:this.queue});var n=this.queue.map(function(e){return e.blockId});this.queue=[];this.isBlocked=true;this.method(r).then(function(){t.onSuccess(n)}).catch(function(){t.onError(n)}).finally(function(){t.isBlocked=false;t.queue.length&&t.flush()})}}]);return e}();t["a"]=c},20321:function(e,t,r){"use strict";t["a"]=i;var n=r(1);var a=r.n(n);function i(e,t){var r=e.slice(0);Object(n["each"])(t,function(t){r.splice(e.indexOf(t),1)});return r}},20322:function(e,t,r){"use strict";r.d(t,"a",function(){return l});var n=r(17738);var a=r(16925);var i=r(16939);var o=r(16919);var s=r(16921);var c=r(17400);var l=function e(t){var r=Object(a["getTeamId"])(t);var l=Object(i["getTeamById"])(t,r);var u=Object(c["getTeamDisplayName"])(l);var p=Object(s["O"])(Object(o["getCurrentMember"])(t));var f={teamName:u,isUserRestricted:p,yearlyPlanCostPerMonthRaw:Object(n["selectCostPerMonthForYearlyPlan"])(t),monthlyPlanCostPerMonthRaw:Object(n["selectCostPerMonthForMonthlyPlan"])(t),availableCurrencies:Object(n["selectAvailableCurrencies"])(t),planCostPerMonth:Object(n["selectActivePlanCostPerMonth"])(t),planIsYearly:Object(n["selectActivePlanIsYearly"])(t),numMonthsPerPlan:Object(n["selectActivePlanMonthsCount"])(t),planCurrency:Object(n["selectActiveCurrency"])(t),numBillableMembers:Object(n["selectBillableActiveUsers"])(t),numInactiveMembers:Object(n["selectInactiveUsers"])(t),isZeroActiveMembers:Object(n["isZeroRealActiveUsers"])(t),totalMembers:Object(n["selectTotalUsers"])(t),tax:Object(n["selectTax"])(t),teamCredits:Object(n["selectCurrentTeamCredits"])(t),currentTeamCredits:Object(n["selectCurrentTeamCredits"])(t),totalCost:Object(n["selectSubtotal"])(t),totalCostWithTax:Object(n["selectTotalRecurring"])(t),isCostValid:Object(n["isCostValid"])(t),didCostFetchFail:Object(n["isAPIError"])(t),isPlansAndCostDataLoaded:Object(n["selectIsPlansAndCostDataLoaded"])(t)};return f}},20327:function(e,t,r){"use strict";var n=r(16915);var a=r(17328);var i=r(17122);var o=r(17121);var s=r(17329);var c=Object(n["e"])("Clear the search input, resetting the editable query and ending the search and query sessions",function(e,t){var r=t();e(Object(a["setSearchInputBoxUserQuery"])({userQuery:""}));e(Object(i["setInterfaceMode"])({interfaceMode:i["interfaceModes"].EDIT}));e(Object(o["resetEditableRequest"])());e(Object(i["setDefaultTab"])());Object(s["b"])();if(!Object(i["getVisible"])(r)){e(Object(i["setSearchSessionId"])({searchSessionId:""}));e(Object(i["setQuerySessionId"])({querySessionId:""}));var n=Object(i["getSessionTimeoutId"])(r);if(n){clearTimeout(n);e(Object(i["setSessionTimeoutId"])({sessionTimeoutId:null}))}}});c.propTypes=null;t["a"]=c},20329:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(45);var c=r(16912);var l=r(17293);var u=new c["b"]("pricing_calculator");var p={numMonthsPerPlan:o.a.number,formattedPlanCostPerMonth:o.a.string,numBillableMembers:o.a.number,numInactiveMembers:o.a.number};var f={numMonthsPerPlan:1,formattedPlanCostPerMonth:"",numBillableMembers:0,numInactiveMembers:0};function d(e){var t=e.numMonthsPerPlan,r=e.numBillableMembers,n=e.numInactiveMembers,i=e.formattedPlanCostPerMonth;var o=a.a.createElement(l["a"],{type:"times-small",className:"sk_light_gray"});var s=n?u.rt("{billedMembers, plural, =1 {# active member} other {# active members}}",{billedMembers:r}):u.rt("{billedMembers, plural, =1 {# member} other {# members}}",{billedMembers:r});return a.a.createElement("div",{className:"display_flex flex_wrap align_items_center"},a.a.createElement("div",null,i),o,a.a.createElement("div",null,s),o,a.a.createElement("div",null,u.rt("{numMonthsPerPlan, plural, =1 {# month} other {# months}}",{numMonthsPerPlan:t})))}d.displayName="SubtotalCalculation";d.propTypes=p;d.defaultProps=f;t["a"]=Object(s["pure"])(d)},20339:function(e,t,r){"use strict";r.d(t,"c",function(){return c});t["d"]=l;t["b"]=u;r.d(t,"a",function(){return p});var n=r(17130);var a=r(16929);var i=r(17063);var o=r(16930);var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var c=Object(i["a"])("send actions to the app developer",function(e,t,r){var i=Object(n["b"])(r),s=i.service_id,c=i.actions,l=i.container,u=i.state;var p=Object(o["getMessageByTimestamp"])(t(),l.channel_id,l.message_ts);l.is_ephemeral=p.is_ephemeral;return e(Object(a["a"])({method:"blocks.actions",args:{service_id:s,actions:JSON.stringify(c),container:JSON.stringify(l),state:JSON.stringify(u)}}))});function l(e){var t=Object(n["b"])(e),r=t.actions,i=t.container,o=t.state;return Object(a["c"])("blocks.actionsPreview",{actions:JSON.stringify(r),container:JSON.stringify(i),state:JSON.stringify(o)})}function u(e){return Object(a["c"])("blocks.format",{blocks:e})}var p=Object(i["a"])("send block kit content to a slack channel",function(e,t,r){return e(Object(a["a"])({method:"chat.postMessage",args:s({},r,{channel:localStorage.specChannel,token:localStorage.specToken})}))})},20358:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16913);var p=r(17290);var f=r(16956);var d=r(18778);var v=r(16949);var h=r(16912);var m=r(20571);var b=r(20432);var _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var g=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j=new h["b"]("user_groups");var k={userGroupId:o.a.string,userGroupName:o.a.string,userGroupHandle:o.a.string,userGroupPurpose:o.a.string,userGroupDefaultChannels:o.a.array,onCreateUserGroups:o.a.func.isRequired,onUpdateUserGroup:o.a.func.isRequired,validate:o.a.func.isRequired,featureSonicUserGroups:o.a.bool.isRequired,closeModal:o.a.func};var w={userGroupId:"",userGroupName:null,userGroupHandle:null,userGroupPurpose:"",userGroupDefaultChannels:[],closeModal:c["noop"]};var C={details:"details",members:"members"};var S=function(e){E(t,e);function t(e){y(this,t);var r=O(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={formSubmitDisabled:true,formSubmitPending:false,errors:{nameError:"",handleError:"",purposeError:""},formStep:C.details,detailsFormValues:{}};Object(c["bindAll"])(r,["onFormSubmit","chooseDialogTitle","createUserGroup","updateUserGroup","setFormErrors","setDetailsFormValues","setUserGroupFormRef","setDialogStep"]);r.formRef=null;return r}g(t,[{key:"onFormSubmit",value:function e(){this.state.formStep===C.details?this.onDetailsStepComplete():this.state.formStep===C.members&&(this.props.userGroupId?this.updateUserGroup(this.state.detailsFormValues):this.createUserGroup(this.state.detailsFormValues))}},{key:"onDetailsStepComplete",value:function e(){var t=this.formRef.onSubmit();this.setFormSubmitPending(true);var r=this.props.validate(_({},t,{oldName:this.props.userGroupName,oldHandle:this.props.userGroupHandle}));this.setFormErrors(r);if(this.hasValidationErrors(r)){this.setFormSubmitPending(false);return}this.setDetailsFormValues(t);this.setDialogStep(C.members);this.setFormSubmitPending(false)}},{key:"setFormErrors",value:function e(t){this.setState(function(e){return{errors:_({},e.errors,t)}})}},{key:"setDetailsFormValues",value:function e(t){this.setState(function(e){return{detailsFormValues:_({},e.detailsFormValues,t)}})}},{key:"setFormSubmitPending",value:function e(t){this.setState(function(){return{formSubmitPending:t}})}},{key:"setDialogStep",value:function e(t){this.setState(function(){return{formStep:t}})}},{key:"setUserGroupFormRef",value:function e(t){this.formRef=t}},{key:"createUserGroup",value:function e(t){var r=this;this.props.onCreateUserGroups({name:t.name,handle:t.handle,description:t.purpose,channels:t.channels}).then(function(){r.setFormSubmitPending(false);r.props.closeModal()}).catch(function(){Object(c["noop"])()})}},{key:"updateUserGroup",value:function e(t){var r=this;this.props.onUpdateUserGroup({subteam:this.props.userGroupId,name:t.name,handle:t.handle,description:t.purpose,channels:t.channels}).then(function(){r.setFormSubmitPending(false);r.props.closeModal()}).catch(function(){Object(c["noop"])()})}},{key:"hasValidationErrors",value:function e(t){return!!Object(c["find"])(t,function(e){return e.length})}},{key:"chooseDialogTitle",value:function e(){if(!this.props.featureSonicUserGroups)return false;if(this.props.userGroupId)return j.t("Edit User Group");return j.t("Create User Group")}},{key:"chooseGoButtonText",value:function e(){if(!this.props.featureSonicUserGroups)return false;if(this.state.formStep===C.details)return j.t("Next");if(this.props.userGroupId)return j.t("Save");return j.t("Create Group")}},{key:"renderDetailsForm",value:function e(){var t=this;return a.a.createElement("div",null,a.a.createElement(m["a"],_({},this.props,{errors:this.state.errors,setFormErrors:this.setFormErrors,onRef:function e(r){return t.setUserGroupFormRef(r)}})))}},{key:"renderMemberSelector",value:function e(){if(!this.props.featureSonicUserGroups)return null;return a.a.createElement("div",null,a.a.createElement("h1",null,"Add Members"))}},{key:"renderDialogStep",value:function e(){if(this.state.formStep===C.details)return this.renderDetailsForm();if(this.state.formStep===C.members)return this.renderMemberSelector();return""}},{key:"render",value:function e(){if(!this.props.featureSonicUserGroups)return null;var t=this.hasValidationErrors(this.state.errors);return a.a.createElement("div",null,a.a.createElement(f["a"],{showCancelButton:true,title:this.chooseDialogTitle(),onCancel:this.onCancel,onGo:this.onFormSubmit,goButtonIsDisabled:t,goButtonIsPending:this.state.formSubmitPending,shouldCloseOnGo:false,goButtonText:this.chooseGoButtonText()},this.renderDialogStep()))}}]);return t}(n["PureComponent"]);S.displayName="UserGroupEditCreateDialog";S.propTypes=k;S.defaultProps=w;var T=function e(t,r){var n=Object(p["getUserGroupById"])(t,r.userGroupId);return{userGroupName:Object(c["get"])(n,"name",""),userGroupHandle:Object(c["get"])(n,"handle",""),userGroupPurpose:Object(c["get"])(n,"description",""),userGroupDefaultChannels:Object(c["get"])(n,"prefs.channels",[]),featureSonicUserGroups:Object(u["isFeatureEnabled"])(t,"feature_sonic_user_groups"),validate:function e(r){return Object(b["a"])(t,r)}}};var I=function e(t){return{onCreateUserGroups:function e(r){return t(Object(d["a"])(r))},onUpdateUserGroup:function e(r){return t(Object(d["h"])(r))},closeModal:function e(){return t(Object(v["closeModal"])())}}};t["a"]=Object(s["connect"])(T,I)(S)},20361:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16912);var p=r(16941);var f=r(16913);var d=r(18674);var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=new u["b"]("client");var g={countPref:"approaching_msg_limit_banner_cta_count",tsPref:"approaching_msg_limit_banner_cta_last_ts"};var y=63;var O="GROWTH_PRICING";var E="/pricing?ui_element=11&ui_step="+y;var j={messagesCount:o.a.number.isRequired,featureModernizeBannersV2:o.a.bool.isRequired};var k=function(e){b(t,e);function t(e){h(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(c["bindAll"])(r,["onGo","onCloseBanner"]);return r}v(t,[{key:"componentDidMount",value:function e(){var t=this.props.messagesCount;Object(p["b"])(O,{limit_meter_messages_count:t,contexts:{ui_context:{step:y,action:"impression"}}})}},{key:"onGo",value:function e(){var t=this.props.messagesCount;Object(p["b"])(O,{limit_meter_messages_count:t,contexts:{ui_context:{step:y,action:"click",ui_element:"pricing_button"}}});window.open(E,"_blank")}},{key:"onCloseBanner",value:function e(){var t=this.props.messagesCount;Object(p["b"])(O,{limit_meter_messages_count:t,contexts:{ui_context:{step:y,action:"close",ui_element:"skip_for_now_button"}}})}},{key:"getContent",value:function e(){return{headerText:_.t("Your workspace is getting close to the 10k message limit"),bodyText:_.t("All of your messages are saved in Slack, but on the Free plan you can only see and search the 10,000 most recent. For your full message history, upgrade to a paid plan.")}}},{key:"render",value:function e(){if(!this.props.featureModernizeBannersV2)return null;var t=this.getContent();return a.a.createElement(d["a"],{emojiSrc:cdn_url+"/f5d6f/img/emoji_2016_06_08/apple/231b.png",emojiAlt:_.t("sand hourglass emoji"),headerText:t.headerText,bodyText:t.bodyText,isLearnMoreButton:true,onGo:this.onGo,onCloseBanner:this.onCloseBanner,bannerPrefs:g})}}]);return t}(n["PureComponent"]);k.displayName="ApproachingMsgLimitBanner";k.propTypes=j;var w=function e(t){return{featureModernizeBannersV2:Object(f["isFeatureEnabled"])(t,"feature_modernize_banners_v2")}};t["a"]=Object(s["connect"])(w)(k)},20376:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(16928);var a=r(20377);Object(n["a"])("interop.currency",{formatCurrency:a["a"]})},20377:function(e,t,r){"use strict";var n=r(1237);var a=r.n(n);var i=r(16912);var o=r(17018);var s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var c={JPY:true};var l=/\B(?=(\d{3})+(?!\d))/g;var u=Intl&&"object"===("undefined"===typeof Intl?"undefined":s(Intl))&&"function"===typeof Intl.NumberFormat&&"object"===s(Intl.NumberFormat())&&"function"===typeof Intl.NumberFormat().resolvedOptions&&"object"===s(Intl.NumberFormat().resolvedOptions())&&"undefined"!==typeof Intl.NumberFormat().resolvedOptions().minimumFractionDigits;var p=i["n"];var f={USD:{"en-US":"$","es-ES":"US$","fr-FR":"$US","de-DE":"$","ja-JP":"$"},GBP:{"en-US":"\xa3","es-ES":"GBP","fr-FR":"\xa3GB","de-DE":"\xa3","ja-JP":"\xa3"},EUR:{"en-US":"\u20ac","es-ES":"\u20ac","fr-FR":"\u20ac","de-DE":"\u20ac","ja-JP":"\u20ac"},JPY:{"en-US":"\xa5","es-ES":"JPY","fr-FR":"JPY","de-DE":"\xa5","ja-JP":"\uffe5"}};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;var t=arguments[1];var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.displayTrailingZeroes,i=void 0!==n&&n,o=r.currencyDisplay,s=void 0===o?"symbol":o;if(!t)return null;var l=c[t.toUpperCase()]?e:e/100;if(u){var f=a()(Intl.NumberFormat);var d=void 0;d=f(p,e%100!==0||i?{style:"currency",currency:t,currencyDisplay:s}:{style:"currency",currency:t,minimumFractionDigits:0,currencyDisplay:s});return d.format(l)}return v(e,t,{displayTrailingZeroes:i})}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;var t=arguments[1];var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.displayTrailingZeroes,a=void 0!==n&&n;if(!t)return null;var i=c[t.toUpperCase()]?e:e/100;var s=o["b"][p].thousands_separator;var u=o["b"][p].decimal_symbol;var d="";if(i<0){i=Math.abs(i);d="-"}c[t.toUpperCase()]||(i=e%100!==0||a?i.toFixed(2).replace(".",u):i.toFixed(0));i=i.toString().replace(l,s);var v="";var h=f[t][p];switch(p){case"en-US":v=d+h+i;break;case"es-ES":v=d+i+" "+h;break;case"fr-FR":v=d+i+" "+h;break;case"de-DE":v=d+i+" "+h;break;case"ja-JP":v=d+h+i;break;default:v=d+h+i}return v}var h={formatCurrencyWithoutIntl:v};Object.defineProperty(h,"locale",{get:function e(){return p},set:function e(t){p=t}});t["a"]=d},20379:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(20380);var a=r(16928);Object(a["a"])("interop.mountFileUploadBanner",n["a"]);Object(a["a"])("interop.unmountFileUploadBanner",n["b"])},20380:function(e,t,r){"use strict";t["a"]=p;t["b"]=f;var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(16954);var l=r(16927);var u=r(18677);function p(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)throw new Error("mountFileUploadBanner must be called with a teamId parameter");var n=Object(l["c"])(e);Object(c["a"])(a.a.createElement(s["Provider"],{store:n},a.a.createElement(u["a"],r)),t)}function f(e){o.a.unmountComponentAtNode(e)}},20382:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16912);var p=r(16941);var f=r(16913);var d=r(18674);var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=new u["b"]("client");var g={countPref:"just_reached_msg_limit_banner_cta_count",tsPref:"just_reached_msg_limit_banner_cta_last_ts"};var y=64;var O="GROWTH_PRICING";var E="/pricing?ui_element=11&ui_step="+y;var j={messagesCount:o.a.number.isRequired,featureModernizeBannersV2:o.a.bool.isRequired};var k=function(e){b(t,e);function t(e){h(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(c["bindAll"])(r,["onGo","onCloseBanner"]);return r}v(t,[{key:"componentDidMount",value:function e(){var t=this.props.messagesCount;Object(p["b"])(O,{limit_meter_messages_count:t,contexts:{ui_context:{step:y,action:"impression"}}})}},{key:"onGo",value:function e(){var t=this.props.messagesCount;Object(p["b"])(O,{limit_meter_messages_count:t,contexts:{ui_context:{step:y,action:"click",ui_element:"pricing_button"}}});window.open(E,"_blank")}},{key:"onCloseBanner",value:function e(){var t=this.props.messagesCount;Object(p["b"])(O,{limit_meter_messages_count:t,contexts:{ui_context:{step:y,action:"close",ui_element:"skip_for_now_button"}}})}},{key:"getContent",value:function e(){return{headerText:_.t("You\u2019ve just reached the 10k message limit"),bodyText:_.t("Your workspace has over 10,000 messages in it! That\u2019s a lot of conversation and history. Upgrade to a paid plan to make sure you can access all of it whenever you need it.")}}},{key:"render",value:function e(){if(!this.props.featureModernizeBannersV2)return null;var t=this.getContent();return a.a.createElement(d["a"],{emojiSrc:cdn_url+"/f5d6f/img/emoji_2016_06_08/apple/1f3c1.png",emojiAlt:_.t("chequered flag emoji"),headerText:t.headerText,bodyText:t.bodyText,isLearnMoreButton:true,onGo:this.onGo,onCloseBanner:this.onCloseBanner,bannerPrefs:g})}}]);return t}(n["PureComponent"]);k.displayName="JustReachedMsgLimitBanner";k.propTypes=j;var w=function e(t){return{featureModernizeBannersV2:Object(f["isFeatureEnabled"])(t,"feature_modernize_banners_v2")}};t["a"]=Object(s["connect"])(w)(k)},20385:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(16926);var o=r(20386);var s=r(16967);var c=r(17069);var l=r(16912);var u=new l["b"]("cmd_handlers");var p=Object(i["b"])("/away slash command",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.msg;e(Object(c["toggleUserPresence"])()).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.args;var a=r.presence;var i={temporary:false};var l=void 0;l=a===c["PRESENCE_AWAY"]?":white_check_mark: "+u.t("You are now marked as *away*."):":white_check_mark: "+u.t("You are now marked as *active*.");if(n){var p=Object(s["getMessagePaneChannelId"])(t());if(p){i.c_id=p;i.thread_ts=n.ts}}Object(o["a"])(l,i)})});p.propTypes={msg:a.a.shape({ts:a.a.string.isRequired})};t["a"]=p},20386:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(1);var a=r.n(n);var i=r(16914);var o=Object(i["c"])("TS.cmd_handlers.addEphemeralFeedback",a.a.noop)},20388:function(e,t,r){"use strict";var n="calls"===document.documentElement.dataset.app;t["a"]=n},20397:function(e,t,r){"use strict";t["a"]=i;t["b"]=o;var n=r(17121);var a=r(16920);function i(e,t){return(Object(n["getEditableRequestChannelObjects"])(e)||{})[t]}function o(e,t){var r=Object(n["getEditableRequestChannelObjects"])(e)||{};return Object.values(r).filter(function(e){return Object(a["getDisplayName"])(e)===t.replace(/#/g,"")})[0]}},20409:function(e,t,r){"use strict";t["a"]=s;var n=r(20406);var a=r(16913);var i=r(16925);var o=r(16924);function s(e,t){var r=t.channel,n=t.timestamp,a=t.description;var i={channel:r,msg_ts:n,desc:a};Object.keys(i).forEach(function(t){c(e).recordMetric(t,i[t])})}function c(e){return Object(n["a"])("notifs",function(t){var r=o["isDev"]?"/beacon/notifs":"https://slack.com/beacon/notifs";t.setUser(Object(a["getCurrentUserId"])(e)).setTeam(Object(i["getTeamId"])(e)).setVersionTs(Object(a["getFromBootData"])(e,"version_ts")).setEndpointUrl(r)})}},20410:function(e,t,r){"use strict";r.d(t,"f",function(){return _});r.d(t,"h",function(){return g});r.d(t,"j",function(){return y});r.d(t,"d",function(){return O});r.d(t,"b",function(){return E});r.d(t,"c",function(){return j});r.d(t,"g",function(){return k});r.d(t,"i",function(){return w});r.d(t,"e",function(){return C});r.d(t,"a",function(){return S});var n=r(1);var a=r.n(n);var i=r(17132);var o=r(20405);var s=r(18354);var c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=100;var p=1e3;var f=300;var d=1e3;var v=500;var h=60;var m=function(){function e(){l(this,e);this.enabledForPRQMetrics=false;this.enabledForClientStats=false;this.resetCountersForClientStats();this.resetCountersForPRQMetrics();this.beachballsTotal=0;this.stuttersTotal=0;this.rafHandler=this.rafHandler.bind(this)}c(e,[{key:"isEnabled",value:function e(){return this.isEnabledForClientStats()||this.isEnabledForPRQMetrics()}},{key:"rafHandler",value:function e(){this.isEnabledForClientStats()&&this.rafHandlerForClientStats();this.isEnabledForPRQMetrics()&&this.rafHandlerForPRQMetrics();this.isEnabled()&&window.requestAnimationFrame(this.rafHandler)}},{key:"resetCountersForClientStats",value:function e(){this.beachballs=0;this.frameRates=[];this.stutters=0;this.lastRafHandlerTimeForClientStats=window.performance.now();this.fpsIndex=0;this.fpsStartTime=null}},{key:"rafHandlerForClientStats",value:function e(){if(!this.isEnabledForClientStats())return;var t=window.performance.now();var r=t-this.lastRafHandlerTimeForClientStats;this.lastRafHandlerTimeForClientStats=t;if(r>p){this.beachballs+=1;this.beachballsTotal+=1}else if(r>u){this.stutters+=1;this.stuttersTotal+=1}0===this.fpsIndex&&(this.fpsStartTime=t);this.fpsIndex+=1;if(this.fpsIndex===f){var n=(t-this.fpsStartTime)/1e3;var a=Math.floor(this.fpsIndex/n);this.fpsIndex=0;Object(s["a"])()&&Object(s["b"])(a);this.frameRates.push(a)}}},{key:"startClientStats",value:function e(){this.isEnabled()||window.requestAnimationFrame(this.rafHandler);this.enabledForClientStats=true;this.resetCountersForClientStats()}},{key:"stopClientStats",value:function e(){this.enabledForClientStats=false}},{key:"storeClientStats",value:function e(){Object(o["c"])("stutters",this.stutters);Object(o["c"])("beachballs",this.beachballs);if(!Object(n["isEmpty"])(this.frameRates)){var t=Object(n["min"])(this.frameRates);var r=void 0;var a=this.frameRates.sort();var i=Math.floor(a.length/2);r=a.length%2===1?a[i]:(a[i-1]+a[i])/2;Object(o["g"])("fps_min",t);Object(o["g"])("fps_median",r)}this.stutters=void 0;this.beachballs=void 0;this.frameRates=void 0}},{key:"isEnabledForClientStats",value:function e(){return!!this.enabledForClientStats}},{key:"getTotalBeachballCount",value:function e(){return this.beachballsTotal}},{key:"getTotalStutterCount",value:function e(){return this.stuttersTotal}},{key:"resetCountersForPRQMetrics",value:function e(){this.histJankyWindows={};this.histFrameRenderTime={};this.durationMs=0;this.lastRafHandlerTimeForPRQMetrics=void 0;this.nextJankyWindowSampleIntervalNumber=1;this.framesInPreviousJankyWindowSample=0;this.framesInCurrentJankyWindowSample=0}},{key:"recordJankyWindows",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(r<1)return;var n=Math.max(h-t,0);this.histJankyWindows[n]=(this.histJankyWindows[n]||0)+r}},{key:"sampleJankyWindows",value:function e(){var t=Object(i["d"])(this.durationMs,9)>v*this.nextJankyWindowSampleIntervalNumber;var r=Math.floor(this.durationMs/v);var n=r-this.nextJankyWindowSampleIntervalNumber;if(t){if(this.durationMs>=d){this.recordJankyWindows(0,n-1);this.recordJankyWindows(this.framesInCurrentJankyWindowSample,n>0?1:0);this.recordJankyWindows(this.framesInCurrentJankyWindowSample+this.framesInPreviousJankyWindowSample)}this.nextJankyWindowSampleIntervalNumber=r+1;this.framesInPreviousJankyWindowSample=n>0?0:this.framesInCurrentJankyWindowSample;this.framesInCurrentJankyWindowSample=0}this.framesInCurrentJankyWindowSample+=1}},{key:"rafHandlerForPRQMetrics",value:function e(){if(!this.isEnabledForPRQMetrics())return;var t=window.performance.now();if("undefined"===typeof this.lastRafHandlerTimeForPRQMetrics){this.lastRafHandlerTimeForPRQMetrics=t;return}var r=t-this.lastRafHandlerTimeForPRQMetrics;var n=Object(i["d"])(Math.round(r,0),2);this.histFrameRenderTime[n]=(this.histFrameRenderTime[n]||0)+1;this.lastRafHandlerTimeForPRQMetrics=t;this.durationMs+=r;this.sampleJankyWindows()}},{key:"startPRQMetrics",value:function e(){this.isEnabled()||window.requestAnimationFrame(this.rafHandler);this.enabledForPRQMetrics=true;this.resetCountersForPRQMetrics()}},{key:"stopPRQMetrics",value:function e(){this.enabledForPRQMetrics=false}},{key:"isEnabledForPRQMetrics",value:function e(){return!!this.enabledForPRQMetrics}},{key:"getPRQMetrics",value:function e(){return{durationMs:Math.round(this.durationMs),histJankyWindows:this.histJankyWindows,histFrameRenderTime:this.histFrameRenderTime}}}]);return e}();m.instance=null;function b(){null===m.instance&&(m.instance=new m);return m.instance}var _=b().startClientStats.bind(m.instance);var g=b().stopClientStats.bind(m.instance);var y=b().storeClientStats.bind(m.instance);var O=b().isEnabledForClientStats.bind(m.instance);var E=b().getTotalBeachballCount.bind(m.instance);var j=b().getTotalStutterCount.bind(m.instance);var k=b().startPRQMetrics.bind(m.instance);var w=b().stopPRQMetrics.bind(m.instance);var C=b().isEnabledForPRQMetrics.bind(m.instance);var S=b().getPRQMetrics.bind(m.instance)},20411:function(e,t,r){"use strict";r.d(t,"c",function(){return c});r.d(t,"b",function(){return l});r.d(t,"a",function(){return u});t["e"]=p;t["f"]=f;t["h"]=d;t["i"]=v;t["g"]=h;t["d"]=g;var n=r(16941);var a=r(17132);var i=r(17086);var o=r(17736);var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var c=0;var l=1;var u=2;function p(e,t,r,i,p,f,d,v){var h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;if(!g(p,f,o["b"].PRQ_CHANNEL_SWITCH_USABLE))return;var b=void 0;var _=void 0;switch(i){case c:default:b=o["f"].COMPLETED;_=false;break;case l:b=o["f"].ABANDONED;_=true;break;case u:b=o["f"].COMPLETED;_=true;break}var y=Object(a["b"])(1e3*e*1e3,0);var O=s({elapsed_time:y,target_channel_id:r,required_sync:_,end_state:b},m(d,t,v,h));Object(n["b"])(o["b"].PRQ_CHANNEL_SWITCH_USABLE,O)}function f(e,t,r,i,p,f,d,v){var h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;if(!g(p,f,o["b"].PRQ_CHANNEL_SWITCH_VISIBLE))return;var b=void 0;var _=void 0;switch(i){case c:default:b=o["f"].COMPLETED;_=false;break;case l:b=o["f"].ABANDONED;_=true;break;case u:b=o["f"].COMPLETED;_=false;break}var y=Object(a["b"])(1e3*e*1e3,0);var O=s({elapsed_time:y,target_channel_id:r,required_sync:_,end_state:b},m(d,t,v,h));Object(n["b"])(o["b"].PRQ_CHANNEL_SWITCH_VISIBLE,O)}function d(e,t,r,i,c,l,u,p){var f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;var d=arguments.length>9&&void 0!==arguments[9]&&arguments[9];if(!g(i,c,o["b"].PRQ_TIME_TO_USABLE))return;var v=Object(a["b"])(1e3*e*1e3,0);var h=b(f);var _=s({elapsed_time:v+h,desktop_elapsed_time:h,required_sync:r,end_state:p,start_type:o["c"].COLD,target_type:o["d"].CHANNEL,lazy_channels:d},m(l,t,u,f));Object(n["b"])(o["b"].PRQ_TIME_TO_USABLE,_)}function v(e,t,r,i,c,l,u){var p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;var f=arguments.length>8&&void 0!==arguments[8]&&arguments[8];if(!g(i,c,o["b"].PRQ_TIME_TO_VISIBLE))return;var d=Object(a["b"])(1e3*e*1e3,0);var v=b(p);var h=s({elapsed_time:d+v,desktop_elapsed_time:v,required_sync:r,end_state:o["f"].COMPLETED,start_type:o["c"].COLD,target_type:o["d"].CHANNEL,lazy_channels:f},m(l,t,u,p));Object(n["b"])(o["b"].PRQ_TIME_TO_VISIBLE,h)}function h(e,t,r,a,i,c,l){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;if(!g(a,i,o["b"].PRQ_SESSION_FRAME_STATS))return;var p=s({duration_ms:e,sample_filter:"entire_session",hist_frame_render_time:t,hist_janky_windows:r},m(c,void 0,l,u));Object(n["b"])(o["b"].PRQ_SESSION_FRAME_STATS,p)}function m(e,t,r,n){var a="string"===typeof r&&r.startsWith("W");var i="undefined"!==typeof n&&null!==n&&n.stats&&n.stats.Id&&n.stats.Id.sessionId;var c={device:{id:"",make:navigator.platform,model:navigator.platform,os:i?"electron":"webapp",os_version:i?n.stats.Id.sessionId:""}};var l=void 0;if(t){c.ui_context={action:"QUICK_SWITCH"===t?"keydown":"click",ui_component:t};switch(t.toUpperCase()){case"APP_ICON":l=o["e"].APP_ICON;break;case"MSG_PANE":l=o["e"].MSG_PANE;break;case"SIDE_BAR":l=o["e"].SIDE_BAR;break;case"QUICK_SWITCH":l=o["e"].QUICK_SWITCH;break;default:l=o["e"].UNKNOWN;break}}var u=s({contexts:c,session_id:e,time:Date.now(),app_id:"web",is_tablet:false,user_id:a?void 0:r,external_id:a?r:void 0},_(n));t&&(u.trigger=l);return u}function b(){return 0}function _(e){if("undefined"!==typeof e&&null!==e&&e.app&&e.app.version){var t=e.app.version();var r=t.prerelease?" ("+t.prerelease+")":"";var n="string"===typeof t.prerelease?t.prerelease.match(/(alpha|beta)/i)[1]:"production";var a=void 0;switch(n){case"alpha":a=o["a"].ALPHA;break;case"beta":a=o["a"].BETA;break;default:a=o["a"].PRODUCTION;break}return{app_version:t.major+"."+t.minor+"."+t.patch+r,release_version:t.major+"."+t.minor+"."+t.patch,build_type:a}}return{app_version:"",release_version:"",build_type:o["a"].PRODUCTION}}function g(e,t,r){if(["E12KS1G65"].includes(t)||["T024BE7LD","T5J4Q04QG"].includes(e))return true;if(["E27SFGS2W","E655JKQRX","E7RBBBXHB","E23RHNDU5","E5BRU6WAE","E4XV0NYS0","E7AN7J5RP","E3T9KQULR","E23RE8G4F","E46RWAPHC","E6GDLMBCM","E3U2DUYG4","E783C7HT4","E8YCM8N9L","E30MTJF0C","E4BGDDU1H","E56KHGV6G","E7U335QS3","E8RLKB40H","E61V1AN6R","E7SV3P9PU","E3ZLD3D42"].includes(t)&&Object(i["a"])(10))return true;if(["E27SFGS2W"].includes(t)&&[o["b"].PRQ_TIME_TO_USABLE,o["b"].PRQ_TIME_TO_VISIBLE].includes(r))return true;if([o["b"].PRQ_TIME_TO_USABLE,o["b"].PRQ_TIME_TO_VISIBLE].includes(r))return Object(i["a"])(25);if(r===o["b"].PRQ_SESSION_FRAME_STATS)return Object(i["a"])(10);return Object(i["a"])(10)}},20412:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(17132);var p=r(16912);var f=r(16941);var d=r(16913);var v=r(18674);var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=new p["b"]("client");var y={countPref:"thirty_days_after_msg_limit_banner_cta_count",tsPref:"thirty_days_after_msg_limit_banner_cta_last_ts"};var O=65;var E="GROWTH_PRICING";var j="/pricing?ui_element=11&ui_step="+O;var k={messagesCount:o.a.number.isRequired,featureModernizeBannersV2:o.a.bool.isRequired};var w=function(e){_(t,e);function t(e){m(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(c["bindAll"])(r,["onGo","onCloseBanner"]);return r}h(t,[{key:"componentDidMount",value:function e(){var t=this.props.messagesCount;Object(f["b"])(E,{limit_meter_messages_count:t,contexts:{ui_context:{step:O,action:"impression"}}})}},{key:"onGo",value:function e(){var t=this.props.messagesCount;Object(f["b"])(E,{limit_meter_messages_count:t,contexts:{ui_context:{step:O,action:"click",ui_element:"pricing_button"}}});window.open(j,"_blank")}},{key:"onCloseBanner",value:function e(){var t=this.props.messagesCount;Object(f["b"])(E,{limit_meter_messages_count:t,contexts:{ui_context:{step:O,action:"close",ui_element:"skip_for_now_button"}}})}},{key:"getContent",value:function e(){var t=this.props.messagesCount;var r=this.roundNumOfMsgsBeyondLimit(t-1e4);if(!r)return null;return{headerText:g.t("Your workspace has {num_msgs_beyond_limit} messages more than the 10k limit",{num_msgs_beyond_limit:r}),bodyText:g.t("That\u2019s more than {num_msgs_beyond_limit} messages you can\u2019t see or search. Upgrade to a paid plan for access to your full history \u2014 plus features like guest accounts for contractors, group video calls, and unlimited apps.",{num_msgs_beyond_limit:r})}}},{key:"roundNumOfMsgsBeyondLimit",value:function e(t){if(!t||t<=0)return t;if(t>9&&t<100)return 10*Math.floor(t/10);if(t>=100&&t<=999999){var r=100*Math.floor(t/100);return Object(p["i"])(r)}if(t>999999)return Object(u["a"])(t);return null}},{key:"render",value:function e(){if(!this.props.featureModernizeBannersV2)return null;var t=this.getContent();if(!t)return null;return a.a.createElement(v["a"],{emojiSrc:cdn_url+"/f5d6f/img/emoji_2016_06_08/apple/1f680.png",emojiAlt:g.t("rocket emoji"),headerText:t.headerText,bodyText:t.bodyText,isLearnMoreButton:true,onGo:this.onGo,onCloseBanner:this.onCloseBanner,bannerPrefs:y})}}]);return t}(n["PureComponent"]);w.displayName="ThirtyDaysAfterMsgLimitBanner";w.propTypes=k;var C=function e(t){return{featureModernizeBannersV2:Object(d["isFeatureEnabled"])(t,"feature_modernize_banners_v2")}};t["a"]=Object(s["connect"])(C)(w)},20427:function(e,t,r){"use strict";var n=r(16915);var a=r(16941);var i=r(17122);var o=Object(n["e"])("Clog a query session event using data from redux",function(e,t){var r=t();var n=Object(i["getSearchSessionId"])(r);var o=Object(i["getQuerySessionId"])(r);Object(a["b"])("SEARCH_QUERY_SESSION",{search_session_id:n,client_request_id:o})});o.propTypes=null;t["a"]=o},20428:function(e,t,r){"use strict";var n=/^[/\uff0f][^/\uff0f\s]/;t["a"]=function(e){return n.test(e)}},20429:function(e,t,r){"use strict";var n=r(16915);var a=r(16941);var i=r(17122);var o=Object(n["e"])("Clog a search close event using data from redux",function(e,t){var r=t();Object(a["b"])("SEARCH_CLOSE",{search_session_id:Object(i["getSearchSessionId"])(r)})});o.propTypes=null;t["a"]=o},20431:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(17290);var l=r(17410);var u=r(16913);var p=r(16949);var f=r(17090);var d=r(20059);var v=r(16912);var h=r(1);var m=r.n(h);var b=r(16950);var _=r(19774);var g=r(20358);var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var O=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w={groupId:o.a.string.isRequired,isActive:o.a.bool.isRequired,isDetailsView:o.a.bool,featureSonicUserGroups:o.a.bool,onEnableUserGroup:o.a.func,onDisableUserGroup:o.a.func,openModal:o.a.func,menuProps:o.a.object};var C={isDetailsView:false,featureSonicUserGroups:false,onEnableUserGroup:h["noop"],onDisableUserGroup:h["noop"],openModal:h["noop"],menuProps:{}};var S=new v["b"]("user_groups");var T=function(e){k(t,e);function t(e){E(this,t);var r=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(h["bindAll"])(r,["onEnableUserGroup","onDisableUserGroup","onEditDetails","onEditMembers","onEditDefaultChannels"]);return r}O(t,[{key:"onEnableUserGroup",value:function e(){return this.props.onEnableUserGroup()}},{key:"onDisableUserGroup",value:function e(){this.props.openModal({element:this.renderConfirmationDialog({action:"disable_group",onSubmit:this.props.onDisableUserGroup})})}},{key:"onEditDetails",value:function e(){this.props.openModal({element:this.renderEditDialog(this.props.groupId)})}},{key:"onEditMembers",value:function e(){this.props.openModal({element:this.renderEditMembersDialog()})}},{key:"onEditDefaultChannels",value:function e(){Object(h["noop"])()}},{key:"getMenuItems",value:function e(){var t=this;if(!this.props.featureSonicUserGroups)return null;var r=[];if(this.canEditUserGroups()){this.props.isDetailsView||r.push({key:"menu-edit-members",label:S.t("Edit group members..."),onSelected:this.onEditMembers});r.push({key:"menu-edit-details",label:S.t("Edit group details..."),onSelected:this.onEditDetails},{key:"menu-edit-channels",label:S.t("Edit default channels..."),onSelected:this.onEditDefaultChannels})}this.canEnableUserGroup()?r.push({key:"menu-enable",label:S.t("Enable group"),onSelected:function e(){return t.onEnableUserGroup()}}):this.canDisableUserGroup()&&r.push({key:"menu-disable",label:S.t("Disable group"),danger:true,onSelected:function e(){return t.onDisableUserGroup()}});return r}},{key:"canEditUserGroups",value:function e(){return Object(f["e"])()&&this.props.isActive}},{key:"canDisableUserGroup",value:function e(){return Object(f["a"])()&&this.props.isActive}},{key:"canEnableUserGroup",value:function e(){return Object(f["a"])()&&!this.props.isActive}},{key:"renderConfirmationDialog",value:function e(t){var r=t.action,n=t.onSubmit;return a.a.createElement(_["b"],{action:r,onSubmit:n})}},{key:"renderEditDialog",value:function e(t){return a.a.createElement(g["a"],{userGroupId:t})}},{key:"renderEditMembersDialog",value:function e(){var t=this.props.groupId;return a.a.createElement(_["d"],{groupId:t})}},{key:"render",value:function e(){if(!this.props.featureSonicUserGroups)return null;return a.a.createElement(b["e"],y({},this.props.menuProps,{width:"auto"}),this.getMenuItems().map(function(e){return a.a.createElement(b["b"],e)}))}}]);return t}(n["PureComponent"]);T.displayName="UserGroupContextMenu";T.propTypes=w;T.defaultProps=C;var I=function e(t,r){var n=r.groupId,a=r.isDetailsView;var i=Object(c["getUserGroupById"])(t,n);var o=Object(d["e"])(i);var s=Object(u["isFeatureEnabled"])(t,"feature_sonic_user_groups");return{isActive:o,isDetailsView:a,featureSonicUserGroups:s}};var N=function e(t,r){var n=r.groupId;return{openModal:function e(){return t(p["openModal"].apply(void 0,arguments))},onLoad:function e(){return t(Object(c["fetchAndUpsertUserGroupMembers"])({groupId:n}))},onDisableUserGroup:function e(){t(Object(c["disableAndUpdateUserGroup"])({groupId:n})).then(function(){return t(Object(l["setFlexState"])({flexName:"groups",flexExtra:""}))})},onEnableUserGroup:function e(){t(Object(c["enableAndUpdateUserGroup"])({groupId:n})).then(function(){return t(Object(l["setFlexState"])({flexName:"groups",flexExtra:n}))})}}};t["a"]=Object(s["connect"])(I,N)(T)},20432:function(e,t,r){"use strict";t["a"]=m;t["b"]=b;t["c"]=_;var n=r(1);var a=r.n(n);var i=r(16912);var o=r(16913);var s=r(20526);var c=r(20535);var l=new i["b"]("user_groups");var u=void 0;var p=void 0;function f(e){if(!Object(o["isFeatureEnabled"])(e,"feature_sonic_user_groups"))return;u={hasHandleRequiredWarning:l.t("Please enter a handle for this group."),hasMaxLengthWarning:l.t("Handles can\u2019t be more than {maxLength} characters.",{maxLength:s["b"]}),hasSpecialsWarning:l.t("Handles can only contain letters or numbers."),hasPunctuationWarning:l.t("Handles can only contain letters or numbers."),hasLowercaseWarning:l.t("Handles can only be in lowercase."),hasHandleTakenWarning:l.t("This handle is already in use by a member, channel, or another group.")}}function d(e){if(!Object(o["isFeatureEnabled"])(e,"feature_sonic_user_groups"))return;p={hasNameRequiredWarning:l.t("Please enter a name for this group."),hasMaxLengthWarning:l.t("Names can\u2019t be more than {maxLength} characters.",{maxLength:c["b"]}),hasNameTakenWarning:l.t("This name is already in use by another group.")}}function v(e,t,r){if(!Object(o["isFeatureEnabled"])(e,"feature_sonic_user_groups"))return"";d(e);var a=Object(c["a"])(e,{value:t,oldValue:r});var i=Object(n["findKey"])(a,function(e){return e});if(i)return p[i];return""}function h(e,t,r){if(!Object(o["isFeatureEnabled"])(e,"feature_sonic_user_groups"))return"";f(e);var a=Object(s["a"])(e,{value:t,oldValue:r});var i=Object(n["findKey"])(a,function(e){return e});if(i)return u[i];return""}function m(e,t){var r=t.name,n=t.handle,a=t.oldName,i=void 0===a?null:a,o=t.oldHandle,s=void 0===o?null:o;var c=v(e,r,i);var l=h(e,n,s);return{nameError:c,handleError:l}}function b(e,t){var r=t.value,n=t.oldValue,a=void 0===n?null:n;var i=h(e,r,a);return{handleError:i}}function _(e,t){var r=t.value,n=t.oldValue,a=void 0===n?null:n;var i=v(e,r,a);return{nameError:i}}var g={};Object.defineProperty(g,"isValidUserGroupName",{get:function e(){return v},set:function e(t){v=t}})},20434:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(333);var c=r(8);var l=r.n(c);var u=r(1);var p=r.n(u);var f=r(17038);var d=r(16961);var v=r(17078);var h=r(17258);var m=r(16952);var b=r(17752);var _=r(17753);var g=r(17687);var y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var O=function e(t,r,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,r);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in a)return a.value;var o=a.get;if(void 0===o)return;return o.call(n)};var E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=E({},b["a"].propTypes,{hasKeyboardFocus:o.a.bool});var S=E({},b["a"].defaultProps,{hasKeyboardFocus:false});var T={FOCUS_WITHIN_CHILD:3,FOCUS_WITHIN:2,CONTAINER_FOCUSED:1,NOT_FOCUSED:-1};var I=function(e){w(t,e);function t(e){j(this,t);var r=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.containerNode=null;r.tableNumRows=e.rows.length;r.tableNumCols=e.rows.length>0?e.rows[0].items.length:0;r.tableSize=r.tableNumRows*r.tableNumCols;r.containerNode=null;r.setRef=function(e){r.containerNode=e};p.a.bindAll(r,["onFocusEnter","onFocusWithin","onFocusLeave","rowRenderer","renderRowItem","renderHeaderItem","setRef"]);r.state=E({},r.state,{activeItem:-1,isActiveItemHeader:true,hasKeyboardFocus:T.NOT_FOCUSED});return r}y(t,[{key:"componentDidMount",value:function e(){this.keyCommands=new d["a"](this.containerNode);this.keyCommands.bindAll([{keys:["up","down","left","right"],handler:this.onArrowKeyDown.bind(this)}])}},{key:"componentWillUnmount",value:function e(){this.keyCommands.reset();this.keyCommands=null}},{key:"onArrowKeyDown",value:function e(t){t.preventDefault();this.focusNextItem(t.keyCode)}},{key:"focusNextItem",value:function e(t){var r=this.state,n=r.activeItem,a=r.isActiveItemHeader;var i=void 0;i=-1===n&&true===a?{index:0,isNextActiveItemHeader:true,hasKeyboardFocus:T.FOCUS_WITHIN}:this.getNextActiveItem(t,n,a);i&&this.setState(function(){return{activeItem:i.index,isActiveItemHeader:i.isNextActiveItemHeader,hasKeyboardFocus:T.FOCUS_WITHIN}})}},{key:"onFocusEnter",value:function e(t){var r=t.target,n=t.currentTarget,a=t.relatedEvent;var i=a&&"keydown"===a.type;if(!i)return;var o=r===n;var s=o?T.CONTAINER_FOCUSED:T.FOCUS_WITHIN;this.setState(function(){return{hasKeyboardFocus:s}})}},{key:"onFocusWithin",value:function e(t){var r=t.relatedEvent,n=t.target;if(r&&"mousedown"===r.type)return;-1!==n.className.indexOf("c-table_view_header_item")||-1!==n.className.indexOf("c-table_view_row_item")?this.setState(function(){return{hasKeyboardFocus:T.FOCUS_WITHIN}}):-1!==n.className.indexOf("c-table_view_keyboard_navigable_container")?this.setState(function(){return{hasKeyboardFocus:T.CONTAINER_FOCUSED}}):this.setState(function(){return{hasKeyboardFocus:T.FOCUS_WITHIN_CHILD}})}},{key:"onFocusLeave",value:function e(){this.setState(function(){return{activeItem:-1,hasKeyboardFocus:T.NOT_FOCUSED,isActiveItemHeader:true}});this.inferredActiveItem=null}},{key:"getNextActiveItem",value:function e(t,r,n){var a=-1!==r;if(!a&&this.inferredActiveItem)return this.inferredActiveItem;var i=a?r:0;var o=n;var s=void 0;switch(t){case f["f"]:s=i-1;if(!n&&s<=0){o=true;s=this.tableNumCols-1}else n&&s<0&&(s=i);break;case f["g"]:s=i+1;if(n&&s>=this.tableNumCols){o=false;s=1}else!n&&s>=this.tableSize&&(s=i);break;case f["j"]:s=i-this.tableNumCols;if(n)s=i;else if(!n&&s<1){o=true;s=i-1}break;case f["a"]:s=i+this.tableNumCols;if(n){o=false;s=i+1}else s>this.tableSize&&(s=i);break;default:break}return{index:a?s:i,isNextActiveItemHeader:o}}},{key:"renderHeaderItem",value:function e(t,r){var n=this;var i=this.state,o=i.hasKeyboardFocus,s=i.activeItem,c=i.isActiveItemHeader;var u=this.props,p=u.sortBy,f=u.rowHeaderItemClassName;var d=o===T.FOCUS_WITHIN;var v=c&&s===r;var h=l()({"c-table_view_row_item_sort_applied":t.id&&t.id===p,"c-table_view_hover_disabled":t.noHover},f,t.className);var m=void 0;m=t.onClick?function e(r){return n.headerItemOnClick(t,r)}:null;return a.a.createElement(_["a"],{value:t.value,key:t.id,onClick:m,iconType:t.iconType,className:h,hasFocus:v&&d,tabIndex:-1})}},{key:"renderHeaders",value:function e(){var t=this.props.headers;if(!t||!t.length)return a.a.createElement("div",{className:"c-table_view_flexbox c-table_view_row"},a.a.createElement("div",{className:"c-table_view_row_item"}));return a.a.createElement("div",{className:"c-table_view_flexbox c-table_view_row_header"},t.map(this.renderHeaderItem))}},{key:"renderRowItem",value:function e(t){var r=this.state,n=r.hasKeyboardFocus,i=r.activeItem,o=r.isActiveItemHeader;var s=n===T.FOCUS_WITHIN;var c=n===T.FOCUS_WITHIN_CHILD;var l=!o&&p.a.endsWith(t.id,"item"+i.toString());return a.a.createElement(g["a"],{key:t.id,hasFocus:l&&s,value:t.value,onClick:t.onClick,className:t.className,tabIndex:c?0:-1})}},{key:"rowRenderer",value:function e(t){var r=this.props,n=r.rows,i=r.rowClassName;var o=n[t];var s=l()("c-table_view_flexbox","c-table_view_row",i,o.className);return a.a.createElement("div",{className:"c-table_view_row_container"},a.a.createElement("div",{className:s},o.items.map(this.renderRowItem)))}},{key:"renderRows",value:function e(){var t=this;var r=this.state.keys;var n=this.props.height;var i=n?{height:n}:{};return a.a.createElement("div",{className:"c-table_view_all_rows_container",style:i},a.a.createElement(s["a"],null,function(e){var n=e.width,i=e.height;return a.a.createElement(h["b"],{width:n,height:i,keys:r,rowRenderer:t.rowRenderer,onScroll:t.onScroll})}),this.renderLoadingSpinner())}},{key:"renderLoadingSpinner",value:function e(){var t=this.props,r=t.rows,n=t.isLoading,i=t.newQuery;var o=void 0;n&&(o=r&&r.length&&!i?a.a.createElement(m["a"],{size:"small",className:"c-table_view__spinner"}):a.a.createElement(m["a"],{size:"medium",className:"c-table_view__spinner empty"}));return o}},{key:"render",value:function e(){var r=this.state.hasKeyboardFocus===T.CONTAINER_FOCUSED;var n=l()("c-table_view_keyboard_navigable_container",{"focus-ring":r});return a.a.createElement(v["a"],{onFocusEnter:this.onFocusEnter,onFocusWithin:this.onFocusWithin,onFocusLeave:this.onFocusLeave},a.a.createElement("div",{className:n,ref:this.setRef,tabIndex:r?-1:0},O(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this)))}}]);return t}(b["a"]);I.displayName="KeyboardNavigableTable";t["a"]=I;I.propTypes=C;I.defaultProps=S},20435:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(16915);var o=r(16941);var s=r(17122);var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function l(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}var u=Object(i["e"])("Clog a search open event using data from redux",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=r.method,a=void 0===n?"":n,i=l(r,["method"]);var u=t();var p=Object(s["getLastOpenMethod"])(u)||"search_box";var f=Object(s["getSearchSessionId"])(u);var d=Object(s["getQuerySessionId"])(u);Object(o["b"])("SEARCH_OPEN",c({open_method:a||p,search_session_id:f,client_request_id:d},i))});u.propTypes={method:a.a.string};t["a"]=u},20436:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(8);var o=r.n(i);var s=r(3);var c=r.n(s);var l=r(1);var u=r.n(l);var p=r(16917);var f=r(17089);var d=r(16947);var v=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function h(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=56;var y={action:d["a"].MessageAction.isRequired,className:c.a.string,pillarClassName:c.a.string};var O={className:"",pillarClassName:""};var E=function(e){_(t,e);function t(e){m(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(l["bindAll"])(r,["renderEnter","renderIcon","renderIconMaybe"]);return r}v(t,[{key:"renderIcon",value:function e(){var t=this.props.action;if(t.iconSet){var r=g;var n=Object(f["a"])({icons:t.iconSet},r);return a.a.createElement("img",{alt:"",className:"p-message-actions__icon",src:n})}if(t.iconType)return a.a.createElement(p["b"],{type:t.iconType});return null}},{key:"renderIconMaybe",value:function e(t){if(!t)return null;return a.a.createElement("div",{className:"c-menu_item__icon","data-qa":"menu_item_icon",role:"presentation"},t)}},{key:"renderEnter",value:function e(){var t=this.props,r=t.className,n=t.pillarClassName;var i=o()(r,"c-menu_item__enter",h({},n+"__enter",n));return a.a.createElement(p["a"],{type:"enter",className:i,"data-qa":"menu_item_enter",role:"presentation"})}},{key:"render",value:function e(){var t;var r=this.props,n=r.action,i=r.className,s=r.pillarClassName;var c=o()(i,"c-menu_item__button","c-button-unstyled",(t={"c-menu_item__button--danger":n.danger},h(t,""+s,s),h(t,s+"--danger",n.danger&&s),t));return a.a.createElement("div",{className:"c-menu_item__li",role:"presentation"},a.a.createElement("div",{className:c,"data-qa":n["data-qa"],key:n.id,id:n.id},this.renderIconMaybe(this.renderIcon()),a.a.createElement("div",{className:"c-menu_item__label",role:"presentation"},n.label||n.name,a.a.createElement("div",{className:"c-menu_item__description"},n.description)),this.renderEnter()))}}]);return t}(n["PureComponent"]);E.displayName="AppActionsDialogItem";E.propTypes=y;E.defaultProps=O;t["a"]=E},20462:function(e,t,r){"use strict";var n=r(16991);var a=r(16913);var i=r(16916);var o=r(1);var s=r.n(o);var c=r(17290);var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};Object(n["a"])("subteam_updated",function(e,t,r){if(!Object(a["isFeatureEnabled"])(r(),"feature_sonic_user_groups"))return;if(!e||!e.subteam||!e.subteam.id)return;var n=e.subteam;var o=e.subteam.id;var s=Object(c["getUserGroupById"])(r(),o);if(!s){Object(i["warn"])("subteam_updated: User group "+o+" not in model.");return}var u=l({},n,{users:s.users});t(Object(c["addGroup"])(u))});Object(n["a"])("subteam_members_changed",function(e,t,r){if(!Object(a["isFeatureEnabled"])(r(),"feature_sonic_user_groups"))return;if(!e||!e.subteam_id)return;var n=e.subteam_id;var s=Object(c["getUserGroupById"])(r(),n);if(!s){Object(i["warn"])("subteam_members_changed: User group "+n+" not in model.");return}var l=s.users,u=void 0===l?[]:l;var p=e.added_users,f=void 0===p?[]:p,d=e.removed_users,v=void 0===d?[]:d;var h=u;f.length&&(h=Object(o["union"])(h,f));v.length&&(h=Object(o["difference"])(h,v));t(Object(c["bulkAddMembersToGroup"])({groupId:s.id,users:h}))});Object(n["a"])("subteam_created",function(e,t,r){if(!Object(a["isFeatureEnabled"])(r(),"feature_sonic_user_groups"))return;if(!e||!e.subteam)return;t(Object(c["addGroup"])(e.subteam))});Object(n["a"])("subteam_deleted",function(e,t,r){if(!Object(a["isFeatureEnabled"])(r(),"feature_sonic_user_groups"))return;if(!e||!e.subteam_id)return;t(Object(c["removeGroup"])(e.subteam_id))});Object(n["a"])("subteam_self_added",function(e,t,r){if(!Object(a["isFeatureEnabled"])(r(),"feature_sonic_user_groups"))return;if(!e||!e.subteam_id)return;var n=Object(a["getCurrentUserId"])(r());var i={groupId:e.subteam_id,memberId:n};t(Object(c["addMemberToGroup"])(i))});Object(n["a"])("subteam_self_removed",function(e,t,r){if(!Object(a["isFeatureEnabled"])(r(),"feature_sonic_user_groups"))return;if(!e||!e.subteam_id)return;var n=Object(a["getCurrentUserId"])(r());if(!n)return;var i={groupId:e.subteam_id,memberId:n};t(Object(c["removeMemberFromGroup"])(i))})},20463:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(16915);var o=r(17122);var s=r(20468);var c=r(20469);var l=r(20435);var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var p=Object(i["e"])("Clog a search open event using data from redux",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.tab;e(Object(o["setTabOnly"])({tab:n}));var a=t();e(Object(l["a"])(u({method:"search_tab",request_id:Object(s["a"])(a)},Object(c["a"])(a))))});p.propTypes={method:a.a.string};t["a"]=p},20465:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16913);var p=r(16923);var f=r(16919);var d=r(16981);var v=r(17029);var h=r(20059);var m=r(16920);var b=r(16921);var _=r(16912);var g=r(16956);var y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=new _["b"]("user_groups");var w={disable_group:"disable_group",remove_member:"remove_member",remove_channel:"remove_channel"};var C={action:o.a.oneOf(Object(c["values"])(w)).isRequired,onSubmit:o.a.func.isRequired,label:o.a.string,groupName:o.a.string,featureSonicUserGroups:o.a.bool};var S={label:"",groupName:"",featureSonicUserGroups:false};var T=function(e){j(t,e);function t(e){O(this,t);var r=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onGo=r.onGo.bind(r);return r}y(t,[{key:"onGo",value:function e(){return this.props.onSubmit()}},{key:"getTitle",value:function e(){if(!this.props.featureSonicUserGroups)return"";var t=this.props.action;switch(t){case"disable_group":return k.t("Disable user group?");case"remove_member":return k.t("Remove from group?");case"remove_channel":return k.t("Remove default channel?");default:}return""}},{key:"getButtonText",value:function e(){if(!this.props.featureSonicUserGroups)return"";var t=this.props.action;switch(t){case"disable_group":return k.t("Disable");case"remove_member":case"remove_channel":return k.t("Remove");default:}return""}},{key:"getDialogBody",value:function e(){if(!this.props.featureSonicUserGroups)return"";var t=this.props,r=t.groupName,n=t.label,a=t.action;switch(a){case"disable_group":return k.t("Disable");case"remove_member":return k.rt("Are you sure you want to remove <strong>{label}</strong> from the <strong>{groupName}</strong> user group?",{label:n,groupName:r});case"remove_channel":return k.rt("Are you sure you want to remove <strong>{label}</strong> as a default channel for the <strong>{groupName}</strong> user group?",{label:n,groupName:r});default:}return""}},{key:"render",value:function e(){return a.a.createElement(g["a"],{showHeader:true,showGoButton:true,title:this.getTitle(),goButtonText:this.getButtonText(),goButtonType:"danger",onGo:this.onGo},a.a.createElement("p",null,this.getDialogBody()))}}]);return t}(n["Component"]);T.displayName="UserGroupConfirmationDialog";T.propTypes=C;T.defaultProps=S;var I=function e(t,r){var n=r.id,a=r.userGroup;var i="";if(Object(v["a"])(n)){var o=Object(p["getChannelById"])(t,n);i=Object(m["getDisplayName"])(o)}else if(Object(d["a"])(n)){var s=Object(f["getMemberById"])(t,n);i=Object(b["k"])(s)}return{groupName:Object(h["c"])(a),label:i,featureSonicUserGroups:Object(u["isFeatureEnabled"])(t,"feature_sonic_user_groups")}};t["a"]=Object(s["connect"])(I)(T)},20466:function(e,t,r){"use strict";r.d(t,"b",function(){return l});var n=r(16926);var a=r(16967);var i=r(16925);var o=r(16913);var s=r(16934);var c=Object(n["b"])("/sonic slash command",function(e,t){var r='Sonic is still very rough around the edges. To get back to the normal Slack client, type "/legacy" or just quit and reload Slack.';if(window.confirm(r)){var n=t();var o=Object(i["getTeamId"])(n);var s=Object(a["getMessagePaneChannelId"])(n);var c=location.hostname.split(".").slice(1).join(".");window.location="https://app."+c+"/"+o+"/"+s}});c.propTypes=null;t["a"]=c;var l=function e(t){return!Object(s["a"])()&&Object(o["isFeatureEnabled"])(t,"feature_tinyspeck")}},20467:function(e,t,r){"use strict";r.d(t,"b",function(){return c});var n=r(16926);var a=r(16939);var i=r(16913);var o=r(16934);var s=Object(n["b"])("/legacy slash command",function(e,t){document.documentElement.style.visibility="hidden";var r=t();var n=Object(a["getCurrentTeam"])(r);var i=location.hostname.replace("app.",n.domain+".");window.location="https://"+i+"/messages?returning_from_sonic=1"});s.propTypes=null;t["a"]=s;var c=function e(t){return Object(o["a"])()&&Object(i["isFeatureEnabled"])(t,"feature_tinyspeck")}},20468:function(e,t,r){"use strict";t["a"]=o;var n=r(17122);var a=r(17121);var i=r(20567);function o(e){var t=Object(n["getTab"])(e);if("messages"===t){var r=Object(i["b"])(e);var o=Object(n["getModuleState"])(e,r);if(!o)return null;if(!o.loading)return Object(a["getRequestIdForModule"])(e,{module:r,page:o.page})}else if("files"===t){var s=Object(n["getModuleState"])(e,"files");if(!s.loading)return Object(a["getRequestIdForModule"])(e,{module:"files",page:s.page})}return null}},20469:function(e,t,r){"use strict";t["a"]=i;var n=r(17122);var a=r(20567);function i(e){var t=Object(n["getTab"])(e);var r={};if("messages"===t){var i=Object(a["b"])(e);r.click_module_name="messages";r.click_module_sort=i===a["a"].relevantMessages?"score":"timestamp"}else if("files"===t){r.click_module_name="files";r.click_module_sort="auto"}return r}},20474:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(16915);var o=r(16941);var s=r(17122);var c=r(16939);var l=r(20469);var u=r(20468);var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var f=Object(i["e"])("Clog clicks on a message or file using data from redux",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.iid,a=r.type,i=r.ts,f=r.channelId,d=r.userId,v=r.botId,h=r.extraArguments,m=void 0===h?{}:h;var b=t();var _=Object(s["getSearchSessionId"])(b);var g=Object(s["getQuerySessionId"])(b);var y=Object(c["getCurrentTeam"])(b).id;Object(o["b"])("SEARCH_CLICK",p({click_iid:n,click_target_type:a,click_user_id:d,click_bot_id:v,click_channel_id:f,click_team_id:y,click_timestamp:i},Object(l["a"])(b),{request_id:Object(u["a"])(b),search_session_id:_,client_request_id:g},m))});f.propTypes={type:a.a.string.isRequired,ts:a.a.string,channelId:a.a.string,userId:a.a.string,botId:a.a.string};t["a"]=f},20476:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(16950);var u=r(16918);var p=r(16917);var f=r(20477);var d=r.n(f);var v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g={renderMenu:o.a.func.isRequired,className:o.a.string,children:o.a.node,isContextButtonVisible:o.a.bool,onClick:o.a.func.isRequired,customProps:o.a.object};var y={className:"",children:"",isContextButtonVisible:false,customProps:{}};var O=function(e){_(t,e);function t(){m(this,t);return b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}h(t,[{key:"renderContextButton",value:function e(){var t=this.props,r=t.isContextButtonVisible,n=t.renderMenu;if(!r)return null;return a.a.createElement("div",{className:"p-user_group_base_row__list_item_option"},a.a.createElement(l["d"],{renderMenu:n,position:"bottom-right",offsetY:-8},a.a.createElement(u["d"],{type:"outline",size:"small",className:"p-user_group_base_row__list_btn"},a.a.createElement(p["b"],{type:"ellipsis"}))))}},{key:"render",value:function e(){var t=this.props,r=t.className,n=t.onClick,i=t.customProps,o=t.children;var s=c()("p-user_group_base_row__list_item",r);return a.a.createElement("div",{className:"p-user_group_base_row"},a.a.createElement(u["c"],v({onClick:n,className:s},i),o),this.renderContextButton())}}]);return t}(n["PureComponent"]);O.displayName="UserGroupBaseRow";O.propTypes=g;O.defaultProps=y;t["a"]=O},20477:function(e,t){},20478:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(20479);var a=r(16928);Object(a["a"])("interop.mountThreadDragOverlay",n["a"]);Object(a["a"])("interop.unmountThreadDragOverlay",n["b"])},20479:function(e,t,r){"use strict";t["a"]=p;t["b"]=f;var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(16954);var l=r(16927);var u=r(20480);function p(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)throw new Error("mountThreadDragOverlay must be called with a teamId parameter");var n=Object(l["c"])(e);Object(c["a"])(a.a.createElement(s["Provider"],{store:n},a.a.createElement(u["a"],r)),t)}function f(e){o.a.unmountComponentAtNode(e)}},20480:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(3);var c=r.n(s);var l=r(9);var u=r(16913);var p=r(16912);var f=r(8);var d=r.n(f);var v=r(20481);var h=r.n(v);var m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=new p["b"]("threads");var O=function(e){g(t,e);function t(e){b(this,t);var r=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={spriteLoaded:false};return r}m(t,[{key:"componentDidMount",value:function e(){var t=this;var r=new Image;this.spritePromise=new Promise(function(e){r.onload=function(){e()};r.src=cdn_url+"/a7c8f/img/dragdrop_threads_sprites@2x.png"}).then(function(){t.setState(function(){return{spriteLoaded:true}})})}},{key:"componentWillUnmount",value:function e(){this.spritePromise&&!this.spritePromise.isResolved()&&this.spritePromise.cancel()}},{key:"render",value:function e(){var t=this.props,r=t.featureFileThreads,a=t.useNightIllustration;var i=this.state.spriteLoaded;if(!r)return null;var s=false;if(Object(n["isBoolean"])(a))s=a;else{var c=new Date;var l=c.getHours();s=l>=20||l<8}var u=d()("p-thread_drag_overlay",{"p-thread_drag_overlay--night":!!s});var p="";i&&(p=o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"p-thread_drag_overlay__anim_text_01"}),o.a.createElement("div",{className:"p-thread_drag_overlay__anim_card_01"}),o.a.createElement("div",{className:"p-thread_drag_overlay__anim_text_02"})));var f=y.rt('Hold <span className="c-keyboard_key c-keyboard_key--slim">Shift</span> to share immediately');return o.a.createElement("div",{className:u},o.a.createElement("div",{className:"p-thread_drag_overlay__info"},o.a.createElement("div",{className:"p-thread_drag_overlay__anim"},p),o.a.createElement("div",{className:"p-thread_drag_overlay__title"},y.t("Upload to thread")),o.a.createElement("div",{className:"p-thread_drag_overlay__subtitle"},f)))}}]);return t}(i["PureComponent"]);O.displayName="DragOverlay";O.propTypes={featureFileThreads:c.a.bool.isRequired,useNightIllustration:c.a.bool};O.defaultProps={featureFileThreads:true,useNightIllustration:void 0};function E(e){return{featureFileThreads:Object(u["isFeatureEnabled"])(e,"feature_file_threads")}}t["a"]=Object(l["connect"])(E)(O)},20481:function(e,t){},20482:function(e,t,r){"use strict";t["a"]=s;var n=r(1);var a=r.n(n);var i=r(18023);var o=r(17829);function s(e,t){var r=Object(n["trim"])(t);r=Object(o["a"])(r,null,true);return Object(i["b"])(e,r)}},20487:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(20488);var a=r(16928);Object(a["a"])("interop.mountMessagePaneDragOverlay",n["a"]);Object(a["a"])("interop.unmountMessagePaneDragOverlay",n["b"])},20488:function(e,t,r){"use strict";t["a"]=p;t["b"]=f;var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(16954);var l=r(16927);var u=r(20489);function p(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)throw new Error("mountMessagePaneDragOverlay must be called with a teamId parameter");var n=Object(l["c"])(e);Object(c["a"])(a.a.createElement(s["Provider"],{store:n},a.a.createElement(u["a"],r)),t)}function f(e){o.a.unmountComponentAtNode(e)}},20489:function(e,t,r){"use strict";var n=r(20490);t["a"]=n["a"]},20490:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(3);var c=r.n(s);var l=r(9);var u=r(8);var p=r.n(u);var f=r(16913);var d=r(16923);var v=r(16939);var h=r(16920);var m=r(17400);var b=r(16912);var _=r(20491);var g=r.n(_);var y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=new b["b"]("files");var w=function(e){j(t,e);function t(e){O(this,t);var r=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={spriteLoaded:false};return r}y(t,[{key:"componentDidMount",value:function e(){var t=this;var r=new Image;this.spritePromise=new Promise(function(e){r.onload=function(){e()};r.src=cdn_url+"/be529/img/dragdrop_sprites@2x.png"}).then(function(){t.setState(function(){return{spriteLoaded:true}})})}},{key:"componentWillUnmount",value:function e(){this.spritePromise&&!this.spritePromise.isResolved()&&this.spritePromise.cancel()}},{key:"render",value:function e(){var t=this.props,r=t.featureFileThreads,a=t.teamName,i=t.channelName,s=t.isImOrMpim,c=t.useNightIllustration;var l=this.state.spriteLoaded;if(!r)return null;var u=false;if(Object(n["isBoolean"])(c))u=c;else{var f=new Date;var d=f.getHours();u=d>=20||d<8}var v=p()("p-message_pane_drag_overlay",{"p-message_pane_drag_overlay--night":!!u});var h="";h=s?k.rt('Hold <span className="c-keyboard_key c-keyboard_key--slim">Shift</span> to share immediately with {userName}',{userName:i}):k.rt('Hold <span className="c-keyboard_key c-keyboard_key--slim">Shift</span> to share immediately to {channelName}',{channelName:i});var m="";l&&(m=o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"p-message_pane_drag_overlay__anim_circle"}),o.a.createElement("div",{className:"p-message_pane_drag_overlay__anim_card_03"}),o.a.createElement("div",{className:"p-message_pane_drag_overlay__anim_card_02"}),o.a.createElement("div",{className:"p-message_pane_drag_overlay__anim_card_01"})));return o.a.createElement("div",{className:v},o.a.createElement("div",{className:"p-message_pane_drag_overlay__info"},o.a.createElement("div",{className:"p-message_pane_drag_overlay__anim"},m),o.a.createElement("div",{className:"p-message_pane_drag_overlay__title"},k.rt("Upload to {teamName}",{teamName:a})),o.a.createElement("div",{className:"p-message_pane_drag_overlay__subtitle"},h)))}}]);return t}(i["PureComponent"]);w.displayName="MessagePaneDragOverlay";w.propTypes={featureFileThreads:c.a.bool,teamName:c.a.string,channelName:c.a.string,isImOrMpim:c.a.bool,useNightIllustration:c.a.bool};w.defaultProps={featureFileThreads:true,teamName:"",channelName:"",isImOrMpim:false,useNightIllustration:void 0};function C(e,t){var r=t.channelId;var n=Object(d["getChannelById"])(e,r);var a=Object(v["getCurrentTeam"])(e);return{featureFileThreads:Object(f["isFeatureEnabled"])(e,"feature_file_threads"),channelName:Object(h["getDisplayNameForChannel"])(e,n,{imIncludeAtSign:false}),teamName:Object(m["getTeamDisplayName"])(a),isImOrMpim:Object(h["isIm"])(n)||Object(h["isMpim"])(n)}}t["a"]=Object(l["connect"])(C)(w)},20491:function(e,t){},20493:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(20494);var a=r(16928);Object(a["a"])("interop.mountMessagePaneBanner",n["a"]);Object(a["a"])("interop.unmountMessagePaneBanner",n["b"])},20494:function(e,t,r){"use strict";r.d(t,"a",function(){return p});r.d(t,"b",function(){return f});var n=r(12159);var a=r.n(n);var i=r(50);var o=r.n(i);var s=r(9);var c=r(16954);var l=r(16927);var u=r(18670);var p=function e(t,r){if(!t)throw new Error("mountBannerContainer must be called with a teamId parameter");Object(c["a"])(a.a.createElement(s["Provider"],{store:Object(l["c"])(t)},a.a.createElement(u["a"],null)),r)};var f=function e(t){o.a.unmountComponentAtNode(t)}},20495:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(16918);var c=r(16917);var l=r(16912);var u=r(16960);var p=new l["b"]("search");var f={onClick:o.a.func.isRequired};function d(e){return a.a.createElement(u["a"],{enabled:["feature_react_search"]},a.a.createElement("div",{className:"c-search__back_to_filters"},a.a.createElement(s["d"],{type:"outline",size:"small",className:"padding_left_50",onClick:e.onClick},a.a.createElement(c["b"],{type:"arrow-up-medium"}),"\xa0",p.t("Back to filters"))))}d.displayName="BackToFiltersButton";d.propTypes=f;t["a"]=d},20496:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(9);var u=r(16912);var p=r(20024);var f=r(17084);var d=r(20586);var v=r(20545);var h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function m(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=new u["b"]("tabcomplete");var O={client:"Slack"};var E={selectedIndex:o.a.number,isOpen:o.a.bool,onClose:o.a.func,text:o.a.string,results:o.a.arrayOf(o.a.object),isEmojiDisplayedAsText:o.a.bool,onSelectedIndexChange:o.a.func};var j={selectedIndex:0,isOpen:false,onClose:n["noop"],text:void 0,results:void 0,isEmojiDisplayedAsText:false,onSelectedIndexChange:n["noop"]};var k=function(e){g(t,e);function t(){b(this,t);return _(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}h(t,[{key:"getResultAtIndex",value:function e(t,r){return p["f"].getResultAtIndex(t,r)}},{key:"getNumResults",value:function e(t){return p["f"].getNumResults(t)}},{key:"getInsertData",value:function e(t){var r=this.props.isEmojiDisplayedAsText;return p["f"].getInsertData(t,{shouldRenderEmojiAsText:r})}},{key:"renderHeader",value:function e(){var t=this.props.text;return y.rt("Commands matching \u201c<strong>{text}</strong>\u201d",{text:t})}},{key:"renderBody",value:function e(){var t=this.props,r=t.results,a=t.selectedIndex,i=t.onSelectedIndexChange;if(Object(n["isEmpty"])(r))return null;var o=0;return Object(n["flatMap"])(r,function(e){var t=O[e.type]||e.type;var r=c.a.createElement("li",{key:t,className:"c-texty_autocomplete__group"},t);var n=e.commands.map(function(e){var t=o;o+=1;var r=void 0;if(e.aliases){var n="(or "+e.aliases.join(", ")+")";r=c.a.createElement("span",{className:"margin_left_25"},n)}var s=void 0;e.helpText&&(s=c.a.createElement("span",{className:"margin_left_25"},e.helpText));var l=void 0;e.desc&&(l=c.a.createElement("div",{className:"c-texty_autocomplete__result_description"},e.desc));return c.a.createElement(v["a"],{key:e.name,index:t,isSelected:t===a,onMouseOver:i},c.a.createElement("strong",null,Object(d["b"])(e)),r,s,l)});return[r].concat(m(n))})}},{key:"render",value:function e(){var t=this.props,r=t.isOpen,n=t.onClose;return c.a.createElement(p["d"],{header:this.renderHeader(),body:this.renderBody(),isOpen:r,onClose:n,type:"commands"})}}]);return t}(s["PureComponent"]);k.displayName="TextyAutocompleteCommands";k.propTypes=E;k.defaultProps=j;var w=function e(t){return{isEmojiDisplayedAsText:Object(f["b"])(t)}};t["a"]=Object(l["connect"])(w,null,null,{withRef:true})(k)},20497:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(17976);var c=r(16926);var l=function e(t){var r=t.reduce(function(e,t){var r=t.type||"unknown";e[r]||(e[r]={type:r,commands:[]});e[r].commands.push(t);return e},{});return Object(n["values"])(r)};var u=Object(c["b"])("Find commands that match a search query",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.query,i=r.isThread;var o=t();var c=Object(s["getSlashCommands"])(o,{isThread:i});var u=Object(n["values"])(c).filter(function(e){return e.autocomplete});var p=u;if("/"!==a){var f=a.toLowerCase().slice(1);p=u.filter(function(e){return Object(n["includes"])(e.name,f)})}var d=l(p);return Promise.resolve(d)});u.propTypes={query:o.a.string,isThread:o.a.bool,limit:o.a.number};t["a"]=u},20498:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"getInsertData",function(){return l});r.d(t,"getMatch",function(){return u});r.d(t,"getResultAtIndex",function(){return p});r.d(t,"getNumResults",function(){return f});var n=r(1);var a=r.n(n);var i=r(17100);var o=r(16941);var s=r(20586);var c=/^([/\uff0f]\S*)$/;var l=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.shouldRenderEmojiAsText;if(!t)return null;Object(o["b"])("PFP_ACTION",{contexts:{growth:{action:"autocomplete_select",trigger:"slash_command"}}});if("last"===t.type)return Object(i["b"])(t.cmd,{shouldRenderEmojiAsText:n});return{text:Object(s["b"])(t)}};var u=function e(t,r,n){if(0!==n||!c.test(t))return null;1===t.length&&Object(o["b"])("PFP_ACTION",{contexts:{growth:{action:"autocomplete_start",trigger:"slash_command"}}});return{match:t,index:0}};var p=function e(t,r){var a=Object(n["flatMap"])(t,"commands");return a[r]};var f=function e(t){var r=Object(n["flatMap"])(t,"commands");return r.length}},20499:function(e,t,r){"use strict";t["a"]=u;var n=r(18114);var a=r(16927);var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s={};var c=function(){function e(t){o(this,e);this._teamId=t;this._activeRequest=null;this._queue=[];this._store=Object(a["c"])(t)}i(e,[{key:"_send",value:function e(){var t=this;var r=this._activeRequest.message;return this._store.dispatch(Object(n["a"])(r)).then(this._activeRequest.resolve).catch(this._activeRequest.reject).finally(function(){return t.resolve(r)})}},{key:"_next",value:function e(){if(this._activeRequest)return false;if(!this._queue.length)return false;this._activeRequest=this._queue.shift();this._send();return true}},{key:"enqueue",value:function e(t){var r=this;return new Promise(function(e,n){r._queue.push({message:t,resolve:e,reject:n});r._next()})}},{key:"resolve",value:function e(t){if(!t||!this._activeRequest||!this._activeRequest.message)return false;if(t.client_msg_id!==this._activeRequest.message.client_msg_id)return false;this._activeRequest=null;return this._next()}}]);return e}();var l=c;function u(e){if(s[e])return s[e];s[e]=new c(e);return s[e]}},20500:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(1);var o=r.n(i);var s=r(16915);var c=r(16941);var l=r(17122);var u=r(17730);var p=r(20468);var f=Object(s["e"])("Clog clicks on a message or file using data from redux",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.suggestion;var a=t();var o=Object(l["getSearchSessionId"])(a);var s=Object(l["getQuerySessionId"])(a);var f=Object(u["getSearchAutocompleteSuggestions"])(a);var d=Object(u["getSearchAutocompleteSelectedIndex"])(a)-1;var v=Object(i["tail"])(f).map(function(e){return e.featureVector});-1===d?Object(c["b"])("SEARCH_AUTOCOMPLETE_REJECT",{feature_vector_list:v,request_id:Object(p["a"])(a),search_session_id:o,client_request_id:s}):Object(c["b"])("SEARCH_AUTOCOMPLETE_ACCEPT",{accept_module_name:"results_unified",accept_module_length:f.length,accept_item_offset:d,feature_vector_list:v,suggestion_type:n.type,is_navigational:n.is_type_navigational,navigation_model_id:n.id,request_id:Object(p["a"])(a),search_session_id:o,client_request_id:s})});f.propTypes={suggestion:a.a.object.isRequired};t["a"]=f},20501:function(e,t){},20503:function(e,t,r){var n={"./actions.js":18216,"./api.js":18217,"./apps.js":18221,"./automount.js":18222,"./bots.js":18223,"./channels.js":18224,"./console.js":18226,"./constants.js":18227,"./enterprise.js":18228,"./enterprise/mount-create-workspace-modal.jsx":18229,"./enterprise/mount-dashboard-app-management.jsx":18237,"./enterprise/mount-dashboard-app-profile.jsx":18254,"./enterprise/mount-dashboard-nav.jsx":18266,"./enterprise/mount-dashboard-team-apps.jsx":18285,"./enterprise/mount-move-channels-custom-message.jsx":18293,"./enterprise/mount-org-wide-settings-pane.jsx":18296,"./enterprise/mount-terms-of-service.jsx":18314,"./enterprise/mount-workspace-directory.jsx":18316,"./eventlog.js":18332,"./flannel.js":18333,"./greetings-earth.js":18334,"./infra/beacon-api-call.js":18336,"./infra/boot/index.js":18338,"./infra/connectivity.js":18341,"./infra/metrics.js":18342,"./infra/rtm.js":18343,"./infra/socket-manager.js":18344,"./infra/token-to-team-id.js":18345,"./lazy-filter-select.jsx":18346,"./member-counts.js":18347,"./members.js":18349,"./membership.js":18351,"./metrics-responsiveness.js":18353,"./mount-apps-browser.js":18355,"./mount-channel-notification-settings.js":18360,"./mount-channel-options-dialog.js":18363,"./mount-channel-sidebar.js":18395,"./mount-connected-workspaces.js":18427,"./mount-custom-status-input.js":18432,"./mount-downloads-view.js":18434,"./mount-emoji-picker.js":18444,"./mount-explore-preferences.js":18457,"./mount-explore.js":18463,"./mount-file-upload-banner.js":20379,"./mount-files-flexpane.js":18474,"./mount-global-nav.js":18497,"./mount-image-viewer.js":18562,"./mount-keyboard-shortcuts.js":18568,"./mount-lazy-filter-select.js":18577,"./mount-menu.js":18579,"./mount-message-actions-menu.js":18581,"./mount-message-pane-banner.js":20493,"./mount-message-pane-drag-overlay.js":20487,"./mount-message-pane.js":18648,"./mount-migration-blocker.js":20580,"./mount-modal-container.js":18680,"./mount-notification-bar.js":18682,"./mount-oauth-confirm.jsx":18687,"./mount-org-retention-request.js":18692,"./mount-pricing-calculator.js":18704,"./mount-redox.js":18711,"./mount-scrollbar.js":18718,"./mount-search.js":18720,"./mount-service-import-mapping-form.js":18723,"./mount-thread-drag-overlay.js":20478,"./mount-threads-flexpane.js":18730,"./mount-toast.js":18735,"./mount-tooltip-tip.js":18736,"./mount-user-groups-flexpane.js":19772,"./mpims.js":18738,"./open-app-dialog.js":18739,"./open-app-management-modal.js":18740,"./open-app-permission-dialog.js":18741,"./open-app-remove-dialog.js":18744,"./open-channel-notification-settings-dialog.js":18747,"./prefs.js":19695,"./reactions.js":18749,"./redux.js":18751,"./rules.js":18763,"./rules/files.js":18765,"./rules/notifications.js":18766,"./search.js":18767,"./searcher.js":18768,"./send-message.js":18770,"./set-app-element-for-react-modal.js":18771,"./slash-command.js":18772,"./texty.js":18773,"./typing.js":18776,"./user-groups.js":18777,"./utility/a11y.js":19765,"./utility/client-action-token.js":18779,"./utility/clipboard.js":18780,"./utility/clog.js":18781,"./utility/currency.js":20376,"./utility/date-time.js":18782,"./utility/desktop.js":18783,"./utility/environment.js":18784,"./utility/format.js":18785,"./utility/i18n.js":18787,"./utility/messages.js":18788,"./utility/search/autocomplete-suggestions.js":18789,"./utility/search/autocomplete.js":18790,"./utility/search/conversions.js":18791,"./utility/threads.js":18792,"./utility/url.js":18793,"./utility/utility.js":18794,"./utility/versions.js":18798,"./utility/webapp.js":18799};function a(e){return r(i(e))}function i(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}a.keys=function e(){return Object.keys(n)};a.resolve=i;e.exports=a;a.id=20503},20509:function(e,t,r){"use strict";var n=r(18166);var a=r(18167);var i=r(18168);var o=r(18169);var s=r(18170);var c=r(18172);var l=r(18174);var u=r.n(l);var p=r(18175);var f=r(18176);var d=r(18177);var v=r.n(d);var h=r(18178);var m=r.n(h);var b=r(18179);var _=r(18180);var g=r(18181);var y=r(18182);var O=r.n(y);var E=r(18183);var j=r(18185);var k=r(18187);var w=r(18188);var C=r(18189);var S=r(18191);var T=r.n(S);var I=r(18192);var N=r.n(I);var A=r(18193);var P=r(18194);var R=r(18195);var M=r(18196);var x=r.n(M);var L=r(18197);var D=r.n(L);var F=r(18198);var B=r.n(F);var U=r(18199);var H=r(18200);var q=r(20462)},20511:function(e,t,r){"use strict";var n=r(18147);var a=r(18148);var i=r(17936);var o=r(18150);var s=r(18151);var c=r(18152);var l=r(18153);var u=r(18154);var p=r(20531);var f=r(18155);var d=r(18156);var v=r(20539);var h=r(18158);var m=r(18159);var b=r(18160);var _=r(18161);var g=r(18163);var y=r(18164);var O=r(17162);var E=r(18165);var j=r(20509);var k=r(18201);var w=r(18202);var C=r(20073);var S=r(18204);var T=r(18205);var I=r(18206);var N=r(18209)},20515:function(e,t,r){"use strict";t["a"]=v;t["c"]=h;t["b"]=m;var n=r(1);var a=r.n(n);var i=r(16912);var o=r(20385);var s=r(20466);var c=r(20467);var l=r(20521);var u=new i["b"]("cmd_handlers");var p=[{name:"/away",localized:"/"+u.t("away"),type:"client",autocomplete:true,desc:u.t('Toggle your "away" status'),action:o["a"]},{name:"/sonic",type:"client",autocomplete:true,desc:"Switch to the prototype Sonic client",action:s["a"],isEnabled:s["b"]},{name:"/legacy",type:"client",autocomplete:true,desc:"Switch to the familiar legacy Slack client",action:c["a"],isEnabled:c["b"]},{name:"/topic",localized:"/"+u.t("topic"),type:"client",autocomplete:true,desc:u.t("Set the channel topic"),args:[{name:u.t("new topic"),optional:true}],action:l["a"]}];var f=Object(n["keyBy"])(p,"name");function d(e){return f[e]}function v(){return p}function h(e,t){var r=d(e);if(!r)return false;return!Object(n["isFunction"])(r.isEnabled)||r.isEnabled(t)}function m(e){var t=d(e);if(!t)return null;return t.action}},20518:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16912);var p=r(17290);var f=r(16913);var d=r(16956);var v=r(20594);var h=r(20519);var m=r.n(h);var b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=new u["b"]("user_groups");var E={featureSonicUserGroups:o.a.bool,groupId:o.a.string.isRequired,bulkUpsertUserGroupMembers:o.a.func.isRequired};var j={featureSonicUserGroups:false};var k=function(e){y(t,e);function t(e){_(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Object(c["bindAll"])(r,["onSave","setUserGroupMemberManagementRef"]);r.userGroupMemberManagementRef=null;return r}b(t,[{key:"onSave",value:function e(){var t=this.userGroupMemberManagementRef&&this.userGroupMemberManagementRef.getUpdatedUserGroupMembers();return this.props.bulkUpsertUserGroupMembers(t)}},{key:"setUserGroupMemberManagementRef",value:function e(t){this.userGroupMemberManagementRef=t&&t.getWrappedInstance?t.getWrappedInstance():t}},{key:"render",value:function e(){if(!this.props.featureSonicUserGroups)return null;var t=O.t("Edit members");return a.a.createElement(d["a"],{showHeader:true,showGoButton:true,showFooter:true,bodyClassName:"p-user_group_member_management__dialog_body",title:t,contentLabel:t,goButtonText:O.t("Save"),onGo:this.onSave},a.a.createElement(v["a"],{groupId:this.props.groupId,ref:this.setUserGroupMemberManagementRef}))}}]);return t}(n["PureComponent"]);k.displayName="UserGroupMemberManagementDialog";k.propTypes=E;k.defaultProps=j;var w=function e(t){return{featureSonicUserGroups:Object(f["isFeatureEnabled"])(t,"feature_sonic_user_groups")}};var C=function e(t,r){var n=r.groupId;return{bulkUpsertUserGroupMembers:function e(r){return t(Object(p["bulkUpsertUserGroupMembers"])({groupId:n,users:r}))}}};t["a"]=Object(s["connect"])(w,C)(k)},20519:function(e,t){},20521:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(20386);var o=r(17070);var s=r(18162);var c=r(16926);var l=r(16967);var u=r(17108);var p=r(16968);var f=r(16921);var d=r(17133);var v=r(16920);var h=r(16999);var m=Object(c["b"])("/away slash command",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.originalText,a=r.rest;var c=t();var m=Object(l["getMessagePaneChannelId"])(c);var b=Object(p["e"])(c,m);var _=Object(u["b"])(c);var g=Object(f["O"])(_);var y=Object(d["c"])(c);var O=null;Object(v["isIm"])(b)||Object(v["isMpim"])(b)?O=v["TOPIC_DM_ERROR"]:g||!y?O=v["TOPIC_USER_IS_RESTRICTED_ERROR"]:Object(v["channelTopicExceedsLimit"])(a)&&(O=v["TOPIC_TOO_LONG_ERROR"]);O?Object(i["a"])(Object(v["getChannelTopicError"])(O),{input_txt:n,slackbot_feels:"sad_surprise"}):a?e(Object(h["B"])({channelId:m,topic:a})).catch(o["o"]):Object(s["a"])()});m.propTypes={originalText:a.a.string,rest:a.a.string};t["a"]=m},20522:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(16926);var o=r(20515);var s=r(17976);var c=r(20523);var l=Object(i["b"])("Load local and remote Slash commands into Redux",function(e){e(Object(s["bulkAddLocalCommands"])({commands:Object(o["a"])()}));e(Object(c["a"])()).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.commands;e(Object(s["bulkAddServerCommands"])({commands:Object(n["values"])(r)}))})});l.propTypes=null;t["a"]=l},20523:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(16929);var a=r(17063);var i=Object(a["a"])("Fetch a list of Slash Commands",function(e){return e(Object(n["a"])({method:"commands.list",SET_ACTIVE:false})).then(function(e){return e&&{commands:e.commands,cacheTs:e.cache_ts}})})},20526:function(e,t,r){"use strict";r.d(t,"b",function(){return s});t["a"]=c;var n=r(16923);var a=r(16919);var i=r(17290);var o=r(17297);var s=80;function c(e,t){var r=t.value,c=t.oldValue,l=void 0===c?r:c;var u=!r.trim();var p=/[ .,;'`~!@#$%^&*+=\\:"<>?|]/.test(r.trim());var f=/^[-|_]+$/.test(r);var d=/[A-Z]/.test(r);var v=false;var h=false;if(r!==l&&e){var m=Object(n["getChannelByName"])(e,r)||Object(a["memberExistsWithName"])(e,r)||Object(i["getUserGroupByHandle"])(e,r);v=!!m;h=Object(o["a"])(r)>s}return{hasHandleRequiredWarning:u,hasMaxLengthWarning:h,hasSpecialsWarning:p,hasPunctuationWarning:f,hasLowercaseWarning:d,hasHandleTakenWarning:v}}},20529:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"setActiveAppTab",function(){return l});r.d(t,"setNewUnreads",function(){return u});r.d(t,"getActiveAppTab",function(){return f});r.d(t,"getNewUnreads",function(){return d});var n=r(3);var a=r.n(n);var i=r(16915);var o;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function c(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var l=Object(i["a"])("Notifies modern of the active tab for app/bot users");l.propTypes=a.a.oneOf(["messages","about"]);var u=Object(i["a"])("Set the number of new unread messages that came in while in the All Unreads view");u.propTypes=a.a.number;var p=Object(i["c"])((o={},c(o,l.getType(),function(e,t){if(!t)return e;return s({},e,{activeAppTab:t})}),c(o,u.getType(),function(e,t){return s({},e,{newUnreads:t})}),o),{activeAppTab:"messages"});t["default"]=p;var f=Object(i["d"])(function(e){return e&&e.globalNav&&e.globalNav.activeAppTab});var d=Object(i["d"])(function(e){return e&&e.globalNav&&e.globalNav.newUnreads})},20530:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(8);var l=r.n(c);var u=r(20529);var p=r(16923);var f=r(16919);var d=r(16913);var v=r(16920);var h=r(16921);var m=r(16918);var b=r(17353);var _=r(16912);var g=new _["b"]("global_nav");var y={isBot:o.a.bool,activeTab:o.a.oneOf(["messages","about"]),featureGlobalNav:o.a.bool};var O={isBot:false,activeTab:"messages",featureGlobalNav:false};var E=function e(t){var r=t.isBot,n=t.activeTab,i=t.featureGlobalNav;if(!i||!r)return null;return a.a.createElement("div",{className:"p-global_nav__channel_bot_tabs"},a.a.createElement(m["c"],{className:l()("p-global_nav__channel_bot_tab","messages"===n&&"p-global_nav__channel_bot_tab--active"),onClick:function e(){return Object(b["a"])("messages")}},g.t("Messages")),a.a.createElement(m["c"],{className:l()("p-global_nav__channel_bot_tab","about"===n&&"p-global_nav__channel_bot_tab--active"),onClick:function e(){return Object(b["a"])("about")}},g.t("About")))};E.displayName="BotTabs";E.propTypes=y;E.defaultProps=O;var j=function e(t,r){var n=r.channelId;var a=Object(p["getChannelById"])(t,n);var i=Object(v["getMemberIdFromIm"])(a);if(!i)return{};var o=Object(f["getMemberById"])(t,i);return{isBot:Object(h["y"])(o),activeTab:Object(u["getActiveAppTab"])(t),featureGlobalNav:Object(d["isFeatureEnabled"])(t,"feature_global_nav")}};t["a"]=Object(s["connect"])(j)(E)},20531:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(15861);var o=r(16913);var s=r(16925);var c=r(16971);var l=r(16966);function u(e,t,r){var a=r();if(!Object(o["isFeatureEnabled"])(a,"feature_global_nav"))return;if(!Object(n["get"])(window,"desktop.app.updateDragRegion"))return;var i=Object(s["getTeamId"])(a);var l=e.payload;if(i!==l)return;t(Object(c["info"])("GLOBAL-NAV","Resetting SSB drag region"));window.desktop.app.updateDragRegion([])}Object(l["b"])({actions:[i["setActiveTeam"]],sideEffect:u})},20532:function(e,t,r){"use strict";t["a"]=c;t["c"]=l;t["d"]=u;t["b"]=p;t["f"]=d;t["g"]=v;t["e"]=h;var n=r(20405);var a="universal_search";var i={autocompleteKeystroke:"autocomplete_keystroke",autocompleteRequest:"autocomplete_request",autocompleteResponse:"autocomplete_response",autocompleteRenderStart:"autocomplete_render_start",searchAccept:"search_accept",searchFilter:"search_filter",searchModuleRequest:"search_module_request",searchModuleResponse:"search_module_response",searchModuleRenderStart:"search_module_render_start"};var o={autocompleteRequestToResponse:"ac_request_to_response",autocompleteKeystrokeToRenderStart:"ac_keystroke_to_render_start",searchAcceptToRenderStart:"search_accept_to_render_start",searchRequestToResponse:"search_request_to_response"};function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[a+"_"+e].concat(t||[]).join("_")}function c(){Object(n["d"])(s(i.autocompleteKeystroke))}function l(){Object(n["d"])(s(i.autocompleteRequest))}function u(){Object(n["d"])(s(i.autocompleteResponse));Object(n["f"])(o.autocompleteRequestToResponse,s(i.autocompleteRequest))}function p(){Object(n["d"])(s(i.autocompleteRenderStart));Object(n["f"])(o.autocompleteKeystrokeToRenderStart,s(i.autocompleteKeystroke))}function f(){Object(n["d"])(s(i.searchAccept))}function d(e,t,r){Object(n["d"])(s(i.searchModuleRequest,[e,t,r]))}function v(e,t,r){Object(n["d"])(s(i.searchModuleResponse,[e,t,r]));Object(n["f"])(o.searchRequestToResponse,s(i.searchModuleRequest,[e,t,r]))}function h(e,t,r){Object(n["d"])(s(i.searchModuleRenderStart,[e,t,r]));Object(n["f"])(o.searchAcceptToRenderStart,s(i.searchAccept))}},20533:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(18049);var o=r(16940);var s=r(16926);var c=r(20534);var l=r(16953);var u=r(16930);var p=r(16913);var f=Object(s["b"])('Attempt to edit the previous message via the "/s" shortcut',function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.channelId,a=r.prev,s=r.next,f=r.ignoreCase,d=r.replaceAll;var v=t();var h=Object(u["getMessagesByChannelId"])(v,n);var m=Object(p["getCurrentUserId"])(v);var b=Object(o["getLastMessageByMember"])(h,m);if(!b||!b.text)return Promise.reject(new Error("Message not found"));var _=Object(l["e"])(b.text,null,{for_edit:true});var g=Object(c["a"])(_,a,s,{ignoreCase:f,replaceAll:d});if(!g||g===_)return Promise.reject(new Error("Message text unchanged"));return e(Object(i["a"])({channelId:n,ts:b.ts,text:g}))});f.propTypes={channelId:a.a.string,prevWord:a.a.string,nextWord:a.a.string,ignoreCase:a.a.bool,replaceAll:a.a.bool};t["a"]=f},20534:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i="[\\s\\n\\r\\t.,'\"+!?\\-_|]";t["a"]=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=a.ignoreCase,s=a.replaceAll;if(!e||!t)return null;var c="";o&&(c+="i");s&&(c+="g");var l=Object(n["escapeRegExp"])(t);var u=new RegExp("(^|"+i+"+)(?:"+l+")(?="+i+"+|$)",c);return e.replace(u,"$1"+r)}},20535:function(e,t,r){"use strict";r.d(t,"b",function(){return i});t["a"]=o;var n=r(17290);var a=r(17297);var i=80;function o(e,t){var r=t.value,o=t.oldValue,s=void 0===o?r:o;var c=!r.trim();var l=false;var u=false;if(r!==s){if(e){var p=Object(n["getUserGroupByName"])(e,r);l=!!p}u=Object(a["a"])(r)>i}return{hasNameRequiredWarning:c,hasMaxLengthWarning:u,hasNameTakenWarning:l}}},20539:function(e,t,r){"use strict";var n=r(16971);var a=r(16979);var i=r(16925);var o=r(17430);var s=r(16926);var c=r(20308);var l=r(17163);var u=r(17040);var p=r(17086);var f=r(20405);var d=r(16966);var v=void 0;function h(){"undefined"===typeof v&&(v=Object(p["a"])(100));return v}var m={};var b={};var _=false;var g=27e5;var y="MIN-VERSION";var O=Object(s["b"])("Calls rtm.shouldReload and possibly reloads",function(e,t){if(_)return;var r=t();var a=Object(i["getTeamId"])(r);b[a]=Date.now();e(Object(n["info"])(y,"checking to see if we should reload"));h()&&Object(f["c"])("mvp_m_check");e(Object(c["a"])({reason:"polling"})).then(function(t){if(!t||!t.should_reload){e(Object(n["info"])(y,"no need to reload"));return}if(_)return;_=true;if(!document.hasFocus()){h()&&Object(f["c"])("mvp_m_shouldreload_immediate");var r="rtm.shouldReload told us to reload, and the window is not currently focused";e(Object(n["info"])(y,r));Object(l["a"])({reason:r});return}h()&&Object(f["c"])("mvp_m_shouldreload_will_defer");e(Object(n["info"])(y,"rtm.shouldReload told us to reload; will reload next time the window loses focus"));var a=true;window.addEventListener("blur",function(){h()&&Object(f["c"])("mvp_m_shouldreload_did_defer");var t="rtm.shouldReload told us to reload earlier, and the window lost focus";e(Object(n["info"])(y,t));Object(l["a"])({reason:t})},a)}).catch(function(){e(Object(n["warn"])(y,"rtm.shouldReload check failed; ignoring since we will try again later"))})});function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.wasFastReconnect;var r=arguments[1];var n=arguments[2];if(t)return;var a=n();var s=Object(i["getTeamId"])(a);if(!m[s]){var c=Object(o["a"])(g,.8,1.2);m[s]=setInterval(function(){r(O())},c);Object(u["c"])(s,"minVersionPoll",{checkNow:function e(){return r(O())},getLastPollTime:function e(){return b[s]},getShouldReloadOnBlur:function e(){return _},timer:m[s]})}}Object(d["b"])({actions:[a["connected"]],sideEffect:E})},20545:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(12159);var c=r.n(s);var l=r(8);var u=r.n(l);var p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h={children:o.a.node.isRequired,index:o.a.number.isRequired,isSelected:o.a.bool,onMouseOver:o.a.func};var m={isSelected:false,onMouseOver:n["noop"]};var b=function(e){v(t,e);function t(){f(this,t);var e=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.handleMouseOver=e.handleMouseOver.bind(e);e.resultRef=Object(s["createRef"])();return e}p(t,[{key:"componentDidUpdate",value:function e(){var t=this.props.isSelected;t&&this.resultRef.current.scrollIntoView({block:"nearest"})}},{key:"handleMouseOver",value:function e(){var t=this.props,r=t.index,n=t.onMouseOver;n(r)}},{key:"render",value:function e(){var t=this.props,r=t.children,n=t.isSelected;var a=u()("tab_complete_ui_item","c-texty_autocomplete__result",{"c-texty_autocomplete__result--selected":n});return c.a.createElement("li",{className:a,onMouseOver:this.handleMouseOver,ref:this.resultRef},r)}}]);return t}(s["PureComponent"]);b.displayName="TextyAutocompleteResult";b.propTypes=h;b.defaultProps=m;t["a"]=b},20557:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n="@SLACK_TEST_ONLY_MODIFY_STATE";var a=function e(t){return function(e){for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];function o(t,r){if(r&&r.type===n)return r.payload;for(var a=arguments.length,i=Array(a>2?a-2:0),o=2;o<a;o++)i[o-2]=arguments[o];return e.apply(void 0,[t,r].concat(i))}return t.apply(void 0,[o].concat(a))}};t["b"]=a},20558:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(20511);var a=r(20559);r.d(t,"accessibility",function(){return a["a"]});r.d(t,"allUnreads",function(){return a["b"]});r.d(t,"bootData",function(){return a["c"]});r.d(t,"channelSidebarFolders",function(){return a["e"]});r.d(t,"channelSidebar",function(){return a["d"]});r.d(t,"checkoutFlow",function(){return a["f"]});r.d(t,"customEmoji",function(){return a["g"]});r.d(t,"deletedMessages",function(){return a["h"]});r.d(t,"desktop",function(){return a["i"]});r.d(t,"dnd",function(){return a["j"]});r.d(t,"downloads",function(){return a["k"]});r.d(t,"expandables",function(){return a["l"]});r.d(t,"explore",function(){return a["m"]});r.d(t,"fileRefresh",function(){return a["n"]});r.d(t,"fileUpdate",function(){return a["o"]});r.d(t,"fileUpload",function(){return a["p"]});r.d(t,"filesFlexpane",function(){return a["q"]});r.d(t,"flexpane",function(){return a["r"]});r.d(t,"globalNav",function(){return a["s"]});r.d(t,"i18N",function(){return a["t"]});r.d(t,"incrementalBoot",function(){return a["u"]});r.d(t,"inlineFilePreviews",function(){return a["v"]});r.d(t,"messageEdit",function(){return a["w"]});r.d(t,"messagePaneBanner",function(){return a["y"]});r.d(t,"messagePane",function(){return a["x"]});r.d(t,"modal",function(){return a["z"]});r.d(t,"navigationHistory",function(){return a["A"]});r.d(t,"noop",function(){return a["B"]});r.d(t,"pendingOpenChannel",function(){return a["C"]});r.d(t,"prefs",function(){return a["D"]});r.d(t,"presence",function(){return a["E"]});r.d(t,"pricingPlans",function(){return a["F"]});r.d(t,"searchAutocomplete",function(){return a["G"]});r.d(t,"searchInputBox",function(){return a["H"]});r.d(t,"searchResults",function(){return a["I"]});r.d(t,"searchUi",function(){return a["J"]});r.d(t,"slashCommand",function(){return a["K"]});r.d(t,"socket",function(){return a["L"]});r.d(t,"threadSub",function(){return a["M"]});r.d(t,"threadsFlexpane",function(){return a["N"]});r.d(t,"toast",function(){return a["O"]});r.d(t,"typing",function(){return a["P"]});r.d(t,"usersCounts",function(){return a["Q"]});r.d(t,"workspace",function(){return a["R"]});var i=r(20560);r.d(t,"adminMembers",function(){return i["a"]});r.d(t,"appActions",function(){return i["b"]});r.d(t,"appPermissions",function(){return i["c"]});r.d(t,"appProfiles",function(){return i["d"]});r.d(t,"apps",function(){return i["e"]});r.d(t,"bots",function(){return i["f"]});r.d(t,"calls",function(){return i["g"]});r.d(t,"channelsMeta",function(){return i["k"]});r.d(t,"canvases",function(){return i["h"]});r.d(t,"developerActions",function(){return i["l"]});r.d(t,"emoji",function(){return i["m"]});r.d(t,"enterprise",function(){return i["n"]});r.d(t,"environment",function(){return i["o"]});r.d(t,"idpGroups",function(){return i["q"]});r.d(t,"lastNetworkSend",function(){return i["r"]});r.d(t,"memberCounts",function(){return i["s"]});r.d(t,"membership",function(){return i["u"]});r.d(t,"messagesMeta",function(){return i["w"]});r.d(t,"sliRealtimePriority",function(){return i["z"]});r.d(t,"teamId",function(){return i["A"]});r.d(t,"teams",function(){return i["B"]});r.d(t,"userGroups",function(){return i["C"]});r.d(t,"window",function(){return i["D"]});r.d(t,"notifications",function(){return i["x"]});r.d(t,"reactions",function(){return i["y"]});r.d(t,"channelHistory",function(){return i["i"]});r.d(t,"channels",function(){return i["j"]});r.d(t,"files",function(){return i["p"]});r.d(t,"members",function(){return i["t"]});r.d(t,"messages",function(){return i["v"]})},20559:function(e,t,r){"use strict";var n=r(17957);r.d(t,"a",function(){return n["default"]});var a=r(17409);r.d(t,"b",function(){return a["default"]});var i=r(16913);r.d(t,"c",function(){return i["default"]});var o=r(17728);r.d(t,"e",function(){return o["default"]});var s=r(17039);r.d(t,"d",function(){return s["default"]});var c=r(17684);r.d(t,"f",function(){return c["default"]});var l=r(17334);r.d(t,"g",function(){return l["default"]});var u=r(17282);r.d(t,"h",function(){return u["default"]});var p=r(15861);r.d(t,"i",function(){return p["default"]});var f=r(17153);r.d(t,"j",function(){return f["default"]});var d=r(17946);r.d(t,"k",function(){return d["default"]});var v=r(17016);r.d(t,"l",function(){return v["default"]});var h=r(17411);r.d(t,"m",function(){return h["default"]});var m=r(17151);r.d(t,"n",function(){return m["default"]});var b=r(17205);r.d(t,"o",function(){return b["default"]});var _=r(17970);r.d(t,"p",function(){return _["default"]});var g=r(17289);r.d(t,"q",function(){return g["default"]});var y=r(17410);r.d(t,"r",function(){return y["default"]});var O=r(20529);r.d(t,"s",function(){return O["default"]});var E=r(17953);r.d(t,"t",function(){return E["default"]});var j=r(17722);r.d(t,"u",function(){return j["default"]});var k=r(17679);r.d(t,"v",function(){return k["default"]});var w=r(17120);r.d(t,"w",function(){return w["default"]});var C=r(17737);r.d(t,"y",function(){return C["default"]});var S=r(16967);r.d(t,"x",function(){return S["default"]});var T=r(16949);r.d(t,"z",function(){return T["default"]});var I=r(15852);r.d(t,"A",function(){return I["default"]});var N=r(18141);r.d(t,"B",function(){return N["default"]});var A=r(17934);r.d(t,"C",function(){return A["default"]});var P=r(16922);r.d(t,"D",function(){return P["default"]});var R=r(17069);r.d(t,"E",function(){return R["default"]});var M=r(17738);r.d(t,"F",function(){return M["default"]});var x=r(17730);r.d(t,"G",function(){return x["default"]});var L=r(17328);r.d(t,"H",function(){return L["default"]});var D=r(17121);r.d(t,"I",function(){return D["default"]});var F=r(17122);r.d(t,"J",function(){return F["default"]});var B=r(17976);r.d(t,"K",function(){return B["default"]});var U=r(16979);r.d(t,"L",function(){return U["default"]});var H=r(17733);r.d(t,"M",function(){return H["default"]});var q=r(17971);r.d(t,"N",function(){return q["default"]});var G=r(17049);r.d(t,"O",function(){return G["default"]});var W=r(17403);r.d(t,"P",function(){return W["default"]});var V=r(17935);r.d(t,"Q",function(){return V["default"]});var K=r(20618);r.d(t,"R",function(){return K["default"]})},20560:function(e,t,r){"use strict";var n=r(19780);r.d(t,"a",function(){return n["default"]});var a=r(17123);r.d(t,"b",function(){return a["default"]});var i=r(17056);r.d(t,"c",function(){return i["default"]});var o=r(17048);r.d(t,"d",function(){return o["default"]});var s=r(17164);r.d(t,"e",function(){return s["default"]});var c=r(16974);r.d(t,"f",function(){return c["default"]});var l=r(17672);r.d(t,"g",function(){return l["default"]});var u=r(18140);r.d(t,"k",function(){return u["a"]});var p=r(17156);r.d(t,"h",function(){return p["default"]});var f=r(17682);r.d(t,"l",function(){return f["default"]});var d=r(17947);r.d(t,"m",function(){return d["default"]});var v=r(16980);r.d(t,"n",function(){return v["default"]});var h=r(17726);r.d(t,"o",function(){return h["default"]});var m=r(17330);r.d(t,"q",function(){return m["default"]});var b=r(17331);r.d(t,"r",function(){return b["default"]});var _=r(17046);r.d(t,"s",function(){return _["default"]});var g=r(17119);r.d(t,"u",function(){return g["default"]});var y=r(17059);r.d(t,"w",function(){return y["default"]});var O=r(17729);r.d(t,"z",function(){return O["default"]});var E=r(16925);r.d(t,"A",function(){return E["default"]});var j=r(16939);r.d(t,"B",function(){return j["default"]});var k=r(17290);r.d(t,"C",function(){return k["default"]});var w=r(17055);r.d(t,"D",function(){return w["default"]});var C=r(15354);r.d(t,"x",function(){return C["default"]});var S=r(15312);r.d(t,"y",function(){return S["default"]});var T=r(16992);r.d(t,"i",function(){return T["default"]});var I=r(16923);r.d(t,"j",function(){return I["default"]});var N=r(16946);r.d(t,"p",function(){return N["default"]});var A=r(16919);r.d(t,"t",function(){return A["default"]});var P=r(16930);r.d(t,"v",function(){return P["default"]})},20561:function(e,t,r){"use strict";var n=r(20572);t["a"]=[n["b"]]},20562:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n="@SLACK_STORE_RESET_ACTION_TYPE";var a=function e(t){return function(e){for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];function o(t,r){if(r.type===n)return e(void 0,r);for(var a=arguments.length,i=Array(a>2?a-2:0),o=2;o<a;o++)i[o-2]=arguments[o];return e.apply(void 0,[t,r].concat(i))}return t.apply(void 0,[o].concat(a))}};t["b"]=a},20566:function(e,t,r){"use strict";r.d(t,"a",function(){return j});var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16913);var p=r(16949);var f=r(17004);var d=r(16912);var v=r(17394);var h=r(16918);var m=r(16917);var b=r(20358);var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=new d["b"]("user_groups");var j={list:"list",details:"details"};var k={openUserGroupList:o.a.func.isRequired,openModal:o.a.func.isRequired,view:o.a.oneOf(Object(c["values"])(j)),featureSonicUserGroups:o.a.bool,featureGlobalNavFlex:o.a.bool};var w={view:j.list,featureSonicUserGroups:false,featureGlobalNavFlex:false};var C=function(e){O(t,e);function t(e){g(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.openCreateEditDialog=r.openCreateEditDialog.bind(r);return r}_(t,[{key:"openCreateEditDialog",value:function e(){this.props.openModal({element:this.renderCreateEditDialog()})}},{key:"maybeRenderDetailsHeader",value:function e(){if(!this.props.featureSonicUserGroups)return null;if(!(this.props.view===j.details))return null;return a.a.createElement(h["c"],{onClick:this.props.openUserGroupList,className:"p-user_group_header"},a.a.createElement("div",{className:"p-user_group_header__title--clickable"},a.a.createElement(m["b"],{type:"chevron-medium-left",className:"p-user_group_header__back_button"}),E.t("User Groups")))}},{key:"maybeRenderListHeader",value:function e(){if(!this.props.featureSonicUserGroups)return null;if(!(this.props.view===j.list))return null;return a.a.createElement("div",{className:"p-user_group_header"},a.a.createElement("span",{className:"p-user_group_header__title"},E.t("User Groups")),a.a.createElement(h["c"],{onClick:this.openCreateEditDialog,className:"p-user_group_header__create"},a.a.createElement(m["b"],{type:"compose-dm"})))}},{key:"renderCreateEditDialog",value:function e(){return a.a.createElement(b["a"],null)}},{key:"render",value:function e(){if(this.props.featureGlobalNavFlex)return null;return a.a.createElement(v["a"],null,this.maybeRenderDetailsHeader(),this.maybeRenderListHeader())}}]);return t}(n["Component"]);C.displayName="UserGroupsFlexpaneHeader";var S=function e(t){return{featureSonicUserGroups:Object(u["isFeatureEnabled"])(t,"feature_sonic_user_groups"),featureGlobalNavFlex:Object(u["isFeatureEnabled"])(t,"feature_global_nav_flex")}};var T=function e(t){return{openModal:function e(){return t(p["openModal"].apply(void 0,arguments))},openUserGroupList:function e(){return t(Object(f["f"])())}}};C.propTypes=k;C.defaultProps=w;t["b"]=Object(s["connect"])(S,T)(C)},20567:function(e,t,r){"use strict";r.d(t,"a",function(){return d});r.d(t,"c",function(){return v});t["b"]=h;var n=r(3);var a=r.n(n);var i=r(16915);var o=r(20468);var s=r(20469);var c=r(20435);var l=r(16922);var u=r(17707);var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var f="search_sort";var d={relevantMessages:"relevantMessages",recentMessages:"recentMessages"};var v=Object(i["e"])("Clog a search open event using data from redux",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.messageSort;e(Object(u["b"])({pref:f,value:n}));var a=t();e(Object(c["a"])(p({method:"set_sort_"+(n===d.relevantMessages?"score":"timestamp"),request_id:Object(o["a"])(a)},Object(s["a"])(a))))});v.propTypes={method:a.a.string};function h(e){var t=Object(l["getUserPref"])(e,f);"timestamp"===t&&(t=d.recentMessages);"score"===t&&(t=d.relevantMessages);return t||d.relevantMessages}},20568:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(16929);var o=r(17063);var s=r(17206);var c=Object(o["a"])("Send a slash command to the API",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.name,a=r.displayName,o=r.rest,c=r.channelId,l=r.threadTs;if(!n||!a||!c)return Promise.reject(new Error("Missing required params"));var u={command:n,disp:a,text:o,channel:c,client_token:s["a"].generateAndEnqueue()};l&&(u.thread_ts=l);return e(Object(i["a"])({method:"chat.command",args:u}))});c.propTypes={name:a.a.string.isRequired,displayName:a.a.string.isRequired,channelId:a.a.string.isRequired,rest:a.a.string,threadTs:a.a.string};t["a"]=c},20570:function(e,t,r){"use strict";t["a"]=b;var n=r(1);var a=r.n(n);var i=r(18136);var o=r(18144);var s=r(20561);var c=r(20562);var l=r(20557);var u=r(20572);var p=r(18145);var f=r(16927);var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function v(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function h(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}var m="TEST_TEAM_ID";function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=e.teamId,r=void 0===t?m:t,n=e.middlewares,b=void 0===n?o["a"]:n,_=e.customEnhancers,g=void 0===_?s["a"]:_,y=h(e,["teamId","middlewares","customEnhancers"]);var O=Object(i["a"])(d({teamId:r,middlewares:[p["b"]].concat(v(b)),customEnhancers:[].concat(v(g),[c["b"],l["b"]])},y));if(!a.a.get(O,"dispatch."+p["a"]))throw new Error("\n\t\t\tUnable to spy on dispatch in tests. You have likely added a redux\n\t\t\tstore enhancer that breaks tests. Please talk to @drew or @afong\n\t\t\tand we'll get this sorted out.\n\t\t");var E=O.dispatch[p["a"]];var j=E;var k=[];function w(e){k.push(e);for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return j.apply(void 0,[e].concat(r))}O.dispatch[p["a"]]=w;var C=d({},O,{resetState:function e(){this.dispatch({type:c["a"]});this._initStore()},modifyState:function e(t){var r=this.getState();var n=t(a.a.cloneDeep(r));this.dispatch({type:l["a"],payload:n})},getActions:function e(){return k},resetActions:function e(){k=[]},flush:O[u["a"]],mockDispatch:function e(t){var r=t(E);if(!a.a.isFunction(r))throw new Error("\n\t\t\t\t\tmockDispatch expects a factory function that returns a\n\t\t\t\t\tdispatch function, not the dispatch function itself.\n\t\t\t\t");j=r},resetDispatch:function e(){j=E},reset:function e(){this.resetDispatch();this.resetState();this.resetActions()},_isTestStore:true});Object(f["d"])(r,C);return C}},20571:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16913);var p=r(16957);var f=r(17e3);var d=r(17676);var v=r(16912);var h=r(20432);var m=r(20621);var b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=new v["b"]("user_groups");var j={userGroupName:o.a.string,userGroupHandle:o.a.string,userGroupPurpose:o.a.string,userGroupDefaultChannels:o.a.array,validateHandle:o.a.func.isRequired,validateName:o.a.func.isRequired,setFormErrors:o.a.func.isRequired,featureSonicUserGroups:o.a.bool.isRequired,onRef:o.a.func.isRequired,errors:o.a.shape({nameError:o.a.string,handleError:o.a.string,purposeError:o.a.string})};var k={userGroupId:"",userGroupName:null,userGroupHandle:null,userGroupPurpose:"",userGroupDefaultChannels:[],closeModal:c["noop"],errors:{nameError:"",handleError:"",purposeError:""}};var w=function(e){O(t,e);function t(e){g(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={name:e.userGroupName,handle:e.userGroupHandle,purpose:e.userGroupPurpose,channels:e.userGroupDefaultChannels};Object(c["bindAll"])(r,["onNameChange","onHandleChange","onPurposeChange","onChannelsUpdate","onSubmit","setUserGroupFormRef"]);return r}_(t,[{key:"componentDidMount",value:function e(){this.props.onRef(this)}},{key:"componentWillUnmount",value:function e(){this.props.onRef(void 0)}},{key:"onNameChange",value:function e(t){this.setState(function(){return{name:t}});var r=this.props.validateName({value:t,oldValue:this.props.userGroupName});this.props.setFormErrors(r)}},{key:"onHandleChange",value:function e(t){this.setState(function(){return{handle:t}});var r=this.props.validateHandle({value:t,oldValue:this.props.userGroupHandle});this.props.setFormErrors(r)}},{key:"onPurposeChange",value:function e(t){this.setState(function(){return{purpose:t}})}},{key:"onChannelsUpdate",value:function e(t){this.setState(function(){return{channels:t}})}},{key:"onSubmit",value:function e(){var t=this.defaultChannelsRef.onGetSelectedDefaultChannels();this.onChannelsUpdate(t);return b({},this.state,{channels:t})}},{key:"setUserGroupFormRef",value:function e(t){this.defaultChannelsRef=t}},{key:"hasValidationErrors",value:function e(t){return Object(c["find"])(t,function(e){return e.length})}},{key:"renderUserGroupNameField",value:function e(){var t=this;if(!this.props.featureSonicUserGroups)return null;var r=E.t("Name");var n=E.t("e.g. Accounts Team");return a.a.createElement("div",null,a.a.createElement(p["a"],{htmlFor:"name_label",id:"user_group_name",key:"user_group_name",text:r},a.a.createElement(f["a"],{name:"user_group_name",id:"name_input",placeholder:n,labelId:"user_group_name",value:this.state.name,type:"text",onChange:function e(r){return t.onNameChange(r)},errorText:this.props.errors.nameError,isRequired:true})))}},{key:"renderUserGroupHandleField",value:function e(){var t=this;if(!this.props.featureSonicUserGroups)return null;var r=E.t("e.g. accounts-team");var n=E.t("You\u2019ll use this handle to get the groups attention. It should be all lowercase, with no spaces.");var i=E.t("Handle");return a.a.createElement("div",null,a.a.createElement(p["a"],{htmlFor:"handle_label",id:"user_group_handle",key:"user_group_handle",text:i},a.a.createElement(f["a"],{name:"user_group_handle",id:"handle_input",placeholder:r,labelId:"user_group_handle",value:this.state.handle,type:"text",onChange:function e(r){return t.onHandleChange(r)},errorText:this.props.errors.handleError,hintText:n,isRequired:true})))}},{key:"renderUserGroupPurposeField",value:function e(){var t=this;if(!this.props.featureSonicUserGroups)return null;var r=250;var n=E.t("Purpose");var i=E.t("What is this group about?");return a.a.createElement("div",null,a.a.createElement(p["a"],{htmlFor:"purpose_label",id:"user_group_purpose",key:"user_group_purpose",text:n,optional:true},a.a.createElement(d["a"],{name:"user_group_purpose",id:"purpose_input",labelId:"user_group_purpose",value:this.state.purpose,type:"text",onChange:function e(r){return t.onPurposeChange(r)},errorText:this.props.errors.purposeError,hintText:i,maxCharacterLimit:r})))}},{key:"renderDefaultChannelSelect",value:function e(){var t=this;return a.a.createElement(m["a"],{selectedChannels:this.state.channels,onRef:function e(r){return t.setUserGroupFormRef(r)}})}},{key:"render",value:function e(){if(!this.props.featureSonicUserGroups)return null;return a.a.createElement("div",null,a.a.createElement("form",null,this.renderUserGroupNameField(),this.renderUserGroupHandleField(),this.renderUserGroupPurposeField(),this.renderDefaultChannelSelect()))}}]);return t}(n["PureComponent"]);w.displayName="UserGroupEditCreateForm";w.propTypes=j;w.defaultProps=k;var C=function e(t){return{validateHandle:function e(r){return Object(h["b"])(t,r)},validateName:function e(r){return Object(h["c"])(t,r)},featureSonicUserGroups:Object(u["isFeatureEnabled"])(t,"feature_sonic_user_groups")}};t["a"]=Object(s["connect"])(C)(w)},20572:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(3216);var a=r.n(n);var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function o(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e}var s="_testOnlyFlush";var c=function e(t){return function(){var e=void 0;var r=void 0;var a=function t(){r=null;e&&e();e=null};var c=function t(n){if(r)return;e=n;r=requestAnimationFrame(a)};var l=Object(n["batchedSubscribe"])(c)(t);return i({},l.apply(void 0,arguments),o({},s,a))}};t["b"]=c},20573:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(8);var l=r.n(c);var u=r(16913);var p=r(20618);var f=r(16934);var d=r(16912);var v=r(20585);var h=r(20595);var m=r(20596);var b=r(20620);var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=new d["b"]("global_nav");var j={flexName:o.a.string,featureGlobalNavFlex:o.a.bool};var k={flexName:void 0,featureGlobalNavFlex:void 0};var w=function(e){O(t,e);function t(){g(this,t);return y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}_(t,[{key:"renderTitle",value:function e(){var t=this.props,r=t.flexName,n=t.featureGlobalNavFlex;if(!n)return null;var i="p-global_nav__flex_title";switch(r){case"convo":case"thread":return a.a.createElement("h2",{className:i},E.t("Thread"));case"files":return a.a.createElement("h2",{className:i},E.t("Files"));case"stars":return a.a.createElement("h2",{className:i},E.t("Starred Items"));case"mentions":return a.a.createElement("h2",{className:i},E.t("Activity"));case"team":return a.a.createElement(b["a"],null);case"whats_new":return a.a.createElement("h2",{className:i},E.t("What\u2019s New"));case"groups":return a.a.createElement("h2",{className:i},E.t("User Groups"));case"shortcuts":return a.a.createElement("h2",{className:i},E.t("Keyboard Shortcuts"));case"downloads":return a.a.createElement("h2",{className:i},E.t("Downloads"));case"details":return a.a.createElement(m["a"],null);default:return a.a.createElement("h2",{className:i},"Unimplemented: ",r)}}},{key:"render",value:function e(){var t=this.props,r=t.flexName,n=t.featureGlobalNavFlex;if(!r||!n)return null;var i=l()({"p-global_nav__flex":true,"p-global_nav__flex--sonic":Object(f["a"])(),"p-global_nav__flex--legacy":!Object(f["a"])()});return a.a.createElement("div",{className:i},a.a.createElement(h["a"],null),this.renderTitle(),a.a.createElement(v["a"],null))}}]);return t}(n["Component"]);w.displayName="FlexHeader";w.propTypes=j;w.defaultProps=k;var C=function e(t){return{flexName:Object(p["getSecondaryView"])(t),featureGlobalNavFlex:Object(u["isFeatureEnabled"])(t,"feature_global_nav_flex")}};t["a"]=Object(s["connect"])(C)(w)},20577:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(17016);var p=r(17189);var f=r(16938);var d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b={isExpanded:o.a.bool.isRequired,more:o.a.string.isRequired,moreShowtext:o.a.string.isRequired,moreHidetext:o.a.string.isRequired,expandKey:o.a.string.isRequired,setExpanded:o.a.func,mrkdwnDoSpecials:o.a.bool};var _={setExpanded:c["noop"],mrkdwnDoSpecials:false};var g=function(e){m(t,e);function t(e){v(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onClick=r.onClick.bind(r);return r}d(t,[{key:"onClick",value:function e(t){var r=this.props,n=r.isExpanded,a=r.expandKey;t.preventDefault();t.target.blur();this.props.setExpanded({isExpanded:!n,key:a})}},{key:"renderExpandedButton",value:function e(){var t=this.props,r=t.isExpanded,n=t.moreShowtext,i=t.moreHidetext;var o=void 0;var s=void 0;var c=void 0;if(r){o=i;s="div"}else{o=n;s="span";c=" "}return a.a.createElement(s,null,c,a.a.createElement("button",{className:"c-message_attachment__text_expander",onClick:this.onClick},o))}},{key:"render",value:function e(){var t=this.props,r=t.more,n=t.isExpanded,i=t.mrkdwnDoSpecials;return a.a.createElement("span",{className:"c-message_attachment__more"},this.renderExpandedButton(),n&&a.a.createElement(f["a"],{text:r,doSpecials:i}))}}]);return t}(n["PureComponent"]);g.displayName="AttachmentTextMore";g.propTypes=b;g.defaultProps=_;var y=function e(t,r){var n=r.messageTs,a=r.id;var i=Object(p["a"])("attachmentTextMore",n,{id:a});var o=Object(u["isExpanded"])(t,i);return{isExpanded:o,expandKey:i}};var O={setExpanded:u["setExpanded"]};t["a"]=Object(s["connect"])(y,O)(g)},20578:function(e,t,r){"use strict";var n=r(20579);r.d(t,"a",function(){return n["a"]});var a=r(20598);r.d(t,"b",function(){return a["a"]})},20579:function(e,t,r){"use strict";var n=function(){function e(e,t){var r=[];var n=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){a=true;i=e}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t["a"]=function(e){if(!e)return null;var t=e.replace(/(^:|:$)/g,"").replace(/skin-tone-/i,"").split("::"),r=n(t,2),a=r[0],i=r[1];if(!a)return null;var o=void 0;i&&(o=parseInt(i,10));return{name:a,skinTone:o}}},20580:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(20581);var a=r(16928);Object(a["a"])("interop.mountMigrationBlocker",n["a"])},20581:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(9);var o=r(16954);var s=r(16927);var c=r(20582);var l=function e(t,r,n){if(!t)throw new Error("mountMigrationBlocker must be called with a teamId parameter");Object(o["a"])(a.a.createElement(i["Provider"],{store:Object(s["c"])(t)},a.a.createElement(c["a"],n)),r)};t["a"]=l},20582:function(e,t,r){"use strict";var n=r(20583);t["a"]=n["a"]},20583:function(e,t,r){"use strict";var n=r(3);var a=r.n(n);var i=r(12159);var o=r.n(i);var s=r(9);var c=r(8);var l=r.n(c);var u=r(1);var p=r.n(u);var f=r(16913);var d=r(16918);var v=r(16917);var h=r(16912);var m=r(20584);var b=r.n(m);var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=new h["b"]("migration_blocker_page");var j={large:"large",small:"small"};var k=480;var w=function e(){return window.innerWidth<=k};var C={enterpriseName:a.a.string,sendEmail:a.a.bool,teamName:a.a.string,size:a.a.oneOf(Object(u["values"])(j)),migrationID:a.a.string,isOrgOwner:a.a.bool,isWorkspaceOwner:a.a.bool,domainName:a.a.string,featureMigrationBlocker:a.a.bool.isRequired,featureMigrationStatus:a.a.bool.isRequired};var S={isOrgOwner:false,isWorkspaceOwner:false,size:j.large,enterpriseName:null,domainName:null,migrationID:null,sendEmail:false,teamName:null};var T=function(e){O(t,e);function t(e){g(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={isMobileView:false};Object(u["bindAll"])(r,["onResize"]);return r}_(t,[{key:"componentDidMount",value:function e(){this.setIsMobileView(w());window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("resize",this.onResize)}},{key:"onResize",value:function e(){this.setIsMobileView(w())}},{key:"setIsMobileView",value:function e(t){this.setState(function(){return{isMobileView:t}})}},{key:"isSmallVariationCard",value:function e(){return this.props.size===j.small}},{key:"isLargeVariationCard",value:function e(){return this.props.size===j.large}},{key:"renderMigrationTitle",value:function e(){var t=this.props,r=t.teamName,n=t.enterpriseName,a=t.featureMigrationBlocker;if(!a)return null;return o.a.createElement("span",{className:"p-migration_blocker_page__title"},E.t("The {teamName} workspace is joining {enterpriseName}!",{teamName:r,enterpriseName:n}))}},{key:"renderMigrationMessage",value:function e(){var t=this.props,r=t.enterpriseName,n=t.sendEmail,a=t.featureMigrationBlocker;if(!a)return null;return o.a.createElement("div",{className:"p-migration_blocker_page__description"},E.rt("It\u2019s moving day! Your workspace is being migrated into the <b>{enterpriseName} </b>organization, and will be temporarily unavailable until the process is complete.",{enterpriseName:r}),n?E.t(" You\u2019ll receive an email when it\u2019s all done."):"")}},{key:"renderMigrationButton",value:function e(){var t=this.props,r=t.migrationID,n=t.featureMigrationBlocker,a=t.featureMigrationStatus,i=t.isOrgOwner,s=t.isWorkspaceOwner,c=t.domainName;if(!n||!a)return null;if(!i&&!s)return null;return o.a.createElement(d["c"],{className:"p-migration_blocker_page__button",href:"http://"+c+".slack.com/migrations/"+r+"/status"},o.a.createElement("div",{className:"p-migration_blocker_page__button__text"},o.a.createElement("span",{className:"p-migration_blocker_page__button__title"},E.t("View migration status")),o.a.createElement("span",{className:"p-migration_blocker_page__button__subtitle"},E.t("Migration status is only visible for Workspace and Org Owners"))),o.a.createElement("span",{className:"sk_dark_gray"},o.a.createElement(v["b"],{type:"chevron-large-right"})))}},{key:"render",value:function e(){var t=this.props.featureMigrationBlocker;if(!t)return null;var r=l()("p-migration_blocker_page",{"p-migration_blocker_page--large":this.isLargeVariationCard(),"p-migration_blocker_page--small":this.isSmallVariationCard()});return o.a.createElement("div",{className:r,role:"button",tabIndex:"0"},o.a.createElement("div",{className:"p-migration_blocker_text"},o.a.createElement("div",{className:"p-migration_blocker_icon"}),o.a.createElement("h3",null,this.renderMigrationTitle()),this.renderMigrationMessage()),this.renderMigrationButton())}}]);return t}(i["Component"]);T.displayName="MigrationBlockerPage";T.propTypes=C;T.defaultProps=S;var I=function e(t){return{featureMigrationBlocker:Object(f["isFeatureEnabled"])(t,"feature_migration_blocker"),featureMigrationStatus:Object(f["isFeatureEnabled"])(t,"feature_migration_status_page")}};var N={};t["a"]=Object(s["connect"])(I)(T)},20584:function(e,t){},20585:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(17004);var p=r(16917);var f=r(16918);var d={closeFlexpane:o.a.func};var v={closeFlexpane:c["noop"]};var h=function e(t){return a.a.createElement(f["c"],{className:"p-global_nav__flex_btn",onClick:t.closeFlexpane},a.a.createElement(p["b"],{type:"times"}))};h.displayName="FlexClose";h.propTypes=d;h.defaultProps=v;t["a"]=Object(s["connect"])(null,{closeFlexpane:u["a"]})(h)},20586:function(e,t,r){"use strict";var n=r(20587);r.d(t,"a",function(){return n["a"]});var a=r(20588);r.d(t,"b",function(){return a["a"]});var i=r(20589);r.d(t,"c",function(){return i["a"]});var o=r(20590);r.d(t,"d",function(){return o["a"]});var s=r(20591);r.d(t,"e",function(){return s["a"]})},20587:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(16912);t["a"]=function(e,t){if(!t)return null;var r=Object(i["a"])(t);return Object(n["find"])(e,function(e){return e&&(e.name===t||e.localized===t||Object(i["a"])(e.localized)===r||Object(n["includes"])(e.aliases,t))})}},20588:function(e,t,r){"use strict";t["a"]=function(e){if(!e)return"";return e.localized||e.name||""}},20589:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t["a"]=function(e,t){var r=Object(n["omitBy"])(e,"isServer");var a=i({},r);var o={};Object(n["forEach"])(t,function(e){if(!e||!Object(n["startsWith"])(e.name,"/"))return;if(e.alias_of){o[e.alias_of]||(o[e.alias_of]=[]);o[e.alias_of].push(e.name)}else r[e.name]&&!r[e.name].canBeOverriddenByServer||(a[e.name]=i({autocomplete:true},Object(n["pickBy"])(e,n["identity"]),{isServer:true}))});Object(n["forEach"])(o,function(e,t){a[t].aliases=e});return a}},20590:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(17978);t["a"]=function(e,t){var r=Object(i["a"])(e,t);if(!Object(n["isString"])(r)||!r.trim())return{words:[],cmd:"",disp:null,rest:"",originalText:null};var a=r.trim();var o=a.split(/\s+/);var s=o[0].toLowerCase().replace(/\u2019/g,"'");var c=o[0];var l=r.substr(s.length).trim();var u=e;return{words:o,cmd:s,disp:c,rest:l,originalText:u}}},20591:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=function(){function e(e,t){var r=[];var n=true;var a=false;var i=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){a=true;i=e}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var o=/^\/s\/([^/]+)\/([^/]*)(?:\/([a-z]+)?)?$/i;t["a"]=function(e){if(!e)return null;var t=e.replace(/\uff0f/g,"/");var r=t.match(o)||[],a=i(r,4),s=a[1],c=a[2],l=a[3];if(!s)return null;var u=Object(n["includes"])(l,"g");var p=Object(n["includes"])(l,"i");return{prev:s,next:c,replaceAll:u,ignoreCase:p}}},20594:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(8);var c=r.n(s);var l=r(9);var u=r(333);var p=r(1);var f=r.n(p);var d=r(16912);var v=r(17290);var h=r(16913);var m=r(17072);var b=r(16921);var _=r(16918);var g=r(16957);var y=r(20034);var O=r(17019);var E=r(17828);var j=r(16952);var k=r(20519);var w=r.n(k);var C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var S=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function T(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function I(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function P(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=new d["b"]("user_groups");var M={featureSonicUserGroups:o.a.bool,userGroupMemberIds:o.a.array,bulkUpsertUserGroupMembers:o.a.func.isRequired};var x={featureSonicUserGroups:false,userGroupMemberIds:[]};var L=function(e){P(t,e);function t(e){N(this,t);var r=A(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={updatedGroupMembers:e.userGroupMemberIds,searchResults:[],searchQuery:"",loading:false};Object(p["bindAll"])(r,["onSearchInputChange","onClearSearch","setAddMember","setRemoveMember","setListRef","setAddedMembersTitleRef"]);r.list=null;r.addedMembersTitle=null;r.ADDED_MEMBERS_TITLE_HEIGHT=22;return r}S(t,[{key:"componentDidMount",value:function e(){Object(p["isEmpty"])(this.state.updatedGroupMembers)&&this.getMembers("")}},{key:"componentDidUpdate",value:function e(t,r){Object(p["isEqual"])(this.state.searchResults,r.searchResults)&&Object(p["isEqual"])(this.state.searchQuery,r.searchQuery)||this.list&&this.list.scrollToOffset(0);this.addedMembersTitle&&(this.ADDED_MEMBERS_TITLE_HEIGHT=this.addedMembersTitle.clientHeight)}},{key:"onSearchInputChange",value:function e(t){var r=t&&t.target&&t.target.value&&Object(p["trim"])(t.target.value);if(r){this.getMembers(r);this.setSearchQuery(r)}else this.onClearSearch()}},{key:"onClearSearch",value:function e(){Object(p["isEmpty"])(this.state.updatedGroupMembers)&&this.getMembers("");this.setSearchQuery("")}},{key:"getUpdatedUserGroupMembers",value:function e(){return this.state.updatedGroupMembers}},{key:"setSearchQuery",value:function e(t){this.setState(function(){return{searchQuery:t}})}},{key:"setSearchResults",value:function e(t){this.setState(function(){return{searchResults:t}})}},{key:"setLoading",value:function e(t){this.setState(function(){return{loading:t}})}},{key:"setRemoveMember",value:function e(t){this.setState(function(e){return{updatedGroupMembers:Object(p["without"])(e.updatedGroupMembers,t)}})}},{key:"setAddMember",value:function e(t){this.setState(function(e){return{updatedGroupMembers:[t].concat(I(e.updatedGroupMembers))}},this.onClearSearch)}},{key:"setListRef",value:function e(t){this.list=t}},{key:"setAddedMembersTitleRef",value:function e(t){this.addedMembersTitle=t}},{key:"getMembers",value:function e(t){var r=this;this.setLoading(true);return Object(m["a"])(t,{members:{include_self:true},sort:{allow_empty_query:true}}).then(function(e){var t=Object(p["filter"])(e,function(e){return e.model_ob&&!Object(b["H"])(e.model_ob)});var n=t.map(function(e){return e.model_ob.id});r.setSearchResults(n);r.setLoading(false)})}},{key:"getRowProps",value:function e(t){var r=this;if(!this.props.featureSonicUserGroups)return{};var n=this.state.updatedGroupMembers;if(Object(p["includes"])(n,t))return{onClick:function e(){return r.setRemoveMember(t)},text:R.t("Remove")};return{onClick:function e(){return r.setAddMember(t)},text:R.t("Add")}}},{key:"doDisplayGroupMembersList",value:function e(){return!this.state.searchQuery&&!!this.state.updatedGroupMembers.length}},{key:"maybeRenderAddedMembersTitle",value:function e(){if(!this.props.featureSonicUserGroups)return null;if(!this.doDisplayGroupMembersList())return null;return a.a.createElement("div",{className:"p-user_group_member_management__list_title",ref:this.setAddedMembersTitleRef},R.t("Added members"))}},{key:"renderLoadingSpinner",value:function e(){return a.a.createElement("div",{className:"full_height full_width display_flex align_items_center"},a.a.createElement(j["a"],{size:"medium",className:"inline_block full_width margin_top_200"}))}},{key:"renderRowButton",value:function e(t){var r=t.text,n=T(t,["text"]);return a.a.createElement("div",{className:"p-user_group_member_management__row_button"},a.a.createElement(_["d"],C({size:"small",type:"outline"},n),r))}},{key:"renderMemberRow",value:function e(t){var r=this.getRowProps(t),n=r.onClick,i=T(r,["onClick"]);return a.a.createElement("div",{className:"p-user_group_member_management__row_container"},a.a.createElement(_["c"],{className:"p-user_group_member_management__row",onClick:n},a.a.createElement("div",{className:"p-user_group_member_management__row_member"},a.a.createElement(y["a"],{id:t,size:"medium",showTooltip:false}))),this.renderRowButton(C({onClick:n},i)))}},{key:"renderMemberList",value:function e(){var t=this.state,r=t.searchResults,n=t.loading,a=t.updatedGroupMembers;if(n)return this.renderLoadingSpinner();if(this.doDisplayGroupMembersList())return this.renderList({items:a});if(Object(p["isEmpty"])(r))return this.renderEmptyList();return this.renderList({items:r})}},{key:"renderList",value:function e(t){var r=this;var n=t.items;var i=[].concat(n);var o=this.doDisplayGroupMembersList();return a.a.createElement(u["a"],null,function(e){var t=e.width,s=e.height;return a.a.createElement(E["a"],{width:t,height:o?s-r.ADDED_MEMBERS_TITLE_HEIGHT:s,keys:i,ref:r.setListRef,rowRenderer:function e(t){return r.renderMemberRow(n[t])}})})}},{key:"renderEmptyList",value:function e(){if(!this.props.featureSonicUserGroups)return null;return a.a.createElement("div",{className:"p-user_group_member_management__empty"},a.a.createElement("div",{className:"margin_top_100 margin_bottom_100"},R.rt("No matches found for <strong>{searchQuery}</strong>",{searchQuery:this.state.searchQuery})),a.a.createElement(_["d"],{type:"outline",size:"small",onClick:this.onClearSearch},R.t("Clear Search")))}},{key:"renderSearch",value:function e(){if(!this.props.featureSonicUserGroups)return null;var t=c()("p-user_group_member_management__search",{"p-user_group_member_management__search--no_list_title":!this.doDisplayGroupMembersList()});return a.a.createElement("div",{className:t,"data-qa-user-group-member-management-search-container":true},a.a.createElement(g["a"],{className:"bold",text:R.t("Add members"),"data-qa-user-group-member-management-search-label":true},a.a.createElement(O["a"],{placeholder:R.t("Search by name"),icon:"search",autoFocus:true,onChange:this.onSearchInputChange,value:this.state.searchQuery})))}},{key:"render",value:function e(){return a.a.createElement("div",{className:"overflow_hidden","data-qa-user-group-member-management-body":true},this.renderSearch(),a.a.createElement("div",{className:"p-user_group_member_management__list"},this.maybeRenderAddedMembersTitle(),this.renderMemberList()))}}]);return t}(n["PureComponent"]);L.displayName="UserGroupMemberManagement";L.propTypes=M;L.defaultProps=x;var D=function e(t,r){var n=r.groupId;return{featureSonicUserGroups:Object(h["isFeatureEnabled"])(t,"feature_sonic_user_groups"),userGroupMemberIds:Object(v["getUserGroupMembers"])(t,{groupId:n})}};var F=function e(t,r){var n=r.groupId;return{bulkUpsertUserGroupMembers:function e(r){return t(Object(v["bulkUpsertUserGroupMembers"])({groupId:n,users:r}))}}};t["a"]=Object(l["connect"])(D,F,null,{withRef:true})(L)},20595:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(17410);var p=r(17004);var f=r(18016);var d=r(16969);var v=r(17092);var h=r(16917);var m=r(16918);var b=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O={flexName:o.a.string,flexExtra:o.a.string,flexOrigin:o.a.string,flexOriginId:o.a.string,previewFile:o.a.func,showUserGroupList:o.a.func};var E={flexName:void 0,flexExtra:void 0,flexOrigin:void 0,flexOriginId:void 0,previewFile:c["noop"],showUserGroupList:c["noop"]};var j=function(e){y(t,e);function t(e){_(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onClick=r.onClick.bind(r);r.getOrigin=r.getOrigin.bind(r);r.openOrigin=r.openOrigin.bind(r);return r}b(t,[{key:"onClick",value:function e(){var t=this.props,r=t.flexOrigin,n=t.flexName;if(r)return this.openOrigin();switch(n){case"files":return Object(v["c"])("files");case"team":return Object(d["j"])();case"groups":return this.props.showUserGroupList();default:return null}}},{key:"getOrigin",value:function e(){var t=this.props,r=t.flexOrigin,n=t.flexName,a=t.flexExtra;if(r)return r;switch(n){case"files":return Object(f["a"])(a)?"files":null;case"team":case"groups":return a?n:null;default:return null}}},{key:"openOrigin",value:function e(){var t=this.props,r=t.flexOrigin,n=t.flexOriginId;switch(r){case"member_preview":return Object(d["j"])();case"starred_items":return Object(v["c"])("stars");case"channel_page":case"group_page":case"im_page":return Object(v["c"])("details");case"mentions":return Object(v["c"])("mentions");case"file_details":return Object(f["a"])(n)?this.props.previewFile({fileId:n}):Object(v["c"])("files");default:return null}}},{key:"render",value:function e(){var t=this.getOrigin();if(!t)return null;return a.a.createElement(m["c"],{className:"p-global_nav__flex_btn p-global_nav__flex_btn--back",onClick:this.onClick},a.a.createElement(h["b"],{type:"chevron-large-left"}))}}]);return t}(n["Component"]);j.displayName="FlexBack";j.propTypes=O;j.defaultProps=E;var k=function e(t){return{flexName:Object(c["get"])(Object(u["getFlexpaneState"])(t),"flexName"),flexExtra:Object(c["get"])(Object(u["getFlexpaneState"])(t),"flexExtra"),flexOrigin:Object(c["get"])(Object(u["getFlexpaneState"])(t),"flexOrigin"),flexOriginId:Object(c["get"])(Object(u["getFlexpaneState"])(t),"flexOriginId")}};t["a"]=Object(s["connect"])(k,{previewFile:p["b"],showUserGroupList:p["f"]})(j)},20596:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(20618);var l=r(16923);var u=r(16913);var p=r(16920);var f=r(16912);var d=new f["b"]("global_nav");var v=function e(t){var r=t.name,n=t.isChannel,i=t.featureGlobalNav;if(!i)return null;return n&&r?a.a.createElement("h2",{className:"p-global_nav__flex_title"},d.t("About {channelName}",{channelName:r})):a.a.createElement("h2",{className:"p-global_nav__flex_title"},d.t("About this conversation"))};v.propTypes={name:o.a.string,isChannel:o.a.bool,featureGlobalNav:o.a.bool};v.defaultProps={name:void 0,isChannel:true,featureGlobalNav:false};var h=function e(t){var r=Object(c["getPrimaryView"])(t);var n=Object(l["getChannelById"])(t,r);if(!n)return null;return{name:Object(p["getDisplayNameForChannel"])(t,n),isChannel:Object(p["isPrivateChannel"])(n)||Object(p["isPublicChannel"])(n),featureGlobalNav:Object(u["isFeatureEnabled"])(t,"feature_global_nav")}};t["a"]=Object(s["connect"])(h)(v)},20597:function(e,t,r){"use strict";var n=r(16960);var a=r(16912);var i=r(16942);var o=r(3);var s=r.n(o);var c=r(12159);var l=r.n(c);var u=r(17122);var p={errorType:s.a.string.isRequired,onClickRefreshSearch:s.a.func.isRequired};var f={};var d=new a["b"]("search");function v(e){var t=e.errorType,r=e.onClickRefreshSearch;if(t===u["MODULE_ERROR_STATE"].None)return null;return l.a.createElement(n["a"],{enabled:["feature_react_search"]},l.a.createElement("div",{className:"c-search_no_results"},l.a.createElement("h2",{className:"c-search__section_header"},d.t("Something went wrong")),l.a.createElement("p",null,d.t("For some reason, Slack wasn't able to complete your search."),l.a.createElement(i["a"],{onClick:r},d.t("Try again")))))}v.displayName="Error";v.propTypes=p;v.defaultProps=f;t["a"]=v},20598:function(e,t,r){"use strict";var n=r(1);var a=r.n(n);var i=r(16924);var o="alias:";t["a"]=function(e){var t={};var r={};var a=Object(i["isMac"])()?"apple":"google";Object(n["forEach"])(e,function(e,i){if(!i)return;if(Object(n["startsWith"])(e,o)){t[i]=e.slice(o.length);return}var s=void 0;Object(n["isString"])(e)?s=e:Object(n["isObject"])(e)&&(s=e[a]);if(!s)return;r[i]=s});var s={};Object(n["isEmpty"])(r)||(s.emojis=r);Object(n["isEmpty"])(t)||(s.aliases=t);return s}},20600:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s={variation:o.a.number.isRequired,includeAvatar:o.a.bool};var c={includeAvatar:false};function l(e){var t=e.variation,r=e.includeAvatar;return a.a.createElement("div",{className:"p-search_filter__placeholder_suggestion"},r?a.a.createElement("div",{className:"p-search_filter__placeholder_avatar"}):null,a.a.createElement("div",{className:"p-search_filter__placeholder_name p-search_filter__placeholder_name--"+t}))}l.displayName="PlaceholderSuggestion";l.propTypes=s;l.defaultProps=c;t["a"]=l},20617:function(e,t,r){"use strict";r.d(t,"b",function(){return i});r.d(t,"c",function(){return o});r.d(t,"a",function(){return s});var n=r(16929);var a=r(17063);var i=Object(a["a"])("Calls subscriptions.thread.add",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.channelId,i=r.threadTs,o=r.lastRead;var s="subscriptions.thread.add";var c={channel:a,thread_ts:i,last_read:o};return e(Object(n["a"])({method:s,args:c}))});var o=Object(a["a"])("Calls subscriptions.thread.remove",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.channelId,i=r.threadTs,o=r.lastRead;var s="subscriptions.thread.remove";var c={channel:a,thread_ts:i,last_read:o};return e(Object(n["a"])({method:s,args:c}))});var s=Object(a["a"])("Calls subscriptions.thread.get",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.channelId,i=r.threadTs;var o="subscriptions.thread.get";var s={channel:a,thread_ts:i};return e(Object(n["a"])({method:o,args:s}))})},20620:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(1);var l=r.n(c);var u=r(16919);var p=r(16939);var f=r(16913);var d=r(17410);var v=r(16921);var h=r(17400);var m=r(16918);var b=r(16917);var _=r(16932);var g=r(16912);var y=new g["b"]("global_nav");var O={isAdminUser:o.a.bool,isEnterprise:o.a.bool,isDetailPane:o.a.bool,featureGlobalNav:o.a.bool};var E={isAdminUser:false,isEnterprise:false,isDetailPane:false,featureGlobalNav:false};var j=function e(t){var r=t.isAdminUser,i=t.isEnterprise,o=t.isDetailPane,s=t.featureGlobalNav;if(!s)return null;var c=i?y.t("Organization Directory"):y.t("Workspace Directory");var l=r&&!o&&a.a.createElement(n["Fragment"],null,a.a.createElement(_["c"],{tip:y.t("Manage members"),position:"bottom-right"},a.a.createElement(m["c"],{href:"/admin",className:"p-global_nav__flex_btn p-global_nav__flex_btn--link"},a.a.createElement(b["b"],{type:"cog-o"}))),a.a.createElement("div",{className:"p-global_nav__flex_divider"}));return a.a.createElement(n["Fragment"],null,a.a.createElement("h2",{className:"p-global_nav__flex_title"},c),l)};j.displayName="DirectoryHeader";j.propTypes=O;j.defaultProps=E;var k=function e(t){return{isAdminUser:Object(v["w"])(Object(u["getCurrentMember"])(t)),isEnterprise:Object(h["isEnterpriseTeam"])(Object(p["getCurrentTeam"])(t)),isDetailPane:!!Object(c["get"])(Object(d["getFlexpaneState"])(t),"flexExtra"),featureGlobalNav:Object(f["isFeatureEnabled"])(t,"feature_global_nav")}};t["a"]=Object(s["connect"])(k)(j)},20621:function(e,t,r){"use strict";var n=r(12159);var a=r.n(n);var i=r(3);var o=r.n(i);var s=r(9);var c=r(16913);var l=r(1);var u=r.n(l);var p=r(16912);var f=r(16920);var d=r(16923);var v=r(16957);var h=r(17596);var m=r(17072);var b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=new p["b"]("user_groups");var j={selectedChannels:o.a.array,getChannelById:o.a.func.isRequired,featureSonicUserGroups:o.a.bool.isRequired,onRef:o.a.func.isRequired};var k={selectedChannels:[]};var w=function(e){O(t,e);function t(e){g(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={selectedChannels:r.props.selectedChannels};Object(l["bindAll"])(r,["getResultsForChannelsQuery","createSelectItems","onItemAdded","onItemRemoved"]);return r}_(t,[{key:"componentDidMount",value:function e(){this.props.onRef(this)}},{key:"componentWillUnmount",value:function e(){this.props.onRef(void 0)}},{key:"onGetSelectedDefaultChannels",value:function e(){return this.state.selectedChannels}},{key:"onItemAdded",value:function e(t){var r=this.state.selectedChannels;r.push(t.id);this.setState(function(){return{selectedChannels:r}})}},{key:"onItemRemoved",value:function e(t){var r=Object(l["remove"])(this.state.selectedChannels,function(e){return e===t.id});this.setState(function(){return{selectedChannels:r}})}},{key:"getResultsForChannelsQuery",value:function e(t){var r=this;if(!t)return Promise.resolve({items:this.createSelectItems(this.props.selectedChannels),replace_all_items:true});return Object(m["a"])(t,{channels:{include_archived:false},enterprise_channels:{remote_limit:96},tiered:true}).then(function(e){var t=r.props.selectedChannels;var n=e.map(function(e){var r=Object(f["getDisplayName"])(e.model_ob);if(-1!==t.indexOf(e.model_ob.id))return b({},e.model_ob,{label:r,preselected:true});return b({},e.model_ob,{label:r})});return{items:n}})}},{key:"createSelectItems",value:function e(t){var r=this;return Object(l["map"])(t,function(e){var t=r.props.getChannelById(e);var n=Object(f["getDisplayName"])(t);return b({},t,{label:n,preselected:true})})}},{key:"render",value:function e(){if(!this.props.featureSonicUserGroups)return null;var t=E.t("Default channels");return a.a.createElement(v["a"],{htmlFor:"default_channel_label",id:"user_group_default_channel",key:"user_group_default_channel",text:t,optional:true},a.a.createElement(h["a"],{items:this.createSelectItems(this.props.selectedChannels),dataPromise:this.getResultsForChannelsQuery,onItemAdded:this.onItemAdded,onItemRemoved:this.onItemRemoved}))}}]);return t}(n["PureComponent"]);w.displayName="UserGroupDefaultChannelPicker";w.propTypes=j;w.defaultProps=k;var C=function e(t){return{getChannelById:function e(r){return Object(d["getChannelById"])(t,r)},featureSonicUserGroups:Object(c["isFeatureEnabled"])(t,"feature_sonic_user_groups")}};t["a"]=Object(s["connect"])(C)(w)},2194:function(e,t){t=e.exports=function(e){if(e&&"object"===typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"===typeof e)return i[e];var a=String(e);var o=r[a.toLowerCase()];if(o)return o;var o=n[a.toLowerCase()];if(o)return o;if(1===a.length)return a.charCodeAt(0);return};var r=t.code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};var n=t.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(a=97;a<123;a++)r[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)r[a-48]=a;for(a=1;a<13;a++)r["f"+a]=a+111;for(a=0;a<10;a++)r["numpad "+a]=a+96;var i=t.names=t.title={};for(a in r)i[r[a]]=a;for(var o in n)r[o]=n[o]},240:function(e,t,r){var n=r(108);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},241:function(e,t,r){var n=r(242)("keys");var a=r(136);e.exports=function(e){return n[e]||(n[e]=a(e))}},242:function(e,t,r){var n=r(48);var a="__core-js_shared__";var i=n[a]||(n[a]={});e.exports=function(e){return i[e]||(i[e]={})}},243:function(e,t,r){var n=r(108);var a=r(53)("toStringTag");var i="Arguments"==n(function(){return arguments}());var o=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=o(t=Object(e),a))?r:i?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},247:function(e,t,r){var n=r(408);var a=r(275).concat("length","prototype");t.f=Object.getOwnPropertyNames||function e(t){return n(t,a)}},248:function(e,t,r){"use strict";var n=r(48);var a=r(61);var i=r(62);var o=r(53)("species");e.exports=function(e){var t=n[e];i&&t&&!t[o]&&a.f(t,o,{configurable:true,get:function(){return this}})}},249:function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},250:function(e,t,r){var n=r(107);var a=r(409);var i=r(351);var o=r(47);var s=r(67);var c=r(353);var l={};var u={};var t=e.exports=function(e,t,r,p,f){var d=f?function(){return e}:c(e);var v=n(r,p,t?2:1);var h=0;var m,b,_,g;if("function"!=typeof d)throw TypeError(e+" is not iterable!");if(i(d))for(m=s(e.length);m>h;h++){g=t?v(o(b=e[h])[0],b[1]):v(e[h]);if(g===l||g===u)return g}else for(_=d.call(e);!(b=_.next()).done;){g=a(_,v,b.value,t);if(g===l||g===u)return g}};t.BREAK=l;t.RETURN=u},251:function(e,t,r){var n=r(92);e.exports=function(e,t,r){for(var a in t)n(e,a,t[a],r);return e}},263:function(e,t,r){"use strict";t.__esModule=true;t.defaultMemoize=i;t.createSelectorCreator=s;t.createStructuredSelector=l;function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function a(e,t){return e===t}function i(e){var t=arguments.length<=1||void 0===arguments[1]?a:arguments[1];var r=null;var n=null;return function(){for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];null!==r&&r.length===i.length&&i.every(function(e,n){return t(e,r[n])})||(n=e.apply(void 0,i));r=i;return n}}function o(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"===typeof e})){var r=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return t}function s(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return function(){for(var t=arguments.length,a=Array(t),i=0;i<t;i++)a[i]=arguments[i];var s=0;var c=a.pop();var l=o(a);var u=e.apply(void 0,[function(){s++;return c.apply(void 0,arguments)}].concat(r));var p=function e(t,r){for(var a=arguments.length,i=Array(a>2?a-2:0),o=2;o<a;o++)i[o-2]=arguments[o];var s=l.map(function(e){return e.apply(void 0,[t,r].concat(i))});return u.apply(void 0,n(s))};p.resultFunc=c;p.recomputations=function(){return s};p.resetRecomputations=function(){return s=0};return p}}var c=t.createSelector=s(i);function l(e){var t=arguments.length<=1||void 0===arguments[1]?c:arguments[1];if("object"!==typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var r=Object.keys(e);return t(r.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t,n){e[r[n]]=t;return e},{})})}},273:function(e,t,r){var n=r(52);var a=r(48).document;var i=n(a)&&n(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},274:function(e,t,r){var n=r(101);var a=r(67);var i=r(160);e.exports=function(e){return function(t,r,o){var s=n(t);var c=a(s.length);var l=i(o,c);var u;if(e&&r!=r)while(c>l){u=s[l++];if(u!=u)return true}else for(;c>l;l++)if((e||l in s)&&s[l]===r)return e||l||0;return!e&&-1}}},275:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},276:function(e,t,r){var n=r(53)("iterator");var a=false;try{var i=[7][n]();i["return"]=function(){a=true};Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return false;var r=false;try{var i=[7];var o=i[n]();o.next=function(){return{done:r=true}};i[n]=function(){return o};e(i)}catch(e){}return r}},281:function(e,t,r){var n=r(52);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},2832:function(e,t,r){"use strict";var n=r(48);var a=r(81);var i=r(62);var o=r(6);var s=r(92);var c=r(197).KEY;var l=r(51);var u=r(242);var p=r(161);var f=r(136);var d=r(53);var v=r(1105);var h=r(757);var m=r(2833);var b=r(417);var _=r(47);var g=r(52);var y=r(101);var O=r(122);var E=r(135);var j=r(158);var k=r(1106);var w=r(123);var C=r(61);var S=r(159);var T=w.f;var I=C.f;var N=k.f;var A=n.Symbol;var P=n.JSON;var R=P&&P.stringify;var M="prototype";var x=d("_hidden");var L=d("toPrimitive");var D={}.propertyIsEnumerable;var F=u("symbol-registry");var B=u("symbols");var U=u("op-symbols");var H=Object[M];var q="function"==typeof A;var G=n.QObject;var W=!G||!G[M]||!G[M].findChild;var V=i&&l(function(){return 7!=j(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=T(H,t);n&&delete H[t];I(e,t,r);n&&e!==H&&I(H,t,n)}:I;var K=function(e){var t=B[e]=j(A[M]);t._k=e;return t};var z=q&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A};var Q=function e(t,r,n){t===H&&Q(U,r,n);_(t);r=O(r,true);_(n);if(a(B,r)){if(n.enumerable){a(t,x)&&t[x][r]&&(t[x][r]=false);n=j(n,{enumerable:E(0,false)})}else{a(t,x)||I(t,x,E(1,{}));t[x][r]=true}return V(t,r,n)}return I(t,r,n)};var Y=function e(t,r){_(t);var n=m(r=y(r));var a=0;var i=n.length;var o;while(i>a)Q(t,o=n[a++],r[o]);return t};var J=function e(t,r){return void 0===r?j(t):Y(j(t),r)};var X=function e(t){var r=D.call(this,t=O(t,true));if(this===H&&a(B,t)&&!a(U,t))return false;return!(r||!a(this,t)||!a(B,t)||a(this,x)&&this[x][t])||r};var Z=function e(t,r){t=y(t);r=O(r,true);if(t===H&&a(B,r)&&!a(U,r))return;var n=T(t,r);!n||!a(B,r)||a(t,x)&&t[x][r]||(n.enumerable=true);return n};var $=function e(t){var r=N(y(t));var n=[];var i=0;var o;while(r.length>i)a(B,o=r[i++])||o==x||o==c||n.push(o);return n};var ee=function e(t){var r=t===H;var n=N(r?U:y(t));var i=[];var o=0;var s;while(n.length>o)!a(B,s=n[o++])||r&&!a(H,s)||i.push(B[s]);return i};if(!q){A=function e(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0);var r=function(e){this===H&&r.call(U,e);a(this,x)&&a(this[x],t)&&(this[x][t]=false);V(this,t,E(1,e))};i&&W&&V(H,t,{configurable:true,set:r});return K(t)};s(A[M],"toString",function e(){return this._k});w.f=Z;C.f=Q;r(247).f=k.f=$;r(362).f=X;r(416).f=ee;i&&!r(157)&&s(H,"propertyIsEnumerable",X,true);v.f=function(e){return K(d(e))}}o(o.G+o.W+o.F*!q,{Symbol:A});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)d(te[re++]);for(var ne=S(d.store),ae=0;ne.length>ae;)h(ne[ae++]);o(o.S+o.F*!q,"Symbol",{for:function(e){return a(F,e+="")?F[e]:F[e]=A(e)},keyFor:function e(t){if(!z(t))throw TypeError(t+" is not a symbol!");for(var r in F)if(F[r]===t)return r},useSetter:function(){W=true},useSimple:function(){W=false}});o(o.S+o.F*!q,"Object",{create:J,defineProperty:Q,defineProperties:Y,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:ee});P&&o(o.S+o.F*(!q||l(function(){var e=A();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))})),"JSON",{stringify:function e(t){var r=[t];var n=1;var a,i;while(arguments.length>n)r.push(arguments[n++]);i=a=r[1];if(!g(a)&&void 0===t||z(t))return;b(a)||(a=function(e,t){"function"==typeof i&&(t=i.call(this,e,t));if(!z(t))return t});r[1]=a;return R.apply(P,r)}});A[M][L]||r(83)(A[M],L,A[M].valueOf);p(A,"Symbol");p(Math,"Math",true);p(n.JSON,"JSON",true)},2833:function(e,t,r){var n=r(159);var a=r(416);var i=r(362);e.exports=function(e){var t=n(e);var r=a.f;if(r){var o=r(e);var s=i.f;var c=0;var l;while(o.length>c)s.call(e,l=o[c++])&&t.push(l)}return t}},2837:function(e,t,r){var n=r(101);var a=r(123).f;r(142)("getOwnPropertyDescriptor",function(){return function e(t,r){return a(n(t),r)}})},2838:function(e,t,r){var n=r(76);var a=r(109);r(142)("getPrototypeOf",function(){return function e(t){return a(n(t))}})},2839:function(e,t,r){var n=r(76);var a=r(159);r(142)("keys",function(){return function e(t){return a(n(t))}})},2840:function(e,t,r){r(142)("getOwnPropertyNames",function(){return r(1106).f})},2841:function(e,t,r){var n=r(52);var a=r(197).onFreeze;r(142)("freeze",function(e){return function t(r){return e&&n(r)?e(a(r)):r}})},2842:function(e,t,r){var n=r(52);var a=r(197).onFreeze;r(142)("seal",function(e){return function t(r){return e&&n(r)?e(a(r)):r}})},2843:function(e,t,r){var n=r(52);var a=r(197).onFreeze;r(142)("preventExtensions",function(e){return function t(r){return e&&n(r)?e(a(r)):r}})},2844:function(e,t,r){var n=r(52);r(142)("isFrozen",function(e){return function t(r){return!n(r)||!!e&&e(r)}})},2845:function(e,t,r){var n=r(52);r(142)("isSealed",function(e){return function t(r){return!n(r)||!!e&&e(r)}})},2846:function(e,t,r){var n=r(52);r(142)("isExtensible",function(e){return function t(r){return!!n(r)&&(!e||e(r))}})},2847:function(e,t,r){var n=r(6);n(n.S+n.F,"Object",{assign:r(1107)})},2848:function(e,t,r){var n=r(6);n(n.S,"Object",{is:r(2849)})},2849:function(e,t){e.exports=Object.is||function e(t,r){return t===r?0!==t||1/t===1/r:t!=t&&r!=r}},2853:function(e,t,r){var n=r(61).f;var a=Function.prototype;var i=/^\s*function ([^ (]*)/;var o="name";o in a||r(62)&&n(a,o,{configurable:true,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},2860:function(e,t,r){var n=r(6);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},2861:function(e,t,r){var n=r(6);var a=r(48).isFinite;n(n.S,"Number",{isFinite:function e(t){return"number"==typeof t&&a(t)}})},2862:function(e,t,r){var n=r(6);n(n.S,"Number",{isInteger:r(1113)})},2863:function(e,t,r){var n=r(6);n(n.S,"Number",{isNaN:function e(t){return t!=t}})},2864:function(e,t,r){var n=r(6);var a=r(1113);var i=Math.abs;n(n.S,"Number",{isSafeInteger:function e(t){return a(t)&&i(t)<=9007199254740991}})},2865:function(e,t,r){var n=r(6);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},2866:function(e,t,r){var n=r(6);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},2869:function(e,t,r){var n=r(6);var a=r(1114);var i=Math.sqrt;var o=Math.acosh;n(n.S+n.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&Infinity==o(Infinity)),"Math",{acosh:function e(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:a(t-1+i(t-1)*i(t+1))}})},2870:function(e,t,r){var n=r(6);var a=Math.asinh;function i(e){return isFinite(e=+e)&&0!=e?e<0?-i(-e):Math.log(e+Math.sqrt(e*e+1)):e}n(n.S+n.F*!(a&&1/a(0)>0),"Math",{asinh:i})},2871:function(e,t,r){var n=r(6);var a=Math.atanh;n(n.S+n.F*!(a&&1/a(-0)<0),"Math",{atanh:function e(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},2872:function(e,t,r){var n=r(6);var a=r(762);n(n.S,"Math",{cbrt:function e(t){return a(t=+t)*Math.pow(Math.abs(t),1/3)}})},2873:function(e,t,r){var n=r(6);n(n.S,"Math",{clz32:function e(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},2874:function(e,t,r){var n=r(6);var a=Math.exp;n(n.S,"Math",{cosh:function e(t){return(a(t=+t)+a(-t))/2}})},2875:function(e,t,r){var n=r(6);var a=r(763);n(n.S+n.F*(a!=Math.expm1),"Math",{expm1:a})},2876:function(e,t,r){var n=r(6);n(n.S,"Math",{fround:r(1115)})},2877:function(e,t,r){var n=r(6);var a=Math.abs;n(n.S,"Math",{hypot:function e(t,r){var n=0;var i=0;var o=arguments.length;var s=0;var c,l;while(i<o){c=a(arguments[i++]);if(s<c){l=s/c;n=n*l*l+1;s=c}else if(c>0){l=c/s;n+=l*l}else n+=c}return Infinity===s?Infinity:s*Math.sqrt(n)}})},2878:function(e,t,r){var n=r(6);var a=Math.imul;n(n.S+n.F*r(51)(function(){return-5!=a(4294967295,5)||2!=a.length}),"Math",{imul:function e(t,r){var n=65535;var a=+t;var i=+r;var o=n&a;var s=n&i;return 0|o*s+((n&a>>>16)*s+o*(n&i>>>16)<<16>>>0)}})},2879:function(e,t,r){var n=r(6);n(n.S,"Math",{log10:function e(t){return Math.log(t)*Math.LOG10E}})},2880:function(e,t,r){var n=r(6);n(n.S,"Math",{log1p:r(1114)})},2881:function(e,t,r){var n=r(6);n(n.S,"Math",{log2:function e(t){return Math.log(t)/Math.LN2}})},2882:function(e,t,r){var n=r(6);n(n.S,"Math",{sign:r(762)})},2883:function(e,t,r){var n=r(6);var a=r(763);var i=Math.exp;n(n.S+n.F*r(51)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function e(t){return Math.abs(t=+t)<1?(a(t)-a(-t))/2:(i(t-1)-i(-t-1))*(Math.E/2)}})},2884:function(e,t,r){var n=r(6);var a=r(763);var i=Math.exp;n(n.S,"Math",{tanh:function e(t){var r=a(t=+t);var n=a(-t);return Infinity==r?1:Infinity==n?-1:(r-n)/(i(t)+i(-t))}})},2885:function(e,t,r){var n=r(6);n(n.S,"Math",{trunc:function e(t){return(t>0?Math.floor:Math.ceil)(t)}})},2886:function(e,t,r){var n=r(6);var a=r(160);var i=String.fromCharCode;var o=String.fromCodePoint;n(n.S+n.F*(!!o&&1!=o.length),"String",{fromCodePoint:function e(t){var r=[];var n=arguments.length;var o=0;var s;while(n>o){s=+arguments[o++];if(a(s,1114111)!==s)throw RangeError(s+" is not a valid code point");r.push(s<65536?i(s):i(55296+((s-=65536)>>10),s%1024+56320))}return r.join("")}})},2887:function(e,t,r){var n=r(6);var a=r(101);var i=r(67);n(n.S,"String",{raw:function e(t){var r=a(t.raw);var n=i(r.length);var o=arguments.length;var s=[];var c=0;while(n>c){s.push(String(r[c++]));c<o&&s.push(String(arguments[c]))}return s.join("")}})},2889:function(e,t,r){"use strict";var n=r(6);var a=r(347)(false);n(n.P,"String",{codePointAt:function e(t){return a(this,t)}})},2890:function(e,t,r){"use strict";var n=r(6);var a=r(67);var i=r(764);var o="endsWith";var s=""[o];n(n.P+n.F*r(765)(o),"String",{endsWith:function e(t){var r=i(this,t,o);var n=arguments.length>1?arguments[1]:void 0;var c=a(r.length);var l=void 0===n?c:Math.min(a(n),c);var u=String(t);return s?s.call(r,u,l):r.slice(l-u.length,l)===u}})},2891:function(e,t,r){"use strict";var n=r(6);var a=r(764);var i="includes";n(n.P+n.F*r(765)(i),"String",{includes:function e(t){return!!~a(this,t,i).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},2892:function(e,t,r){var n=r(6);n(n.P,"String",{repeat:r(761)})},2893:function(e,t,r){"use strict";var n=r(6);var a=r(67);var i=r(764);var o="startsWith";var s=""[o];n(n.P+n.F*r(765)(o),"String",{startsWith:function e(t){var r=i(this,t,o);var n=a(Math.min(arguments.length>1?arguments[1]:void 0,r.length));var c=String(t);return s?s.call(r,c,n):r.slice(n,n+c.length)===c}})},2915:function(e,t,r){"use strict";var n=r(6);var a=r(352);n(n.S+n.F*r(51)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function e(){var t=0;var r=arguments.length;var n=new("function"==typeof this?this:Array)(r);while(r>t)a(n,t,arguments[t++]);n.length=r;return n}})},2920:function(e,t,r){var n=r(52);var a=r(417);var i=r(53)("species");e.exports=function(e){var t;if(a(e)){t=e.constructor;"function"!=typeof t||t!==Array&&!a(t.prototype)||(t=void 0);if(n(t)){t=t[i];null===t&&(t=void 0)}}return void 0===t?Array:t}},2929:function(e,t,r){var n=r(6);n(n.P,"Array",{copyWithin:r(1117)});r(198)("copyWithin")},2930:function(e,t,r){var n=r(6);n(n.P,"Array",{fill:r(767)});r(198)("fill")},2931:function(e,t,r){"use strict";var n=r(6);var a=r(143)(5);var i="find";var o=true;i in[]&&Array(1)[i](function(){o=false});n(n.P+n.F*o,"Array",{find:function e(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}});r(198)(i)},2932:function(e,t,r){"use strict";var n=r(6);var a=r(143)(6);var i="findIndex";var o=true;i in[]&&Array(1)[i](function(){o=false});n(n.P+n.F*o,"Array",{findIndex:function e(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}});r(198)(i)},2936:function(e,t,r){r(420)("match",1,function(e,t,r){return[function r(n){"use strict";var a=e(this);var i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,a):new RegExp(n)[t](String(a))},r]})},2937:function(e,t,r){r(420)("replace",2,function(e,t,r){return[function n(a,i){"use strict";var o=e(this);var s=void 0==a?void 0:a[t];return void 0!==s?s.call(a,o,i):r.call(String(o),a,i)},r]})},2938:function(e,t,r){r(420)("search",1,function(e,t,r){return[function r(n){"use strict";var a=e(this);var i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,a):new RegExp(n)[t](String(a))},r]})},2939:function(e,t,r){r(420)("split",2,function(e,t,n){"use strict";var a=r(418);var i=n;var o=[].push;var s="split";var c="length";var l="lastIndex";if("c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[c]||2!="ab"[s](/(?:ab)*/)[c]||4!="."[s](/(.?)(.?)/)[c]||"."[s](/()()/)[c]>1||""[s](/.?/)[c]){var u=void 0===/()??/.exec("")[1];n=function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!a(e))return i.call(r,e,t);var n=[];var s=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":"");var p=0;var f=void 0===t?4294967295:t>>>0;var d=new RegExp(e.source,s+"g");var v,h,m,b,_;u||(v=new RegExp("^"+d.source+"$(?!\\s)",s));while(h=d.exec(r)){m=h.index+h[0][c];if(m>p){n.push(r.slice(p,h.index));!u&&h[c]>1&&h[0].replace(v,function(){for(_=1;_<arguments[c]-2;_++)void 0===arguments[_]&&(h[_]=void 0)});h[c]>1&&h.index<r[c]&&o.apply(n,h.slice(1));b=h[0][c];p=m;if(n[c]>=f)break}d[l]===h.index&&d[l]++}p===r[c]?!b&&d.test("")||n.push(""):n.push(r.slice(p));return n[c]>f?n.slice(0,f):n}}else"0"[s](void 0,0)[c]&&(n=function(e,t){return void 0===e&&0===t?[]:i.call(this,e,t)});return[function r(a,i){var o=e(this);var s=void 0==a?void 0:a[t];return void 0!==s?s.call(a,o,i):n.call(String(o),a,i)},n]})},2941:function(e,t,r){"use strict";var n=r(1126);var a=r(281);var i="WeakSet";r(422)(i,function(e){return function t(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function e(t){return n.def(a(this,i),t,true)}},n,false,true)},2942:function(e,t,r){"use strict";var n=r(6);var a=r(423);var i=r(772);var o=r(47);var s=r(160);var c=r(67);var l=r(52);var u=r(48).ArrayBuffer;var p=r(421);var f=i.ArrayBuffer;var d=i.DataView;var v=a.ABV&&u.isView;var h=f.prototype.slice;var m=a.VIEW;var b="ArrayBuffer";n(n.G+n.W+n.F*(u!==f),{ArrayBuffer:f});n(n.S+n.F*!a.CONSTR,b,{isView:function e(t){return v&&v(t)||l(t)&&m in t}});n(n.P+n.U+n.F*r(51)(function(){return!new f(2).slice(1,void 0).byteLength}),b,{slice:function e(t,r){if(void 0!==h&&void 0===r)return h.call(o(this),t);var n=o(this).byteLength;var a=s(t,n);var i=s(void 0===r?n:r,n);var l=new(p(this,f))(c(i-a));var u=new d(this);var v=new d(l);var m=0;while(a<i)v.setUint8(m++,u.getUint8(a++));return l}});r(248)(b)},2944:function(e,t,r){r(184)("Int8",1,function(e){return function t(r,n,a){return e(this,r,n,a)}})},2945:function(e,t,r){r(184)("Uint8",1,function(e){return function t(r,n,a){return e(this,r,n,a)}})},2946:function(e,t,r){r(184)("Uint8",1,function(e){return function t(r,n,a){return e(this,r,n,a)}},true)},2947:function(e,t,r){r(184)("Int16",2,function(e){return function t(r,n,a){return e(this,r,n,a)}})},2948:function(e,t,r){r(184)("Uint16",2,function(e){return function t(r,n,a){return e(this,r,n,a)}})},2949:function(e,t,r){r(184)("Int32",4,function(e){return function t(r,n,a){return e(this,r,n,a)}})},2950:function(e,t,r){r(184)("Uint32",4,function(e){return function t(r,n,a){return e(this,r,n,a)}})},2951:function(e,t,r){r(184)("Float32",4,function(e){return function t(r,n,a){return e(this,r,n,a)}})},2952:function(e,t,r){r(184)("Float64",8,function(e){return function t(r,n,a){return e(this,r,n,a)}})},2953:function(e,t,r){var n=r(6);var a=r(86);var i=r(47);var o=(r(48).Reflect||{}).apply;var s=Function.apply;n(n.S+n.F*!r(51)(function(){o(function(){})}),"Reflect",{apply:function e(t,r,n){var c=a(t);var l=i(n);return o?o(c,r,l):s.call(c,r,l)}})},2954:function(e,t,r){var n=r(6);var a=r(158);var i=r(86);var o=r(47);var s=r(52);var c=r(51);var l=r(1108);var u=(r(48).Reflect||{}).construct;var p=c(function(){function e(){}return!(u(function(){},[],e)instanceof e)});var f=!c(function(){u(function(){})});n(n.S+n.F*(p||f),"Reflect",{construct:function e(t,r){i(t);o(r);var n=arguments.length<3?t:i(arguments[2]);if(f&&!p)return u(t,r,n);if(t==n){switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3])}var c=[null];c.push.apply(c,r);return new(l.apply(t,c))}var d=n.prototype;var v=a(s(d)?d:Object.prototype);var h=Function.apply.call(t,v,r);return s(h)?h:v}})},2955:function(e,t,r){var n=r(61);var a=r(6);var i=r(47);var o=r(122);a(a.S+a.F*r(51)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function e(t,r,a){i(t);r=o(r,true);i(a);try{n.f(t,r,a);return true}catch(e){return false}}})},2956:function(e,t,r){var n=r(6);var a=r(123).f;var i=r(47);n(n.S,"Reflect",{deleteProperty:function e(t,r){var n=a(i(t),r);return!(n&&!n.configurable)&&delete t[r]}})},2958:function(e,t,r){var n=r(123);var a=r(109);var i=r(81);var o=r(6);var s=r(52);var c=r(47);function l(e,t){var r=arguments.length<3?e:arguments[2];var o,u;if(c(e)===r)return e[t];if(o=n.f(e,t))return i(o,"value")?o.value:void 0!==o.get?o.get.call(r):void 0;if(s(u=a(e)))return l(u,t,r)}o(o.S,"Reflect",{get:l})},2959:function(e,t,r){var n=r(123);var a=r(6);var i=r(47);a(a.S,"Reflect",{getOwnPropertyDescriptor:function e(t,r){return n.f(i(t),r)}})},2960:function(e,t,r){var n=r(6);var a=r(109);var i=r(47);n(n.S,"Reflect",{getPrototypeOf:function e(t){return a(i(t))}})},2961:function(e,t,r){var n=r(6);n(n.S,"Reflect",{has:function e(t,r){return r in t}})},2962:function(e,t,r){var n=r(6);var a=r(47);var i=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function e(t){a(t);return!i||i(t)}})},2963:function(e,t,r){var n=r(6);n(n.S,"Reflect",{ownKeys:r(1128)})},2964:function(e,t,r){var n=r(6);var a=r(47);var i=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function e(t){a(t);try{i&&i(t);return true}catch(e){return false}}})},2965:function(e,t,r){var n=r(61);var a=r(123);var i=r(109);var o=r(81);var s=r(6);var c=r(135);var l=r(47);var u=r(52);function p(e,t,r){var s=arguments.length<4?e:arguments[3];var f=a.f(l(e),t);var d,v;if(!f){if(u(v=i(e)))return p(v,t,r,s);f=c(0)}if(o(f,"value")){if(false===f.writable||!u(s))return false;d=a.f(s,t)||c(0);d.value=r;n.f(s,t,d);return true}return void 0!==f.set&&(f.set.call(s,r),true)}s(s.S,"Reflect",{set:p})},2966:function(e,t,r){var n=r(6);var a=r(758);a&&n(n.S,"Reflect",{setPrototypeOf:function e(t,r){a.check(t,r);try{a.set(t,r);return true}catch(e){return false}}})},2967:function(e,t,r){"use strict";var n=r(6);var a=r(274)(true);n(n.P,"Array",{includes:function e(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}});r(198)("includes")},2971:function(e,t,r){"use strict";var n=r(6);var a=r(1130);var i=r(7312);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(i),"String",{padStart:function e(t){return a(this,t,arguments.length>1?arguments[1]:void 0,true)}})},2972:function(e,t,r){"use strict";var n=r(6);var a=r(1130);var i=r(7312);n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(i),"String",{padEnd:function e(t){return a(this,t,arguments.length>1?arguments[1]:void 0,false)}})},2978:function(e,t,r){var n=r(6);var a=r(1128);var i=r(101);var o=r(123);var s=r(352);n(n.S,"Object",{getOwnPropertyDescriptors:function e(t){var r=i(t);var n=o.f;var c=a(r);var l={};var u=0;var p,f;while(c.length>u){f=n(r,p=c[u++]);void 0!==f&&s(l,p,f)}return l}})},2979:function(e,t,r){var n=r(6);var a=r(1131)(false);n(n.S,"Object",{values:function e(t){return a(t)}})},2980:function(e,t,r){var n=r(6);var a=r(1131)(true);n(n.S,"Object",{entries:function e(t){return a(t)}})},3023:function(e,t,r){var n=r(48);var a=r(6);var i=r(7312);var o=[].slice;var s=/MSIE .\./.test(i);var c=function(e){return function(t,r){var n=arguments.length>2;var a=!!n&&o.call(arguments,2);return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,a)}:t,r)}};a(a.G+a.B+a.F*s,{setTimeout:c(n.setTimeout),setInterval:c(n.setInterval)})},3024:function(e,t,r){var n=r(6);var a=r(769);n(n.G+n.B,{setImmediate:a.set,clearImmediate:a.clear})},3025:function(e,t,r){var n=r(768);var a=r(159);var i=r(92);var o=r(48);var s=r(83);var c=r(141);var l=r(53);var u=l("iterator");var p=l("toStringTag");var f=c.Array;var d={CSSRuleList:true,CSSStyleDeclaration:false,CSSValueList:false,ClientRectList:false,DOMRectList:false,DOMStringList:false,DOMTokenList:true,DataTransferItemList:false,FileList:false,HTMLAllCollection:false,HTMLCollection:false,HTMLFormElement:false,HTMLSelectElement:false,MediaList:true,MimeTypeArray:false,NamedNodeMap:false,NodeList:true,PaintRequestList:false,Plugin:false,PluginArray:false,SVGLengthList:false,SVGNumberList:false,SVGPathSegList:false,SVGPointList:false,SVGStringList:false,SVGTransformList:false,SourceBufferList:false,StyleSheetList:true,TextTrackCueList:false,TextTrackList:false,TouchList:false};for(var v=a(d),h=0;h<v.length;h++){var m=v[h];var b=d[m];var _=o[m];var g=_&&_.prototype;var y;if(g){g[u]||s(g,u,f);g[p]||s(g,p,m);c[m]=f;if(b)for(y in n)g[y]||i(g,y,n[y],true)}}},3031:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(13671);r.d(t,"persistReducer",function(){return n["a"]});var a=r(13674);r.d(t,"persistCombineReducers",function(){return a["a"]});var i=r(3036);r.d(t,"persistStore",function(){return i["a"]});var o=r(13676);r.d(t,"createMigrate",function(){return o["a"]});var s=r(3035);r.d(t,"createTransform",function(){return s["a"]});var c=r(1139);r.d(t,"getStoredState",function(){return c["a"]});var l=r(13672);r.d(t,"createPersistoid",function(){return l["a"]});var u=r(1138);r.d(t,"purgeStoredState",function(){return u["a"]});var p=r(363);r.d(t,"KEY_PREFIX",function(){return p["c"]});r.d(t,"FLUSH",function(){return p["b"]});r.d(t,"REHYDRATE",function(){return p["h"]});r.d(t,"PAUSE",function(){return p["d"]});r.d(t,"PERSIST",function(){return p["e"]});r.d(t,"PURGE",function(){return p["f"]});r.d(t,"REGISTER",function(){return p["g"]});r.d(t,"DEFAULT_VERSION",function(){return p["a"]})},3034:function(e,t){t=e.exports=r;t.getSerialize=n;function r(e,t,r,a){return JSON.stringify(e,n(t,a),r)}function n(e,t){var r=[],n=[];null==t&&(t=function(e,t){if(r[0]===t)return"[Circular ~]";return"[Circular ~."+n.slice(0,r.indexOf(t)).join(".")+"]"});return function(a,i){if(r.length>0){var o=r.indexOf(this);~o?r.splice(o+1):r.push(this);~o?n.splice(o,Infinity,a):n.push(a);~r.indexOf(i)&&(i=t.call(this,a,i))}else r.push(i);return null==e?i:e.call(this,a,i)}}},3035:function(e,t,r){"use strict";t["a"]=n;function n(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=r.whitelist||null;var a=r.blacklist||null;function i(e){if(n&&-1===n.indexOf(e))return true;if(a&&-1!==a.indexOf(e))return true;return false}return{in:function t(r,n,a){return!i(n)&&e?e(r,n,a):r},out:function e(r,n,a){return!i(n)&&t?t(r,n,a):r}}}},3036:function(e,t,r){"use strict";t["a"]=u;var n=r(295);var a=r(13671);var i=r(363);var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function s(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var c={registry:[],bootstrapped:false};var l=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;var r=arguments[1];switch(r.type){case i["g"]:return o({},t,{registry:[].concat(s(t.registry),[r.key])});case i["h"]:var n=t.registry.indexOf(r.key);var a=[].concat(s(t.registry));a.splice(n,1);return o({},t,{registry:a,bootstrapped:0===a.length});default:return t}};function u(e,t,r){var a;var s;false;var u=r||false;var p=Object(n["createStore"])(l,c,t?t.enhancer:void 0);var f=function e(t){p.dispatch({type:i["g"],key:t})};var d=function t(r,n,a){var o={type:i["h"],payload:n,err:a,key:r};e.dispatch(o);p.dispatch(o);if(u&&v.getState().bootstrapped){u();u=false}};var v=o({},p,{purge:function t(){var r=[];e.dispatch({type:i["f"],result:function e(t){r.push(t)}});return Promise.all(r)},flush:function t(){var r=[];e.dispatch({type:i["b"],result:function e(t){r.push(t)}});return Promise.all(r)},pause:function t(){e.dispatch({type:i["d"]})},persist:function t(){e.dispatch({type:i["e"],register:f,rehydrate:d})}});v.persist();return v}},3147:function(e,t){!function(t){"use strict";var r=Object.prototype;var n=r.hasOwnProperty;var a;var i="function"===typeof Symbol?Symbol:{};var o=i.iterator||"@@iterator";var s=i.asyncIterator||"@@asyncIterator";var c=i.toStringTag||"@@toStringTag";var l="object"===typeof e;var u=t.regeneratorRuntime;if(u){l&&(e.exports=u);return}u=t.regeneratorRuntime=l?e.exports:{};function p(e,t,r,n){var a=t&&t.prototype instanceof _?t:_;var i=Object.create(a.prototype);var o=new A(n||[]);i._invoke=S(e,r,o);return i}u.wrap=p;function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}var d="suspendedStart";var v="suspendedYield";var h="executing";var m="completed";var b={};function _(){}function g(){}function y(){}var O={};O[o]=function(){return this};var E=Object.getPrototypeOf;var j=E&&E(E(P([])));j&&j!==r&&n.call(j,o)&&(O=j);var k=y.prototype=_.prototype=Object.create(O);g.prototype=k.constructor=y;y.constructor=g;y[c]=g.displayName="GeneratorFunction";function w(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}u.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))};u.mark=function(e){if(Object.setPrototypeOf)Object.setPrototypeOf(e,y);else{e.__proto__=y;c in e||(e[c]="GeneratorFunction")}e.prototype=Object.create(k);return e};u.awrap=function(e){return{__await:e}};function C(e){function t(r,a,i,o){var s=f(e[r],e,a);if("throw"!==s.type){var c=s.arg;var l=c.value;if(l&&"object"===typeof l&&n.call(l,"__await"))return Promise.resolve(l.__await).then(function(e){t("next",e,i,o)},function(e){t("throw",e,i,o)});return Promise.resolve(l).then(function(e){c.value=e;i(c)},o)}o(s.arg)}var r;function a(e,n){function a(){return new Promise(function(r,a){t(e,n,r,a)})}return r=r?r.then(a,a):a()}this._invoke=a}w(C.prototype);C.prototype[s]=function(){return this};u.AsyncIterator=C;u.async=function(e,t,r,n){var a=new C(p(e,t,r,n));return u.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})};function S(e,t,r){var n=d;return function a(i,o){if(n===h)throw new Error("Generator is already running");if(n===m){if("throw"===i)throw o;return R()}r.method=i;r.arg=o;while(true){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===b)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===d){n=m;throw r.arg}r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var l=f(e,t,r);if("normal"===l.type){n=r.done?m:v;if(l.arg===b)continue;return{value:l.arg,done:r.done}}if("throw"===l.type){n=m;r.method="throw";r.arg=l.arg}}}}function T(e,t){var r=e.iterator[t.method];if(r===a){t.delegate=null;if("throw"===t.method){if(e.iterator.return){t.method="return";t.arg=a;T(e,t);if("throw"===t.method)return b}t.method="throw";t.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var n=f(r,e.iterator,t.arg);if("throw"===n.type){t.method="throw";t.arg=n.arg;t.delegate=null;return b}var i=n.arg;if(!i){t.method="throw";t.arg=new TypeError("iterator result is not an object");t.delegate=null;return b}if(!i.done)return i;t[e.resultName]=i.value;t.next=e.nextLoc;if("return"!==t.method){t.method="next";t.arg=a}t.delegate=null;return b}w(k);k[c]="Generator";k[o]=function(){return this};k.toString=function(){return"[object Generator]"};function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]);if(2 in e){t.finallyLoc=e[2];t.afterLoc=e[3]}this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal";delete t.arg;e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}];e.forEach(I,this);this.reset(true)}u.keys=function(e){var t=[];for(var r in e)t.push(r);t.reverse();return function r(){while(t.length){var n=t.pop();if(n in e){r.value=n;r.done=false;return r}}r.done=true;return r}};function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){while(++r<e.length)if(n.call(e,r)){t.value=e[r];t.done=false;return t}t.value=a;t.done=true;return t};return i.next=i}}return{next:R}}u.values=P;function R(){return{value:a,done:true}}A.prototype={constructor:A,reset:function(e){this.prev=0;this.next=0;this.sent=this._sent=a;this.done=false;this.delegate=null;this.method="next";this.arg=a;this.tryEntries.forEach(N);if(!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=a)},stop:function(){this.done=true;var e=this.tryEntries[0];var t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){s.type="throw";s.arg=e;t.next=r;if(n){t.method="next";t.arg=a}return!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];var s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc");var l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,true);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,true)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};o.type=e;o.arg=t;if(i){this.method="next";this.next=i.finallyLoc;return b}return this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;if("break"===e.type||"continue"===e.type)this.next=e.arg;else if("return"===e.type){this.rval=this.arg=e.arg;this.method="return";this.next="end"}else"normal"===e.type&&t&&(this.next=t);return b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e){this.complete(r.completion,r.afterLoc);N(r);return b}}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;N(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){this.delegate={iterator:P(e),resultName:t,nextLoc:r};"next"===this.method&&(this.arg=a);return b}}}(function(){return this}()||Function("return this")())},3216:function(e,t,r){"use strict";t.__esModule=true;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.batchedSubscribe=a;function a(e){if("function"!==typeof e)throw new Error("Expected batch to be a function.");var t=[];var r=t;function a(){r===t&&(r=t.slice())}function i(e){if("function"!==typeof e)throw new Error("Expected listener to be a function.");var t=true;a();r.push(e);return function n(){if(!t)return;t=false;a();var i=r.indexOf(e);r.splice(i,1)}}function o(){var e=t=r;for(var n=0;n<e.length;n++)e[n]()}function s(){e(o)}return function(e){return function(){var t=e.apply(void 0,arguments);var r=t.subscribe;function a(){var e=t.dispatch.apply(t,arguments);s();return e}return n({},t,{dispatch:a,subscribe:i,subscribeImmediate:r})}}}},347:function(e,t,r){var n=r(105);var a=r(106);e.exports=function(e){return function(t,r){var i=String(a(t));var o=n(r);var s=i.length;var c,l;if(o<0||o>=s)return e?"":void 0;c=i.charCodeAt(o);return c<55296||c>56319||o+1===s||(l=i.charCodeAt(o+1))<56320||l>57343?e?i.charAt(o):c:e?i.slice(o,o+2):l-56320+(c-55296<<10)+65536}}},348:function(e,t,r){"use strict";var n=r(157);var a=r(6);var i=r(92);var o=r(83);var s=r(81);var c=r(141);var l=r(349);var u=r(161);var p=r(109);var f=r(53)("iterator");var d=!([].keys&&"next"in[].keys());var v="@@iterator";var h="keys";var m="values";var b=function(){return this};e.exports=function(e,t,r,_,g,y,O){l(r,t,_);var E=function(e){if(!d&&e in C)return C[e];switch(e){case h:return function t(){return new r(this,e)};case m:return function t(){return new r(this,e)}}return function t(){return new r(this,e)}};var j=t+" Iterator";var k=g==m;var w=false;var C=e.prototype;var S=C[f]||C[v]||g&&C[g];var T=!d&&S||E(g);var I=g?k?E("entries"):T:void 0;var N="Array"==t&&C.entries||S;var A,P,R;if(N){R=p(N.call(new e));if(R!==Object.prototype&&R.next){u(R,j,true);n||s(R,f)||o(R,f,b)}}if(k&&S&&S.name!==m){w=true;T=function e(){return S.call(this)}}n&&!O||!d&&!w&&C[f]||o(C,f,T);c[t]=T;c[j]=b;if(g){A={values:k?T:E(m),keys:y?T:E(h),entries:I};if(O)for(P in A)P in C||i(C,P,A[P]);else a(a.P+a.F*(d||w),t,A)}return A}},349:function(e,t,r){"use strict";var n=r(158);var a=r(135);var i=r(161);var o={};r(83)(o,r(53)("iterator"),function(){return this});e.exports=function(e,t,r){e.prototype=n(o,{next:a(1,r)});i(e,t+" Iterator")}},350:function(e,t,r){var n=r(48).document;e.exports=n&&n.documentElement},351:function(e,t,r){var n=r(141);var a=r(53)("iterator");var i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[a]===e)}},352:function(e,t,r){"use strict";var n=r(61);var a=r(135);e.exports=function(e,t,r){t in e?n.f(e,t,a(0,r)):e[t]=r}},353:function(e,t,r){var n=r(243);var a=r(53)("iterator");var i=r(141);e.exports=r(100).getIteratorMethod=function(e){if(void 0!=e)return e[a]||e["@@iterator"]||i[n(e)]}},362:function(e,t){t.f={}.propertyIsEnumerable},363:function(e,t,r){"use strict";r.d(t,"c",function(){return n});r.d(t,"b",function(){return a});r.d(t,"h",function(){return i});r.d(t,"d",function(){return o});r.d(t,"e",function(){return s});r.d(t,"f",function(){return c});r.d(t,"g",function(){return l});r.d(t,"a",function(){return u});var n="persist:";var a="persist/FLUSH";var i="persist/REHYDRATE";var o="persist/PAUSE";var s="persist/PERSIST";var c="persist/PURGE";var l="persist/REGISTER";var u=-1},406:function(e,t,r){e.exports=!r(62)&&!r(51)(function(){return 7!=Object.defineProperty(r(273)("div"),"a",{get:function(){return 7}}).a})},407:function(e,t,r){var n=r(61);var a=r(47);var i=r(159);e.exports=r(62)?Object.defineProperties:function e(t,r){a(t);var o=i(r);var s=o.length;var c=0;var l;while(s>c)n.f(t,l=o[c++],r[l]);return t}},408:function(e,t,r){var n=r(81);var a=r(101);var i=r(274)(false);var o=r(241)("IE_PROTO");e.exports=function(e,t){var r=a(e);var s=0;var c=[];var l;for(l in r)l!=o&&n(r,l)&&c.push(l);while(t.length>s)n(r,l=t[s++])&&(~i(c,l)||c.push(l));return c}},409:function(e,t,r){var n=r(47);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){var i=e["return"];void 0!==i&&n(i.call(e));throw t}}},416:function(e,t){t.f=Object.getOwnPropertySymbols},417:function(e,t,r){var n=r(108);e.exports=Array.isArray||function e(t){return"Array"==n(t)}},418:function(e,t,r){var n=r(52);var a=r(108);var i=r(53)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==a(e))}},419:function(e,t,r){"use strict";var n=r(47);e.exports=function(){var e=n(this);var t="";e.global&&(t+="g");e.ignoreCase&&(t+="i");e.multiline&&(t+="m");e.unicode&&(t+="u");e.sticky&&(t+="y");return t}},420:function(e,t,r){"use strict";var n=r(83);var a=r(92);var i=r(51);var o=r(106);var s=r(53);e.exports=function(e,t,r){var c=s(e);var l=r(o,c,""[e]);var u=l[0];var p=l[1];if(i(function(){var t={};t[c]=function(){return 7};return 7!=""[e](t)})){a(String.prototype,e,u);n(RegExp.prototype,c,2==t?function(e,t){return p.call(e,this,t)}:function(e){return p.call(e,this)})}}},421:function(e,t,r){var n=r(47);var a=r(86);var i=r(53)("species");e.exports=function(e,t){var r=n(e).constructor;var o;return void 0===r||void 0==(o=n(r)[i])?t:a(o)}},422:function(e,t,r){"use strict";var n=r(48);var a=r(6);var i=r(92);var o=r(251);var s=r(197);var c=r(250);var l=r(249);var u=r(52);var p=r(51);var f=r(276);var d=r(161);var v=r(760);e.exports=function(e,t,r,h,m,b){var _=n[e];var g=_;var y=m?"set":"add";var O=g&&g.prototype;var E={};var j=function(e){var t=O[e];i(O,e,"delete"==e?function(e){return!(b&&!u(e))&&t.call(this,0===e?0:e)}:"has"==e?function e(r){return!(b&&!u(r))&&t.call(this,0===r?0:r)}:"get"==e?function e(r){return b&&!u(r)?void 0:t.call(this,0===r?0:r)}:"add"==e?function e(r){t.call(this,0===r?0:r);return this}:function e(r,n){t.call(this,0===r?0:r,n);return this})};if("function"==typeof g&&(b||O.forEach&&!p(function(){(new g).entries().next()}))){var k=new g;var w=k[y](b?{}:-0,1)!=k;var C=p(function(){k.has(1)});var S=f(function(e){new g(e)});var T=!b&&p(function(){var e=new g;var t=5;while(t--)e[y](t,t);return!e.has(-0)});if(!S){g=t(function(t,r){l(t,g,e);var n=v(new _,t,g);void 0!=r&&c(r,m,n[y],n);return n});g.prototype=O;O.constructor=g}if(C||T){j("delete");j("has");m&&j("get")}(T||w)&&j(y);b&&O.clear&&delete O.clear}else{g=h.getConstructor(t,e,m,y);o(g.prototype,r);s.NEED=true}d(g,e);E[e]=g;a(a.G+a.W+a.F*(g!=_),E);b||h.setStrong(g,e,m);return g}},423:function(e,t,r){var n=r(48);var a=r(83);var i=r(136);var o=i("typed_array");var s=i("view");var c=!!(n.ArrayBuffer&&n.DataView);var l=c;var u=0;var p=9;var f;var d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");while(u<p)if(f=n[d[u++]]){a(f.prototype,o,true);a(f.prototype,s,true)}else l=false;e.exports={ABV:c,CONSTR:l,TYPED:o,VIEW:s}},47:function(e,t,r){var n=r(52);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},48:function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},51:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return true}}},5160:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:true});t.default=u;var n=r(3031);var a=r(5161);var i=c(a);var o=r(3034);var s=c(o);function c(e){return e&&e.__esModule?e:{default:e}}var l=("undefined"!==typeof e,"production");function u(e){return(0,n.createTransform)(function(e){return i.default.compressToUTF16((0,s.default)(e))},function(e){if("string"!==typeof e){"production"!==l&&console.error("redux-persist-transform-compress: expected outbound state to be a string");return e}try{return JSON.parse(i.default.decompressFromUTF16(e))}catch(e){"production"!==l&&console.error("redux-persist-transform-compress: error while decompressing state",e);return null}},e)}}).call(t,r(7300))},5161:function(e,t,r){var n;var a=function(){var e=String.fromCharCode;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$";var n={};function a(e,t){if(!n[e]){n[e]={};for(var r=0;r<e.length;r++)n[e][e.charAt(r)]=r}return n[e][t]}var i={compressToBase64:function(e){if(null==e)return"";var r=i._compress(e,6,function(e){return t.charAt(e)});switch(r.length%4){default:case 0:return r;case 1:return r+"===";case 2:return r+"==";case 3:return r+"="}},decompressFromBase64:function(e){if(null==e)return"";if(""==e)return null;return i._decompress(e.length,32,function(r){return a(t,e.charAt(r))})},compressToUTF16:function(t){if(null==t)return"";return i._compress(t,15,function(t){return e(t+32)})+" "},decompressFromUTF16:function(e){if(null==e)return"";if(""==e)return null;return i._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(e){var t=i.compress(e);var r=new Uint8Array(2*t.length);for(var n=0,a=t.length;n<a;n++){var o=t.charCodeAt(n);r[2*n]=o>>>8;r[2*n+1]=o%256}return r},decompressFromUint8Array:function(t){if(null===t||void 0===t)return i.decompress(t);var r=new Array(t.length/2);for(var n=0,a=r.length;n<a;n++)r[n]=256*t[2*n]+t[2*n+1];var o=[];r.forEach(function(t){o.push(e(t))});return i.decompress(o.join(""))},compressToEncodedURIComponent:function(e){if(null==e)return"";return i._compress(e,6,function(e){return r.charAt(e)})},decompressFromEncodedURIComponent:function(e){if(null==e)return"";if(""==e)return null;e=e.replace(/ /g,"+");return i._decompress(e.length,32,function(t){return a(r,e.charAt(t))})},compress:function(t){return i._compress(t,16,function(t){return e(t)})},_compress:function(e,t,r){if(null==e)return"";var n,a,i={},o={},s="",c="",l="",u=2,p=3,f=2,d=[],v=0,h=0,m;for(m=0;m<e.length;m+=1){s=e.charAt(m);if(!Object.prototype.hasOwnProperty.call(i,s)){i[s]=p++;o[s]=true}c=l+s;if(Object.prototype.hasOwnProperty.call(i,c))l=c;else{if(Object.prototype.hasOwnProperty.call(o,l)){if(l.charCodeAt(0)<256){for(n=0;n<f;n++){v<<=1;if(h==t-1){h=0;d.push(r(v));v=0}else h++}a=l.charCodeAt(0);for(n=0;n<8;n++){v=v<<1|1&a;if(h==t-1){h=0;d.push(r(v));v=0}else h++;a>>=1}}else{a=1;for(n=0;n<f;n++){v=v<<1|a;if(h==t-1){h=0;d.push(r(v));v=0}else h++;a=0}a=l.charCodeAt(0);for(n=0;n<16;n++){v=v<<1|1&a;if(h==t-1){h=0;d.push(r(v));v=0}else h++;a>>=1}}u--;if(0==u){u=Math.pow(2,f);f++}delete o[l]}else{a=i[l];for(n=0;n<f;n++){v=v<<1|1&a;if(h==t-1){h=0;d.push(r(v));v=0}else h++;a>>=1}}u--;if(0==u){u=Math.pow(2,f);f++}i[c]=p++;l=String(s)}}if(""!==l){if(Object.prototype.hasOwnProperty.call(o,l)){if(l.charCodeAt(0)<256){for(n=0;n<f;n++){v<<=1;if(h==t-1){h=0;d.push(r(v));v=0}else h++}a=l.charCodeAt(0);for(n=0;n<8;n++){v=v<<1|1&a;if(h==t-1){h=0;d.push(r(v));v=0}else h++;a>>=1}}else{a=1;for(n=0;n<f;n++){v=v<<1|a;if(h==t-1){h=0;d.push(r(v));v=0}else h++;a=0}a=l.charCodeAt(0);for(n=0;n<16;n++){v=v<<1|1&a;if(h==t-1){h=0;d.push(r(v));v=0}else h++;a>>=1}}u--;if(0==u){u=Math.pow(2,f);f++}delete o[l]}else{a=i[l];for(n=0;n<f;n++){v=v<<1|1&a;if(h==t-1){h=0;d.push(r(v));v=0}else h++;a>>=1}}u--;if(0==u){u=Math.pow(2,f);f++}}a=2;for(n=0;n<f;n++){v=v<<1|1&a;if(h==t-1){h=0;d.push(r(v));v=0}else h++;a>>=1}while(true){v<<=1;if(h==t-1){d.push(r(v));break}h++}return d.join("")},decompress:function(e){if(null==e)return"";if(""==e)return null;return i._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(t,r,n){var a=[],i,o=4,s=4,c=3,l="",u=[],p,f,d,v,h,m,b,_={val:n(0),position:r,index:1};for(p=0;p<3;p+=1)a[p]=p;d=0;h=Math.pow(2,2);m=1;while(m!=h){v=_.val&_.position;_.position>>=1;if(0==_.position){_.position=r;_.val=n(_.index++)}d|=(v>0?1:0)*m;m<<=1}switch(i=d){case 0:d=0;h=Math.pow(2,8);m=1;while(m!=h){v=_.val&_.position;_.position>>=1;if(0==_.position){_.position=r;_.val=n(_.index++)}d|=(v>0?1:0)*m;m<<=1}b=e(d);break;case 1:d=0;h=Math.pow(2,16);m=1;while(m!=h){v=_.val&_.position;_.position>>=1;if(0==_.position){_.position=r;_.val=n(_.index++)}d|=(v>0?1:0)*m;m<<=1}b=e(d);break;case 2:return""}a[3]=b;f=b;u.push(b);while(true){if(_.index>t)return"";d=0;h=Math.pow(2,c);m=1;while(m!=h){v=_.val&_.position;_.position>>=1;if(0==_.position){_.position=r;_.val=n(_.index++)}d|=(v>0?1:0)*m;m<<=1}switch(b=d){case 0:d=0;h=Math.pow(2,8);m=1;while(m!=h){v=_.val&_.position;_.position>>=1;if(0==_.position){_.position=r;_.val=n(_.index++)}d|=(v>0?1:0)*m;m<<=1}a[s++]=e(d);b=s-1;o--;break;case 1:d=0;h=Math.pow(2,16);m=1;while(m!=h){v=_.val&_.position;_.position>>=1;if(0==_.position){_.position=r;_.val=n(_.index++)}d|=(v>0?1:0)*m;m<<=1}a[s++]=e(d);b=s-1;o--;break;case 2:return u.join("")}if(0==o){o=Math.pow(2,c);c++}if(a[b])l=a[b];else{if(b!==s)return null;l=f+f.charAt(0)}u.push(l);a[s++]=f+l.charAt(0);o--;f=l;if(0==o){o=Math.pow(2,c);c++}}}};return i}();true;!(n=function(){return a}.call(t,r,t,e),void 0!==n&&(e.exports=n))},52:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},53:function(e,t,r){var n=r(242)("wks");var a=r(136);var i=r(48).Symbol;var o="function"==typeof i;var s=e.exports=function(e){return n[e]||(n[e]=o&&i[e]||(o?i:a)("Symbol."+e))};s.store=n},6:function(e,t,r){var n=r(48);var a=r(100);var i=r(83);var o=r(92);var s=r(107);var c="prototype";var l=function(e,t,r){var u=e&l.F;var p=e&l.G;var f=e&l.S;var d=e&l.P;var v=e&l.B;var h=p?n:f?n[t]||(n[t]={}):(n[t]||{})[c];var m=p?a:a[t]||(a[t]={});var b=m[c]||(m[c]={});var _,g,y,O;p&&(r=t);for(_ in r){g=!u&&h&&void 0!==h[_];y=(g?h:r)[_];O=v&&g?s(y,n):d&&"function"==typeof y?s(Function.call,y):y;h&&o(h,_,y,e&l.U);m[_]!=y&&i(m,_,O);d&&b[_]!=y&&(b[_]=y)}};n.core=a;l.F=1;l.G=2;l.S=4;l.P=8;l.B=16;l.W=32;l.U=64;l.R=128;e.exports=l},61:function(e,t,r){var n=r(47);var a=r(406);var i=r(122);var o=Object.defineProperty;t.f=r(62)?Object.defineProperty:function e(t,r,s){n(t);r=i(r,true);n(s);if(a)try{return o(t,r,s)}catch(e){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");"value"in s&&(t[r]=s.value);return t}},62:function(e,t,r){e.exports=!r(51)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},67:function(e,t,r){var n=r(105);var a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},698:function(e,t,r){"use strict";var n=r(107);var a=r(6);var i=r(76);var o=r(409);var s=r(351);var c=r(67);var l=r(352);var u=r(353);a(a.S+a.F*!r(276)(function(e){Array.from(e)}),"Array",{from:function e(t){var r=i(t);var a="function"==typeof this?this:Array;var p=arguments.length;var f=p>1?arguments[1]:void 0;var d=void 0!==f;var v=0;var h=u(r);var m,b,_,g;d&&(f=n(f,p>2?arguments[2]:void 0,2));if(void 0==h||a==Array&&s(h)){m=c(r.length);for(b=new a(m);m>v;v++)l(b,v,d?f(r[v],v):r[v])}else for(g=h.call(r),b=new a;!(_=g.next()).done;v++)l(b,v,d?o(g,f,[_.value,v],true):_.value);b.length=v;return b}})},7298:function(e,t,r){var n={"./checkout-flow-store/index.js":17684,"./pricing-plans-store/index.js":17738,"./workspace-store/index.js":20618};function a(e){return r(i(e))}function i(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}a.keys=function e(){return Object.keys(n)};a.resolve=i;e.exports=a;a.id=7298},7299:function(e,t,r){var n={"./channel-history-store/index.js":16992,"./channels-store/index.js":16923,"./files-store/index.js":16946,"./members-store/index.js":16919,"./messages-store/index.js":16930};function a(e){return r(i(e))}function i(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}a.keys=function e(){return Object.keys(n)};a.resolve=i;e.exports=a;a.id=7299},7312:function(e,t,r){var n=r(48);var a=n.navigator;e.exports=a&&a.userAgent||""},757:function(e,t,r){var n=r(48);var a=r(100);var i=r(157);var o=r(1105);var s=r(61).f;e.exports=function(e){var t=a.Symbol||(a.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},758:function(e,t,r){var n=r(52);var a=r(47);var i=function(e,t){a(e);if(!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=r(107)(Function.call,r(123).f(Object.prototype,"__proto__").set,2);n(e,[]);t=!(e instanceof Array)}catch(e){t=true}return function e(r,a){i(r,a);t?r.__proto__=a:n(r,a);return r}}({},false):void 0),check:i}},76:function(e,t,r){var n=r(106);e.exports=function(e){return Object(n(e))}},760:function(e,t,r){var n=r(52);var a=r(758).set;e.exports=function(e,t,r){var i=t.constructor;var o;i!==r&&"function"==typeof i&&(o=i.prototype)!==r.prototype&&n(o)&&a&&a(e,o);return e}},761:function(e,t,r){"use strict";var n=r(105);var a=r(106);e.exports=function e(t){var r=String(a(this));var i="";var o=n(t);if(o<0||Infinity==o)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(r+=r))1&o&&(i+=r);return i}},762:function(e,t){e.exports=Math.sign||function e(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},763:function(e,t){var r=Math.expm1;e.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function e(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:r},764:function(e,t,r){var n=r(418);var a=r(106);e.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(a(e))}},765:function(e,t,r){var n=r(53)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{t[n]=false;return!"/./"[e](t)}catch(e){}}return true}},766:function(e,t,r){var n=r(2920);e.exports=function(e,t){return new(n(e))(t)}},767:function(e,t,r){"use strict";var n=r(76);var a=r(160);var i=r(67);e.exports=function e(t){var r=n(this);var o=i(r.length);var s=arguments.length;var c=a(s>1?arguments[1]:void 0,o);var l=s>2?arguments[2]:void 0;var u=void 0===l?o:a(l,o);while(u>c)r[c++]=t;return r}},768:function(e,t,r){"use strict";var n=r(198);var a=r(1118);var i=r(141);var o=r(101);e.exports=r(348)(Array,"Array",function(e,t){this._t=o(e);this._i=0;this._k=t},function(){var e=this._t;var t=this._k;var r=this._i++;if(!e||r>=e.length){this._t=void 0;return a(1)}if("keys"==t)return a(0,r);if("values"==t)return a(0,e[r]);return a(0,[r,e[r]])},"values");i.Arguments=i.Array;n("keys");n("values");n("entries")},769:function(e,t,r){var n=r(107);var a=r(1109);var i=r(350);var o=r(273);var s=r(48);var c=s.process;var l=s.setImmediate;var u=s.clearImmediate;var p=s.MessageChannel;var f=s.Dispatch;var d=0;var v={};var h="onreadystatechange";var m,b,_;var g=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e];t()}};var y=function(e){g.call(e.data)};if(!l||!u){l=function e(t){var r=[];var n=1;while(arguments.length>n)r.push(arguments[n++]);v[++d]=function(){a("function"==typeof t?t:Function(t),r)};m(d);return d};u=function e(t){delete v[t]};if("process"==r(108)(c))m=function(e){c.nextTick(n(g,e,1))};else if(f&&f.now)m=function(e){f.now(n(g,e,1))};else if(p){b=new p;_=b.port2;b.port1.onmessage=y;m=n(_.postMessage,_,1)}else if(s.addEventListener&&"function"==typeof postMessage&&!s.importScripts){m=function(e){s.postMessage(e+"","*")};s.addEventListener("message",y,false)}else m=h in o("script")?function(e){i.appendChild(o("script"))[h]=function(){i.removeChild(this);g.call(e)}}:function(e){setTimeout(n(g,e,1),0)}}e.exports={set:l,clear:u}},772:function(e,t,r){"use strict";var n=r(48);var a=r(62);var i=r(157);var o=r(423);var s=r(83);var c=r(251);var l=r(51);var u=r(249);var p=r(105);var f=r(67);var d=r(1127);var v=r(247).f;var h=r(61).f;var m=r(767);var b=r(161);var _="ArrayBuffer";var g="DataView";var y="prototype";var O="Wrong length!";var E="Wrong index!";var j=n[_];var k=n[g];var w=n.Math;var C=n.RangeError;var S=n.Infinity;var T=j;var I=w.abs;var N=w.pow;var A=w.floor;var P=w.log;var R=w.LN2;var M="buffer";var x="byteLength";var L="byteOffset";var D=a?"_b":M;var F=a?"_l":x;var B=a?"_o":L;function U(e,t,r){var n=new Array(r);var a=8*r-t-1;var i=(1<<a)-1;var o=i>>1;var s=23===t?N(2,-24)-N(2,-77):0;var c=0;var l=e<0||0===e&&1/e<0?1:0;var u,p,f;e=I(e);if(e!=e||e===S){p=e!=e?1:0;u=i}else{u=A(P(e)/R);if(e*(f=N(2,-u))<1){u--;f*=2}e+=u+o>=1?s/f:s*N(2,1-o);if(e*f>=2){u++;f/=2}if(u+o>=i){p=0;u=i}else if(u+o>=1){p=(e*f-1)*N(2,t);u+=o}else{p=e*N(2,o-1)*N(2,t);u=0}}for(;t>=8;n[c++]=255&p,p/=256,t-=8);u=u<<t|p;a+=t;for(;a>0;n[c++]=255&u,u/=256,a-=8);n[--c]|=128*l;return n}function H(e,t,r){var n=8*r-t-1;var a=(1<<n)-1;var i=a>>1;var o=n-7;var s=r-1;var c=e[s--];var l=127&c;var u;c>>=7;for(;o>0;l=256*l+e[s],s--,o-=8);u=l&(1<<-o)-1;l>>=-o;o+=t;for(;o>0;u=256*u+e[s],s--,o-=8);if(0===l)l=1-i;else{if(l===a)return u?NaN:c?-S:S;u+=N(2,t);l-=i}return(c?-1:1)*u*N(2,l-t)}function q(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function G(e){return[255&e]}function W(e){return[255&e,e>>8&255]}function V(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function K(e){return U(e,52,8)}function z(e){return U(e,23,4)}function Q(e,t,r){h(e[y],t,{get:function(){return this[r]}})}function Y(e,t,r,n){var a=+r;var i=d(a);if(i+t>e[F])throw C(E);var o=e[D]._b;var s=i+e[B];var c=o.slice(s,s+t);return n?c:c.reverse()}function J(e,t,r,n,a,i){var o=+r;var s=d(o);if(s+t>e[F])throw C(E);var c=e[D]._b;var l=s+e[B];var u=n(+a);for(var p=0;p<t;p++)c[l+p]=u[i?p:t-p-1]}if(o.ABV){if(!l(function(){j(1)})||!l(function(){new j(-1)})||l(function(){new j;new j(1.5);new j(NaN);return j.name!=_})){j=function e(t){u(this,j);return new T(d(t))};var X=j[y]=T[y];for(var Z=v(T),$=0,ee;Z.length>$;)(ee=Z[$++])in j||s(j,ee,T[ee]);i||(X.constructor=j)}var te=new k(new j(2));var re=k[y].setInt8;te.setInt8(0,2147483648);te.setInt8(1,2147483649);!te.getInt8(0)&&te.getInt8(1)||c(k[y],{setInt8:function e(t,r){re.call(this,t,r<<24>>24)},setUint8:function e(t,r){re.call(this,t,r<<24>>24)}},true)}else{j=function e(t){u(this,j,_);var r=d(t);this._b=m.call(new Array(r),0);this[F]=r};k=function e(t,r,n){u(this,k,g);u(t,j,g);var a=t[F];var i=p(r);if(i<0||i>a)throw C("Wrong offset!");n=void 0===n?a-i:f(n);if(i+n>a)throw C(O);this[D]=t;this[B]=i;this[F]=n};if(a){Q(j,x,"_l");Q(k,M,"_b");Q(k,x,"_l");Q(k,L,"_o")}c(k[y],{getInt8:function e(t){return Y(this,1,t)[0]<<24>>24},getUint8:function e(t){return Y(this,1,t)[0]},getInt16:function e(t){var r=Y(this,2,t,arguments[1]);return(r[1]<<8|r[0])<<16>>16},getUint16:function e(t){var r=Y(this,2,t,arguments[1]);return r[1]<<8|r[0]},getInt32:function e(t){return q(Y(this,4,t,arguments[1]))},getUint32:function e(t){return q(Y(this,4,t,arguments[1]))>>>0},getFloat32:function e(t){return H(Y(this,4,t,arguments[1]),23,4)},getFloat64:function e(t){return H(Y(this,8,t,arguments[1]),52,8)},setInt8:function e(t,r){J(this,1,t,G,r)},setUint8:function e(t,r){J(this,1,t,G,r)},setInt16:function e(t,r){J(this,2,t,W,r,arguments[2])},setUint16:function e(t,r){J(this,2,t,W,r,arguments[2])},setInt32:function e(t,r){J(this,4,t,V,r,arguments[2])},setUint32:function e(t,r){J(this,4,t,V,r,arguments[2])},setFloat32:function e(t,r){J(this,4,t,z,r,arguments[2])},setFloat64:function e(t,r){J(this,8,t,K,r,arguments[2])}})}b(j,_);b(k,g);s(k[y],o.VIEW,true);t[_]=j;t[g]=k},81:function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},83:function(e,t,r){var n=r(61);var a=r(135);e.exports=r(62)?function(e,t,r){return n.f(e,t,a(1,r))}:function(e,t,r){e[t]=r;return e}},86:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},92:function(e,t,r){var n=r(48);var a=r(83);var i=r(81);var o=r(136)("src");var s="toString";var c=Function[s];var l=(""+c).split(s);r(100).inspectSource=function(e){return c.call(e)};(e.exports=function(e,t,r,s){var c="function"==typeof r;c&&(i(r,"name")||a(r,"name",t));if(e[t]===r)return;c&&(i(r,o)||a(r,o,e[t]?""+e[t]:l.join(String(t))));if(e===n)e[t]=r;else if(s)e[t]?e[t]=r:a(e,t,r);else{delete e[t];a(e,t,r)}})(Function.prototype,s,function e(){return"function"==typeof this&&this[o]||c.call(this)})},9355:function(e,t,r){var n=r(9386);var a="object"==typeof self&&self&&self.Object===Object&&self;var i=n||a||Function("return this")();e.exports=i},9356:function(e,t){var r=Array.isArray;e.exports=r},9357:function(e,t,r){var n;var a;var i;false;e.exports=r(9570)()},9358:function(e,t,r){var n=r(9425),a=r(9430);function i(e,t){var r=a(e,t);return n(r)?r:void 0}e.exports=i},9359:function(e,t){function r(e){return null!=e&&"object"==typeof e}e.exports=r},9360:function(e,t,r){var n=r(9361),a=r(9426),i=r(9427);var o="[object Null]",s="[object Undefined]";var c=n?n.toStringTag:void 0;function l(e){if(null==e)return void 0===e?s:o;return c&&c in Object(e)?a(e):i(e)}e.exports=l},9361:function(e,t,r){var n=r(9355);var a=n.Symbol;e.exports=a},9362:function(e,t,r){"use strict";t.__esModule=true;t["default"]=o;function n(e){return e&&e.__esModule?e:{default:e}}var a=r(9524);var i=n(a);function o(e,t){return!(0,i["default"])(this.props,e)||!(0,i["default"])(this.state,t)}e.exports=t["default"]},9363:function(e,t,r){var n=r(9358);var a=n(Object,"create");e.exports=a},9364:function(e,t,r){var n=r(9435),a=r(9436),i=r(9437),o=r(9438),s=r(9439);function c(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n;c.prototype["delete"]=a;c.prototype.get=i;c.prototype.has=o;c.prototype.set=s;e.exports=c},9365:function(e,t,r){var n=r(9388);function a(e,t){var r=e.length;while(r--)if(n(e[r][0],t))return r;return-1}e.exports=a},9366:function(e,t,r){var n=r(9441);function a(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}e.exports=a},9367:function(e,t){function r(e){return e}e.exports=r},9368:function(e,t,r){var n=r(9381);var a=1/0;function i(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}e.exports=i},9369:function(e,t,r){var n;var a;var i;false;e.exports=r(9522)()},9370:function(e,t,r){"use strict";t.__esModule=true;var n=r(9384);Object.defineProperty(t,"instrument",{enumerable:true,get:function e(){return o(n).default}});Object.defineProperty(t,"ActionCreators",{enumerable:true,get:function e(){return n.ActionCreators}});Object.defineProperty(t,"ActionTypes",{enumerable:true,get:function e(){return n.ActionTypes}});var a=r(9465);Object.defineProperty(t,"persistState",{enumerable:true,get:function e(){return o(a).default}});var i=r(9516);Object.defineProperty(t,"createDevTools",{enumerable:true,get:function e(){return o(i).default}});function o(e){return e&&e.__esModule?e:{default:e}}},9371:function(e,t,r){var n=r(9372),a=r(9445),i=r(9446);function o(e){var t=-1,r=null==e?0:e.length;this.__data__=new n;while(++t<r)this.add(e[t])}o.prototype.add=o.prototype.push=a;o.prototype.has=i;e.exports=o},9372:function(e,t,r){var n=r(9422),a=r(9440),i=r(9442),o=r(9443),s=r(9444);function c(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n;c.prototype["delete"]=a;c.prototype.get=i;c.prototype.has=o;c.prototype.set=s;e.exports=c},9373:function(e,t){function r(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=r},9374:function(e,t,r){var n=r(9358),a=r(9355);var i=n(a,"Map");e.exports=i},9375:function(e,t){function r(e,t){return e.has(t)}e.exports=r},9376:function(e,t,r){var n=r(9452),a=r(9359);var i=Object.prototype;var o=i.hasOwnProperty;var s=i.propertyIsEnumerable;var c=n(function(){return arguments}())?n:function(e){return a(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},9377:function(e,t){var r=9007199254740991;function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}e.exports=n},9378:function(e,t){function r(e){var t=-1,r=Array(e.size);e.forEach(function(e){r[++t]=e});return r}e.exports=r},9379:function(e,t,r){var n=r(9471),a=r(9476),i=r(9398);function o(e){return i(e)?n(e):a(e)}e.exports=o},9380:function(e,t,r){var n=r(9356),a=r(9381);var i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;function s(e,t){if(n(e))return false;var r=typeof e;if("number"==r||"symbol"==r||"boolean"==r||null==e||a(e))return true;return o.test(e)||!i.test(e)||null!=t&&e in Object(t)}e.exports=s},9381:function(e,t,r){var n=r(9360),a=r(9359);var i="[object Symbol]";function o(e){return"symbol"==typeof e||a(e)&&n(e)==i}e.exports=o},9382:function(e,t,r){"use strict";t.__esModule=true;var n=r(952);var a=w(n);var i=r(72);var o=w(i);var s=r(95);var c=w(s);var l=r(96);var u=w(l);var p=r(189);var f=w(p);var d=r(12159);var v=w(d);var h=r(9357);var m=w(h);var b=r(9416);var _=w(b);var g=r(9576);var y=w(g);var O=r(9414);var E=w(O);var j=r(9577);var k=w(j);function w(e){return e&&e.__esModule?e:{default:e}}function C(e,t,r){var n=e.nodeType,a=e.data,i=e.collectionLimit,o=e.circularCache,s=e.keyPath,c=e.postprocessValue,l=e.sortObjectKeys;var u=[];(0,y["default"])(n,a,l,i,t,r).forEach(function(t){if(t.to)u.push(v["default"].createElement(k["default"],(0,f["default"])({},e,{key:"ItemRange--"+t.from+"-"+t.to,from:t.from,to:t.to,renderChildNodes:C})));else{var r=t.key,n=t.value;var a=-1!==o.indexOf(n);var l=v["default"].createElement(E["default"],(0,f["default"])({},e,{postprocessValue:c,collectionLimit:i},{key:"Node--"+r,keyPath:[r].concat(s),value:c(n),circularCache:[].concat(o,[n]),isCircular:a,hideRoot:false}));false!==l&&u.push(l)}});return u}function S(e){var t=!(!e.shouldExpandNode||e.isCircular)&&e.shouldExpandNode(e.keyPath,e.data,e.level);return{expanded:t}}var T=function(e){(0,u["default"])(t,e);function t(r){(0,o["default"])(this,t);var n=(0,c["default"])(this,e.call(this,r));n.handleClick=function(){n.props.expandable&&n.setState({expanded:!n.state.expanded})};n.state=S(r);return n}t.prototype.componentWillReceiveProps=function e(t){var r=S(t);S(this.props).expanded!==r.expanded&&this.setState(r)};t.prototype.shouldComponentUpdate=function e(t,r){var n=this;return!!(0,a["default"])(t).find(function(e){return"circularCache"!==e&&("keyPath"===e?t[e].join("/")!==n.props[e].join("/"):t[e]!==n.props[e])})||r.expanded!==this.state.expanded};t.prototype.render=function e(){var t=this.props,r=t.getItemString,n=t.nodeTypeIndicator,a=t.nodeType,i=t.data,o=t.hideRoot,s=t.createItemString,c=t.styling,l=t.collectionLimit,u=t.keyPath,p=t.labelRenderer,d=t.expandable;var h=this.state.expanded;var m=h||o&&0===this.props.level?C((0,f["default"])({},this.props,{level:this.props.level+1})):null;var b=v["default"].createElement("span",c("nestedNodeItemType",h),n);var g=r(a,i,b,s(i,l));var y=[u,a,h,d];return o?v["default"].createElement("li",c.apply(void 0,["rootNode"].concat(y)),v["default"].createElement("ul",c.apply(void 0,["rootNodeChildren"].concat(y)),m)):v["default"].createElement("li",c.apply(void 0,["nestedNode"].concat(y)),d&&v["default"].createElement(_["default"],{styling:c,nodeType:a,expanded:h,onClick:this.handleClick}),v["default"].createElement("label",(0,f["default"])({},c.apply(void 0,[["label","nestedNodeLabel"]].concat(y)),{onClick:this.handleClick}),p.apply(void 0,y)),v["default"].createElement("span",(0,f["default"])({},c.apply(void 0,["nestedNodeItemString"].concat(y)),{onClick:this.handleClick}),g),v["default"].createElement("ul",c.apply(void 0,["nestedNodeChildren"].concat(y)),m))};return t}(v["default"].Component);T.propTypes={getItemString:m["default"].func.isRequired,nodeTypeIndicator:m["default"].any,nodeType:m["default"].string.isRequired,data:m["default"].any,hideRoot:m["default"].bool.isRequired,createItemString:m["default"].func.isRequired,styling:m["default"].func.isRequired,collectionLimit:m["default"].number,keyPath:m["default"].arrayOf(m["default"].oneOfType([m["default"].string,m["default"].number])).isRequired,labelRenderer:m["default"].func.isRequired,shouldExpandNode:m["default"].func,level:m["default"].number.isRequired,sortObjectKeys:m["default"].oneOfType([m["default"].func,m["default"].bool]),isCircular:m["default"].bool,expandable:m["default"].bool};T.defaultProps={data:[],circularCache:[],level:0,expandable:true};t["default"]=T},9383:function(e,t){function r(e,t,r){return Math.min(Math.max(e,t),r)}e.exports=r},9384:function(e,t,r){"use strict";t.__esModule=true;t.INIT_ACTION=t.ActionCreators=t.ActionTypes=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.liftAction=y;t.liftReducerWith=O;t.unliftState=E;t.unliftStore=j;t.default=k;var i=r(9420);var o=d(i);var s=r(9459);var c=d(s);var l=r(9463);var u=d(l);var p=r(888);var f=d(p);function d(e){return e&&e.__esModule?e:{default:e}}var v=t.ActionTypes={PERFORM_ACTION:"PERFORM_ACTION",RESET:"RESET",ROLLBACK:"ROLLBACK",COMMIT:"COMMIT",SWEEP:"SWEEP",TOGGLE_ACTION:"TOGGLE_ACTION",SET_ACTIONS_ACTIVE:"SET_ACTIONS_ACTIVE",JUMP_TO_STATE:"JUMP_TO_STATE",JUMP_TO_ACTION:"JUMP_TO_ACTION",REORDER_ACTION:"REORDER_ACTION",IMPORT_STATE:"IMPORT_STATE",LOCK_CHANGES:"LOCK_CHANGES",PAUSE_RECORDING:"PAUSE_RECORDING"};var h=t.ActionCreators={performAction:function e(t){if(!(0,u.default)(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');return{type:v.PERFORM_ACTION,action:t,timestamp:Date.now()}},reset:function e(){return{type:v.RESET,timestamp:Date.now()}},rollback:function e(){return{type:v.ROLLBACK,timestamp:Date.now()}},commit:function e(){return{type:v.COMMIT,timestamp:Date.now()}},sweep:function e(){return{type:v.SWEEP}},toggleAction:function e(t){return{type:v.TOGGLE_ACTION,id:t}},setActionsActive:function e(t,r){var n=arguments.length<=2||void 0===arguments[2]||arguments[2];return{type:v.SET_ACTIONS_ACTIVE,start:t,end:r,active:n}},reorderAction:function e(t,r){return{type:v.REORDER_ACTION,actionId:t,beforeActionId:r}},jumpToState:function e(t){return{type:v.JUMP_TO_STATE,index:t}},jumpToAction:function e(t){return{type:v.JUMP_TO_ACTION,actionId:t}},importState:function e(t,r){return{type:v.IMPORT_STATE,nextLiftedState:t,noRecompute:r}},lockChanges:function e(t){return{type:v.LOCK_CHANGES,status:t}},pauseRecording:function e(t){return{type:v.PAUSE_RECORDING,status:t}}};var m=t.INIT_ACTION={type:"@@INIT"};function b(e,t,r){var n=r;var i=void 0;try{n=e(r,t)}catch(e){i=e.toString();"object"===("undefined"===typeof window?"undefined":a(window))&&("undefined"!==typeof window.chrome||"undefined"!==typeof window.process&&"renderer"===window.process.type)?setTimeout(function(){throw e}):console.error(e)}return{state:n,error:i}}function _(e,t,r,n){if(!n)return{state:e(r,t)};return b(e,t,r)}function g(e,t,r,n,a,i,o,s){if(!e||-1===t||t>=e.length&&e.length===i.length)return e;var c=e.slice(0,t);for(var l=t;l<i.length;l++){var u=i[l];var p=a[u].action;var f=c[l-1];var d=f?f.state:n;var v=o.indexOf(u)>-1;var h=void 0;h=v?f:s&&f&&f.error?{state:d,error:"Interrupted by an error up the chain"}:_(r,p,d,s);c.push(h)}return c}function y(e){return h.performAction(e)}function O(e,t,r,a){var i={monitorState:r(void 0,{}),nextActionId:1,actionsById:{0:y(m)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:true===a.shouldStartLocked,isPaused:false===a.shouldRecordChanges};return function(s,l){var u=s||i;var p=u.monitorState;var f=u.actionsById;var d=u.nextActionId;var h=u.stagedActionIds;var b=u.skippedActionIds;var O=u.committedState;var E=u.currentStateIndex;var j=u.computedStates;var k=u.isLocked;var w=u.isPaused;s||(f=n({},f));function C(e){var t=e;var r=h.slice(1,t+1);for(var n=0;n<r.length;n++){if(j[n+1].error){t=n;r=h.slice(1,t+1);break}delete f[r[n]]}b=b.filter(function(e){return-1===r.indexOf(e)});h=[0].concat(h.slice(t+1));O=j[t].state;j=j.slice(t);E=E>t?E-t:0}function S(t){var i;var o=void 0;if(t){o=j[E];p=r(p,l)}else o=_(e,l.action,j[E].state,false);if(!a.pauseActionType||1===d)return{monitorState:p,actionsById:{0:y(m)},nextActionId:1,stagedActionIds:[0],skippedActionIds:[],committedState:o.state,currentStateIndex:0,computedStates:[o],isLocked:k,isPaused:true};if(t){E===h.length-1&&E++;h=[].concat(h,[d]);d++}return{monitorState:p,actionsById:n({},f,(i={},i[d-1]=y({type:a.pauseActionType}),i)),nextActionId:d,stagedActionIds:h,skippedActionIds:b,committedState:O,currentStateIndex:E,computedStates:[].concat(j.slice(0,h.length-1),[o]),isLocked:k,isPaused:true}}var T=0;switch(l.type){case v.PERFORM_ACTION:if(k)return s||i;if(w)return S();a.maxAge&&h.length===a.maxAge&&C(1);E===h.length-1&&E++;var I=d++;f[I]=l;h=[].concat(h,[I]);T=h.length-1;break;case v.RESET:f={0:y(m)};d=1;h=[0];b=[];O=t;E=0;j=[];break;case v.COMMIT:f={0:y(m)};d=1;h=[0];b=[];O=j[E].state;E=0;j=[];break;case v.ROLLBACK:f={0:y(m)};d=1;h=[0];b=[];E=0;j=[];break;case v.TOGGLE_ACTION:var N=function(){var e=l.id;var t=b.indexOf(e);b=-1===t?[e].concat(b):b.filter(function(t){return t!==e});T=h.indexOf(e);return"break"}();if("break"===N)break;case v.SET_ACTIONS_ACTIVE:var A=l.start;var P=l.end;var R=l.active;var M=[];for(var x=A;x<P;x++)M.push(x);b=R?(0,o.default)(b,M):(0,c.default)(b,M);T=h.indexOf(A);break;case v.JUMP_TO_STATE:E=l.index;T=Infinity;break;case v.JUMP_TO_ACTION:var L=h.indexOf(l.actionId);-1!==L&&(E=L);T=Infinity;break;case v.SWEEP:h=(0,o.default)(h,b);b=[];E=Math.min(E,h.length-1);break;case v.REORDER_ACTION:var D=l.actionId;var F=h.indexOf(D);if(F<1)break;var B=l.beforeActionId;var U=h.indexOf(B);if(U<1){var H=h.length;U=B>h[H-1]?H:1}var q=F-U;if(q>0){h=[].concat(h.slice(0,U),[D],h.slice(U,F),h.slice(F+1));T=U}else if(q<0){h=[].concat(h.slice(0,F),h.slice(F+1,U),[D],h.slice(U));T=F}break;case v.IMPORT_STATE:if(Array.isArray(l.nextLiftedState)){f={0:y(m)};d=1;h=[0];b=[];E=l.nextLiftedState.length;j=[];O=l.preloadedState;T=0;l.nextLiftedState.forEach(function(e){f[d]=y(e);h.push(d);d++})}else{var G=l.nextLiftedState;p=G.monitorState;f=G.actionsById;d=G.nextActionId;h=G.stagedActionIds;b=G.skippedActionIds;O=G.committedState;E=G.currentStateIndex;j=G.computedStates;l.noRecompute&&(T=Infinity)}break;case v.LOCK_CHANGES:k=l.status;T=Infinity;break;case v.PAUSE_RECORDING:w=l.status;if(w)return S(true);f={0:y(m)};d=1;h=[0];b=[];O=j[E].state;E=0;j=[];break;case"@@redux/INIT":if(false===a.shouldHotReload){f={0:y(m)};d=1;h=[0];b=[];O=0===j.length?t:j[E].state;E=0;j=[]}T=0;if(a.maxAge&&h.length>a.maxAge){j=g(j,T,e,O,f,h,b,a.shouldCatchErrors);C(h.length-a.maxAge);T=Infinity}break;default:T=Infinity;break}j=g(j,T,e,O,f,h,b,a.shouldCatchErrors);p=r(p,l);return{monitorState:p,actionsById:f,nextActionId:d,stagedActionIds:h,skippedActionIds:b,committedState:O,currentStateIndex:E,computedStates:j,isLocked:k,isPaused:w}}}function E(e){var t=e.computedStates;var r=e.currentStateIndex;var n=t[r].state;return n}function j(e,t){var r;var i=void 0;function o(){var t=E(e.getState());void 0!==t&&(i=t);return i}return n({},e,(r={liftedStore:e,dispatch:function t(r){e.dispatch(y(r));return r},getState:o,replaceReducer:function r(n){e.replaceReducer(t(n))}},r[f.default]=function(){return n({},e[f.default](),{subscribe:function t(r){if("object"!==("undefined"===typeof r?"undefined":a(r)))throw new TypeError("Expected the observer to be an object.");function n(){r.next&&r.next(o())}n();var i=e.subscribe(n);return{unsubscribe:i}}})},r))}function k(){var e=arguments.length<=0||void 0===arguments[0]?function(){return null}:arguments[0];var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(null!=t.maxAge&&t.maxAge<2)throw new Error("DevTools.instrument({ maxAge }) option, if specified, may not be less than 2.");return function(r){return function(n,a,i){function o(r){if("function"!==typeof r){if(r&&"function"===typeof r.default)throw new Error('Expected the reducer to be a function. Instead got an object with a "default" field. Did you pass a module instead of the default export? Try passing require(...).default instead.');throw new Error("Expected the reducer to be a function.")}return O(r,a,e,t)}var s=r(o(n),i);if(s.liftedStore)throw new Error("DevTools instrumentation should not be applied more than once. Check your store configuration.");return j(s,o)}}}},9385:function(e,t,r){var n=r(9360),a=r(9373);var i="[object AsyncFunction]",o="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";function l(e){if(!a(e))return false;var t=n(e);return t==o||t==s||t==i||t==c}e.exports=l},9386:function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(t,r(7))},9387:function(e,t){var r=Function.prototype;var n=r.toString;function a(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}e.exports=a},9388:function(e,t){function r(e,t){return e===t||e!==e&&t!==t}e.exports=r},9389:function(e,t,r){var n=r(9447);function a(e,t){var r=null==e?0:e.length;return!!r&&n(e,t,0)>-1}e.exports=a},9390:function(e,t){function r(e,t,r){var n=-1,a=null==e?0:e.length;while(++n<a)if(r(t,e[n]))return true;return false}e.exports=r},9391:function(e,t){function r(e,t){var r=-1,n=null==e?0:e.length,a=Array(n);while(++r<n)a[r]=t(e[r],r,e);return a}e.exports=r},9392:function(e,t){function r(e){return function(t){return e(t)}}e.exports=r},9393:function(e,t,r){var n=r(9394),a=r(9451);function i(e,t,r,o,s){var c=-1,l=e.length;r||(r=a);s||(s=[]);while(++c<l){var u=e[c];t>0&&r(u)?t>1?i(u,t-1,r,o,s):n(s,u):o||(s[s.length]=u)}return s}e.exports=i},9394:function(e,t){function r(e,t){var r=-1,n=t.length,a=e.length;while(++r<n)e[a+r]=t[r];return e}e.exports=r},9395:function(e,t,r){var n=r(9367),a=r(9453),i=r(9455);function o(e,t){return i(a(e,t,n),e+"")}e.exports=o},9396:function(e,t,r){var n=r(9358);var a=function(){try{var e=n(Object,"defineProperty");e({},"",{});return e}catch(e){}}();e.exports=a},9397:function(e,t,r){var n=r(9398),a=r(9359);function i(e){return a(e)&&n(e)}e.exports=i},9398:function(e,t,r){var n=r(9385),a=r(9377);function i(e){return null!=e&&a(e.length)&&!n(e)}e.exports=i},9399:function(e,t,r){var n=r(9358),a=r(9355);var i=n(a,"Set");e.exports=i},9400:function(e,t){function r(e,t){return function(r){return e(t(r))}}e.exports=r},9401:function(e,t,r){(function(e){var n=r(9355),a=r(9473);var i="object"==typeof t&&t&&!t.nodeType&&t;var o=i&&"object"==typeof e&&e&&!e.nodeType&&e;var s=o&&o.exports===i;var c=s?n.Buffer:void 0;var l=c?c.isBuffer:void 0;var u=l||a;e.exports=u}).call(t,r(57)(e))},9402:function(e,t){var r=9007199254740991;var n=/^(?:0|[1-9]\d*)$/;function a(e,t){t=null==t?r:t;return!!t&&("number"==typeof e||n.test(e))&&e>-1&&e%1==0&&e<t}e.exports=a},9403:function(e,t,r){var n=r(9474),a=r(9392),i=r(9475);var o=i&&i.isTypedArray;var s=o?a(o):n;e.exports=s},9404:function(e,t,r){var n=r(9364),a=r(9482),i=r(9483),o=r(9484),s=r(9485),c=r(9486);function l(e){var t=this.__data__=new n(e);this.size=t.size}l.prototype.clear=a;l.prototype["delete"]=i;l.prototype.get=o;l.prototype.has=s;l.prototype.set=c;e.exports=l},9405:function(e,t,r){var n=r(9487),a=r(9359);function i(e,t,r,o,s){if(e===t)return true;if(null==e||null==t||!a(e)&&!a(t))return e!==e&&t!==t;return n(e,t,r,o,i,s)}e.exports=i},9406:function(e,t,r){var n=r(9371),a=r(9488),i=r(9375);var o=1,s=2;function c(e,t,r,c,l,u){var p=r&o,f=e.length,d=t.length;if(f!=d&&!(p&&d>f))return false;var v=u.get(e);if(v&&u.get(t))return v==t;var h=-1,m=true,b=r&s?new n:void 0;u.set(e,t);u.set(t,e);while(++h<f){var _=e[h],g=t[h];if(c)var y=p?c(g,_,h,t,e,u):c(_,g,h,e,t,u);if(void 0!==y){if(y)continue;m=false;break}if(b){if(!a(t,function(e,t){if(!i(b,t)&&(_===e||l(_,e,r,c,u)))return b.push(t)})){m=false;break}}else if(!(_===g||l(_,g,r,c,u))){m=false;break}}u["delete"](e);u["delete"](t);return m}e.exports=c},9407:function(e,t,r){var n=r(9373);function a(e){return e===e&&!n(e)}e.exports=a},9408:function(e,t){function r(e,t){return function(r){if(null==r)return false;return r[e]===t&&(void 0!==t||e in Object(r))}}e.exports=r},9409:function(e,t,r){var n=r(9410),a=r(9368);function i(e,t){t=n(t,e);var r=0,i=t.length;while(null!=e&&r<i)e=e[a(t[r++])];return r&&r==i?e:void 0}e.exports=i},9410:function(e,t,r){var n=r(9356),a=r(9380),i=r(9505),o=r(9508);function s(e,t){if(n(e))return e;return a(e,t)?[e]:i(o(e))}e.exports=s},9411:function(e,t,r){"use strict";t.__esModule=true;function n(e){return e&&e.__esModule?e["default"]:e}var a=r(9526);t.threezerotwofour=n(a);var i=r(9527);t.apathy=n(i);var o=r(9528);t.ashes=n(o);var s=r(9529);t.atelierDune=n(s);var c=r(9530);t.atelierForest=n(c);var l=r(9531);t.atelierHeath=n(l);var u=r(9532);t.atelierLakeside=n(u);var p=r(9533);t.atelierSeaside=n(p);var f=r(9534);t.bespin=n(f);var d=r(9535);t.brewer=n(d);var v=r(9536);t.bright=n(v);var h=r(9537);t.chalk=n(h);var m=r(9538);t.codeschool=n(m);var b=r(9539);t.colors=n(b);var _=r(9540);t["default"]=n(_);var g=r(9541);t.eighties=n(g);var y=r(9542);t.embers=n(y);var O=r(9543);t.flat=n(O);var E=r(9544);t.google=n(E);var j=r(9545);t.grayscale=n(j);var k=r(9546);t.greenscreen=n(k);var w=r(9547);t.harmonic=n(w);var C=r(9548);t.hopscotch=n(C);var S=r(9549);t.isotope=n(S);var T=r(9550);t.marrakesh=n(T);var I=r(9551);t.mocha=n(I);var N=r(9552);t.monokai=n(N);var A=r(9553);t.ocean=n(A);var P=r(9554);t.paraiso=n(P);var R=r(9555);t.pop=n(R);var M=r(9556);t.railscasts=n(M);var x=r(9557);t.shapeshifter=n(x);var L=r(9558);t.solarized=n(L);var D=r(9559);t.summerfruit=n(D);var F=r(9560);t.tomorrow=n(F);var B=r(9561);t.tube=n(B);var U=r(9562);t.twilight=n(U)},9412:function(e,t,r){"use strict";t.__esModule=true;t.updateScrollTop=a;t.startConsecutiveToggle=o;var n=t.UPDATE_SCROLL_TOP="@@redux-devtools-log-monitor/UPDATE_SCROLL_TOP";function a(e){return{type:n,scrollTop:e}}var i=t.START_CONSECUTIVE_TOGGLE="@@redux-devtools-log-monitor/START_CONSECUTIVE_TOGGLE";function o(e){return{type:i,id:e}}},9413:function(e,t,r){"use strict";t.__esModule=true;var n=r(374);var a=k(n);var i=r(72);var o=k(i);var s=r(95);var c=k(s);var l=r(96);var u=k(l);var p=r(189);var f=k(p);var d=r(952);var v=k(d);var h=r(12159);var m=k(h);var b=r(9357);var _=k(b);var g=r(9414);var y=k(g);var O=r(9585);var E=k(O);var j=r(9417);function k(e){return e&&e.__esModule?e:{default:e}}var w=function e(t){return t};var C=function e(t,r,n){return 0===n};var S=function e(t,r,n,a){return m["default"].createElement("span",null,n," ",a)};var T=function e(t){var r=t[0];return m["default"].createElement("span",null,r,":")};var I=function e(){return false};function N(e,t){var r={getArrowStyle:"arrow",getListStyle:"nestedNodeChildren",getItemStringStyle:"nestedNodeItemString",getLabelStyle:"label",getValueStyle:"valueText"};var n=(0,v["default"])(r).filter(function(e){return t[e]});if(n.length>0){e="string"===typeof e?{extend:e}:(0,f["default"])({},e);n.forEach(function(n){console.error('Styling method "'+n+'" is deprecated, use "theme" property instead');e[r[n]]=function(e){for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];var o=e.style;return{style:(0,f["default"])({},o,t[n].apply(t,a))}}})}return e}function A(e){var t=N(e.theme,e);e.invertTheme&&("string"===typeof t?t+=":inverted":t&&t.extend?t="string"===typeof t?(0,f["default"])({},t,{extend:t.extend+":inverted"}):(0,f["default"])({},t,{extend:(0,j.invertTheme)(t.extend)}):t&&(t=(0,j.invertTheme)(t)));return{styling:(0,E["default"])(t)}}var P=function(e){(0,u["default"])(t,e);function t(r){(0,o["default"])(this,t);var n=(0,c["default"])(this,e.call(this,r));n.state=A(r);return n}t.prototype.componentWillReceiveProps=function e(t){var r=this;["theme","invertTheme"].find(function(e){return t[e]!==r.props[e]})&&this.setState(A(t))};t.prototype.shouldComponentUpdate=function e(t){var r=this;return!!(0,v["default"])(t).find(function(e){return"keyPath"===e?t[e].join("/")!==r.props[e].join("/"):t[e]!==r.props[e]})};t.prototype.render=function e(){var t=this.props,r=t.data,n=t.keyPath,i=t.postprocessValue,o=t.hideRoot,s=t.theme,c=t.invertTheme,l=(0,a["default"])(t,["data","keyPath","postprocessValue","hideRoot","theme","invertTheme"]);var u=this.state.styling;return m["default"].createElement("ul",u("tree"),m["default"].createElement(y["default"],(0,f["default"])({},(0,f["default"])({postprocessValue:i,hideRoot:o,styling:u},l),{keyPath:o?[]:n,value:i(r)})))};return t}(m["default"].Component);P.propTypes={data:_["default"].oneOfType([_["default"].array,_["default"].object]).isRequired,hideRoot:_["default"].bool,theme:_["default"].oneOfType([_["default"].object,_["default"].string]),invertTheme:_["default"].bool,keyPath:_["default"].arrayOf(_["default"].oneOfType([_["default"].string,_["default"].number])),postprocessValue:_["default"].func,sortObjectKeys:_["default"].oneOfType([_["default"].func,_["default"].bool])};P.defaultProps={shouldExpandNode:C,hideRoot:false,keyPath:["root"],getItemString:S,labelRenderer:T,valueRenderer:w,postprocessValue:w,isCustomNode:I,collectionLimit:50,invertTheme:true};t["default"]=P},9414:function(e,t,r){"use strict";t.__esModule=true;var n=r(189);var a=O(n);var i=r(374);var o=O(i);var s=r(12159);var c=O(s);var l=r(9357);var u=O(l);var p=r(9572);var f=O(p);var d=r(9573);var v=O(d);var h=r(9578);var m=O(h);var b=r(9579);var _=O(b);var g=r(9584);var y=O(g);function O(e){return e&&e.__esModule?e:{default:e}}var E=function e(t){var r=t.getItemString,n=t.keyPath,i=t.labelRenderer,s=t.styling,l=t.value,u=t.valueRenderer,p=t.isCustomNode,d=(0,o["default"])(t,["getItemString","keyPath","labelRenderer","styling","value","valueRenderer","isCustomNode"]);var h=p(l)?"Custom":(0,f["default"])(l);var b={getItemString:r,key:n[0],keyPath:n,labelRenderer:i,nodeType:h,styling:s,value:l,valueRenderer:u};var g=(0,a["default"])({},d,b,{data:l,isCustomNode:p});switch(h){case"Object":case"Error":case"WeakMap":case"WeakSet":return c["default"].createElement(v["default"],g);case"Array":return c["default"].createElement(m["default"],g);case"Iterable":case"Map":case"Set":return c["default"].createElement(_["default"],g);case"String":return c["default"].createElement(y["default"],(0,a["default"])({},b,{valueGetter:function e(t){return'"'+t+'"'}}));case"Number":return c["default"].createElement(y["default"],b);case"Boolean":return c["default"].createElement(y["default"],(0,a["default"])({},b,{valueGetter:function e(t){return t?"true":"false"}}));case"Date":return c["default"].createElement(y["default"],(0,a["default"])({},b,{valueGetter:function e(t){return t.toISOString()}}));case"Null":return c["default"].createElement(y["default"],(0,a["default"])({},b,{valueGetter:function e(){return"null"}}));case"Undefined":return c["default"].createElement(y["default"],(0,a["default"])({},b,{valueGetter:function e(){return"undefined"}}));case"Function":case"Symbol":return c["default"].createElement(y["default"],(0,a["default"])({},b,{valueGetter:function e(t){return t.toString()}}));case"Custom":return c["default"].createElement(y["default"],b);default:return null}};E.propTypes={getItemString:u["default"].func.isRequired,keyPath:u["default"].arrayOf(u["default"].oneOfType([u["default"].string,u["default"].number])).isRequired,labelRenderer:u["default"].func.isRequired,styling:u["default"].func.isRequired,value:u["default"].any,valueRenderer:u["default"].func.isRequired,isCustomNode:u["default"].func.isRequired};t["default"]=E},9415:function(e,t,r){e.exports={default:r(9574),__esModule:true}},9416:function(e,t,r){"use strict";t.__esModule=true;var n=r(189);var a=l(n);var i=r(12159);var o=l(i);var s=r(9357);var c=l(s);function l(e){return e&&e.__esModule?e:{default:e}}var u=function e(t){var r=t.styling,n=t.arrowStyle,i=t.expanded,s=t.nodeType,c=t.onClick;return o["default"].createElement("div",(0,a["default"])({},r("arrowContainer",n),{onClick:c}),o["default"].createElement("div",r(["arrow","arrowSign"],s,i,n),"\u25b6","double"===n&&o["default"].createElement("div",r(["arrowSign","arrowSignInner"]),"\u25b6")))};u.propTypes={styling:c["default"].func.isRequired,arrowStyle:c["default"].oneOf(["single","double"]),expanded:c["default"].bool.isRequired,nodeType:c["default"].string.isRequired,onClick:c["default"].func.isRequired};u.defaultProps={arrowStyle:"single"};t["default"]=u},9417:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getBase16Theme=t.createStyling=t.invertTheme=void 0;var n=r(942);var a=j(n);var i=r(189);var o=j(i);var s=r(1395);var c=j(s);var l=r(952);var u=j(l);var p=r(9586);var f=j(p);var d=r(9411);var v=E(d);var h=r(9587);var m=j(h);var b=r(9588);var _=j(b);var g=r(9593);var y=j(g);var O=r(9594);function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function j(e){return e&&e.__esModule?e:{default:e}}var k=v.default;var w=(0,u.default)(k);var C=function e(t){return t<.25?1:t<.5?.9-t:1.1-t};var S=(0,y.default)(_.default,O.rgb2yuv,function(e){var t=(0,c.default)(e,3),r=t[0],n=t[1],a=t[2];return[C(r),n,a]},O.yuv2rgb,m.default);var T=function e(t){return function(e){return{className:[e.className,t.className].filter(Boolean).join(" "),style:(0,o.default)({},e.style||{},t.style||{})}}};var I=function e(t,r){if(void 0===t)return r;if(void 0===r)return t;var n="undefined"===typeof t?"undefined":(0,a.default)(t);var i="undefined"===typeof r?"undefined":(0,a.default)(r);switch(n){case"string":switch(i){case"string":return[r,t].filter(Boolean).join(" ");case"object":return T({className:t,style:r});case"function":return function(e){for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return T({className:t})(r.apply(void 0,[e].concat(a)))}}case"object":switch(i){case"string":return T({className:r,style:t});case"object":return(0,o.default)({},r,t);case"function":return function(e){for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return T({style:t})(r.apply(void 0,[e].concat(a)))}}case"function":switch(i){case"string":return function(e){for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return t.apply(void 0,[T(e)({className:r})].concat(a))};case"object":return function(e){for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return t.apply(void 0,[T(e)({style:r})].concat(a))};case"function":return function(e){for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return t.apply(void 0,[r.apply(void 0,[e].concat(a))].concat(a))}}}};var N=function e(t,r){var n=(0,u.default)(r);for(var a in t)-1===n.indexOf(a)&&n.push(a);return n.reduce(function(e,n){return e[n]=I(t[n],r[n]),e},{})};var A=function e(t,r){for(var n=arguments.length,i=Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];if(null===r)return t;Array.isArray(r)||(r=[r]);var c=r.map(function(e){return t[e]}).filter(Boolean);var l=c.reduce(function(e,t){"string"===typeof t?e.className=[e.className,t].filter(Boolean).join(" "):"object"===("undefined"===typeof t?"undefined":(0,a.default)(t))?e.style=(0,o.default)({},e.style,t):"function"===typeof t&&(e=(0,o.default)({},e,t.apply(void 0,[e].concat(i))));return e},{className:"",style:{}});l.className||delete l.className;0===(0,u.default)(l.style).length&&delete l.style;return l};var P=t.invertTheme=function e(t){return(0,u.default)(t).reduce(function(e,r){return e[r]=/^base/.test(r)?S(t[r]):"scheme"===r?t[r]+":inverted":t[r],e},{})};var R=t.createStyling=(0,f.default)(function(e){for(var t=arguments.length,r=Array(t>3?t-3:0),n=3;n<t;n++)r[n-3]=arguments[n];var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var s=a.defaultBase16,c=void 0===s?k:s,l=a.base16Themes,p=void 0===l?null:l;var d=M(i,p);d&&(i=(0,o.default)({},d,i));var v=w.reduce(function(e,t){return e[t]=i[t]||c[t],e},{});var h=(0,u.default)(i).reduce(function(e,t){return-1===w.indexOf(t)?(e[t]=i[t],e):e},{});var m=e(v);var b=N(h,m);return(0,f.default)(A,2).apply(void 0,[b].concat(r))},3);var M=t.getBase16Theme=function e(t,r){t&&t.extend&&(t=t.extend);if("string"===typeof t){var n=t.split(":"),a=(0,c.default)(n,2),i=a[0],o=a[1];t=(r||{})[i]||v[i];"inverted"===o&&(t=P(t))}return t&&t.hasOwnProperty("base00")?t:void 0}},9418:function(e,t){var r=/-?\d+(\.\d+)?%?/g;function n(e){return e.match(r)}e.exports=n},9420:function(e,t,r){var n=r(9421),a=r(9393),i=r(9395),o=r(9397);var s=i(function(e,t){return o(e)?n(e,a(t,1,o,true)):[]});e.exports=s},9421:function(e,t,r){var n=r(9371),a=r(9389),i=r(9390),o=r(9391),s=r(9392),c=r(9375);var l=200;function u(e,t,r,u){var p=-1,f=a,d=true,v=e.length,h=[],m=t.length;if(!v)return h;r&&(t=o(t,s(r)));if(u){f=i;d=false}else if(t.length>=l){f=c;d=false;t=new n(t)}e:while(++p<v){var b=e[p],_=null==r?b:r(b);b=u||0!==b?b:0;if(d&&_===_){var g=m;while(g--)if(t[g]===_)continue e;h.push(b)}else f(t,_,u)||h.push(b)}return h}e.exports=u},9422:function(e,t,r){var n=r(9423),a=r(9364),i=r(9374);function o(){this.size=0;this.__data__={hash:new n,map:new(i||a),string:new n}}e.exports=o},9423:function(e,t,r){var n=r(9424),a=r(9431),i=r(9432),o=r(9433),s=r(9434);function c(e){var t=-1,r=null==e?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n;c.prototype["delete"]=a;c.prototype.get=i;c.prototype.has=o;c.prototype.set=s;e.exports=c},9424:function(e,t,r){var n=r(9363);function a(){this.__data__=n?n(null):{};this.size=0}e.exports=a},9425:function(e,t,r){var n=r(9385),a=r(9428),i=r(9373),o=r(9387);var s=/[\\^$.*+?()[\]{}|]/g;var c=/^\[object .+?Constructor\]$/;var l=Function.prototype,u=Object.prototype;var p=l.toString;var f=u.hasOwnProperty;var d=RegExp("^"+p.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function v(e){if(!i(e)||a(e))return false;var t=n(e)?d:c;return t.test(o(e))}e.exports=v},9426:function(e,t,r){var n=r(9361);var a=Object.prototype;var i=a.hasOwnProperty;var o=a.toString;var s=n?n.toStringTag:void 0;function c(e){var t=i.call(e,s),r=e[s];try{e[s]=void 0;var n=true}catch(e){}var a=o.call(e);n&&(t?e[s]=r:delete e[s]);return a}e.exports=c},9427:function(e,t){var r=Object.prototype;var n=r.toString;function a(e){return n.call(e)}e.exports=a},9428:function(e,t,r){var n=r(9429);var a=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function i(e){return!!a&&a in e}e.exports=i},9429:function(e,t,r){var n=r(9355);var a=n["__core-js_shared__"];e.exports=a},9430:function(e,t){function r(e,t){return null==e?void 0:e[t]}e.exports=r},9431:function(e,t){function r(e){var t=this.has(e)&&delete this.__data__[e];this.size-=t?1:0;return t}e.exports=r},9432:function(e,t,r){var n=r(9363);var a="__lodash_hash_undefined__";var i=Object.prototype;var o=i.hasOwnProperty;function s(e){var t=this.__data__;if(n){var r=t[e];return r===a?void 0:r}return o.call(t,e)?t[e]:void 0}e.exports=s},9433:function(e,t,r){var n=r(9363);var a=Object.prototype;var i=a.hasOwnProperty;function o(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}e.exports=o},9434:function(e,t,r){var n=r(9363);var a="__lodash_hash_undefined__";function i(e,t){var r=this.__data__;this.size+=this.has(e)?0:1;r[e]=n&&void 0===t?a:t;return this}e.exports=i},9435:function(e,t){function r(){this.__data__=[];this.size=0}e.exports=r},9436:function(e,t,r){var n=r(9365);var a=Array.prototype;var i=a.splice;function o(e){var t=this.__data__,r=n(t,e);if(r<0)return false;var a=t.length-1;r==a?t.pop():i.call(t,r,1);--this.size;return true}e.exports=o},9437:function(e,t,r){var n=r(9365);function a(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}e.exports=a},9438:function(e,t,r){var n=r(9365);function a(e){return n(this.__data__,e)>-1}e.exports=a},9439:function(e,t,r){var n=r(9365);function a(e,t){var r=this.__data__,a=n(r,e);if(a<0){++this.size;r.push([e,t])}else r[a][1]=t;return this}e.exports=a},9440:function(e,t,r){var n=r(9366);function a(e){var t=n(this,e)["delete"](e);this.size-=t?1:0;return t}e.exports=a},9441:function(e,t){function r(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=r},9442:function(e,t,r){var n=r(9366);function a(e){return n(this,e).get(e)}e.exports=a},9443:function(e,t,r){var n=r(9366);function a(e){return n(this,e).has(e)}e.exports=a},9444:function(e,t,r){var n=r(9366);function a(e,t){var r=n(this,e),a=r.size;r.set(e,t);this.size+=r.size==a?0:1;return this}e.exports=a},9445:function(e,t){var r="__lodash_hash_undefined__";function n(e){this.__data__.set(e,r);return this}e.exports=n},9446:function(e,t){function r(e){return this.__data__.has(e)}e.exports=r},9447:function(e,t,r){var n=r(9448),a=r(9449),i=r(9450);function o(e,t,r){return t===t?i(e,t,r):n(e,a,r)}e.exports=o},9448:function(e,t){function r(e,t,r,n){var a=e.length,i=r+(n?1:-1);while(n?i--:++i<a)if(t(e[i],i,e))return i;return-1}e.exports=r},9449:function(e,t){function r(e){return e!==e}e.exports=r},9450:function(e,t){function r(e,t,r){var n=r-1,a=e.length;while(++n<a)if(e[n]===t)return n;return-1}e.exports=r},9451:function(e,t,r){var n=r(9361),a=r(9376),i=r(9356);var o=n?n.isConcatSpreadable:void 0;function s(e){return i(e)||a(e)||!!(o&&e&&e[o])}e.exports=s},9452:function(e,t,r){var n=r(9360),a=r(9359);var i="[object Arguments]";function o(e){return a(e)&&n(e)==i}e.exports=o},9453:function(e,t,r){var n=r(9454);var a=Math.max;function i(e,t,r){t=a(void 0===t?e.length-1:t,0);return function(){var i=arguments,o=-1,s=a(i.length-t,0),c=Array(s);while(++o<s)c[o]=i[t+o];o=-1;var l=Array(t+1);while(++o<t)l[o]=i[o];l[t]=r(c);return n(e,this,l)}}e.exports=i},9454:function(e,t){function r(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}e.exports=r},9455:function(e,t,r){var n=r(9456),a=r(9458);var i=a(n);e.exports=i},9456:function(e,t,r){var n=r(9457),a=r(9396),i=r(9367);var o=a?function(e,t){return a(e,"toString",{configurable:true,enumerable:false,value:n(t),writable:true})}:i;e.exports=o},9457:function(e,t){function r(e){return function(){return e}}e.exports=r},9458:function(e,t){var r=800,n=16;var a=Date.now;function i(e){var t=0,i=0;return function(){var o=a(),s=n-(o-i);i=o;if(s>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}e.exports=i},9459:function(e,t,r){var n=r(9393),a=r(9395),i=r(9460),o=r(9397);var s=a(function(e){return i(n(e,1,o,true))});e.exports=s},9460:function(e,t,r){var n=r(9371),a=r(9389),i=r(9390),o=r(9375),s=r(9461),c=r(9378);var l=200;function u(e,t,r){var u=-1,p=a,f=e.length,d=true,v=[],h=v;if(r){d=false;p=i}else if(f>=l){var m=t?null:s(e);if(m)return c(m);d=false;p=o;h=new n}else h=t?[]:v;e:while(++u<f){var b=e[u],_=t?t(b):b;b=r||0!==b?b:0;if(d&&_===_){var g=h.length;while(g--)if(h[g]===_)continue e;t&&h.push(_);v.push(b)}else if(!p(h,_,r)){h!==v&&h.push(_);v.push(b)}}return v}e.exports=u},9461:function(e,t,r){var n=r(9399),a=r(9462),i=r(9378);var o=1/0;var s=n&&1/i(new n([,-0]))[1]==o?function(e){return new n(e)}:a;e.exports=s},9462:function(e,t){function r(){}e.exports=r},9463:function(e,t,r){var n=r(9360),a=r(9464),i=r(9359);var o="[object Object]";var s=Function.prototype,c=Object.prototype;var l=s.toString;var u=c.hasOwnProperty;var p=l.call(Object);function f(e){if(!i(e)||n(e)!=o)return false;var t=a(e);if(null===t)return true;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&l.call(r)==p}e.exports=f},9464:function(e,t,r){var n=r(9400);var a=n(Object.getPrototypeOf,Object);e.exports=a},9465:function(e,t,r){"use strict";t.__esModule=true;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=l;var a=r(9466);var i=c(a);var o=r(9367);var s=c(o);function c(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default;var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default;if(!e)return function(e){return function(){return e.apply(void 0,arguments)}};function a(e){return n({},e,{actionsById:(0,i.default)(e.actionsById,function(e){return n({},e,{action:r(e.action)})}),committedState:t(e.committedState),computedStates:e.computedStates.map(function(e){return n({},e,{state:t(e.state)})})})}return function(t){return function(r,i,o){var s="redux-dev-session-"+e;var c=void 0;try{var l=localStorage.getItem(s);if(l){c=a(JSON.parse(l))||i;t(r,i)}}catch(e){console.warn("Could not read debug session from localStorage:",e);try{localStorage.removeItem(s)}finally{c=void 0}}var u=t(r,c,o);return n({},u,{dispatch:function e(t){u.dispatch(t);try{localStorage.setItem(s,JSON.stringify(u.getState()))}catch(e){console.warn("Could not write debug session to localStorage:",e)}return t}})}}}},9466:function(e,t,r){var n=r(9467),a=r(9468),i=r(9479);function o(e,t){var r={};t=i(t,3);a(e,function(e,a,i){n(r,a,t(e,a,i))});return r}e.exports=o},9467:function(e,t,r){var n=r(9396);function a(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:true,enumerable:true,value:r,writable:true}):e[t]=r}e.exports=a},9468:function(e,t,r){var n=r(9469),a=r(9379);function i(e,t){return e&&n(e,t,a)}e.exports=i},9469:function(e,t,r){var n=r(9470);var a=n();e.exports=a},9470:function(e,t){function r(e){return function(t,r,n){var a=-1,i=Object(t),o=n(t),s=o.length;while(s--){var c=o[e?s:++a];if(false===r(i[c],c,i))break}return t}}e.exports=r},9471:function(e,t,r){var n=r(9472),a=r(9376),i=r(9356),o=r(9401),s=r(9402),c=r(9403);var l=Object.prototype;var u=l.hasOwnProperty;function p(e,t){var r=i(e),l=!r&&a(e),p=!r&&!l&&o(e),f=!r&&!l&&!p&&c(e),d=r||l||p||f,v=d?n(e.length,String):[],h=v.length;for(var m in e)!t&&!u.call(e,m)||d&&("length"==m||p&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,h))||v.push(m);return v}e.exports=p},9472:function(e,t){function r(e,t){var r=-1,n=Array(e);while(++r<e)n[r]=t(r);return n}e.exports=r},9473:function(e,t){function r(){return false}e.exports=r},9474:function(e,t,r){var n=r(9360),a=r(9377),i=r(9359);var o="[object Arguments]",s="[object Array]",c="[object Boolean]",l="[object Date]",u="[object Error]",p="[object Function]",f="[object Map]",d="[object Number]",v="[object Object]",h="[object RegExp]",m="[object Set]",b="[object String]",_="[object WeakMap]";var g="[object ArrayBuffer]",y="[object DataView]",O="[object Float32Array]",E="[object Float64Array]",j="[object Int8Array]",k="[object Int16Array]",w="[object Int32Array]",C="[object Uint8Array]",S="[object Uint8ClampedArray]",T="[object Uint16Array]",I="[object Uint32Array]";var N={};N[O]=N[E]=N[j]=N[k]=N[w]=N[C]=N[S]=N[T]=N[I]=true;N[o]=N[s]=N[g]=N[c]=N[y]=N[l]=N[u]=N[p]=N[f]=N[d]=N[v]=N[h]=N[m]=N[b]=N[_]=false;function A(e){return i(e)&&a(e.length)&&!!N[n(e)]}e.exports=A},9475:function(e,t,r){(function(e){var n=r(9386);var a="object"==typeof t&&t&&!t.nodeType&&t;var i=a&&"object"==typeof e&&e&&!e.nodeType&&e;var o=i&&i.exports===a;var s=o&&n.process;var c=function(){try{return s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=c}).call(t,r(57)(e))},9476:function(e,t,r){var n=r(9477),a=r(9478);var i=Object.prototype;var o=i.hasOwnProperty;function s(e){if(!n(e))return a(e);var t=[];for(var r in Object(e))o.call(e,r)&&"constructor"!=r&&t.push(r);return t}e.exports=s},9477:function(e,t){var r=Object.prototype;function n(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||r;return e===n}e.exports=n},9478:function(e,t,r){var n=r(9400);var a=n(Object.keys,Object);e.exports=a},9479:function(e,t,r){var n=r(9480),a=r(9503),i=r(9367),o=r(9356),s=r(9513);function c(e){if("function"==typeof e)return e;if(null==e)return i;if("object"==typeof e)return o(e)?a(e[0],e[1]):n(e);return s(e)}e.exports=c},9480:function(e,t,r){var n=r(9481),a=r(9502),i=r(9408);function o(e){var t=a(e);if(1==t.length&&t[0][2])return i(t[0][0],t[0][1]);return function(r){return r===e||n(r,e,t)}}e.exports=o},9481:function(e,t,r){var n=r(9404),a=r(9405);var i=1,o=2;function s(e,t,r,s){var c=r.length,l=c,u=!s;if(null==e)return!l;e=Object(e);while(c--){var p=r[c];if(u&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return false}while(++c<l){p=r[c];var f=p[0],d=e[f],v=p[1];if(u&&p[2]){if(void 0===d&&!(f in e))return false}else{var h=new n;if(s)var m=s(d,v,f,e,t,h);if(!(void 0===m?a(v,d,i|o,s,h):m))return false}}return true}e.exports=s},9482:function(e,t,r){var n=r(9364);function a(){this.__data__=new n;this.size=0}e.exports=a},9483:function(e,t){function r(e){var t=this.__data__,r=t["delete"](e);this.size=t.size;return r}e.exports=r},9484:function(e,t){function r(e){return this.__data__.get(e)}e.exports=r},9485:function(e,t){function r(e){return this.__data__.has(e)}e.exports=r},9486:function(e,t,r){var n=r(9364),a=r(9374),i=r(9372);var o=200;function s(e,t){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!a||s.length<o-1){s.push([e,t]);this.size=++r.size;return this}r=this.__data__=new i(s)}r.set(e,t);this.size=r.size;return this}e.exports=s},9487:function(e,t,r){var n=r(9404),a=r(9406),i=r(9489),o=r(9492),s=r(9498),c=r(9356),l=r(9401),u=r(9403);var p=1;var f="[object Arguments]",d="[object Array]",v="[object Object]";var h=Object.prototype;var m=h.hasOwnProperty;function b(e,t,r,h,b,_){var g=c(e),y=c(t),O=g?d:s(e),E=y?d:s(t);O=O==f?v:O;E=E==f?v:E;var j=O==v,k=E==v,w=O==E;if(w&&l(e)){if(!l(t))return false;g=true;j=false}if(w&&!j){_||(_=new n);return g||u(e)?a(e,t,r,h,b,_):i(e,t,O,r,h,b,_)}if(!(r&p)){var C=j&&m.call(e,"__wrapped__"),S=k&&m.call(t,"__wrapped__");if(C||S){var T=C?e.value():e,I=S?t.value():t;_||(_=new n);return b(T,I,r,h,_)}}if(!w)return false;_||(_=new n);return o(e,t,r,h,b,_)}e.exports=b},9488:function(e,t){function r(e,t){var r=-1,n=null==e?0:e.length;while(++r<n)if(t(e[r],r,e))return true;return false}e.exports=r},9489:function(e,t,r){var n=r(9361),a=r(9490),i=r(9388),o=r(9406),s=r(9491),c=r(9378);var l=1,u=2;var p="[object Boolean]",f="[object Date]",d="[object Error]",v="[object Map]",h="[object Number]",m="[object RegExp]",b="[object Set]",_="[object String]",g="[object Symbol]";var y="[object ArrayBuffer]",O="[object DataView]";var E=n?n.prototype:void 0,j=E?E.valueOf:void 0;function k(e,t,r,n,E,k,w){switch(r){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return false;e=e.buffer;t=t.buffer;case y:if(e.byteLength!=t.byteLength||!k(new a(e),new a(t)))return false;return true;case p:case f:case h:return i(+e,+t);case d:return e.name==t.name&&e.message==t.message;case m:case _:return e==t+"";case v:var C=s;case b:var S=n&l;C||(C=c);if(e.size!=t.size&&!S)return false;var T=w.get(e);if(T)return T==t;n|=u;w.set(e,t);var I=o(C(e),C(t),n,E,k,w);w["delete"](e);return I;case g:if(j)return j.call(e)==j.call(t)}return false}e.exports=k},9490:function(e,t,r){var n=r(9355);var a=n.Uint8Array;e.exports=a},9491:function(e,t){function r(e){var t=-1,r=Array(e.size);e.forEach(function(e,n){r[++t]=[n,e]});return r}e.exports=r},9492:function(e,t,r){var n=r(9493);var a=1;var i=Object.prototype;var o=i.hasOwnProperty;function s(e,t,r,i,s,c){var l=r&a,u=n(e),p=u.length,f=n(t),d=f.length;if(p!=d&&!l)return false;var v=p;while(v--){var h=u[v];if(!(l?h in t:o.call(t,h)))return false}var m=c.get(e);if(m&&c.get(t))return m==t;var b=true;c.set(e,t);c.set(t,e);var _=l;while(++v<p){h=u[v];var g=e[h],y=t[h];if(i)var O=l?i(y,g,h,t,e,c):i(g,y,h,e,t,c);if(!(void 0===O?g===y||s(g,y,r,i,c):O)){b=false;break}_||(_="constructor"==h)}if(b&&!_){var E=e.constructor,j=t.constructor;E!=j&&"constructor"in e&&"constructor"in t&&!("function"==typeof E&&E instanceof E&&"function"==typeof j&&j instanceof j)&&(b=false)}c["delete"](e);c["delete"](t);return b}e.exports=s},9493:function(e,t,r){var n=r(9494),a=r(9495),i=r(9379);function o(e){return n(e,i,a)}e.exports=o},9494:function(e,t,r){var n=r(9394),a=r(9356);function i(e,t,r){var i=t(e);return a(e)?i:n(i,r(e))}e.exports=i},9495:function(e,t,r){var n=r(9496),a=r(9497);var i=Object.prototype;var o=i.propertyIsEnumerable;var s=Object.getOwnPropertySymbols;var c=s?function(e){if(null==e)return[];e=Object(e);return n(s(e),function(t){return o.call(e,t)})}:a;e.exports=c},9496:function(e,t){function r(e,t){var r=-1,n=null==e?0:e.length,a=0,i=[];while(++r<n){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}e.exports=r},9497:function(e,t){function r(){return[]}e.exports=r},9498:function(e,t,r){var n=r(9499),a=r(9374),i=r(9500),o=r(9399),s=r(9501),c=r(9360),l=r(9387);var u="[object Map]",p="[object Object]",f="[object Promise]",d="[object Set]",v="[object WeakMap]";var h="[object DataView]";var m=l(n),b=l(a),_=l(i),g=l(o),y=l(s);var O=c;(n&&O(new n(new ArrayBuffer(1)))!=h||a&&O(new a)!=u||i&&O(i.resolve())!=f||o&&O(new o)!=d||s&&O(new s)!=v)&&(O=function(e){var t=c(e),r=t==p?e.constructor:void 0,n=r?l(r):"";if(n)switch(n){case m:return h;case b:return u;case _:return f;case g:return d;case y:return v}return t});e.exports=O},9499:function(e,t,r){var n=r(9358),a=r(9355);var i=n(a,"DataView");e.exports=i},9500:function(e,t,r){var n=r(9358),a=r(9355);var i=n(a,"Promise");e.exports=i},9501:function(e,t,r){var n=r(9358),a=r(9355);var i=n(a,"WeakMap");e.exports=i},9502:function(e,t,r){var n=r(9407),a=r(9379);function i(e){var t=a(e),r=t.length;while(r--){var i=t[r],o=e[i];t[r]=[i,o,n(o)]}return t}e.exports=i},9503:function(e,t,r){var n=r(9405),a=r(9504),i=r(9510),o=r(9380),s=r(9407),c=r(9408),l=r(9368);var u=1,p=2;function f(e,t){if(o(e)&&s(t))return c(l(e),t);return function(r){var o=a(r,e);return void 0===o&&o===t?i(r,e):n(t,o,u|p)}}e.exports=f},9504:function(e,t,r){var n=r(9409);function a(e,t,r){var a=null==e?void 0:n(e,t);return void 0===a?r:a}e.exports=a},9505:function(e,t,r){var n=r(9506);var a=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var o=/\\(\\)?/g;var s=n(function(e){var t=[];a.test(e)&&t.push("");e.replace(i,function(e,r,n,a){t.push(n?a.replace(o,"$1"):r||e)});return t});e.exports=s},9506:function(e,t,r){var n=r(9507);var a=500;function i(e){var t=n(e,function(e){r.size===a&&r.clear();return e});var r=t.cache;return t}e.exports=i},9507:function(e,t,r){var n=r(9372);var a="Expected a function";function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(a);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);r.cache=i.set(a,o)||i;return o};r.cache=new(i.Cache||n);return r}i.Cache=n;e.exports=i},9508:function(e,t,r){var n=r(9509);function a(e){return null==e?"":n(e)}e.exports=a},9509:function(e,t,r){var n=r(9361),a=r(9391),i=r(9356),o=r(9381);var s=1/0;var c=n?n.prototype:void 0,l=c?c.toString:void 0;function u(e){if("string"==typeof e)return e;if(i(e))return a(e,u)+"";if(o(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}e.exports=u},9510:function(e,t,r){var n=r(9511),a=r(9512);function i(e,t){return null!=e&&a(e,t,n)}e.exports=i},9511:function(e,t){function r(e,t){return null!=e&&t in Object(e)}e.exports=r},9512:function(e,t,r){var n=r(9410),a=r(9376),i=r(9356),o=r(9402),s=r(9377),c=r(9368);function l(e,t,r){t=n(t,e);var l=-1,u=t.length,p=false;while(++l<u){var f=c(t[l]);if(!(p=null!=e&&r(e,f)))break;e=e[f]}if(p||++l!=u)return p;u=null==e?0:e.length;return!!u&&s(u)&&o(f,u)&&(i(e)||a(e))}e.exports=l},9513:function(e,t,r){var n=r(9514),a=r(9515),i=r(9380),o=r(9368);function s(e){return i(e)?n(o(e)):a(e)}e.exports=s},9514:function(e,t){function r(e){return function(t){return null==t?void 0:t[e]}}e.exports=r},9515:function(e,t,r){var n=r(9409);function a(e){return function(t){return n(t,e)}}e.exports=a},9516:function(e,t,r){"use strict";t.__esModule=true;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=h;var a=r(12159);var i=p(a);var o=r(9517);var s=p(o);var c=r(9);var l=r(9384);var u=p(l);function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function h(e){var t,r;var o=a.Children.only(e);var l=o.props;var p=o.type;var h=(0,c.connect)(function(e){return e})(p);return r=t=function(e){v(t,e);function t(r,n){f(this,t);var a=d(this,e.call(this,r,n));if(!r.store&&!n.store){console.error('Redux DevTools could not render. You must pass the Redux store to <DevTools> either as a "store" prop or by wrapping it in a <Provider store={store}>.');return d(a)}n.store?a.liftedStore=n.store.liftedStore:a.liftedStore=r.store.liftedStore;a.liftedStore||console.error("Redux DevTools could not render. Did you forget to include DevTools.instrument() in your store enhancer chain before using createStore()?");return a}t.prototype.render=function e(){if(!this.liftedStore)return null;return i.default.createElement(h,n({},l,{store:this.liftedStore}))};return t}(a.Component),t.contextTypes={store:s.default.object},t.propTypes={store:s.default.object},t.instrument=function(e){return(0,u.default)(function(e,t){return p.update(l,e,t)},e)},r}},9517:function(e,t,r){var n;var a;var i;false;e.exports=r(9518)()},9518:function(e,t,r){"use strict";var n=r(66);var a=r(36);var i=r(9519);e.exports=function(){function e(e,t,r,n,o,s){if(s===i)return;a(false,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}e.isRequired=e;function t(){return e}var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};r.checkPropTypes=n;r.PropTypes=r;return r}},9519:function(e,t,r){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},9520:function(e,t,r){"use strict";t.__esModule=true;t.default=void 0;var n=r(9521);var a=i(n);function i(e){return e&&e.__esModule?e:{default:e}}t.default=a.default},9521:function(e,t,r){"use strict";t.__esModule=true;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var a=r(12159);var i=j(a);var o=r(9369);var s=j(o);var c=r(9362);var l=j(c);var u=r(9525);var p=E(u);var f=r(9370);var d=r(9412);var v=r(9564);var h=j(v);var m=r(9565);var b=j(m);var _=r(9568);var g=j(_);var y=r(9597);var O=j(y);function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function j(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function C(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=f.ActionCreators.toggleAction;var T=f.ActionCreators.setActionsActive;var I={container:{fontFamily:"monaco, Consolas, Lucida Console, monospace",position:"relative",overflowY:"hidden",width:"100%",height:"100%",minWidth:300,direction:"ltr"},elements:{position:"absolute",left:0,right:0,top:0,bottom:0,overflowX:"hidden",overflowY:"auto"}};var N=function(e){C(t,e);function t(r){k(this,t);var n=w(this,e.call(this,r));n.shouldComponentUpdate=l.default;n.updateScrollTop=(0,O.default)(function(){var e=n.node;n.props.dispatch((0,d.updateScrollTop)(e?e.scrollTop:0))},500);n.handleToggleAction=n.handleToggleAction.bind(n);n.handleToggleConsecutiveAction=n.handleToggleConsecutiveAction.bind(n);n.getRef=n.getRef.bind(n);return n}t.prototype.scroll=function e(){var t=this.node;if(!t)return;if(this.scrollDown){var r=t.offsetHeight;var n=t.scrollHeight;t.scrollTop=n-r;this.scrollDown=false}};t.prototype.componentDidMount=function e(){var t=this.node;if(!t||!this.props.monitorState)return;if(this.props.preserveScrollTop){t.scrollTop=this.props.monitorState.initialScrollTop;t.addEventListener("scroll",this.updateScrollTop)}else{this.scrollDown=true;this.scroll()}};t.prototype.componentWillUnmount=function e(){var t=this.node;t&&this.props.preserveScrollTop&&t.removeEventListener("scroll",this.updateScrollTop)};t.prototype.componentWillReceiveProps=function e(t){var r=this.node;if(r)if(this.props.stagedActionIds.length<t.stagedActionIds.length){var n=r.scrollTop;var a=r.offsetHeight;var i=r.scrollHeight;this.scrollDown=Math.abs(i-(n+a))<20}else this.scrollDown=false;else this.scrollDown=true};t.prototype.componentDidUpdate=function e(){this.scroll()};t.prototype.handleToggleAction=function e(t){this.props.dispatch(S(t))};t.prototype.handleToggleConsecutiveAction=function e(t){var r=this.props;var n=r.monitorState;var a=r.actionsById;var i=n.consecutiveToggleStartId;if(i&&a[i]){var o=this.props.skippedActionIds;var s=Math.min(i,t);var c=Math.max(i,t);var l=o.indexOf(i)>-1;this.props.dispatch(T(s,c+1,l));this.props.dispatch((0,d.startConsecutiveToggle)(null))}else t>0&&this.props.dispatch((0,d.startConsecutiveToggle)(t))};t.prototype.getTheme=function e(){var t=this.props.theme;if("string"!==typeof t)return t;if("undefined"!==typeof p[t])return p[t];console.warn("DevTools theme "+t+" not found, defaulting to nicinabox");return p.nicinabox};t.prototype.getRef=function e(t){this.node=t};t.prototype.render=function e(){var t=this.getTheme();var r=this.props.monitorState.consecutiveToggleStartId;var a=this.props;var o=a.dispatch;var s=a.actionsById;var c=a.skippedActionIds;var l=a.stagedActionIds;var u=a.computedStates;var p=a.currentStateIndex;var f=a.select;var d=a.expandActionRoot;var v=a.expandStateRoot;var h=a.markStateDiff;var m={theme:t,actionsById:s,skippedActionIds:c,stagedActionIds:l,computedStates:u,currentStateIndex:p,consecutiveToggleStartId:r,select:f,expandActionRoot:d,expandStateRoot:v,markStateDiff:h,onActionClick:this.handleToggleAction,onActionShiftClick:this.handleToggleConsecutiveAction};return i.default.createElement("div",{style:n({},I.container,{backgroundColor:t.base00})},!this.props.hideMainButtons&&i.default.createElement(b.default,{theme:t,dispatch:o,hasStates:u.length>1,hasSkippedActions:c.length>0}),i.default.createElement("div",{style:this.props.hideMainButtons?I.elements:n({},I.elements,{top:30}),ref:this.getRef},i.default.createElement(g.default,m)))};return t}(a.Component);N.update=h.default;N.propTypes={dispatch:s.default.func,computedStates:s.default.array,actionsById:s.default.object,stagedActionIds:s.default.array,skippedActionIds:s.default.array,monitorState:s.default.shape({initialScrollTop:s.default.number,consecutiveToggleStartId:s.default.number}),preserveScrollTop:s.default.bool,select:s.default.func,theme:s.default.oneOfType([s.default.object,s.default.string]),expandActionRoot:s.default.bool,expandStateRoot:s.default.bool,markStateDiff:s.default.bool,hideMainButtons:s.default.bool};N.defaultProps={select:function e(t){return t},theme:"nicinabox",preserveScrollTop:true,expandActionRoot:true,expandStateRoot:true,markStateDiff:false};t.default=N},9522:function(e,t,r){"use strict";var n=r(66);var a=r(36);var i=r(9523);e.exports=function(){function e(e,t,r,n,o,s){if(s===i)return;a(false,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}e.isRequired=e;function t(){return e}var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};r.checkPropTypes=n;r.PropTypes=r;return r}},9523:function(e,t,r){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},9524:function(e,t,r){"use strict";t.__esModule=true;t["default"]=n;function n(e,t){if(e===t)return true;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return false;var r=Object.keys(e);var n=Object.keys(t);if(r.length!==n.length)return false;var a=Object.prototype.hasOwnProperty.bind(t);for(var i=0;i<r.length;i++)if(!a(r[i])||e[r[i]]!==t[r[i]])return false;return true}e.exports=t["default"]},9525:function(e,t,r){"use strict";t.__esModule=true;function n(e){return e&&e.__esModule?e["default"]:e}function a(e,t){var r=t({},e);delete r["default"];return r}function i(e,t){var r=Object.getOwnPropertyNames(t);for(var n=0;n<r.length;n++){var a=r[n];var i=Object.getOwnPropertyDescriptor(t,a);i&&i.configurable&&void 0===e[a]&&Object.defineProperty(e,a,i)}return e}var o=r(9411);i(t,a(o,i));var s=r(9563);t.nicinabox=n(s)},9526:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"threezerotwofour",author:"jan t. sott (http://github.com/idleberg)",base00:"#090300",base01:"#3a3432",base02:"#4a4543",base03:"#5c5855",base04:"#807d7c",base05:"#a5a2a2",base06:"#d6d5d4",base07:"#f7f7f7",base08:"#db2d20",base09:"#e8bbd0",base0A:"#fded02",base0B:"#01a252",base0C:"#b5e4f4",base0D:"#01a0e4",base0E:"#a16a94",base0F:"#cdab53"};e.exports=t["default"]},9527:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"apathy",author:"jannik siebert (https://github.com/janniks)",base00:"#031A16",base01:"#0B342D",base02:"#184E45",base03:"#2B685E",base04:"#5F9C92",base05:"#81B5AC",base06:"#A7CEC8",base07:"#D2E7E4",base08:"#3E9688",base09:"#3E7996",base0A:"#3E4C96",base0B:"#883E96",base0C:"#963E4C",base0D:"#96883E",base0E:"#4C963E",base0F:"#3E965B"};e.exports=t["default"]},9528:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"ashes",author:"jannik siebert (https://github.com/janniks)",base00:"#1C2023",base01:"#393F45",base02:"#565E65",base03:"#747C84",base04:"#ADB3BA",base05:"#C7CCD1",base06:"#DFE2E5",base07:"#F3F4F5",base08:"#C7AE95",base09:"#C7C795",base0A:"#AEC795",base0B:"#95C7AE",base0C:"#95AEC7",base0D:"#AE95C7",base0E:"#C795AE",base0F:"#C79595"};e.exports=t["default"]},9529:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"atelier dune",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/dune)",base00:"#20201d",base01:"#292824",base02:"#6e6b5e",base03:"#7d7a68",base04:"#999580",base05:"#a6a28c",base06:"#e8e4cf",base07:"#fefbec",base08:"#d73737",base09:"#b65611",base0A:"#cfb017",base0B:"#60ac39",base0C:"#1fad83",base0D:"#6684e1",base0E:"#b854d4",base0F:"#d43552"};e.exports=t["default"]},9530:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"atelier forest",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/forest)",base00:"#1b1918",base01:"#2c2421",base02:"#68615e",base03:"#766e6b",base04:"#9c9491",base05:"#a8a19f",base06:"#e6e2e0",base07:"#f1efee",base08:"#f22c40",base09:"#df5320",base0A:"#d5911a",base0B:"#5ab738",base0C:"#00ad9c",base0D:"#407ee7",base0E:"#6666ea",base0F:"#c33ff3"};e.exports=t["default"]},9531:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"atelier heath",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/heath)",base00:"#1b181b",base01:"#292329",base02:"#695d69",base03:"#776977",base04:"#9e8f9e",base05:"#ab9bab",base06:"#d8cad8",base07:"#f7f3f7",base08:"#ca402b",base09:"#a65926",base0A:"#bb8a35",base0B:"#379a37",base0C:"#159393",base0D:"#516aec",base0E:"#7b59c0",base0F:"#cc33cc"};e.exports=t["default"]},9532:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"atelier lakeside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)",base00:"#161b1d",base01:"#1f292e",base02:"#516d7b",base03:"#5a7b8c",base04:"#7195a8",base05:"#7ea2b4",base06:"#c1e4f6",base07:"#ebf8ff",base08:"#d22d72",base09:"#935c25",base0A:"#8a8a0f",base0B:"#568c3b",base0C:"#2d8f6f",base0D:"#257fad",base0E:"#5d5db1",base0F:"#b72dd2"};e.exports=t["default"]},9533:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"atelier seaside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/seaside/)",base00:"#131513",base01:"#242924",base02:"#5e6e5e",base03:"#687d68",base04:"#809980",base05:"#8ca68c",base06:"#cfe8cf",base07:"#f0fff0",base08:"#e6193c",base09:"#87711d",base0A:"#c3c322",base0B:"#29a329",base0C:"#1999b3",base0D:"#3d62f5",base0E:"#ad2bee",base0F:"#e619c3"};e.exports=t["default"]},9534:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"bespin",author:"jan t. sott",base00:"#28211c",base01:"#36312e",base02:"#5e5d5c",base03:"#666666",base04:"#797977",base05:"#8a8986",base06:"#9d9b97",base07:"#baae9e",base08:"#cf6a4c",base09:"#cf7d34",base0A:"#f9ee98",base0B:"#54be0d",base0C:"#afc4db",base0D:"#5ea6ea",base0E:"#9b859d",base0F:"#937121"};e.exports=t["default"]},9535:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"brewer",author:"timoth\xe9e poisot (http://github.com/tpoisot)",base00:"#0c0d0e",base01:"#2e2f30",base02:"#515253",base03:"#737475",base04:"#959697",base05:"#b7b8b9",base06:"#dadbdc",base07:"#fcfdfe",base08:"#e31a1c",base09:"#e6550d",base0A:"#dca060",base0B:"#31a354",base0C:"#80b1d3",base0D:"#3182bd",base0E:"#756bb1",base0F:"#b15928"};e.exports=t["default"]},9536:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"bright",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#303030",base02:"#505050",base03:"#b0b0b0",base04:"#d0d0d0",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ffffff",base08:"#fb0120",base09:"#fc6d24",base0A:"#fda331",base0B:"#a1c659",base0C:"#76c7b7",base0D:"#6fb3d2",base0E:"#d381c3",base0F:"#be643c"};e.exports=t["default"]},9537:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"chalk",author:"chris kempson (http://chriskempson.com)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#f5f5f5",base08:"#fb9fb1",base09:"#eda987",base0A:"#ddb26f",base0B:"#acc267",base0C:"#12cfc0",base0D:"#6fc2ef",base0E:"#e1a3ee",base0F:"#deaf8f"};e.exports=t["default"]},9538:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"codeschool",author:"brettof86",base00:"#232c31",base01:"#1c3657",base02:"#2a343a",base03:"#3f4944",base04:"#84898c",base05:"#9ea7a6",base06:"#a7cfa3",base07:"#b5d8f6",base08:"#2a5491",base09:"#43820d",base0A:"#a03b1e",base0B:"#237986",base0C:"#b02f30",base0D:"#484d79",base0E:"#c59820",base0F:"#c98344"};e.exports=t["default"]},9539:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"colors",author:"mrmrs (http://clrs.cc)",base00:"#111111",base01:"#333333",base02:"#555555",base03:"#777777",base04:"#999999",base05:"#bbbbbb",base06:"#dddddd",base07:"#ffffff",base08:"#ff4136",base09:"#ff851b",base0A:"#ffdc00",base0B:"#2ecc40",base0C:"#7fdbff",base0D:"#0074d9",base0E:"#b10dc9",base0F:"#85144b"};e.exports=t["default"]},9540:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"default",author:"chris kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"};e.exports=t["default"]},9541:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"eighties",author:"chris kempson (http://chriskempson.com)",base00:"#2d2d2d",base01:"#393939",base02:"#515151",base03:"#747369",base04:"#a09f93",base05:"#d3d0c8",base06:"#e8e6df",base07:"#f2f0ec",base08:"#f2777a",base09:"#f99157",base0A:"#ffcc66",base0B:"#99cc99",base0C:"#66cccc",base0D:"#6699cc",base0E:"#cc99cc",base0F:"#d27b53"};e.exports=t["default"]},9542:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"embers",author:"jannik siebert (https://github.com/janniks)",base00:"#16130F",base01:"#2C2620",base02:"#433B32",base03:"#5A5047",base04:"#8A8075",base05:"#A39A90",base06:"#BEB6AE",base07:"#DBD6D1",base08:"#826D57",base09:"#828257",base0A:"#6D8257",base0B:"#57826D",base0C:"#576D82",base0D:"#6D5782",base0E:"#82576D",base0F:"#825757"};e.exports=t["default"]},9543:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"flat",author:"chris kempson (http://chriskempson.com)",base00:"#2C3E50",base01:"#34495E",base02:"#7F8C8D",base03:"#95A5A6",base04:"#BDC3C7",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ECF0F1",base08:"#E74C3C",base09:"#E67E22",base0A:"#F1C40F",base0B:"#2ECC71",base0C:"#1ABC9C",base0D:"#3498DB",base0E:"#9B59B6",base0F:"#be643c"};e.exports=t["default"]},9544:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"google",author:"seth wright (http://sethawright.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#CC342B",base09:"#F96A38",base0A:"#FBA922",base0B:"#198844",base0C:"#3971ED",base0D:"#3971ED",base0E:"#A36AC7",base0F:"#3971ED"};e.exports=t["default"]},9545:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"grayscale",author:"alexandre gavioli (https://github.com/alexx2/)",base00:"#101010",base01:"#252525",base02:"#464646",base03:"#525252",base04:"#ababab",base05:"#b9b9b9",base06:"#e3e3e3",base07:"#f7f7f7",base08:"#7c7c7c",base09:"#999999",base0A:"#a0a0a0",base0B:"#8e8e8e",base0C:"#868686",base0D:"#686868",base0E:"#747474",base0F:"#5e5e5e"};e.exports=t["default"]},9546:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"green screen",author:"chris kempson (http://chriskempson.com)",base00:"#001100",base01:"#003300",base02:"#005500",base03:"#007700",base04:"#009900",base05:"#00bb00",base06:"#00dd00",base07:"#00ff00",base08:"#007700",base09:"#009900",base0A:"#007700",base0B:"#00bb00",base0C:"#005500",base0D:"#009900",base0E:"#00bb00",base0F:"#005500"};e.exports=t["default"]},9547:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"harmonic16",author:"jannik siebert (https://github.com/janniks)",base00:"#0b1c2c",base01:"#223b54",base02:"#405c79",base03:"#627e99",base04:"#aabcce",base05:"#cbd6e2",base06:"#e5ebf1",base07:"#f7f9fb",base08:"#bf8b56",base09:"#bfbf56",base0A:"#8bbf56",base0B:"#56bf8b",base0C:"#568bbf",base0D:"#8b56bf",base0E:"#bf568b",base0F:"#bf5656"};e.exports=t["default"]},9548:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"hopscotch",author:"jan t. sott",base00:"#322931",base01:"#433b42",base02:"#5c545b",base03:"#797379",base04:"#989498",base05:"#b9b5b8",base06:"#d5d3d5",base07:"#ffffff",base08:"#dd464c",base09:"#fd8b19",base0A:"#fdcc59",base0B:"#8fc13e",base0C:"#149b93",base0D:"#1290bf",base0E:"#c85e7c",base0F:"#b33508"};e.exports=t["default"]},9549:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"isotope",author:"jan t. sott",base00:"#000000",base01:"#404040",base02:"#606060",base03:"#808080",base04:"#c0c0c0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#ff0000",base09:"#ff9900",base0A:"#ff0099",base0B:"#33ff00",base0C:"#00ffff",base0D:"#0066ff",base0E:"#cc00ff",base0F:"#3300ff"};e.exports=t["default"]},9550:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"marrakesh",author:"alexandre gavioli (http://github.com/alexx2/)",base00:"#201602",base01:"#302e00",base02:"#5f5b17",base03:"#6c6823",base04:"#86813b",base05:"#948e48",base06:"#ccc37a",base07:"#faf0a5",base08:"#c35359",base09:"#b36144",base0A:"#a88339",base0B:"#18974e",base0C:"#75a738",base0D:"#477ca1",base0E:"#8868b3",base0F:"#b3588e"};e.exports=t["default"]},9551:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"mocha",author:"chris kempson (http://chriskempson.com)",base00:"#3B3228",base01:"#534636",base02:"#645240",base03:"#7e705a",base04:"#b8afad",base05:"#d0c8c6",base06:"#e9e1dd",base07:"#f5eeeb",base08:"#cb6077",base09:"#d28b71",base0A:"#f4bc87",base0B:"#beb55b",base0C:"#7bbda4",base0D:"#8ab3b5",base0E:"#a89bb9",base0F:"#bb9584"};e.exports=t["default"]},9552:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"};e.exports=t["default"]},9553:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"ocean",author:"chris kempson (http://chriskempson.com)",base00:"#2b303b",base01:"#343d46",base02:"#4f5b66",base03:"#65737e",base04:"#a7adba",base05:"#c0c5ce",base06:"#dfe1e8",base07:"#eff1f5",base08:"#bf616a",base09:"#d08770",base0A:"#ebcb8b",base0B:"#a3be8c",base0C:"#96b5b4",base0D:"#8fa1b3",base0E:"#b48ead",base0F:"#ab7967"};e.exports=t["default"]},9554:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"paraiso",author:"jan t. sott",base00:"#2f1e2e",base01:"#41323f",base02:"#4f424c",base03:"#776e71",base04:"#8d8687",base05:"#a39e9b",base06:"#b9b6b0",base07:"#e7e9db",base08:"#ef6155",base09:"#f99b15",base0A:"#fec418",base0B:"#48b685",base0C:"#5bc4bf",base0D:"#06b6ef",base0E:"#815ba4",base0F:"#e96ba8"};e.exports=t["default"]},9555:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"pop",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#eb008a",base09:"#f29333",base0A:"#f8ca12",base0B:"#37b349",base0C:"#00aabb",base0D:"#0e5a94",base0E:"#b31e8d",base0F:"#7a2d00"};e.exports=t["default"]},9556:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"railscasts",author:"ryan bates (http://railscasts.com)",base00:"#2b2b2b",base01:"#272935",base02:"#3a4055",base03:"#5a647e",base04:"#d4cfc9",base05:"#e6e1dc",base06:"#f4f1ed",base07:"#f9f7f3",base08:"#da4939",base09:"#cc7833",base0A:"#ffc66d",base0B:"#a5c261",base0C:"#519f50",base0D:"#6d9cbe",base0E:"#b6b3eb",base0F:"#bc9458"};e.exports=t["default"]},9557:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"shapeshifter",author:"tyler benziger (http://tybenz.com)",base00:"#000000",base01:"#040404",base02:"#102015",base03:"#343434",base04:"#555555",base05:"#ababab",base06:"#e0e0e0",base07:"#f9f9f9",base08:"#e92f2f",base09:"#e09448",base0A:"#dddd13",base0B:"#0ed839",base0C:"#23edda",base0D:"#3b48e3",base0E:"#f996e2",base0F:"#69542d"};e.exports=t["default"]},9558:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"};e.exports=t["default"]},9559:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"summerfruit",author:"christopher corley (http://cscorley.github.io/)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#B0B0B0",base05:"#D0D0D0",base06:"#E0E0E0",base07:"#FFFFFF",base08:"#FF0086",base09:"#FD8900",base0A:"#ABA800",base0B:"#00C918",base0C:"#1faaaa",base0D:"#3777E6",base0E:"#AD00A1",base0F:"#cc6633"};e.exports=t["default"]},9560:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"tomorrow",author:"chris kempson (http://chriskempson.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#cc6666",base09:"#de935f",base0A:"#f0c674",base0B:"#b5bd68",base0C:"#8abeb7",base0D:"#81a2be",base0E:"#b294bb",base0F:"#a3685a"};e.exports=t["default"]},9561:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"london tube",author:"jan t. sott",base00:"#231f20",base01:"#1c3f95",base02:"#5a5758",base03:"#737171",base04:"#959ca1",base05:"#d9d8d8",base06:"#e7e7e8",base07:"#ffffff",base08:"#ee2e24",base09:"#f386a1",base0A:"#ffd204",base0B:"#00853e",base0C:"#85cebc",base0D:"#009ddc",base0E:"#98005d",base0F:"#b06110"};e.exports=t["default"]},9562:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"twilight",author:"david hart (http://hart-dev.com)",base00:"#1e1e1e",base01:"#323537",base02:"#464b50",base03:"#5f5a60",base04:"#838184",base05:"#a7a7a7",base06:"#c3c3c3",base07:"#ffffff",base08:"#cf6a4c",base09:"#cda869",base0A:"#f9ee98",base0B:"#8f9d6a",base0C:"#afc4db",base0D:"#7587a6",base0E:"#9b859d",base0F:"#9b703f"};e.exports=t["default"]},9563:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"nicinabox",author:"nicinabox (http://github.com/nicinabox)",base00:"#2A2F3A",base01:"#3C444F",base02:"#4F5A65",base03:"#BEBEBE",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#FFFFFF",base07:"#f5f5f5",base08:"#fb9fb1",base09:"#FC6D24",base0A:"#ddb26f",base0B:"#A1C659",base0C:"#12cfc0",base0D:"#6FB3D2",base0E:"#D381C3",base0F:"#deaf8f"};e.exports=t["default"]},9564:function(e,t,r){"use strict";t.__esModule=true;t.default=o;var n=r(9412);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var r=arguments[2];if(!e.preserveScrollTop)return 0;return r.type===n.UPDATE_SCROLL_TOP?r.scrollTop:t}function i(e,t,r){return r.type===n.START_CONSECUTIVE_TOGGLE?r.id:t}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r=arguments[2];return{initialScrollTop:a(e,t.initialScrollTop,r),consecutiveToggleStartId:i(e,t.consecutiveToggleStartId,r)}}},9565:function(e,t,r){"use strict";t.__esModule=true;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var a=r(12159);var i=d(a);var o=r(9369);var s=d(o);var c=r(9362);var l=d(c);var u=r(9370);var p=r(9566);var f=d(p);function d(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=u.ActionCreators.reset;var _=u.ActionCreators.rollback;var g=u.ActionCreators.commit;var y=u.ActionCreators.sweep;var O={textAlign:"center",borderBottomWidth:1,borderBottomStyle:"solid",borderColor:"transparent",zIndex:1,display:"flex",flexDirection:"row"};var E=function(e){m(t,e);function t(r){v(this,t);var n=h(this,e.call(this,r));n.shouldComponentUpdate=l.default;n.handleReset=n.handleReset.bind(n);n.handleRollback=n.handleRollback.bind(n);n.handleSweep=n.handleSweep.bind(n);n.handleCommit=n.handleCommit.bind(n);return n}t.prototype.handleRollback=function e(){this.props.dispatch(_())};t.prototype.handleSweep=function e(){this.props.dispatch(y())};t.prototype.handleCommit=function e(){this.props.dispatch(g())};t.prototype.handleReset=function e(){this.props.dispatch(b())};t.prototype.render=function e(){var t=this.props;var r=t.theme;var a=t.hasStates;var o=t.hasSkippedActions;return i.default.createElement("div",{style:n({},O,{borderColor:r.base02})},i.default.createElement(f.default,{theme:r,onClick:this.handleReset,enabled:true},"Reset"),i.default.createElement(f.default,{theme:r,onClick:this.handleRollback,enabled:a},"Revert"),i.default.createElement(f.default,{theme:r,onClick:this.handleSweep,enabled:o},"Sweep"),i.default.createElement(f.default,{theme:r,onClick:this.handleCommit,enabled:a},"Commit"))};return t}(a.Component);E.propTypes={dispatch:s.default.func,theme:s.default.object};t.default=E},9566:function(e,t,r){"use strict";t.__esModule=true;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var a=r(12159);var i=u(a);var o=r(9567);var s=u(o);var c=r(9362);var l=u(c);function u(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v={base:{cursor:"pointer",fontWeight:"bold",borderRadius:3,padding:4,marginLeft:3,marginRight:3,marginTop:5,marginBottom:5,flexGrow:1,display:"inline-block",fontSize:"0.8em",color:"white",textDecoration:"none"}};var h=function(e){d(t,e);function t(r){p(this,t);var n=f(this,e.call(this,r));n.shouldComponentUpdate=l.default;n.handleMouseEnter=n.handleMouseEnter.bind(n);n.handleMouseLeave=n.handleMouseLeave.bind(n);n.handleMouseDown=n.handleMouseDown.bind(n);n.handleMouseUp=n.handleMouseUp.bind(n);n.onClick=n.onClick.bind(n);n.state={hovered:false,active:false};return n}t.prototype.handleMouseEnter=function e(){this.setState({hovered:true})};t.prototype.handleMouseLeave=function e(){this.setState({hovered:false})};t.prototype.handleMouseDown=function e(){this.setState({active:true})};t.prototype.handleMouseUp=function e(){this.setState({active:false})};t.prototype.onClick=function e(){if(!this.props.enabled)return;this.props.onClick&&this.props.onClick()};t.prototype.render=function e(){var t=n({},v.base,{backgroundColor:this.props.theme.base02});this.props.enabled&&this.state.hovered&&(t=n({},t,{backgroundColor:(0,s.default)(this.props.theme.base02,.2)}));this.props.enabled||(t=n({},t,{opacity:.2,cursor:"text",backgroundColor:"transparent"}));return i.default.createElement("a",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.onClick,style:t},this.props.children)};return t}(i.default.Component);t.default=h},9567:function(e,t,r){"use strict";t.__esModule=true;t.default=function(e,t){var r=String(e).replace(/[^0-9a-f]/gi,"");r.length<6&&(r=r.replace(/(.)/g,"$1$1"));var n=t||0;var a="#";var i=void 0;for(var o=0;o<3;++o){i=parseInt(r.substr(2*o,2),16);i=Math.round(Math.min(Math.max(0,i+i*n),255)).toString(16);a+=("00"+i).substr(i.length)}return a}},9568:function(e,t,r){"use strict";t.__esModule=true;var n=r(12159);var a=p(n);var i=r(9369);var o=p(i);var s=r(9569);var c=p(s);var l=r(9362);var u=p(l);function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){v(t,e);function t(){var r,n,a;f(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return a=(r=(n=d(this,e.call.apply(e,[this].concat(o))),n),n.shouldComponentUpdate=u.default,r),d(n,a)}t.prototype.render=function e(){var t=[];var r=this.props;var n=r.theme;var i=r.actionsById;var o=r.computedStates;var s=r.currentStateIndex;var l=r.consecutiveToggleStartId;var u=r.select;var p=r.skippedActionIds;var f=r.stagedActionIds;var d=r.expandActionRoot;var v=r.expandStateRoot;var h=r.markStateDiff;var m=r.onActionClick;var b=r.onActionShiftClick;for(var _=0;_<f.length;_++){var g=f[_];var y=i[g].action;var O=o[_];var E=O.state;var j=O.error;var k=void 0;_>0&&(k=o[_-1].state);t.push(a.default.createElement(c.default,{key:g,theme:n,select:u,action:y,actionId:g,state:E,previousState:k,collapsed:p.indexOf(g)>-1,inFuture:_>s,selected:l===_,error:j,expandActionRoot:d,expandStateRoot:v,markStateDiff:h,onActionClick:m,onActionShiftClick:b}))}return a.default.createElement("div",null,t)};return t}(n.Component);h.propTypes={actionsById:o.default.object,computedStates:o.default.array,stagedActionIds:o.default.array,skippedActionIds:o.default.array,currentStateIndex:o.default.number,consecutiveToggleStartId:o.default.number,select:o.default.func.isRequired,onActionClick:o.default.func.isRequired,theme:o.default.oneOfType([o.default.object,o.default.string]),expandActionRoot:o.default.bool,expandStateRoot:o.default.bool};t.default=h},9569:function(e,t,r){"use strict";t.__esModule=true;var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var i=r(12159);var o=h(i);var s=r(9369);var c=h(s);var l=r(9413);var u=h(l);var p=r(9596);var f=h(p);var d=r(9362);var v=h(d);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g={entry:{display:"block",WebkitUserSelect:"none"},root:{marginLeft:0}};var y=function e(t,r){return r.reduce(function(e,t){return e&&e[t]},t)};var O=function e(t,r,n){var a=[].concat(n).reverse().slice(1);return y(t,a)===y(r,a)};var E=function(e){_(t,e);function t(r){m(this,t);var n=b(this,e.call(this,r));n.shouldComponentUpdate=v.default;n.handleActionClick=n.handleActionClick.bind(n);n.shouldExpandNode=n.shouldExpandNode.bind(n);return n}t.prototype.printState=function e(t,r){var i=this;var s=r;if(!s)try{var c=function(){var e=i.props.select(t);var r=void 0;i.props.markStateDiff?function(){var t="undefined"!==typeof i.props.previousState?i.props.select(i.props.previousState):void 0;var n=function r(n,o,s){var c=n.style;return{style:a({},c,{backgroundColor:O(e,t,s)?"transparent":i.props.theme.base01})}};var o=function e(t,r){var n=t.style;return{style:a({},n,r.length>1?{}:g.root)}};r={extend:i.props.theme,tree:g.tree,value:n,nestedNode:o}}():r=i.props.theme;return{v:o.default.createElement(u.default,{theme:r,data:e,invertTheme:false,keyPath:["state"],shouldExpandNode:i.shouldExpandNode})}}();if("object"===("undefined"===typeof c?"undefined":n(c)))return c.v}catch(e){s="Error selecting state."}return o.default.createElement("div",{style:{color:this.props.theme.base08,paddingTop:20,paddingLeft:30,paddingRight:30,paddingBottom:35}},s)};t.prototype.handleActionClick=function e(t){var r=this.props;var n=r.actionId;var a=r.onActionClick;var i=r.onActionShiftClick;n>0&&(t.shiftKey?i(n):a(n))};t.prototype.shouldExpandNode=function e(t,r,n){return this.props.expandStateRoot&&0===n};t.prototype.render=function e(){var t=this.props;var r=t.actionId;var n=t.error;var i=t.action;var s=t.state;var c=t.collapsed;var l=t.selected;var u=t.inFuture;var p={opacity:c?.5:1,cursor:r>0?"pointer":"default"};return o.default.createElement("div",{style:{opacity:l?.4:u?.6:1,textDecoration:c?"line-through":"none",color:this.props.theme.base06}},o.default.createElement(f.default,{theme:this.props.theme,collapsed:c,action:i,expandActionRoot:this.props.expandActionRoot,onClick:this.handleActionClick,style:a({},g.entry,p)}),!c&&o.default.createElement("div",{style:{paddingLeft:16}},this.printState(s,n)))};return t}(i.Component);E.propTypes={state:c.default.object.isRequired,action:c.default.object.isRequired,actionId:c.default.number.isRequired,select:c.default.func.isRequired,inFuture:c.default.bool,error:c.default.string,onActionClick:c.default.func.isRequired,onActionShiftClick:c.default.func.isRequired,collapsed:c.default.bool,selected:c.default.bool,expandActionRoot:c.default.bool,expandStateRoot:c.default.bool};t.default=E},9570:function(e,t,r){"use strict";var n=r(66);var a=r(36);var i=r(9571);e.exports=function(){function e(e,t,r,n,o,s){if(s===i)return;a(false,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}e.isRequired=e;function t(){return e}var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};r.checkPropTypes=n;r.PropTypes=r;return r}},9571:function(e,t,r){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},9572:function(e,t,r){"use strict";t.__esModule=true;var n=r(1336);var a=i(n);t["default"]=o;function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&"function"===typeof e[a["default"]])return"Iterable";return t}},9573:function(e,t,r){"use strict";t.__esModule=true;var n=r(189);var a=h(n);var i=r(374);var o=h(i);var s=r(9415);var c=h(s);var l=r(12159);var u=h(l);var p=r(9357);var f=h(p);var d=r(9382);var v=h(d);function h(e){return e&&e.__esModule?e:{default:e}}function m(e){var t=(0,c["default"])(e).length;return t+" "+(1!==t?"keys":"key")}var b=function e(t){var r=t.data,n=(0,o["default"])(t,["data"]);return u["default"].createElement(v["default"],(0,a["default"])({},n,{data:r,nodeType:"Object",nodeTypeIndicator:"Error"===n.nodeType?"Error()":"{}",createItemString:m,expandable:(0,c["default"])(r).length>0}))};b.propTypes={data:f["default"].object,nodeType:f["default"].string};t["default"]=b},9574:function(e,t,r){r(9575);var n=r(7302).Object;e.exports=function e(t){return n.getOwnPropertyNames(t)}},9575:function(e,t,r){r(7328)("getOwnPropertyNames",function(){return r(7375).f})},9576:function(e,t,r){"use strict";t.__esModule=true;var n=r(1399);var a=l(n);var i=r(9415);var o=l(i);var s=r(952);var c=l(s);t["default"]=v;function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("Object"===e)return(0,c["default"])(t).length;if("Array"===e)return t.length;return Infinity}function p(e){return"function"===typeof e.set}function f(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Infinity;var s=void 0;if("Object"===e){var c=(0,o["default"])(t);"undefined"!==typeof r&&c.sort(r);c=c.slice(n,i+1);s={entries:c.map(function(e){return{key:e,value:t[e]}})}}else if("Array"===e)s={entries:t.slice(n,i+1).map(function(e,t){return{key:t+n,value:e}})};else{var l=0;var u=[];var f=true;var d=p(t);for(var v=t,h=Array.isArray(v),m=0,v=h?v:(0,a["default"])(v);;){var b;if(h){if(m>=v.length)break;b=v[m++]}else{m=v.next();if(m.done)break;b=m.value}var _=b;if(l>i){f=false;break}n<=l&&(d&&Array.isArray(_)?"string"===typeof _[0]||"number"===typeof _[0]?u.push({key:_[0],value:_[1]}):u.push({key:"[entry "+l+"]",value:{"[key]":_[0],"[value]":_[1]}}):u.push({key:l,value:_}));l++}s={hasMore:!f,entries:u}}return s}function d(e,t,r){var n=[];while(t-e>r*r)r*=r;for(var a=e;a<=t;a+=r)n.push({from:a,to:Math.min(t,a+r-1)});return n}function v(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Infinity;var o=f.bind(null,e,t,r);if(!n)return o().entries;var s=i<Infinity;var c=Math.min(i-a,u(e,t));if("Iterable"!==e){if(c<=n||n<7)return o(a,i).entries}else if(c<=n&&!s)return o(a,i).entries;var l=void 0;if("Iterable"===e){var p=o(a,a+n-1),v=p.hasMore,h=p.entries;l=v?[].concat(h,d(a+n,a+2*n-1,n)):h}else l=s?d(a,i,n):[].concat(o(0,n-5).entries,d(n-4,c-5,n),o(c-4,c-1).entries);return l}},9577:function(e,t,r){"use strict";t.__esModule=true;var n=r(189);var a=b(n);var i=r(72);var o=b(i);var s=r(95);var c=b(s);var l=r(96);var u=b(l);var p=r(12159);var f=b(p);var d=r(9357);var v=b(d);var h=r(9416);var m=b(h);function b(e){return e&&e.__esModule?e:{default:e}}var _=function(e){(0,u["default"])(t,e);function t(r){(0,o["default"])(this,t);var n=(0,c["default"])(this,e.call(this,r));n.state={expanded:false};n.handleClick=n.handleClick.bind(n);return n}t.prototype.render=function e(){var t=this.props,r=t.styling,n=t.from,i=t.to,o=t.renderChildNodes,s=t.nodeType;return this.state.expanded?f["default"].createElement("div",r("itemRange",this.state.expanded),o(this.props,n,i)):f["default"].createElement("div",(0,a["default"])({},r("itemRange",this.state.expanded),{onClick:this.handleClick}),f["default"].createElement(m["default"],{nodeType:s,styling:r,expanded:false,onClick:this.handleClick,arrowStyle:"double"}),n+" ... "+i)};t.prototype.handleClick=function e(){this.setState({expanded:!this.state.expanded})};return t}(f["default"].Component);_.propTypes={styling:v["default"].func.isRequired,from:v["default"].number.isRequired,to:v["default"].number.isRequired,renderChildNodes:v["default"].func.isRequired,nodeType:v["default"].string.isRequired};t["default"]=_},9578:function(e,t,r){"use strict";t.__esModule=true;var n=r(189);var a=d(n);var i=r(374);var o=d(i);var s=r(12159);var c=d(s);var l=r(9357);var u=d(l);var p=r(9382);var f=d(p);function d(e){return e&&e.__esModule?e:{default:e}}function v(e){return e.length+" "+(1!==e.length?"items":"item")}var h=function e(t){var r=t.data,n=(0,o["default"])(t,["data"]);return c["default"].createElement(f["default"],(0,a["default"])({},n,{data:r,nodeType:"Array",nodeTypeIndicator:"[]",createItemString:v,expandable:r.length>0}))};h.propTypes={data:u["default"].array};t["default"]=h},9579:function(e,t,r){"use strict";t.__esModule=true;var n=r(189);var a=h(n);var i=r(374);var o=h(i);var s=r(1399);var c=h(s);var l=r(9580);var u=h(l);t["default"]=b;var p=r(12159);var f=h(p);var d=r(9382);var v=h(d);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){var r=0;var n=false;if((0,u["default"])(e.size))r=e.size;else for(var a=e,i=Array.isArray(a),o=0,a=i?a:(0,c["default"])(a);;){var s;if(i){if(o>=a.length)break;s=a[o++]}else{o=a.next();if(o.done)break;s=o.value}var l=s;if(t&&r+1>t){n=true;break}r+=1}return(n?">":"")+r+" "+(1!==r?"entries":"entry")}function b(e){var t=(0,o["default"])(e,[]);return f["default"].createElement(v["default"],(0,a["default"])({},t,{nodeType:"Iterable",nodeTypeIndicator:"()",createItemString:m}))}},9580:function(e,t,r){e.exports={default:r(9581),__esModule:true}},9581:function(e,t,r){r(9582);e.exports=r(7302).Number.isSafeInteger},9582:function(e,t,r){var n=r(7308);var a=r(9583);var i=Math.abs;n(n.S,"Number",{isSafeInteger:function e(t){return a(t)&&i(t)<=9007199254740991}})},9583:function(e,t,r){var n=r(7316);var a=Math.floor;e.exports=function e(t){return!n(t)&&isFinite(t)&&a(t)===t}},9584:function(e,t,r){"use strict";t.__esModule=true;var n=r(12159);var a=s(n);var i=r(9357);var o=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var c=function e(t){var r=t.nodeType,n=t.styling,i=t.labelRenderer,o=t.keyPath,s=t.valueRenderer,c=t.value,l=t.valueGetter;return a["default"].createElement("li",n("value",r,o),a["default"].createElement("label",n(["label","valueLabel"],r,o),i(o,r,false,false)),a["default"].createElement("span",n("valueText",r,o),s.apply(void 0,[l(c),c].concat(o))))};c.propTypes={nodeType:o["default"].string.isRequired,styling:o["default"].func.isRequired,labelRenderer:o["default"].func.isRequired,keyPath:o["default"].arrayOf(o["default"].oneOfType([o["default"].string,o["default"].number])).isRequired,valueRenderer:o["default"].func.isRequired,value:o["default"].any,valueGetter:o["default"].func};c.defaultProps={valueGetter:function e(t){return t}};t["default"]=c},9585:function(e,t,r){"use strict";t.__esModule=true;var n=r(189);var a=c(n);var i=r(9417);var o=r(9595);var s=c(o);function c(e){return e&&e.__esModule?e:{default:e}}var l=function e(t){return{BACKGROUND_COLOR:t.base00,TEXT_COLOR:t.base07,STRING_COLOR:t.base0B,DATE_COLOR:t.base0B,NUMBER_COLOR:t.base09,BOOLEAN_COLOR:t.base09,NULL_COLOR:t.base08,UNDEFINED_COLOR:t.base08,FUNCTION_COLOR:t.base08,SYMBOL_COLOR:t.base08,LABEL_COLOR:t.base0D,ARROW_COLOR:t.base0D,ITEM_STRING_COLOR:t.base0B,ITEM_STRING_EXPANDED_COLOR:t.base03}};var u=function e(t){return{String:t.STRING_COLOR,Date:t.DATE_COLOR,Number:t.NUMBER_COLOR,Boolean:t.BOOLEAN_COLOR,Null:t.NULL_COLOR,Undefined:t.UNDEFINED_COLOR,Function:t.FUNCTION_COLOR,Symbol:t.SYMBOL_COLOR}};var p=function e(t){var r=l(t);return{tree:{border:0,padding:0,marginTop:"0.5em",marginBottom:"0.5em",marginLeft:"0.125em",marginRight:0,listStyle:"none",MozUserSelect:"none",WebkitUserSelect:"none",backgroundColor:r.BACKGROUND_COLOR},value:function e(t,r,n){var i=t.style;return{style:(0,a["default"])({},i,{paddingTop:"0.25em",paddingRight:0,marginLeft:"0.875em",WebkitUserSelect:"text",MozUserSelect:"text",wordWrap:"break-word",paddingLeft:n.length>1?"2.125em":"1.25em",textIndent:"-0.5em",wordBreak:"break-all"})}},label:{display:"inline-block",color:r.LABEL_COLOR},valueLabel:{margin:"0 0.5em 0 0"},valueText:function e(t,n){var i=t.style;return{style:(0,a["default"])({},i,{color:u(r)[n]})}},itemRange:function e(t,n){return{style:{paddingTop:n?0:"0.25em",cursor:"pointer",color:r.LABEL_COLOR}}},arrow:function e(t,r,n){var i=t.style;return{style:(0,a["default"])({},i,{marginLeft:0,transition:"150ms",WebkitTransition:"150ms",MozTransition:"150ms",WebkitTransform:n?"rotateZ(90deg)":"rotateZ(0deg)",MozTransform:n?"rotateZ(90deg)":"rotateZ(0deg)",transform:n?"rotateZ(90deg)":"rotateZ(0deg)",transformOrigin:"45% 50%",WebkitTransformOrigin:"45% 50%",MozTransformOrigin:"45% 50%",position:"relative",lineHeight:"1.1em",fontSize:"0.75em"})}},arrowContainer:function e(t,r){var n=t.style;return{style:(0,a["default"])({},n,{display:"inline-block",paddingRight:"0.5em",paddingLeft:"double"===r?"1em":0,cursor:"pointer"})}},arrowSign:{color:r.ARROW_COLOR},arrowSignInner:{position:"absolute",top:0,left:"-0.4em"},nestedNode:function e(t,r,n,i,o){var s=t.style;return{style:(0,a["default"])({},s,{position:"relative",paddingTop:"0.25em",marginLeft:r.length>1?"0.875em":0,paddingLeft:o?0:"1.125em"})}},rootNode:{padding:0,margin:0},nestedNodeLabel:function e(t,r,n,i,o){var s=t.style;return{style:(0,a["default"])({},s,{margin:0,padding:0,WebkitUserSelect:o?"inherit":"text",MozUserSelect:o?"inherit":"text",cursor:o?"pointer":"default"})}},nestedNodeItemString:function e(t,n,i,o){var s=t.style;return{style:(0,a["default"])({},s,{paddingLeft:"0.5em",cursor:"default",color:o?r.ITEM_STRING_EXPANDED_COLOR:r.ITEM_STRING_COLOR})}},nestedNodeItemType:{marginLeft:"0.3em",marginRight:"0.3em"},nestedNodeChildren:function e(t,r,n){var i=t.style;return{style:(0,a["default"])({},i,{padding:0,margin:0,listStyle:"none",display:n?"block":"none"})}},rootNodeChildren:{padding:0,margin:0,listStyle:"none"}}};t["default"]=(0,i.createStyling)(p,{defaultBase16:s["default"]})},9586:function(e,t,r){(function(t){var r="Expected a function";var n="__lodash_placeholder__";var a=1,i=2,o=4,s=8,c=16,l=32,u=64,p=128,f=256,d=512;var v=1/0,h=9007199254740991,m=1.7976931348623157e308,b=NaN;var _=[["ary",p],["bind",a],["bindKey",i],["curry",s],["curryRight",c],["flip",d],["partial",l],["partialRight",u],["rearg",f]];var g="[object Function]",y="[object GeneratorFunction]",O="[object Symbol]";var E=/[\\^$.*+?()[\]{}|]/g;var j=/^\s+|\s+$/g;var k=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,w=/\{\n\/\* \[wrapped with (.+)\] \*/,C=/,? & /;var S=/^[-+]0x[0-9a-f]+$/i;var T=/^0b[01]+$/i;var I=/^\[object .+?Constructor\]$/;var N=/^0o[0-7]+$/i;var A=/^(?:0|[1-9]\d*)$/;var P=parseInt;var R="object"==typeof t&&t&&t.Object===Object&&t;var M="object"==typeof self&&self&&self.Object===Object&&self;var x=R||M||Function("return this")();function L(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function D(e,t){var r=-1,n=e?e.length:0;while(++r<n)if(false===t(e[r],r,e))break;return e}function F(e,t){var r=e?e.length:0;return!!r&&U(e,t,0)>-1}function B(e,t,r,n){var a=e.length,i=r+(n?1:-1);while(n?i--:++i<a)if(t(e[i],i,e))return i;return-1}function U(e,t,r){if(t!==t)return B(e,H,r);var n=r-1,a=e.length;while(++n<a)if(e[n]===t)return n;return-1}function H(e){return e!==e}function q(e,t){var r=e.length,n=0;while(r--)e[r]===t&&n++;return n}function G(e,t){return null==e?void 0:e[t]}function W(e){var t=false;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function V(e,t){var r=-1,a=e.length,i=0,o=[];while(++r<a){var s=e[r];if(s===t||s===n){e[r]=n;o[i++]=r}}return o}var K=Function.prototype,z=Object.prototype;var Q=x["__core-js_shared__"];var Y=function(){var e=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var J=K.toString;var X=z.hasOwnProperty;var Z=z.toString;var $=RegExp("^"+J.call(X).replace(E,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ee=Object.create;var te=Math.max,re=Math.min;var ne=function(){var e=be(Object,"defineProperty"),t=be.name;return t&&t.length>2?e:void 0}();function ae(e){return Te(e)?ee(e):{}}function ie(e){if(!Te(e)||Oe(e))return false;var t=Se(e)||W(e)?$:I;return t.test(ke(e))}function oe(e,t,r,n){var a=-1,i=e.length,o=r.length,s=-1,c=t.length,l=te(i-o,0),u=Array(c+l),p=!n;while(++s<c)u[s]=t[s];while(++a<o)(p||a<i)&&(u[r[a]]=e[a]);while(l--)u[s++]=e[a++];return u}function se(e,t,r,n){var a=-1,i=e.length,o=-1,s=r.length,c=-1,l=t.length,u=te(i-s,0),p=Array(u+l),f=!n;while(++a<u)p[a]=e[a];var d=a;while(++c<l)p[d+c]=t[c];while(++o<s)(f||a<i)&&(p[d+r[o]]=e[a++]);return p}function ce(e,t){var r=-1,n=e.length;t||(t=Array(n));while(++r<n)t[r]=e[r];return t}function le(e,t,r){var n=t&a,i=ue(e);function o(){var t=this&&this!==x&&this instanceof o?i:e;return t.apply(n?r:this,arguments)}return o}function ue(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=ae(e.prototype),n=e.apply(r,t);return Te(n)?n:r}}function pe(e,t,r){var n=ue(e);function a(){var i=arguments.length,o=Array(i),s=i,c=me(a);while(s--)o[s]=arguments[s];var l=i<3&&o[0]!==c&&o[i-1]!==c?[]:V(o,c);i-=l.length;if(i<r)return ve(e,t,fe,a.placeholder,void 0,o,l,void 0,void 0,r-i);var u=this&&this!==x&&this instanceof a?n:e;return L(u,this,o)}return a}function fe(e,t,r,n,o,l,u,f,v,h){var m=t&p,b=t&a,_=t&i,g=t&(s|c),y=t&d,O=_?void 0:ue(e);function E(){var a=arguments.length,i=Array(a),s=a;while(s--)i[s]=arguments[s];if(g)var c=me(E),p=q(i,c);n&&(i=oe(i,n,o,g));l&&(i=se(i,l,u,g));a-=p;if(g&&a<h){var d=V(i,c);return ve(e,t,fe,E.placeholder,r,i,d,f,v,h-a)}var j=b?r:this,k=_?j[e]:e;a=i.length;f?i=Ee(i,f):y&&a>1&&i.reverse();m&&v<a&&(i.length=v);this&&this!==x&&this instanceof E&&(k=O||ue(k));return k.apply(j,i)}return E}function de(e,t,r,n){var i=t&a,o=ue(e);function s(){var t=-1,a=arguments.length,c=-1,l=n.length,u=Array(l+a),p=this&&this!==x&&this instanceof s?o:e;while(++c<l)u[c]=n[c];while(a--)u[c++]=arguments[++t];return L(p,i?r:this,u)}return s}function ve(e,t,r,n,c,p,f,d,v,h){var m=t&s,b=m?f:void 0,_=m?void 0:f,g=m?p:void 0,y=m?void 0:p;t|=m?l:u;t&=~(m?u:l);t&o||(t&=~(a|i));var O=r(e,t,c,g,b,y,_,d,v,h);O.placeholder=n;return je(O,e,t)}function he(e,t,n,o,p,f,d,v){var h=t&i;if(!h&&"function"!=typeof e)throw new TypeError(r);var m=o?o.length:0;if(!m){t&=~(l|u);o=p=void 0}d=void 0===d?d:te(Pe(d),0);v=void 0===v?v:Pe(v);m-=p?p.length:0;if(t&u){var b=o,_=p;o=p=void 0}var g=[e,t,n,o,p,b,_,f,d,v];e=g[0];t=g[1];n=g[2];o=g[3];p=g[4];v=g[9]=null==g[9]?h?0:e.length:te(g[9]-m,0);!v&&t&(s|c)&&(t&=~(s|c));if(t&&t!=a)y=t==s||t==c?pe(e,t,v):t!=l&&t!=(a|l)||p.length?fe.apply(void 0,g):de(e,t,n,o);else var y=le(e,t,n);return je(y,e,t)}function me(e){var t=e;return t.placeholder}function be(e,t){var r=G(e,t);return ie(r)?r:void 0}function _e(e){var t=e.match(w);return t?t[1].split(C):[]}function ge(e,t){var r=t.length,n=r-1;t[n]=(r>1?"& ":"")+t[n];t=t.join(r>2?", ":" ");return e.replace(k,"{\n/* [wrapped with "+t+"] */\n")}function ye(e,t){t=null==t?h:t;return!!t&&("number"==typeof e||A.test(e))&&e>-1&&e%1==0&&e<t}function Oe(e){return!!Y&&Y in e}function Ee(e,t){var r=e.length,n=re(t.length,r),a=ce(e);while(n--){var i=t[n];e[n]=ye(i,r)?a[i]:void 0}return e}var je=ne?function(e,t,r){var n=t+"";return ne(e,"toString",{configurable:true,enumerable:false,value:Me(ge(n,we(_e(n),r)))})}:xe;function ke(e){if(null!=e){try{return J.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function we(e,t){D(_,function(r){var n="_."+r[0];t&r[1]&&!F(e,n)&&e.push(n)});return e.sort()}function Ce(e,t,r){t=r?void 0:t;var n=he(e,s,void 0,void 0,void 0,void 0,void 0,t);n.placeholder=Ce.placeholder;return n}function Se(e){var t=Te(e)?Z.call(e):"";return t==g||t==y}function Te(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ie(e){return!!e&&"object"==typeof e}function Ne(e){return"symbol"==typeof e||Ie(e)&&Z.call(e)==O}function Ae(e){if(!e)return 0===e?e:0;e=Re(e);if(e===v||e===-v){var t=e<0?-1:1;return t*m}return e===e?e:0}function Pe(e){var t=Ae(e),r=t%1;return t===t?r?t-r:t:0}function Re(e){if("number"==typeof e)return e;if(Ne(e))return b;if(Te(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Te(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(j,"");var r=T.test(e);return r||N.test(e)?P(e.slice(2),r?2:8):S.test(e)?b:+e}function Me(e){return function(){return e}}function xe(e){return e}Ce.placeholder={};e.exports=Ce}).call(t,r(7))},9587:function(e,t,r){var n=r(9383);function a(e){var t=Math.round(n(e,0,255));var r=t.toString(16);return 1==r.length?"0"+r:r}function i(e){var t=4===e.length?a(255*e[3]):"";return"#"+a(e[0])+a(e[1])+a(e[2])+t}e.exports=i},9588:function(e,t,r){var n=r(9589);var a=r(9590);var i=r(9591);var o=r(9592);function s(e){var t=n(e);var r=o(t);4===t.length&&r.push(t[3]);return r}var c={"#":a,hsl:s,rgb:i};function l(e){for(var t in c)if(0===e.indexOf(t))return c[t](e)}l.rgb=i;l.hsl=n;l.hex=a;e.exports=l},9589:function(e,t,r){var n=r(9418);var a=r(9383);function i(e,t){e=parseFloat(e);switch(t){case 0:return a(e,0,360);case 1:case 2:return a(e,0,100);case 3:return a(e,0,1)}}function o(e){return n(e).map(i)}e.exports=o},9590:function(e,t){function r(e){var t="#";for(var r=1;r<e.length;r++){var n=e.charAt(r);t+=n+n}return t}function n(e){4!==e.length&&5!==e.length||(e=r(e));var t=[parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16)];if(9===e.length){var n=parseFloat((parseInt(e.substring(7,9),16)/255).toFixed(2));t.push(n)}return t}e.exports=n},9591:function(e,t,r){var n=r(9418);var a=r(9383);function i(e,t){return t<3?-1!=e.indexOf("%")?Math.round(255*a(parseInt(e,10),0,100)/100):a(parseInt(e,10),0,255):a(parseFloat(e),0,1)}function o(e){return n(e).map(i)}e.exports=o},9592:function(e,t){function r(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100,a,i,o,s,c;if(0==r){c=255*n;return[c,c,c]}i=n<.5?n*(1+r):n+r-n*r;a=2*n-i;s=[0,0,0];for(var l=0;l<3;l++){o=t+1/3*-(l-1);o<0&&o++;o>1&&o--;c=6*o<1?a+6*(i-a)*o:2*o<1?i:3*o<2?a+(i-a)*(2/3-o)*6:a;s[l]=255*c}return s}e.exports=r},9593:function(e,t,r){(function(t){var r="Expected a function";var n=9007199254740991;var a="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]";var s="object"==typeof t&&t&&t.Object===Object&&t;var c="object"==typeof self&&self&&self.Object===Object&&self;var l=s||c||Function("return this")();function u(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function p(e,t){var r=-1,n=t.length,a=e.length;while(++r<n)e[a+r]=t[r];return e}var f=Object.prototype;var d=f.hasOwnProperty;var v=f.toString;var h=l.Symbol,m=f.propertyIsEnumerable,b=h?h.isConcatSpreadable:void 0;var _=Math.max;function g(e,t,r,n,a){var i=-1,o=e.length;r||(r=E);a||(a=[]);while(++i<o){var s=e[i];t>0&&r(s)?t>1?g(s,t-1,r,n,a):p(a,s):n||(a[a.length]=s)}return a}function y(e,t){t=_(void 0===t?e.length-1:t,0);return function(){var r=arguments,n=-1,a=_(r.length-t,0),i=Array(a);while(++n<a)i[n]=r[t+n];n=-1;var o=Array(t+1);while(++n<t)o[n]=r[n];o[t]=i;return u(e,this,o)}}function O(e){return y(function(t){t=g(t,1);var n=t.length,a=n;e&&t.reverse();while(a--)if("function"!=typeof t[a])throw new TypeError(r);return function(){var e=0,r=n?t[e].apply(this,arguments):arguments[0];while(++e<n)r=t[e].call(this,r);return r}})}function E(e){return k(e)||j(e)||!!(b&&e&&e[b])}function j(e){return C(e)&&d.call(e,"callee")&&(!m.call(e,"callee")||v.call(e)==a)}var k=Array.isArray;function w(e){return null!=e&&T(e.length)&&!S(e)}function C(e){return N(e)&&w(e)}function S(e){var t=I(e)?v.call(e):"";return t==i||t==o}function T(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}function I(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function N(e){return!!e&&"object"==typeof e}var A=O();e.exports=A}).call(t,r(7))},9594:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.yuv2rgb=n;t.rgb2yuv=a;function n(e){var t=e[0],r=e[1],n=e[2],a,i,o;a=1*t+0*r+1.13983*n;i=1*t+-.39465*r+-.5806*n;o=1*t+2.02311*r+0*n;a=Math.min(Math.max(0,a),1);i=Math.min(Math.max(0,i),1);o=Math.min(Math.max(0,o),1);return[255*a,255*i,255*o]}function a(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;var a=.299*t+.587*r+.114*n;var i=-.14713*t+-.28886*r+.436*n;var o=.615*t+-.51499*r+-.10001*n;return[a,i,o]}},9595:function(e,t,r){"use strict";t.__esModule=true;t["default"]={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"}},9596:function(e,t,r){"use strict";t.__esModule=true;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var a=r(12159);var i=c(a);var o=r(9413);var s=c(o);function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d={actionBar:{paddingTop:8,paddingBottom:7,paddingLeft:16},payload:{margin:0,paddingLeft:16,overflow:"auto"}};var v=function(e){f(t,e);function t(r){u(this,t);var n=p(this,e.call(this,r));n.shouldExpandNode=n.shouldExpandNode.bind(n);return n}t.prototype.renderPayload=function e(t){return i.default.createElement("div",{style:n({},d.payload,{backgroundColor:this.props.theme.base00})},Object.keys(t).length>0?i.default.createElement(s.default,{theme:this.props.theme,invertTheme:false,keyPath:["action"],data:t,shouldExpandNode:this.shouldExpandNode}):"")};t.prototype.shouldExpandNode=function e(t,r,n){return this.props.expandActionRoot&&0===n};t.prototype.render=function e(){var t=this.props.action;var r=t.type;var a=l(t,["type"]);return i.default.createElement("div",{style:n({backgroundColor:this.props.theme.base02,color:this.props.theme.base06},this.props.style)},i.default.createElement("div",{style:d.actionBar,onClick:this.props.onClick},null!==r&&r.toString()),this.props.collapsed?"":this.renderPayload(a))};return t}(a.Component);t.default=v},9597:function(e,t,r){(function(t){var r="Expected a function";var n=NaN;var a="[object Symbol]";var i=/^\s+|\s+$/g;var o=/^[-+]0x[0-9a-f]+$/i;var s=/^0b[01]+$/i;var c=/^0o[0-7]+$/i;var l=parseInt;var u="object"==typeof t&&t&&t.Object===Object&&t;var p="object"==typeof self&&self&&self.Object===Object&&self;var f=u||p||Function("return this")();var d=Object.prototype;var v=d.toString;var h=Math.max,m=Math.min;var b=function(){return f.Date.now()};function _(e,t,n){var a,i,o,s,c,l,u=0,p=false,f=false,d=true;if("function"!=typeof e)throw new TypeError(r);t=E(t)||0;if(g(n)){p=!!n.leading;f="maxWait"in n;o=f?h(E(n.maxWait)||0,t):o;d="trailing"in n?!!n.trailing:d}function v(t){var r=a,n=i;a=i=void 0;u=t;s=e.apply(n,r);return s}function _(e){u=e;c=setTimeout(j,t);return p?v(e):s}function y(e){var r=e-l,n=e-u,a=t-r;return f?m(a,o-n):a}function O(e){var r=e-l,n=e-u;return void 0===l||r>=t||r<0||f&&n>=o}function j(){var e=b();if(O(e))return k(e);c=setTimeout(j,y(e))}function k(e){c=void 0;if(d&&a)return v(e);a=i=void 0;return s}function w(){void 0!==c&&clearTimeout(c);u=0;a=l=i=c=void 0}function C(){return void 0===c?s:k(b())}function S(){var e=b(),r=O(e);a=arguments;i=this;l=e;if(r){if(void 0===c)return _(l);if(f){c=setTimeout(j,t);return v(l)}}void 0===c&&(c=setTimeout(j,t));return s}S.cancel=w;S.flush=C;return S}function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){return!!e&&"object"==typeof e}function O(e){return"symbol"==typeof e||y(e)&&v.call(e)==a}function E(e){if("number"==typeof e)return e;if(O(e))return n;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var r=s.test(e);return r||c.test(e)?l(e.slice(2),r?2:8):o.test(e)?n:+e}e.exports=_}).call(t,r(7))}},[18212]);